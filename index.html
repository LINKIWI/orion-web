<!DOCTYPE html> <html lang=en> <head> <meta charset=UTF-8 /> <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"/> </head> <body> <div id=app></div> <script type="text/javascript">!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=455)}([function(e,t,n){"use strict";t.a={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,FUNC_ADD:32774,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,BLEND_COLOR:32773,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,VENDOR:7936,RENDERER:7937,VERSION:7938,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,BROWSER_DEFAULT_WEBGL:37444,STATIC_DRAW:35044,STREAM_DRAW:35040,DYNAMIC_DRAW:35048,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,CULL_FACE:2884,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,BLEND:3042,DEPTH_TEST:2929,DITHER:3024,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,SCISSOR_TEST:3089,STENCIL_TEST:2960,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CONTEXT_LOST_WEBGL:37442,CW:2304,CCW:2305,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,COMPILE_STATUS:35713,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_ATTRIBUTES:35721,ACTIVE_UNIFORMS:35718,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,ALWAYS:519,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,GEQUAL:518,NOTEQUAL:517,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,TEXTURE_WIDTH:4096,TEXTURE_HEIGHT:4097,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,MAX_3D_TEXTURE_SIZE:32883,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,MAX_TEXTURE_LOD_BIAS:34045,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,RASTERIZER_DISCARD:35977,VERTEX_ARRAY_BINDING:34229,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,MAX_ELEMENT_INDEX:36203,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,RGB9_E5:35901,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2UI:36975,TEXTURE_IMMUTABLE_FORMAT:37167,TEXTURE_IMMUTABLE_LEVELS:33503,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,UNSIGNED_INT_24_8:34042,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,INT_2_10_10_10_REV:36255,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,MAX_SAMPLES:36183,SAMPLER_BINDING:35097,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,UNSIGNED_NORMALIZED:35863,SIGNED_NORMALIZED:36764,VERTEX_ATTRIB_ARRAY_INTEGER:35069,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,DEPTH24_STENCIL8:35056,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,COLOR:6144,DEPTH:6145,STENCIL:6146,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,INVALID_INDEX:4294967295,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,UNMASKED_VENDOR_WEBGL:37445,UNMASKED_RENDERER_WEBGL:37446,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,TEXTURE_MAX_ANISOTROPY_EXT:34046,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_RGBA8_ETC2_EAC:37493,COMPRESSED_SRGB8_ETC2:37494,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37495,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37496,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37497,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGB_ATC_WEBGL:35986,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:35986,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:34798,UNSIGNED_INT_24_8_WEBGL:34042,HALF_FLOAT_OES:36193,RGBA32F_EXT:34836,RGB32F_EXT:34837,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,UNSIGNED_NORMALIZED_EXT:35863,MIN_EXT:32775,MAX_EXT:32776,SRGB_EXT:35904,SRGB_ALPHA_EXT:35906,SRGB8_ALPHA8_EXT:35907,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067,COLOR_ATTACHMENT4_WEBGL:36068,COLOR_ATTACHMENT5_WEBGL:36069,COLOR_ATTACHMENT6_WEBGL:36070,COLOR_ATTACHMENT7_WEBGL:36071,COLOR_ATTACHMENT8_WEBGL:36072,COLOR_ATTACHMENT9_WEBGL:36073,COLOR_ATTACHMENT10_WEBGL:36074,COLOR_ATTACHMENT11_WEBGL:36075,COLOR_ATTACHMENT12_WEBGL:36076,COLOR_ATTACHMENT13_WEBGL:36077,COLOR_ATTACHMENT14_WEBGL:36078,COLOR_ATTACHMENT15_WEBGL:36079,DRAW_BUFFER0_WEBGL:34853,DRAW_BUFFER1_WEBGL:34854,DRAW_BUFFER2_WEBGL:34855,DRAW_BUFFER3_WEBGL:34856,DRAW_BUFFER4_WEBGL:34857,DRAW_BUFFER5_WEBGL:34858,DRAW_BUFFER6_WEBGL:34859,DRAW_BUFFER7_WEBGL:34860,DRAW_BUFFER8_WEBGL:34861,DRAW_BUFFER9_WEBGL:34862,DRAW_BUFFER10_WEBGL:34863,DRAW_BUFFER11_WEBGL:34864,DRAW_BUFFER12_WEBGL:34865,DRAW_BUFFER13_WEBGL:34866,DRAW_BUFFER14_WEBGL:34867,DRAW_BUFFER15_WEBGL:34868,MAX_COLOR_ATTACHMENTS_WEBGL:36063,MAX_DRAW_BUFFERS_WEBGL:34852,VERTEX_ARRAY_BINDING_OES:34229,QUERY_COUNTER_BITS_EXT:34916,CURRENT_QUERY_EXT:34917,QUERY_RESULT_EXT:34918,QUERY_RESULT_AVAILABLE_EXT:34919,TIME_ELAPSED_EXT:35007,TIMESTAMP_EXT:36392,GPU_DISJOINT_EXT:36795}},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(359),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=v,f=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(u)return e.name;var t=e.toString().match(f);return t&&t[1]}}function d(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,n,r,i){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function v(e,t){e||y(e,!0,t,"==",p.ok)}function m(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),a=_(t);if(i&&!a||!i&&a)return!1;if(i)return e=s.call(e),t=s.call(t),m(e,t,n);var u,l,c=x(e),p=x(t);if(c.length!==p.length)return!1;for(c.sort(),p.sort(),l=c.length-1;l>=0;l--)if(c[l]!==p[l])return!1;for(l=c.length-1;l>=0;l--)if(u=c[l],!m(e[u],t[u],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function A(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function b(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&y(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&o.isError(i),u=!e&&i&&!n;if((s&&a&&A(i,n)||u)&&y(i,n,"Got unwanted exception"+r),e&&i&&n&&!A(i,n)||!e&&i)throw i}p.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=d(g((t=this).actual),128)+" "+t.operator+" "+d(g(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=h(n),a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},o.inherits(p.AssertionError,Error),p.fail=y,p.ok=v,p.equal=function(e,t,n){e!=t&&y(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){m(e,t,!1)||y(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){m(e,t,!0)||y(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){m(e,t,!1)&&y(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){m(t,n,!0)&&y(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){b(!0,e,t,n)},p.doesNotThrow=function(e,t,n){b(!1,e,t,n)},p.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(32))},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n.n(i);n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return r.a});t.b=r.a;function a(e){return function(e,t){if("string"!=typeof t)return t;var n=Number(t);if(!isNaN(n))return n;var r=e[t=t.replace(/^.*\./,"")];return o()(void 0!==r,"Accessing undefined constant GL."+t),r}(r.a,e)}function s(e){return function(e,t){for(var n in t=Number(t),e)if(e[n]===t)return"gl."+n;return String(t)}(r.a,e)}},function(e,t,n){"use strict";e.exports=n(454)},function(e,t,n){"use strict";var r=n(2),i=(n(23),n(9)),o=n(22),a=n(57),s=n(25),u=n(129),l=n(128),c=n(34),p=n(27),f=n(63),h=n(38),d=n(58),g=n(87),y=n(112),v=n(111),m=n(50),_=n(127),A=n(97),b=n(125),x=n(8),w=n(33),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var T=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.c)(e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{target:n.target||x.e.TEXTURE_3D})));return r.width=null,r.height=null,r.depth=null,Object.seal(r),r.setImageData(n),n.generateMipmap&&r.generateMipmap(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,w["a"]),E(t,null,[{key:"isSupported",value:function(e){return Object(i.h)(e)}}]),E(t,[{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object.assign({},this.opts,t);var n=this.opts,r=n.pixels,i=n.settings;i&&(Object(o.c)(i,function(){r&&e.setImage3D(e.opts)}),this.setParameters(t))}},{key:"setImage3D",value:function(e){var t=e.level,n=void 0===t?0:t,r=e.internalformat,i=void 0===r?x.e.RGBA:r,o=e.width,a=e.height,s=e.depth,u=void 0===s?1:s,l=e.border,p=void 0===l?0:l,f=e.format,h=e.type,d=void 0===h?x.e.UNSIGNED_BYTE:h,g=e.offset,y=void 0===g?0:g,v=e.pixels;ArrayBuffer.isView(v)?this.gl.texImage3D(this.target,n,i,o,a,u,p,f,d,v):v instanceof c.a&&(this.gl.bindBuffer(x.e.PIXEL_UNPACK_BUFFER,v.handle),this.gl.texImage3D(this.target,n,i,o,a,u,p,f,d,y),this.gl.bindBuffer(x.e.PIXEL_UNPACK_BUFFER,v.handle))}}]),t}(),M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var S,C=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);!function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));throw new Error("Texture2DArray not yet implemented")}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,w["a"]),M(t,null,[{key:"isSupported",value:function(e){return Object(i.h)(e)}}]),t}(),I=n(126),P=n(77),k=n(1),O=n.n(k),L=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=5124,B=5126,D=5125,F=(j(S={},B,[B,1]),j(S,35664,[B,2]),j(S,35665,[B,3]),j(S,35666,[B,4]),j(S,N,[N,1]),j(S,35667,[N,2]),j(S,35668,[N,3]),j(S,35669,[N,4]),j(S,D,[D,1]),j(S,36294,[D,2]),j(S,36295,[D,3]),j(S,36296,[D,4]),j(S,35670,[B,1]),j(S,35671,[B,2]),j(S,35672,[B,3]),j(S,35673,[B,4]),j(S,35674,[B,8]),j(S,35685,[B,8]),j(S,35686,[B,8]),j(S,35675,[B,12]),j(S,35687,[B,12]),j(S,35688,[B,12]),j(S,35676,[B,16]),j(S,35689,[B,16]),j(S,35690,[B,16]),S),z=function(){function e(t){var n;for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.layout={},this.size=0,t)this._addUniform(r,t[r]);var i=new Float32Array(this.size);this.typedArray=(j(n={},B,i),j(n,N,new Int32Array(i.buffer)),j(n,D,new Uint32Array(i.buffer)),n)}return R(e,[{key:"getBytes",value:function(){return 4*this.size}},{key:"getData",value:function(){return this.typedArray[B]}},{key:"getSubData",value:function(e){var t=void 0,n=void 0;if(void 0===e)t=this.data,n=0;else{var r=this.offsets[e],i=r+this.sizes[e];t=this.data.subarray(r,i),n=4*r}return{data:t,offset:n}}},{key:"setUniforms",value:function(e){for(var t in e)this._setValue(t,e[t]);return this}},{key:"_setValue",value:function(e,t){var n=this.layout[e];O()(n,"UniformLayoutStd140 illegal argument");var r=this.typedArray[n.type];1===n.size?r[n.offset]=t:r.set(t,n.offset)}},{key:"_addUniform",value:function(e,t){var n=F[t];O()(n,"UniformBufferLayout illegal argument");var r=L(n,2),i=r[0],o=r[1],a=this.size;this.size=this._alignTo(this.size,o),this.size+=o,this.layout[e]={type:i,size:o,offset:a}}},{key:"_alignTo",value:function(e,t){switch(t){case 1:return e;case 2:return e+e%2;default:return e+(4-e%4)%4}}}]),e}(),U=n(61),G=n(79),V=n(18),Y=n(5),H=n(100),W=n(10),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function X(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Z=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.children,r=void 0===n?[]:n;r.every(function(e){return O()(e instanceof H.a)});var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.children=r,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,H["a"]),Q(t,[{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;Array.isArray(u)?this.add.apply(this,X(u)):this.children.push(u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this}},{key:"remove",value:function(e){var t=this.children,n=t.indexOf(e);return n>-1&&t.splice(n,1),this}},{key:"removeAll",value:function(){return this.children=[],this}},{key:"traverse",value:function(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modelMatrix,r=void 0===n?new W.a:n,i=!0,o=!1,a=void 0;try{for(var s,u=this.children[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=l.matrix;r=r.multiplyRight(c);var p=void 0;if(p=l instanceof t?l.traverse(e,{modelMatrix:r}):e(l,{}))return p}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return null}},{key:"traverseReverse",value:function(e){for(var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).modelMatrix,r=void 0===n?new W.a:n,i=this.children.length-1;i>=0;--i){var o=this.children[i],a=o.matrix;r=r.multiplyRight(a);var s=void 0;if(s=o instanceof t?o.traverseReverse(e,{modelMatrix:r}):e(o,{}))return s}return null}}]),t}(),J=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K="Illegal argument to pick";function q(e,t){var n=t.models,r=t.position,i=t.uniforms,o=void 0===i?{}:i,a=t.parameters,s=void 0===a?{}:a,u=t.settings,l=t.useDevicePixelRatio,c=void 0===l?null:l,p=t.useDevicePixels,f=void 0===p||p,h=t.framebuffer;O()(Object(V.isWebGL)(e),K),O()(h,K),O()(r,K),null!==c&&(Y.f.deprecated("useDevicePixelRatio","useDevicePixels"),f=c);var d=J(r,2),g=d[0],y=d[1];h.resize({width:e.canvas.width,height:e.canvas.height});var v=f&&"undefined"!=typeof window?window.devicePixelRatio:1,m=g*v,_=e.canvas.height-y*v;return new Z({children:n}).traverseReverse(function(t){if(t.isPickable()){Object(V.clear)(e,{framebuffer:h,color:!0,depth:!0}),t.setUniforms({picking_uActive:1}),t.draw({uniforms:o,parameters:s,settings:u,framebuffer:h}),t.setUniforms({picking_uActive:0});var n=h.readPixels({x:m,y:_,width:1,height:1,format:e.RGBA,type:e.UNSIGNED_BYTE});if(0!==n[0]||0!==n[1]||0!==n[2])return{model:t,color:n,x:g,y:y,deviceX:m,deviceY:_}}return null})}var $=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ee=new Uint8Array([0,0,0]);function te(e){return[e+1&255,e+1>>8&255,e+1>>16&255]}function ne(e){var t=$(e,3);return t[0]+256*t[1]+65536*t[2]-1}function re(){return ee}var ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function oe(){}function ae(e){return!0!==e&&e}function se(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,bbox:t}}function ue(e){var t=e.which||e.keyCode,n=function(e){var t=pe;for(var n in t)if(t[n]===e)return n;return null}(t),r=t-111;return r>0&&r<13&&(n="f"+r),{code:t,key:n=n||String.fromCharCode(t).toLowerCase(),shift:e.shiftKey,control:e.ctrlKey,alt:e.altKey,meta:e.metaKey}}var le=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=n.scene,this.domElem=t,this.pos=se(t),this.opt=this.callbacks=n,this.size={width:t.width||t.offsetWidth,height:t.height||t.offsetHeight},this.attachEvents()}return ie(e,[{key:"attachEvents",value:function(){var e=this,t=this.domElem,n=this.opt;if(n.disableContextMenu&&(t.oncontextmenu=function(){return!1}),n.enableMouse){["mouseup","mousedown","mousemove","mouseover","mouseout"].forEach(function(n){t.addEventListener(n,function(t,r){e[n](e.eventInfo(n,t,r))},!1)});var r="";r=document.getBoxObjectFor||null!==window.mozInnerScreenX?"DOMMouseScroll":"mousewheel",t.addEventListener(r,function(t,n){e.mousewheel(e.eventInfo("mousewheel",t,n))},!1)}n.enableTouch&&["touchstart","touchmove","touchend"].forEach(function(n){t.addEventListener(n,function(t,r){e[n](e.eventInfo(n,t,r))},!1)}),n.enableKeyboard&&["keydown","keyup"].forEach(function(t){document.addEventListener(t,function(n,r){e[t](e.eventInfo(t,n,r))},!1)})}},{key:"eventInfo",value:function(e,t,n){for(var r=this.domElem,i=this.scene,o=this.opt,a=this.getSize(),s=o.relative,u=o.centerOrigin,l=o.cachePosition&&this.pos||se(r),c=function(e,t){return t=t||window,e||t.event}(t,n),p=function(e,t){t=t||window,e=e||t.event;var n=t.document;if(n=n.documentElement||n.body,e.touches&&e.touches.length){for(var r=[],i=e.touches.length,o=void 0,a=0;a<i;++a)o=e.touches[a],r.push({x:o.pageX||o.clientX+n.scrollLeft,y:o.pageY||o.clientY+n.scrollTop});return r}return[{x:e.pageX||e.clientX+n.scrollLeft,y:e.pageY||e.clientY+n.scrollTop}]}(t,n),f=p[0].x,h=p[0].y,d={},g=void 0,y=void 0,v=0,m=p.length;v<m;++v)g=p[v].x,y=p[v].y,s&&(g-=l.x,y-=l.y,u&&(g-=a.width/2,y-=a.height/2,y*=-1)),p[v].x=g,p[v].y=y;switch(e){case"mousewheel":d.wheel=function(e){return e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}(c);break;case"keydown":case"keyup":Object.assign(d,ue(c));break;case"mouseup":d.isRightClick=function(e){return 3===e.which||2===e.button}(c)}var _=void 0;return Object.assign(d,{x:p[0].x,y:p[0].y,posArray:p,cache:!1,stop:function(){var e;(e=c).stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.preventDefault?e.preventDefault():e.returnValue=!1},getTarget:function(){return _||(_=o.picking&&i.pick(f-l.x,h-l.y)||!0)}}),d.event=c,d}},{key:"getSize",value:function(){if(this.cacheSize)return this.size;var e=this.domElem;return{width:e.width||e.offsetWidth,height:e.height||e.offsetHeight}}},{key:"mouseup",value:function(e){this.moved||(e.isRightClick?this.callbacks.onRightClick(e,this.hovered):this.callbacks.onClick(e,ae(this.pressed))),this.pressed&&(this.moved?this.callbacks.onDragEnd(e,ae(this.pressed)):this.callbacks.onDragCancel(e,ae(this.pressed)),this.pressed=this.moved=!1)}},{key:"mouseout",value:function(e){for(var t=e.relatedTarget,n=this.domElem;t&&t.parentNode;){if(n===t.parentNode)return;t=t.parentNode}this.hovered&&(this.callbacks.onMouseLeave(e,this.hovered),this.hovered=!1),this.pressed&&this.moved&&(this.callbacks.onDragEnd(e),this.pressed=this.moved=!1)}},{key:"mouseover",value:function(e){}},{key:"mousemove",value:function(e){if(this.pressed)return this.moved=!0,void this.callbacks.onDragMove(e,ae(this.pressed));if(this.hovered){var t=ae(e.getTarget());t&&t.hash===this.hash?this.callbacks.onMouseMove(e,this.hovered):(this.callbacks.onMouseLeave(e,this.hovered),this.hovered=t,this.hash=t,t&&(this.hash=t.hash,this.callbacks.onMouseEnter(e,this.hovered)))}else this.hovered=ae(e.getTarget()),this.hash=this.hovered,this.hovered&&(this.hash=this.hovered.hash,this.callbacks.onMouseEnter(e,this.hovered));this.opt.picking||this.callbacks.onMouseMove(e)}},{key:"mousewheel",value:function(e){this.callbacks.onMouseWheel(e)}},{key:"mousedown",value:function(e){this.pressed=e.getTarget(),this.callbacks.onDragStart(e,ae(this.pressed))}},{key:"touchstart",value:function(e){this.touched=e.getTarget(),this.touchedLastPosition={x:e.x,y:e.y},this.callbacks.onTouchStart(e,ae(this.touched))}},{key:"touchmove",value:function(e){this.touched&&(this.touchMoved=!0,this.callbacks.onTouchMove(e,ae(this.touched)))}},{key:"touchend",value:function(e){this.touched&&(this.touchMoved?this.callbacks.onTouchEnd(e,ae(this.touched)):(e.x=isNaN(e.x)?this.touchedLastPosition.x:e.x,e.y=isNaN(e.y)?this.touchedLastPosition.y:e.y,this.callbacks.onTap(e,ae(this.touched)),this.callbacks.onTouchCancel(e,ae(this.touched))),this.touched=this.touchMoved=!1)}},{key:"keydown",value:function(e){this.callbacks.onKeyDown(e)}},{key:"keyup",value:function(e){this.callbacks.onKeyUp(e)}}]),e}();Object.assign(le.prototype,{hovered:!1,pressed:!1,touched:!1,touchedLastPosition:{x:0,y:0},touchMoved:!1,moved:!1});var ce={cachePosition:!0,cacheSize:!0,relative:!0,centerOrigin:!0,disableContextMenu:!0,bind:!1,picking:!1,enableTouch:!0,enableMouse:!0,enableKeyboard:!0,onClick:oe,onRightClick:oe,onDragStart:oe,onDragMove:oe,onDragEnd:oe,onDragCancel:oe,onTouchStart:oe,onTouchMove:oe,onTouchEnd:oe,onTouchCancel:oe,onTap:oe,onMouseMove:oe,onMouseEnter:oe,onMouseLeave:oe,onMouseWheel:oe,onKeyDown:oe,onKeyUp:oe},pe={enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,delete:46};function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t=Object.assign({},ce,t)).bind;if(n)for(var r in t)r.match(/^on[a-zA-Z0-9]+$/)&&function(e,r){t[e]=function(){r.apply(n,Array.prototype.slice.call(arguments))}}(r,t[r]);return new le(e,t)}var he=n(29),de=n(108),ge=n(107),ye=n(106),ve=n(105),me=n(104),_e=n(103),Ae=n(62),be=n(30),xe=n(39);var we=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{geometry:new be.ConeGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,xe["Model"]),t}();var Ee=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.id,i=void 0===r?Object(Y.h)("cube"):r;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{id:i,geometry:new be.CubeGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,xe["Model"]),t}();var Te=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{geometry:new be.CylinderGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,U["a"]),t}();var Me=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{geometry:new be.IcoSphereGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,xe["Model"]),t}();var Se=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.id,i=void 0===r?Object(Y.h)("plane"):r;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{id:i,geometry:new be.PlaneGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,U["a"]),t}();var Ce=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.id,i=void 0===r?Object(Y.h)("sphere"):r;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{id:i,geometry:new be.SphereGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,xe["Model"]),t}();var Ie=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{geometry:new be.TruncatedConeGeometry(n)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,xe["Model"]),t}();var Pe="attribute vec2 aClipSpacePosition;\nattribute vec2 aTexCoord;\nattribute vec2 aCoordinate;\n\nvarying vec2 position;\nvarying vec2 coordinate;\nvarying vec2 uv;\n\nvoid main(void) {\n  gl_Position = vec4(aClipSpacePosition, 0., 1.);\n  position = aClipSpacePosition;\n  coordinate = aCoordinate;\n  uv = aTexCoord;\n}\n",ke=[-1,-1,1,-1,-1,1,1,1],Oe=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=ke.map(function(e){return-1===e?0:e}),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{vs:Pe,geometry:new be.Geometry({drawMode:V.GL.TRIANGLE_STRIP,vertexCount:4,attributes:{aClipSpacePosition:{size:2,value:new Float32Array(ke)},aTexCoord:{size:2,value:new Float32Array(r)},aCoordinate:{size:2,value:new Float32Array(r)}}})})));return i.setVertexCount(4),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,xe["Model"]),t}(),Le=n(49),Re=n(109),je=n(102),Ne=n(45),Be={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n\n// All these functions are for substituting tan() function from Intel GPU only\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n\n    // 2pi range reduction\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 0.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 0.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null};var De="uniform float ONE;\n\n/*\nAbout LUMA_FP64_CODE_ELIMINATION_WORKAROUND\n\nThe purpose of this workaround is to prevent shader compilers from\noptimizing away necessary arithmetic operations by swapping their sequences\nor transform the equation to some 'equivalent' from.\n\nThe method is to multiply an artifical variable, ONE, which will be known to\nthe compiler to be 1 only at runtime. The whole expression is then represented\nas a polynomial with respective to ONE. In the coefficients of all terms, only one a\nand one b should appear\n\nerr = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE\n*/\n\n// Divide float number to high and low floats to extend fraction bits\nvec2 split(float a) {\n  const float SPLIT = 4097.0;\n  float t = a * SPLIT;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float a_hi = t * ONE - (t - a);\n  float a_lo = a * ONE - a_hi;\n#else\n  float a_hi = t - (t - a);\n  float a_lo = a - a_hi;\n#endif\n  return vec2(a_hi, a_lo);\n}\n\n// Divide float number again when high float uses too many fraction bits\nvec2 split2(vec2 a) {\n  vec2 b = split(a.x);\n  b.y += a.y;\n  return b;\n}\n\n// Special sum operation when a > b\nvec2 quickTwoSum(float a, float b) {\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float sum = (a + b) * ONE;\n  float err = b - (sum - a) * ONE;\n#else\n  float sum = a + b;\n  float err = b - (sum - a);\n#endif\n  return vec2(sum, err);\n}\n\n// General sum operation\nvec2 twoSum(float a, float b) {\n  float s = (a + b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) + (b - v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSub(float a, float b) {\n  float s = (a - b);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float v = (s * ONE - a) * ONE;\n  float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);\n#else\n  float v = s - a;\n  float err = (a - (s - v)) - (b + v);\n#endif\n  return vec2(s, err);\n}\n\nvec2 twoSqr(float a) {\n  float prod = a * a;\n  vec2 a_fp64 = split(a);\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *\n    a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;\n#else\n  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;\n#endif\n  return vec2(prod, err);\n}\n\nvec2 twoProd(float a, float b) {\n  float prod = a * b;\n  vec2 a_fp64 = split(a);\n  vec2 b_fp64 = split(b);\n  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +\n    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;\n  return vec2(prod, err);\n}\n\nvec2 sum_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSum(a.x, b.x);\n  t = twoSum(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 sub_fp64(vec2 a, vec2 b) {\n  vec2 s, t;\n  s = twoSub(a.x, b.x);\n  t = twoSub(a.y, b.y);\n  s.y += t.x;\n  s = quickTwoSum(s.x, s.y);\n  s.y += t.y;\n  s = quickTwoSum(s.x, s.y);\n  return s;\n}\n\nvec2 mul_fp64(vec2 a, vec2 b) {\n  vec2 prod = twoProd(a.x, b.x);\n  // y component is for the error\n  prod.y += a.x * b.y;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  prod.y += a.y * b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  prod = split2(prod);\n#endif\n  prod = quickTwoSum(prod.x, prod.y);\n  return prod;\n}\n\nvec2 div_fp64(vec2 a, vec2 b) {\n  float xn = 1.0 / b.x;\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  vec2 yn = mul_fp64(a, vec2(xn, 0));\n#else\n  vec2 yn = a * xn;\n#endif\n  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;\n  vec2 prod = twoProd(xn, diff);\n  return sum_fp64(yn, prod);\n}\n\nvec2 sqrt_fp64(vec2 a) {\n  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n\n  float x = 1.0 / sqrt(a.x);\n  float yn = a.x * x;\n#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)\n  vec2 yn_sqr = twoSqr(yn) * ONE;\n#else\n  vec2 yn_sqr = twoSqr(yn);\n#endif\n  float diff = sub_fp64(a, yn_sqr).x;\n  vec2 prod = twoProd(x * 0.5, diff);\n#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)\n  return sum_fp64(split(yn), prod);\n#else\n  return sum_fp64(vec2(yn, 0.0), prod);\n#endif\n}\n",Fe=De+"\nconst vec2 E_FP64 = vec2(2.7182817459106445e+00, 8.254840366817007e-08);\nconst vec2 LOG2_FP64 = vec2(0.6931471824645996e+00, -1.9046542121259336e-09);\nconst vec2 PI_FP64 = vec2(3.1415927410125732, -8.742278012618954e-8);\nconst vec2 TWO_PI_FP64 = vec2(6.2831854820251465, -1.7484556025237907e-7);\nconst vec2 PI_2_FP64 = vec2(1.5707963705062866, -4.371139006309477e-8);\nconst vec2 PI_4_FP64 = vec2(0.7853981852531433, -2.1855695031547384e-8);\nconst vec2 PI_16_FP64 = vec2(0.19634954631328583, -5.463923757886846e-9);\nconst vec2 PI_16_2_FP64 = vec2(0.39269909262657166, -1.0927847515773692e-8);\nconst vec2 PI_16_3_FP64 = vec2(0.5890486240386963, -1.4906100798128818e-9);\nconst vec2 PI_180_FP64 = vec2(0.01745329238474369, 1.3519960498364902e-10);\n\nconst vec2 SIN_TABLE_0_FP64 = vec2(0.19509032368659973, -1.6704714833615242e-9);\nconst vec2 SIN_TABLE_1_FP64 = vec2(0.3826834261417389, 6.22335089017767e-9);\nconst vec2 SIN_TABLE_2_FP64 = vec2(0.5555702447891235, -1.1769521357507529e-8);\nconst vec2 SIN_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617041793133e-8);\n\nconst vec2 COS_TABLE_0_FP64 = vec2(0.9807852506637573, 2.9739473106360492e-8);\nconst vec2 COS_TABLE_1_FP64 = vec2(0.9238795042037964, 2.8307490351764386e-8);\nconst vec2 COS_TABLE_2_FP64 = vec2(0.8314695954322815, 1.6870263741530778e-8);\nconst vec2 COS_TABLE_3_FP64 = vec2(0.7071067690849304, 1.2101617152815436e-8);\n\nconst vec2 INVERSE_FACTORIAL_3_FP64 = vec2(1.666666716337204e-01, -4.967053879312289e-09); // 1/3!\nconst vec2 INVERSE_FACTORIAL_4_FP64 = vec2(4.16666679084301e-02, -1.2417634698280722e-09); // 1/4!\nconst vec2 INVERSE_FACTORIAL_5_FP64 = vec2(8.333333767950535e-03, -4.34617203337595e-10); // 1/5!\nconst vec2 INVERSE_FACTORIAL_6_FP64 = vec2(1.3888889225199819e-03, -3.3631094437103215e-11); // 1/6!\nconst vec2 INVERSE_FACTORIAL_7_FP64 = vec2(1.9841270113829523e-04,  -2.725596874933456e-12); // 1/7!\nconst vec2 INVERSE_FACTORIAL_8_FP64 = vec2(2.4801587642286904e-05, -3.406996025904184e-13); // 1/8!\nconst vec2 INVERSE_FACTORIAL_9_FP64 = vec2(2.75573188446287533e-06, 3.7935713937038186e-14); // 1/9!\nconst vec2 INVERSE_FACTORIAL_10_FP64 = vec2(2.755731998149713e-07, -7.575112367869873e-15); // 1/10!\n\nfloat nint(float d) {\n    if (d == floor(d)) return d;\n    return floor(d + 0.5);\n}\n\nvec2 nint_fp64(vec2 a) {\n    float hi = nint(a.x);\n    float lo;\n    vec2 tmp;\n    if (hi == a.x) {\n        lo = nint(a.y);\n        tmp = quickTwoSum(hi, lo);\n    } else {\n        lo = 0.0;\n        if (abs(hi - a.x) == 0.5 && a.y < 0.0) {\n            hi -= 1.0;\n        }\n        tmp = vec2(hi, lo);\n    }\n    return tmp;\n}\n\n/* k_power controls how much range reduction we would like to have\nRange reduction uses the following method:\nassume a = k_power * r + m * log(2), k and m being integers.\nSet k_power = 4 (we can choose other k to trade accuracy with performance.\nwe only need to calculate exp(r) and using exp(a) = 2^m * exp(r)^k_power;\n*/\n\nvec2 exp_fp64(vec2 a) {\n  // We need to make sure these two numbers match\n  // as bit-wise shift is not available in GLSL 1.0\n  const int k_power = 4;\n  const float k = 16.0;\n\n  const float inv_k = 1.0 / k;\n\n  if (a.x <= -88.0) return vec2(0.0, 0.0);\n  if (a.x >= 88.0) return vec2(1.0 / 0.0, 1.0 / 0.0);\n  if (a.x == 0.0 && a.y == 0.0) return vec2(1.0, 0.0);\n  if (a.x == 1.0 && a.y == 0.0) return E_FP64;\n\n  float m = floor(a.x / LOG2_FP64.x + 0.5);\n  vec2 r = sub_fp64(a, mul_fp64(LOG2_FP64, vec2(m, 0.0))) * inv_k;\n  vec2 s, t, p;\n\n  p = mul_fp64(r, r);\n  s = sum_fp64(r, p * 0.5);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_3_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_4_FP64);\n\n  s = sum_fp64(s, t);\n  p = mul_fp64(p, r);\n  t = mul_fp64(p, INVERSE_FACTORIAL_5_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_6_FP64);\n\n  // s = sum_fp64(s, t);\n  // p = mul_fp64(p, r);\n  // t = mul_fp64(p, INVERSE_FACTORIAL_7_FP64);\n\n  s = sum_fp64(s, t);\n\n\n  // At this point, s = exp(r) - 1; but after following 4 recursions, we will get exp(r) ^ 512 - 1.\n  for (int i = 0; i < k_power; i++) {\n    s = sum_fp64(s * 2.0, mul_fp64(s, s));\n  }\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = sum_fp64(s, vec2(ONE, 0.0));\n#else\n  s = sum_fp64(s, vec2(1.0, 0.0));\n#endif\n\n  return s * pow(2.0, m);\n//   return r;\n}\n\nvec2 log_fp64(vec2 a)\n{\n  if (a.x == 1.0 && a.y == 0.0) return vec2(0.0, 0.0);\n  if (a.x <= 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);\n  vec2 x = vec2(log(a.x), 0.0);\n  vec2 s;\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n  s = vec2(ONE, 0.0);\n#else\n  s = vec2(1.0, 0.0);\n#endif\n\n  x = sub_fp64(sum_fp64(x, mul_fp64(a, exp_fp64(-x))), s);\n  return x;\n}\n\nvec2 sin_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(0.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  s = a;\n  r = a;\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_3_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_5_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_7_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_9_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvec2 cos_taylor_fp64(vec2 a) {\n  vec2 r, s, t, x;\n\n  if (a.x == 0.0 && a.y == 0.0) {\n    return vec2(1.0, 0.0);\n  }\n\n  x = -mul_fp64(a, a);\n  r = x;\n  s = sum_fp64(vec2(1.0, 0.0), r * 0.5);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_4_FP64);\n  s = sum_fp64(s, t);\n\n  r = mul_fp64(r, x);\n  t = mul_fp64(r, INVERSE_FACTORIAL_6_FP64);\n  s = sum_fp64(s, t);\n\n  /* keep the following commented code in case we need them\n  for extra accuracy from the Taylor expansion*/\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_8_FP64);\n  // s = sum_fp64(s, t);\n\n  // r = mul_fp64(r, x);\n  // t = mul_fp64(r, INVERSE_FACTORIAL_10_FP64);\n  // s = sum_fp64(s, t);\n\n  return s;\n}\n\nvoid sincos_taylor_fp64(vec2 a, out vec2 sin_t, out vec2 cos_t) {\n  if (a.x == 0.0 && a.y == 0.0) {\n    sin_t = vec2(0.0, 0.0);\n    cos_t = vec2(1.0, 0.0);\n  }\n\n  sin_t = sin_taylor_fp64(a);\n  cos_t = sqrt_fp64(sub_fp64(vec2(1.0, 0.0), mul_fp64(sin_t, sin_t)));\n}\n\nvec2 sin_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return sin_taylor_fp64(t);\n        } else if (j == 1) {\n            return cos_taylor_fp64(t);\n        } else if (j == -1) {\n            return -cos_taylor_fp64(t);\n        } else {\n            return -sin_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 cos_fp64(vec2 a) {\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(1.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n\n    if (k == 0) {\n        if (j == 0) {\n            return cos_taylor_fp64(t);\n        } else if (j == 1) {\n            return -sin_taylor_fp64(t);\n        } else if (j == -1) {\n            return sin_taylor_fp64(t);\n        } else {\n            return -cos_taylor_fp64(t);\n        }\n    }\n\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n    if (abs(float(abs_k) - 1.0) < 0.5) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs(float(abs_k) - 2.0) < 0.5) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs(float(abs_k) - 3.0) < 0.5) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs(float(abs_k) - 4.0) < 0.5) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#else\n    if (abs_k == 1) {\n        u = COS_TABLE_0_FP64;\n        v = SIN_TABLE_0_FP64;\n    } else if (abs_k == 2) {\n        u = COS_TABLE_1_FP64;\n        v = SIN_TABLE_1_FP64;\n    } else if (abs_k == 3) {\n        u = COS_TABLE_2_FP64;\n        v = SIN_TABLE_2_FP64;\n    } else if (abs_k == 4) {\n        u = COS_TABLE_3_FP64;\n        v = SIN_TABLE_3_FP64;\n    }\n#endif\n\n    vec2 sin_t, cos_t;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    vec2 result = vec2(0.0, 0.0);\n    if (j == 0) {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            result = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    } else if (j == 1) {\n        if (k > 0) {\n            result = -sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(v, cos_t), mul_fp64(u, sin_t));\n        }\n    } else if (j == -1) {\n        if (k > 0) {\n            result = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        } else {\n            result = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n        }\n    } else {\n        if (k > 0) {\n            result = sub_fp64(mul_fp64(v, sin_t), mul_fp64(u, cos_t));\n        } else {\n            result = -sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    return result;\n}\n\nvec2 tan_fp64(vec2 a) {\n    vec2 sin_a;\n    vec2 cos_a;\n\n    if (a.x == 0.0 && a.y == 0.0) {\n        return vec2(0.0, 0.0);\n    }\n\n    // 2pi range reduction\n    vec2 z = nint_fp64(div_fp64(a, TWO_PI_FP64));\n    vec2 r = sub_fp64(a, mul_fp64(TWO_PI_FP64, z));\n\n    vec2 t;\n    float q = floor(r.x / PI_2_FP64.x + 0.5);\n    int j = int(q);\n\n\n    if (j < -2 || j > 2) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    }\n\n    t = sub_fp64(r, mul_fp64(PI_2_FP64, vec2(q, 0.0)));\n\n    q = floor(t.x / PI_16_FP64.x + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    // We just can't get PI/16 * 3.0 very accurately.\n    // so let's just store it\n    if (abs_k > 4) {\n        return vec2(0.0 / 0.0, 0.0 / 0.0);\n    } else {\n        t = sub_fp64(t, mul_fp64(PI_16_FP64, vec2(q, 0.0)));\n    }\n\n\n    vec2 u = vec2(0.0, 0.0);\n    vec2 v = vec2(0.0, 0.0);\n\n    vec2 sin_t, cos_t;\n    vec2 s, c;\n    sincos_taylor_fp64(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n#if defined(NVIDIA_FP64_WORKAROUND) || defined(INTEL_FP64_WORKAROUND)\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#else\n        if (abs_k == 1) {\n            u = COS_TABLE_0_FP64;\n            v = SIN_TABLE_0_FP64;\n        } else if (abs_k == 2) {\n            u = COS_TABLE_1_FP64;\n            v = SIN_TABLE_1_FP64;\n        } else if (abs_k == 3) {\n            u = COS_TABLE_2_FP64;\n            v = SIN_TABLE_2_FP64;\n        } else if (abs_k == 4) {\n            u = COS_TABLE_3_FP64;\n            v = SIN_TABLE_3_FP64;\n        }\n#endif\n        if (k > 0) {\n            s = sum_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sub_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        } else {\n            s = sub_fp64(mul_fp64(u, sin_t), mul_fp64(v, cos_t));\n            c = sum_fp64(mul_fp64(u, cos_t), mul_fp64(v, sin_t));\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return div_fp64(sin_a, cos_a);\n}\n\nvec2 radians_fp64(vec2 degree) {\n  return mul_fp64(degree, PI_180_FP64);\n}\n\nvec2 mix_fp64(vec2 a, vec2 b, float x) {\n  vec2 range = sub_fp64(b, a);\n  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));\n}\n\n// Vector functions\n// vec2 functions\nvoid vec2_sum_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sum_fp64(a[0], b[0]);\n    out_val[1] = sum_fp64(a[1], b[1]);\n}\n\nvoid vec2_sub_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = sub_fp64(a[0], b[0]);\n    out_val[1] = sub_fp64(a[1], b[1]);\n}\n\nvoid vec2_mul_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = mul_fp64(a[0], b[0]);\n    out_val[1] = mul_fp64(a[1], b[1]);\n}\n\nvoid vec2_div_fp64(vec2 a[2], vec2 b[2], out vec2 out_val[2]) {\n    out_val[0] = div_fp64(a[0], b[0]);\n    out_val[1] = div_fp64(a[1], b[1]);\n}\n\nvoid vec2_mix_fp64(vec2 x[2], vec2 y[2], float a, out vec2 out_val[2]) {\n  vec2 range[2];\n  vec2_sub_fp64(y, x, range);\n  vec2 portion[2];\n  portion[0] = range[0] * a;\n  portion[1] = range[1] * a;\n  vec2_sum_fp64(x, portion, out_val);\n}\n\nvec2 vec2_length_fp64(vec2 x[2]) {\n  return sqrt_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])));\n}\n\nvoid vec2_normalize_fp64(vec2 x[2], out vec2 out_val[2]) {\n  vec2 length = vec2_length_fp64(x);\n  vec2 length_vec2[2];\n  length_vec2[0] = length;\n  length_vec2[1] = length;\n\n  vec2_div_fp64(x, length_vec2, out_val);\n}\n\nvec2 vec2_distance_fp64(vec2 x[2], vec2 y[2]) {\n  vec2 diff[2];\n  vec2_sub_fp64(x, y, diff);\n  return vec2_length_fp64(diff);\n}\n\nvec2 vec2_dot_fp64(vec2 a[2], vec2 b[2]) {\n  vec2 v[2];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n\n  return sum_fp64(v[0], v[1]);\n}\n\n// vec3 functions\nvoid vec3_sub_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec3_sum_fp64(vec2 a[3], vec2 b[3], out vec2 out_val[3]) {\n  for (int i = 0; i < 3; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvec2 vec3_length_fp64(vec2 x[3]) {\n  return sqrt_fp64(sum_fp64(sum_fp64(mul_fp64(x[0], x[0]), mul_fp64(x[1], x[1])),\n    mul_fp64(x[2], x[2])));\n}\n\nvec2 vec3_distance_fp64(vec2 x[3], vec2 y[3]) {\n  vec2 diff[3];\n  vec3_sub_fp64(x, y, diff);\n  return vec3_length_fp64(diff);\n}\n\n// vec4 functions\nvoid vec4_fp64(vec4 a, out vec2 out_val[4]) {\n  out_val[0].x = a[0];\n  out_val[0].y = 0.0;\n\n  out_val[1].x = a[1];\n  out_val[1].y = 0.0;\n\n  out_val[2].x = a[2];\n  out_val[2].y = 0.0;\n\n  out_val[3].x = a[3];\n  out_val[3].y = 0.0;\n}\n\nvoid vec4_scalar_mul_fp64(vec2 a[4], vec2 b, out vec2 out_val[4]) {\n  out_val[0] = mul_fp64(a[0], b);\n  out_val[1] = mul_fp64(a[1], b);\n  out_val[2] = mul_fp64(a[2], b);\n  out_val[3] = mul_fp64(a[3], b);\n}\n\nvoid vec4_sum_fp64(vec2 a[4], vec2 b[4], out vec2 out_val[4]) {\n  for (int i = 0; i < 4; i++) {\n    out_val[i] = sum_fp64(a[i], b[i]);\n  }\n}\n\nvoid vec4_dot_fp64(vec2 a[4], vec2 b[4], out vec2 out_val) {\n  vec2 v[4];\n\n  v[0] = mul_fp64(a[0], b[0]);\n  v[1] = mul_fp64(a[1], b[1]);\n  v[2] = mul_fp64(a[2], b[2]);\n  v[3] = mul_fp64(a[3], b[3]);\n\n  out_val = sum_fp64(sum_fp64(v[0], v[1]), sum_fp64(v[2], v[3]));\n}\n\nvoid mat4_vec4_mul_fp64(vec2 b[16], vec2 a[4], out vec2 out_val[4]) {\n  vec2 tmp[4];\n\n  for (int i = 0; i < 4; i++)\n  {\n    for (int j = 0; j < 4; j++)\n    {\n      tmp[j] = b[j + i * 4];\n    }\n    vec4_dot_fp64(a, tmp, out_val[i]);\n  }\n}\n",ze={name:"fp64",vs:Fe,fs:null},Ue=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Ge={modelMatrix:Ue,viewMatrix:Ue,projectionMatrix:Ue,cameraPositionWorld:[0,0,0]};var Ve={name:"project",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],{});return void 0!==e.modelMatrix&&(t.modelMatrix=e.modelMatrix),void 0!==e.viewMatrix&&(t.viewMatrix=e.viewMatrix),void 0!==e.projectionMatrix&&(t.projectionMatrix=e.projectionMatrix),void 0!==e.cameraPositionWorld&&(t.cameraPositionWorld=e.cameraPositionWorld),void 0===e.projectionMatrix&&void 0===e.viewMatrix||(t.viewProjectionMatrix=new W.a(e.projectionMatrix).multiplyRight(e.viewMatrix)),t},vs:"varying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n\n\n// Unprefixed uniforms\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewProjectionMatrix;\nuniform vec3 cameraPositionWorld;\n\nstruct World {\n  vec3 position;\n  vec3 normal;\n};\n\nWorld world;\n\nvoid project_setPosition(vec4 position) {\n  project_vPositionWorld = position;\n}\n\nvoid project_setNormal(vec3 normal) {\n  project_vNormalWorld = normal;\n}\n\nvoid project_setPositionAndNormal_World(vec3 position, vec3 normal) {\n  world.position = position;\n  world.normal = normal;\n}\n\nvoid project_setPositionAndNormal_Model(vec3 position, vec3 normal) {\n  world.position = (modelMatrix * vec4(position, 1.)).xyz;\n  world.normal = mat3(modelMatrix) * normal;\n}\n\nvec4 project_model_to_clipspace(vec4 position) {\n  return viewProjectionMatrix * modelMatrix * position;\n}\n\nvec4 project_model_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * modelMatrix * vec4(position, 1.);\n}\n\nvec4 project_world_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_view_to_clipspace(vec3 position) {\n  return projectionMatrix * vec4(position, 1.);\n}\n\nvec4 project_to_clipspace(vec3 position) {\n  return viewProjectionMatrix * vec4(position, 1.);\n}\n",fs:"\nvarying vec4 project_vPositionWorld;\nvarying vec3 project_vNormalWorld;\n\nvec4 project_getPosition_World() {\n  return project_vPositionWorld;\n}\n\nvec3 project_getNormal_World() {\n  return project_vNormalWorld;\n}\n"};var Ye={name:"lighting",vs:"  // empty\n\n#define LIGHT_MAX 4\n\n/*\n// lighting configuration\nuniform bool enableLights;\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\n// point lights configuration\nuniform vec3 pointLocation[LIGHT_MAX];\nuniform vec3 pointColor[LIGHT_MAX];\nuniform int numberPoints;\n\n// reflection / refraction configuration\nuniform bool useReflection;\n*/\n\nuniform bool lighting_uEnableLights;\nuniform vec3 lighting_uAmbientColor;\nuniform vec3 lighting_uDirection;\nuniform vec3 lighting_uDirectionalColor;\n\n// point lights configuration\nuniform int  lighting_uPointCount;\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\n\n// reflection / refraction configuration\nuniform bool lighting_uEnableReflections;\n\n// varyings\nvarying vec4 lighting_vPosition;\nvarying vec4 lighting_vNormal;\nvarying vec3 lighting_vColor;\nvarying vec3 lighting_vLightWeighting;\nvarying vec3 lighting_vReflection;\n\nvoid lighting_setPositionAndNormal(vec3 position, vec3 normal) {\n  lighting_vPosition = worldMatrix * vec4(position, 1.);\n  lighting_vNormal = worldInverseTransposeMatrix * vec4(normal, 1.);;\n}\n\nvoid lighting__getLightWeigting() {\n  float directionalLightWeighting = max(dot(lighting_vNormal.xyz, lighting_uDirection), 0.);\n  vec3 pointWeight = vec3(0., 0., 0.);\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec4 mvLightPosition = viewMatrix * vec4(lighting_uPointLocation[i], 1.);\n      vec3 pointLightDirection = normalize(mvLightPosition.xyz - lighting_vPosition.xyz);\n      pointWeight += max(dot(lighting_vNormal.xyz, pointLightDirection), 0.) * pointColor[i];\n     } else {\n       break;\n     }\n   }\n   return ambientColor + (directionalColor * directionalLightWeighting) + pointWeight;\n}\n\nvoid lighting_apply(vec3 position, vec3 normal) {\n  lighting_setPositionAndNormal(position, normal);\n\n  // lighting code\n  if(!lighting_uEnableLights) {\n    lighting_vLightWeighting = vec3(1., 1., 1.);\n  } else {\n    lighting_vLightWeighting = lighting__getLightWeighting();\n  }\n}\n\nvoid lighting_set_reflection(vec3 position) {\n    // refraction / reflection code\n  if (lighting_uEnableReflections) {\n    lighting_vReflection = (viewInverseMatrix[3] - (worldMatrix * vec4(position, 1.))).xyz;\n  } else {\n    lighting_vReflection = vec3(1., 1., 1.);\n  }\n}\n\n",fs:"  // empty\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define LIGHT_MAX 4\n\nvarying vec3 lighting_vLightWeighting;\n\nvec4 lighting_apply(vec4 color) {\n  // set color from texture\n  return vec4(color.rgb * lighting_vLightWeighting, color.a);\n}\n\n// spec-map.fs\n\nuniform mat4 viewMatrix;\n\n\nvarying vec4 lighting_vColor;\nvarying vec4 lighting_vTransformedNormal;\nvarying vec4 lighting_vPosition;\n\nuniform float shininess;\nuniform bool enableSpecularMap;\nuniform bool enableLights;\n\nuniform vec3 ambientColor;\nuniform vec3 directionalColor;\nuniform vec3 lightingDirection;\n\nuniform vec3 lighting_uPointLocation[LIGHT_MAX];\nuniform vec3 lighting_uPointColor[LIGHT_MAX];\nuniform float lighting_uPointSpecularEnable[LIGHT_MAX];\nuniform vec3 lighting_uPointSpecularColor[LIGHT_MAX];\nuniform int numberPoints;\n\n\nvec3 lighting__calculate_light_weighting() {\n\treturn lighting__calculate_light_weighting(shininess);\n}\n\nvec3 lighting__calculate_light_weighting(shininess) {\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0., 0., 0.);\n  vec3 diffuseLight = vec3(0., 0., 0.);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(lighting_uPointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (lighting_uPointSpecularEnable > 0.) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininessVal);\n        specularLight += specularLightWeighting * lighting_uPointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * lighting_uPointColor[i];\n    } else {\n      break;\n    }\n  }\n\n  return ambientColor + diffuseLight + specularLight;\n}\n\nvoid lighting_filterColor(fragmentColor) {\n  if (!lighting_enable) {\n  \treturn fragmentColor;\n  } else {\n  \tvec3 lightWeighting = lighting__calculate_light_weighting();\n  \treturn vec4(fragmentColor.rgb * lightWeighting, fragmentColor.a);\n  }\n}\n\n// render-tex.fs\n\nuniform vec3 material_uAmbientColor;\nuniform vec3 material_uDiffuseColor;\nuniform vec3 material_uSpecularColor;\nuniform vec3 material_uEmissiveColor;\n\nuniform bool hasTexture1;\nuniform sampler2D sampler1;\n\nuniform mat4 viewMatrix;\n\nvoid apply_lighting(color) {\n  vec3 ambientLightWeighting = ambientColor;\n\n  vec3 normal = vTransformedNormal.xyz;\n  vec3 eyeDirection = normalize(-vPosition.xyz);\n\n  vec3 specularLight = vec3(0.0, 0.0, 0.0);\n  vec3 diffuseLight = vec3(0.0, 0.0, 0.0);\n\n  for (int i = 0; i < LIGHT_MAX; i++) {\n    if (i < numberPoints) {\n      vec3 transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n      vec3 lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n      if (enableSpecularHighlights) {\n        vec3 reflectionDirection = reflect(-lightDirection, normal);\n        float specularLightWeighting =\n          pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n        specularLight += specularLightWeighting * pointSpecularColor[i];\n      }\n\n      float diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n      diffuseLight += diffuseLightWeighting * pointColor[i];\n    } else {\n        break;\n    }\n  }\n\n  vec3 matAmbientColor = material_uAmbientColor * color.rgb;\n  vec3 matDiffuseColor = material_uDiffuseColor * color.rgb;\n  vec3 matSpecularColor = material_uSpecularColor * color.rgb;\n  vec3 matEmissiveColor = material_uEmissiveColor * color.rgb;\n  gl_FragColor = vec4(\n    matAmbientColor * ambientLightWeighting\n    + matDiffuseColor * diffuseLightWeighting\n    + matSpecularColor * specularLightWeighting\n    + matEmissiveColor,\n    color.a\n  );\n}\n\n/// frag-lighting\n\n  vec3 lightWeighting;\n  if (!enableLights) {\n    lightWeighting = vec3(1.0, 1.0, 1.0);\n  } else {\n    vec3 lightDirection;\n    float specularLightWeighting = 0.0;\n    float diffuseLightWeighting = 0.0;\n    vec3  specularLight = vec3(0.0, 0.0, 0.0);\n    vec3  diffuseLight = vec3(0.0, 0.0, 0.0);\n\n    vec3 transformedPointLocation;\n    vec3 normal = vTransformedNormal.xyz;\n\n    vec3 eyeDirection = normalize(-vPosition.xyz);\n    vec3 reflectionDirection;\n\n    vec3 pointWeight = vec3(0.0, 0.0, 0.0);\n\n    for (int i = 0; i < LIGHT_MAX; i++) {\n      if (i < numberPoints) {\n        transformedPointLocation = (viewMatrix * vec4(pointLocation[i], 1.0)).xyz;\n        lightDirection = normalize(transformedPointLocation - vPosition.xyz);\n\n        if (enableSpecular[i] > 0.0) {\n          reflectionDirection = reflect(-lightDirection, normal);\n          specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n          specularLight += specularLightWeighting * pointSpecularColor[i];\n        }\n\n        diffuseLightWeighting = max(dot(normal, lightDirection), 0.0);\n        diffuseLight += diffuseLightWeighting * pointColor[i];\n      } else {\n        break;\n      }\n    }\n\n    lightWeighting = ambientColor + diffuseLight + specularLight;\n  }\n\n// reflection / refraction configs\nuniform float reflection;\nuniform float refraction;\n\n///\n  // has cube texture then apply reflection\n  // if (hasTextureCube1) {\n  //   vec3 nReflection = normalize(vReflection);\n  //   vec3 reflectionValue;\n  //   if (refraction > 0.0) {\n  //    reflectionValue = refract(nReflection, vNormal.xyz, refraction);\n  //   } else {\n  //    reflectionValue = -reflect(nReflection, vNormal.xyz);\n  //   }\n\n  //   // TODO(nico): check whether this is right.\n  //   vec4 cubeColor = textureCube(samplerCube1,\n  //       vec3(-reflectionValue.x, -reflectionValue.y, reflectionValue.z));\n  //   gl_FragColor = vec4(mix(gl_FragColor.xyz, cubeColor.xyz, reflection), 1.0);\n  // }\n\n",getUniforms:function(e){var t,n,r,i,o=e.lightingEnable,a=void 0!==o&&o,s=e.lightingAmbientColor,u=void 0===s?[.2,.2,.2]:s,l=e.lightingDirection,c=void 0===l?[1,1,1]:l,p=(e.lightingDirectionalColor,e.lightingPointLights),f=void 0===p?[]:p;return Object.assign({lightingEnable:a,lightingAmbientColor:u},(n=(t=c).color,r=t.direction,i=new W.c(r.x,r.y,r.z).normalize().scale(-1,-1,-1),{directionalColor:[n.r,n.g,n.b],lightingDirection:[i.x,i.y,i.z]}),function(e){var t=(e=e instanceof Array?e:[e]).length,n=[],r=[],i=[],o=[],a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value,f=p.position,h=p.color,d=p.diffuse,g=p.specular,y=h||d;n.push(f.x,f.y,f.z),r.push(y.r,y.g,y.b),i.push(Number(Boolean(g))),g?o.push(g.r,g.g,g.b):o.push(0,0,0)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return{numberPoints:t,pointLocation:n,pointColor:r,enableSpecular:i,pointSpecularColor:o}}(f))}},He={lightDirection:new Float32Array([1,1,2])};var We={name:"dirlight",vs:null,fs:"uniform vec3 dirlight_uLightDirection;\n\n/*\n * Returns color attenuated by angle from light source\n */\nvec4 dirlight_filterColor(vec4 color) {\n  vec3 normal = project_getNormal_World();\n  float d = abs(dot(normalize(normal), normalize(dirlight_uLightDirection)));\n  return vec4(color.rgb * d, color.a);\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t={};return e.lightDirection&&(t.dirlight_uLightDirection=e.lightDirection),t},dependencies:[Ve]},Qe={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingThreshold:1,pickingActive:!1};var Xe={name:"picking",vs:"uniform vec3 picking_uSelectedColor;\nuniform float picking_uThreshold;\nuniform bool picking_uSelectedColorValid;\n\nvarying vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    abs(vertexColor.r - picking_uSelectedColor.r) < picking_uThreshold &&\n    abs(vertexColor.g - picking_uSelectedColor.g) < picking_uThreshold &&\n    abs(vertexColor.b - picking_uSelectedColor.b) < picking_uThreshold;\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  // Do the comparison with selected item color in vertex shader as it should mean fewer compares\n  picking_vRGBcolor_Aselected.a =\n    float(isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  picking_vRGBcolor_Aselected.rgb = pickingColor * COLOR_SCALE;\n}\n",fs:"uniform bool picking_uActive; // true during rendering to offscreen picking buffer\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nvarying vec4 picking_vRGBcolor_Aselected;\n\nconst float COLOR_SCALE = 1. / 255.;\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 picking_filterHighlightColor(vec4 color) {\n  bool selected = bool(picking_vRGBcolor_Aselected.a);\n  return selected ? (picking_uHighlightColor * COLOR_SCALE) : color;\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 picking_filterPickingColor(vec4 color) {\n  vec3 pickingColor = picking_vRGBcolor_Aselected.rgb;\n  return picking_uActive ? vec4(pickingColor, 1.0) : color;\n}\n",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t={};if(void 0!==e.pickingSelectedColor)if(null===e.pickingSelectedColor)t.picking_uSelectedColorValid=0;else{var n=[e.pickingSelectedColor[0],e.pickingSelectedColor[1],e.pickingSelectedColor[2]];t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}return void 0!==e.pickingHighlightColor&&(t.picking_uHighlightColor=e.pickingHighlightColor),void 0!==e.pickingThreshold&&(t.picking_uThreshold=e.pickingThreshold),void 0!==e.pickingActive&&(t.picking_uActive=e.pickingActive?1:0),t}},Ze={diffuseTexture:null,diffuseColor:[.5,.5,.5,1]};var Je={name:"diffuse",getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t={};return void 0!==e.diffuseTexture&&(t.diffuse_uHasTexture=Boolean(e.diffuseTexture),t.diffuse_uTexture=e.diffuseTexture),void 0!==e.diffuseColor&&(t.diffuse_uColor=e.diffuseColor),t},vs:"varying vec2 diffuse_vTexCoord;\n\n/* Set the UV coordinate from attributes */\nvoid diffuse_setTextureCoordinate(vec2 uv) {\n  diffuse_vTexCoord = uv;\n}\n",fs:"uniform vec4 diffuse_uColor;\nuniform bool diffuse_uHasTexture;\nuniform sampler2D diffuse_uTexture;\n\nvarying vec2 diffuse_vTexCoord;\n\n// Gets diffuse color of material from uniform\n// If we have a standard (diffuse) texture, set color to texture\n// return (vec4) - rgba\n//\nvec4 diffuse_getColor() {\n  vec2 texCoord = diffuse_vTexCoord;\n  return diffuse_uHasTexture ?\n    texture2D(diffuse_uTexture, vec2(texCoord.s, texCoord.t)) :\n    diffuse_uColor;\n}\n\nvec4 diffuse_filterColor(vec4 color) {\n  return diffuse_getColor();\n}\n"},Ke=n(110);n.d(t,"f",function(){return r.b}),n.d(t,!1,function(){return r.c}),n.d(t,!1,function(){return r.d}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return i.g}),n.d(t,!1,function(){return i.h}),n.d(t,!1,function(){}),n.d(t,"l",function(){return i.e}),n.d(t,!1,function(){return i.f}),n.d(t,!1,function(){}),n.d(t,!1,function(){return o.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"s",function(){return o.b}),n.d(t,"t",function(){return o.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return a.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return a.b}),n.d(t,!1,function(){return s.a}),n.d(t,!1,function(){return s.c}),n.d(t,!1,function(){return s.d}),n.d(t,!1,function(){return s.b}),n.d(t,!1,function(){return u.a}),n.d(t,!1,function(){return l.a}),n.d(t,"b",function(){return c.a}),n.d(t,!1,function(){return p.b}),n.d(t,!1,function(){return p.c}),n.d(t,!1,function(){return p.a}),n.d(t,!1,function(){return f.a}),n.d(t,"e",function(){return h.a}),n.d(t,!1,function(){return d.a}),n.d(t,"j",function(){return g.a}),n.d(t,!1,function(){return y.a}),n.d(t,!1,function(){return v.a}),n.d(t,!1,function(){return m.a}),n.d(t,!1,function(){return m.b}),n.d(t,!1,function(){return _.a}),n.d(t,!1,function(){return A.a}),n.d(t,!1,function(){return b.a}),n.d(t,!1,function(){return T}),n.d(t,!1,function(){return C}),n.d(t,"k",function(){return I.a}),n.d(t,!1,function(){return P.a}),n.d(t,!1,function(){return z}),n.d(t,"h",function(){return U.a}),n.d(t,"a",function(){return G.b}),n.d(t,!1,function(){return q}),n.d(t,!1,function(){return te}),n.d(t,!1,function(){return ne}),n.d(t,!1,function(){return re}),n.d(t,!1,function(){return fe}),n.d(t,"g",function(){return he.a}),n.d(t,!1,function(){return de.a}),n.d(t,"c",function(){return ge.a}),n.d(t,"d",function(){return ye.a}),n.d(t,!1,function(){return ve.a}),n.d(t,!1,function(){return me.a}),n.d(t,!1,function(){return _e.a}),n.d(t,!1,function(){return Ae.a}),n.d(t,!1,function(){return we}),n.d(t,!1,function(){return Ee}),n.d(t,!1,function(){return Te}),n.d(t,!1,function(){return Me}),n.d(t,!1,function(){return Se}),n.d(t,!1,function(){return Ce}),n.d(t,!1,function(){return Ie}),n.d(t,!1,function(){return Oe}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"o",function(){return Le.loadTextures}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"i",function(){return Re.a}),n.d(t,!1,function(){return je.a}),n.d(t,"q",function(){return Ne.b}),n.d(t,"r",function(){return Ne.d}),n.d(t,"m",function(){return Be}),n.d(t,"n",function(){return ze}),n.d(t,!1,function(){return Ve}),n.d(t,!1,function(){return Ye}),n.d(t,!1,function(){return We}),n.d(t,"p",function(){return Xe}),n.d(t,!1,function(){return Je}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){return W.b}),n.d(t,!1,function(){return W.c}),n.d(t,!1,function(){}),n.d(t,!1,function(){return W.a}),n.d(t,!1,function(){}),n.d(t,!1,function(){return Ke.a}),n.d(t,!1,function(){return h.a}),n(48);m.b},function(e,t,n){"use strict";var r=n(130);function i(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise(function(t,r){e.apply(void 0,n.concat([function(e,n){try{e?r(e):t(n)}catch(e){r(e)}}]))})}}var o=n(1),a=n.n(o),s={};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return s[e]=s[e]||1,e+"-"+s[e]++}function l(e){return a()("number"==typeof e,"Input must be a number"),e&&0==(e&e-1)}function c(e){var t=!0;for(var n in e){t=!1;break}return t}var p=n(96),f=n(40);n.d(t,"c",function(){return r.a}),n.d(t,!1,function(){return i}),n.d(t,"h",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"f",function(){return p.a}),n.d(t,"b",function(){return p.b}),n.d(t,!1,function(){return f.b}),n.d(t,!1,function(){return f.c}),n.d(t,"a",function(){return f.a}),n.d(t,"g",function(){return f.d})},function(e,t,n){e.exports=n(362)()},function(e,t,n){e.exports=n(299)()},function(e,t,n){"use strict";var r=n(17);n.d(t,"d",function(){return r.h}),n.d(t,"c",function(){return r.d}),n.d(t,"b",function(){return r.b}),n.d(t,"f",function(){return r.m});n(23);var i=n(0);n.d(t,"a",function(){return i.a}),t.e=i.a},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"g",function(){return A}),n.d(t,"h",function(){return b}),n.d(t,"d",function(){return x}),n.d(t,"c",function(){return w}),n.d(t,"e",function(){return T}),n.d(t,"f",function(){return M});var r=n(8),i=n(66),o=n(23),a=n(129),s=n(57),u=(n(36),n(5)),l=n(48),c=n(1),p=n.n(c),f=34962,h=32874,d="Invalid WebGLRenderingContext",g=d,y="Requires WebGL2",v="WebGL API is missing. To run luma.gl under Node.js, please \"npm install gl\"\nand import 'luma.gl/headless' before importing 'luma.gl'.",m="Cannot create headless WebGL context, headlessGL not available",_="headlessGL failed to create headless WebGL context";function A(e){return Boolean(e&&(e instanceof r.d||e.ARRAY_BUFFER===f))}function b(e){return Boolean(e&&(e instanceof r.b||e.TEXTURE_BINDING_3D===h))}function x(e){p()(A(e),d)}function w(e){p()(b(e),y)}var E={webgl2:!0,webgl1:!0,throwOnFailure:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e=Object.assign({},E,e),n=t.canvas,c=t.width,p=t.height,f=t.throwOnError,h=t.manageState,d=t.debug;function g(e){if(f)throw new Error(e);return null}var y=void 0;if(u.c){var A=void 0;A=n?"string"==typeof n?Object(o.c)({id:n}):n:Object(o.a)({id:"lumagl-canvas",width:c,height:p,onError:g}),y=Object(o.b)({canvas:A,opts:e})}else y=function(e){var t=e.width,n=e.height,i=e.opts,o=e.onError,a=i.webgl1;if(i.webgl2&&!a)return o("headless-gl does not support WebGL2");if(!r.f)return o(v);if(!l.default.globals.headlessGL)return o(m);var s=l.default.globals.headlessGL(t,n,i);if(!s)return o(_);return s}({width:c,height:p,opts:e,onError:g});return y?(h&&Object(i.a)(y,{copyState:!1,log:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.f.log.apply(u.f,[1].concat(t))}}),u.c&&d&&(y=Object(a.a)(y,{debug:d}),u.f.priority=Math.max(u.f.priority,1)),function(e){var t=b(e)?"WebGL2":"WebGL1",n=Object(s.b)(e),r=n?"("+n.vendor+","+n.renderer+")":"",i=e.debug?" debug":"";u.f.once(0,""+t+i+" context "+r)}(y),y):null}function M(e){}},function(e,t,n){"use strict";var r={};function i(e){"epsilon"in e&&(r.EPSILON=e.epsilon),"debug"in e&&(r.debug=e.debug)}function o(e){if(!Number.isFinite(e))throw new Error("Invalid number "+e);return e}function a(e){return Math.round(e/r.EPSILON)*r.EPSILON}function s(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).precision,n=void 0===t?r.precision||4:t;return e=a(e),parseFloat(e.toPrecision(n))}function u(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&void 0!==e.length}function l(e){return e.clone?e.clone():new Array(e)}function c(e,t){if(u(e)){for(var n=l(e),r=0;r<n.length;++r)n[r]=t(n[r],r,n);return n}return t(e)}function p(e){return c(e,function(e){return e/180*Math.PI})}function f(e){return c(e,function(e){return 180*e/Math.PI})}function h(e){return c(e,function(e){return Math.sin(e)})}function d(e){return c(e,function(e){return Math.cos(e)})}function g(e){return c(e,function(e){return Math.tan(e)})}function y(e){return c(e,function(e){return Math.asin(e)})}function v(e){return c(e,function(e){return Math.acos(e)})}function m(e){return c(e,function(e){return Math.atan(e)})}function _(e,t,n){return c(e,function(e){return Math.max(t,Math.min(n,e))})}function A(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!A(e[n],t[n]))return!1;return!0}return Math.abs(e-t)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}r.EPSILON=1e-12,r.debug=!0,r.precision=4,r.printTypes=!1,r.printDegrees=!1,r.printRowMajor=!0;var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function x(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,x(Array)),b(t,[{key:"clone",value:function(){var e=(new(0,this.constructor)).copy(this);return e.check(),e}},{key:"copy",value:function(e){for(var t=0;t<this.ELEMENTS;++t)this[t]=e[t];return this.check()}},{key:"set",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<this.ELEMENTS;++r)this[r]=t[r]||0;return this.check()}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}},{key:"toString",value:function(){return this.formatString(r)}},{key:"formatString",value:function(e){for(var t="",n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+s(this[n],e);return(e.printTypes?this.constructor.name:"")+"["+t+"]"}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(!A(this[t],e[t]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"inverse",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=1/this[e];return this.check()}},{key:"lerp",value:function(e,t){for(var n=0;n<this.ELEMENTS;++n){var r=this[n];this[n]=r+t*(e[0]-r)}return this.check()}},{key:"validate",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=e&&e.length===this.ELEMENTS,n=0;n<this.ELEMENTS;++n)t=t&&Number.isFinite(e[n]);return t}},{key:"check",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(r.debug&&!this.validate(e))throw new Error("Invalid "+this.constructor.name);return this}}]),t}(),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,w),E(t,[{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){for(var e=0,t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n){var r=this[n]-e[n];t+=r*r}return o(t)}},{key:"dot",value:function(e){for(var t=0,n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return o(t)}},{key:"normalize",value:function(){var e=this.magnitude();if(0!==e)for(var t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}}]),t}(),M=n(267),S=n.n(M),C=n(71),I=n.n(C),P=n(266),k=n.n(P),O=n(265),L=n.n(O),R=n(264),j=n.n(R),N=n(263),B=n.n(N),D=n(262),F=n.n(D),z=n(90),U=n.n(z),G=n(261),V=n.n(G),Y=n(260),H=n.n(Y),W=n(259),Q=n.n(W),X=n(142),Z=n.n(X),J=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function K(e){return 2===e.length&&Number.isFinite(e[0])&&Number.isFinite(e[1])}var q=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Array.isArray(e)&&1===arguments.length?r.copy(e):r.set(e,n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,T),J(t,[{key:"set",value:function(e,t){return S()(this,e,t),this.check(),this}},{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;I()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this}},{key:"subtract",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;k()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"multiply",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;L()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"divide",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;j()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"scale",value:function(e){return Number.isFinite(e)&&B()(this,this,e),this.check(),this}},{key:"scaleAndAdd",value:function(e,t){return F()(this,this,e,t),this.check(),this}},{key:"negate",value:function(){return U()(this,this),this.check(),this}},{key:"normalize",value:function(){return V()(this,this),this.check(),this}},{key:"dot",value:function(e){return H()(this,e)}},{key:"cross",value:function(e){return Q()(this,this,e),this.check(),this}},{key:"lerp",value:function(e,t){return Z()(this,this,e,t),this.check(),this}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"operation",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this,this].concat(n)),this.check(),this}},{key:"ELEMENTS",get:function(){return 2}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=o(e)}}]),t}(),$=n(258),ee=n.n($),te=n(257),ne=n.n(te),re=n(256),ie=n.n(re),oe=n(255),ae=n.n(oe),se=n(180),ue=n.n(se),le=n(254),ce=n.n(le),pe=n(253),fe=n.n(pe),he=n(252),de=n.n(he),ge=n(176),ye=n.n(ge),ve=n(251),me=n.n(ve),_e=n(250),Ae=n.n(_e),be=n(249),xe=n.n(be),we=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ee=[0,0,0];function Te(e){return 3===e.length&&Number.isFinite(e[0])&&Number.isFinite(e[1])&&Number.isFinite(e[2])}var Me=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Array.isArray(e)&&1===arguments.length?i.copy(e):i.set(e,n,r),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,T),we(t,[{key:"set",value:function(e,t,n){return ee()(this,e,t,n),this.check()}},{key:"angle",value:function(e){return ne()(this,e)}},{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;ie()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;ae()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;ue()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"scale",value:function(e){return Number.isFinite(e)?fe()(this,this,e):ue()(this,this,e),this.check()}},{key:"cross",value:function(e){return ye()(this,this,e),this.check()}},{key:"rotateX",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?Ee:n;return me()(this,this,r,t),this.check()}},{key:"rotateY",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?Ee:n;return Ae()(this,this,r,t),this.check()}},{key:"rotateZ",value:function(e){var t=e.radians,n=e.origin,r=void 0===n?Ee:n;return xe()(this,this,r,t),this.check()}},{key:"operation",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,[this,this].concat(n)),this.check()}},{key:"divide",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;ce()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check()}},{key:"scaleAndAdd",value:function(e,t){return de()(this,this,e,t),this.check()}},{key:"ELEMENTS",get:function(){return 3}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=o(e)}}]),t}(),Se=n(175),Ce=n.n(Se),Ie=n(248),Pe=n.n(Ie),ke=n(174),Oe=n.n(ke),Le=n(247),Re=n.n(Le),je=n(141),Ne=n.n(je),Be=n(246),De=n.n(Be),Fe=n(98),ze=n.n(Fe),Ue=n(245),Ge=n.n(Ue),Ve=n(244),Ye=n.n(Ve),He=n(243),We=n.n(He),Qe=n(173),Xe=n.n(Qe),Ze=n(172),Je=n.n(Ze),Ke=n(171),qe=n.n(Ke),$e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function et(e){return 4===e.length&&Number.isFinite(e[0])&&Number.isFinite(e[1])&&Number.isFinite(e[2])&&Number.isFinite(e[3])}var tt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Array.isArray(e)&&1===arguments.length?o.copy(e):o.set(e,n,r,i),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,T),$e(t,[{key:"set",value:function(e,t,n,r){return Ce()(this,e,t,n,r),this.check(),this}},{key:"distance",value:function(e){return Pe()(e)}},{key:"add",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;Oe()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"subtract",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;Re()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"multiply",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;Ne()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"divide",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;De()(this,this,u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return this.check(),this}},{key:"scale",value:function(e){return ze()(this,this,e),this.check(),this}},{key:"scaleAndAdd",value:function(e,t){return Ge()(this,this,e,t),this.check(),this}},{key:"negate",value:function(){return Ye()(this,this),this.check(),this}},{key:"inverse",value:function(){return We()(this,this),this.check(),this}},{key:"normalize",value:function(){return Xe()(this,this),this.check(),this}},{key:"dot",value:function(e){return Je()(this,e)}},{key:"lerp",value:function(e,t){return qe()(this,this,e,t),this.check(),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"w",get:function(){return this[3]},set:function(e){return this[3]=o(e)}}]),t}(),nt=n(1),rt=n.n(nt),it=n(242),ot=n.n(it),at=n(241),st=n.n(at),ut=n(240),lt=n.n(ut),ct=n(68),pt=n.n(ct),ft=n(140),ht=n.n(ft),dt=n(53),gt=n.n(dt),yt=n(239),vt=n.n(yt),mt=n(70),_t=n.n(mt),At=n(26),bt=n.n(At),xt=n(89),wt=n.n(xt),Et=n(139),Tt=n.n(Et),Mt=n(67),St=n.n(Mt),Ct=n(47),It=n.n(Ct),Pt=n(46),kt=n.n(Pt),Ot=n(238),Lt=n.n(Ot),Rt=n(237),jt=n.n(Rt),Nt=n(35),Bt=n.n(Nt),Dt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var Ut=[0,0,0,0],Gt=function(e){function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Array.isArray(n[0])&&1===arguments.length?i.copy(n[0]):i.identity(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,w),Ft(t,[{key:"setRowMajor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,d=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this.set(e,i,u,f,t,o,l,h,n,a,c,d,r,s,p,g)}},{key:"setColumnMajor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,d=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1;return this.set(e,t,n,r,i,o,a,s,u,l,c,p,f,h,d,g)}},{key:"set",value:function(e,t,n,r,i,o,a,s,u,l,c,p,f,h,d,g){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=u,this[9]=l,this[10]=c,this[11]=p,this[12]=f,this[13]=h,this[14]=d,this[15]=g,this.check(),this}},{key:"determinant",value:function(){return ot()(this)}},{key:"identity",value:function(){for(var e=0;e<zt.length;++e)this[e]=zt[e];return this.check(),this}},{key:"fromQuaternion",value:function(e){return st()(this,e),this.check(),this}},{key:"frustum",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=e.far;return lt()(this,t,n,r,i,o,a),this.check(),this}},{key:"lookAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.eye,n=e.center,r=void 0===n?[0,0,0]:n,i=e.up,o=void 0===i?[0,1,0]:i;return pt()(this,t,r,o),this.check(),this}},{key:"ortho",value:function(e){var t=e.left,n=e.right,r=e.bottom,i=e.top,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;return ht()(this,t,n,r,i,a,u),this.check(),this}},{key:"perspective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fov,n=void 0===t?45*Math.PI/180:t,r=e.aspect,i=void 0===r?1:r,o=e.near,a=void 0===o?.1:o,s=e.far,u=void 0===s?500:s;if(n>2*Math.PI)throw Error("radians");return gt()(this,n,i,a,u),this.check(),this}},{key:"transpose",value:function(){return vt()(this,this),this.check(),this}},{key:"invert",value:function(){return _t()(this,this),this.check(),this}},{key:"multiplyLeft",value:function(e){return bt()(this,e,this),this.check(),this}},{key:"multiplyRight",value:function(e){return bt()(this,this,e),this.check(),this}},{key:"rotateX",value:function(e){return wt()(this,this,e),this.check(),this}},{key:"rotateY",value:function(e){return Tt()(this,this,e),this.check(),this}},{key:"rotateZ",value:function(e){return St()(this,this,e),this.check(),this}},{key:"rotateXYZ",value:function(e){var t=Dt(e,3),n=t[0],r=t[1],i=t[2];return this.rotateX(n).rotateY(r).rotateZ(i)}},{key:"rotateAxis",value:function(e,t){return St()(this,this,e,t),this.check(),this}},{key:"scale",value:function(e){return It()(this,this,e),this.check(),this}},{key:"translate",value:function(e){return kt()(this,this,e),this.check(),this}},{key:"transformVector2",value:function(e,t){return t=t||new q,Lt()(t,e,this),rt()(K(t)),t}},{key:"transformVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Me;return t=t||new Me,jt()(t,e,this),rt()(Te(t)),t}},{key:"transformVector4",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tt;return t=t||new tt,Bt()(t,e,this),rt()(et(t)),t}},{key:"transformVector",value:function(e,t){switch(e.length){case 2:return this.transformVector2(e,t);case 3:return this.transformVector3(e,t);case 4:return this.transformVector4(e,t);default:throw new Error("Illegal vector")}}},{key:"transformDirection",value:function(e,t){switch(e.length){case 2:Bt()(Ut,[e[0],e[1],0,0],this),(t=t||new q)[0]=Ut[0],t[1]=Ut[1];break;case 3:Bt()(Ut,[e[0],e[1],e[2],0],this),(t=t||new Me)[0]=Ut[0],t[1]=Ut[1],t[2]=Ut[2];break;case 4:rt()(0===e[3]),t=t||new tt,Bt()(t,e,this);break;default:throw new Error("Illegal vector")}return t}},{key:"transformPoint",value:function(e,t){switch(e.length){case 2:t=t||new q,Bt()(t,[e[0],e[1],0,1],this),t.length=2,rt()(K(t));break;case 3:t=t||new Me,Bt()(t,[e[0],e[1],e[2],1],this),t.length=3,rt()(Te(t));break;case 4:rt()(0!==e[3]),t=t||new tt,Bt()(t,e,this),rt()(et(t));break;default:throw new Error("Illegal vector")}return t}},{key:"ELEMENTS",get:function(){return 16}},{key:"m00",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"m01",get:function(){return this[4]},set:function(e){return this[4]=o(e)}},{key:"m02",get:function(){return this[8]},set:function(e){return this[8]=o(e)}},{key:"m03",get:function(){return this[12]},set:function(e){return this[12]=o(e)}},{key:"m10",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"m11",get:function(){return this[5]},set:function(e){return this[5]=o(e)}},{key:"m12",get:function(){return this[9]},set:function(e){return this[9]=o(e)}},{key:"m13",get:function(){return this[13]},set:function(e){return this[13]=o(e)}},{key:"m20",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"m21",get:function(){return this[6]},set:function(e){return this[6]=o(e)}},{key:"m22",get:function(){return this[10]},set:function(e){return this[10]=o(e)}},{key:"m23",get:function(){return this[14]},set:function(e){return this[14]=o(e)}},{key:"m30",get:function(){return this[3]},set:function(e){return this[3]=o(e)}},{key:"m31",get:function(){return this[7]},set:function(e){return this[7]=o(e)}},{key:"m32",get:function(){return this[11]},set:function(e){return this[11]=o(e)}},{key:"m33",get:function(){return this[15]},set:function(e){return this[15]=o(e)}}]),t}(),Vt=n(236),Yt=n.n(Vt),Ht=n(235),Wt=n.n(Ht),Qt=n(234),Xt=n.n(Qt),Zt=n(233),Jt=n.n(Zt),Kt=n(232),qt=n.n(Kt),$t=n(231),en=n.n($t),tn=n(230),nn=n.n(tn),rn=n(229),on=n.n(rn),an=n(228),sn=n.n(an),un=n(227),ln=n.n(un),cn=n(226),pn=n.n(cn),fn=n(225),hn=n.n(fn),dn=n(169),gn=n.n(dn),yn=n(224),vn=n.n(yn),mn=n(223),_n=n.n(mn),An=n(222),bn=n.n(An),xn=n(221),wn=n.n(xn),En=n(220),Tn=n.n(En),Mn=n(168),Sn=n.n(Mn),Cn=n(219),In=n.n(Cn),Pn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var kn=[0,0,0,1];var On=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return Array.isArray(e)&&1===arguments.length?o.copy(e):o.set(e,n,r,i),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,w),Pn(t,[{key:"fromMatrix3",value:function(e){return Yt()(this,e),this.check(),this}},{key:"fromValues",value:function(e,t,n,r){return this.set(e,t,n,r)}},{key:"identity",value:function(){return Wt()(this),this.check(),this}},{key:"length",value:function(){return Xt()(this)}},{key:"squaredLength",value:function(e){return Jt()(this)}},{key:"dot",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.dot only takes one argument");return qt()(this,e)}},{key:"rotationTo",value:function(e,t){return en()(this,e,t),this.check(),this}},{key:"add",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.add only takes one argument");return nn()(this,e),this.check(),this}},{key:"calculateW",value:function(){return on()(this,this),this.check(),this}},{key:"conjugate",value:function(){return sn()(this,this),this.check(),this}},{key:"invert",value:function(){return ln()(this,this),this.check(),this}},{key:"lerp",value:function(e,t,n){return pn()(this,e,t,n),this.check(),this}},{key:"multiply",value:function(e,t){if(void 0!==t)throw new Error("Quaternion.multiply only takes one argument");return hn()(this,this,t),this.check(),this}},{key:"normalize",value:function(){return gn()(this,this),this.check(),this}},{key:"rotateX",value:function(e){return vn()(this,this,e),this.check(),this}},{key:"rotateY",value:function(e){return _n()(this,this,e),this.check(),this}},{key:"rotateZ",value:function(e){return bn()(this,this,e),this.check(),this}},{key:"scale",value:function(e){return wn()(this,this,e),this.check(),this}},{key:"set",value:function(e,t,n,r){return Tn()(this,e,t,n,r),this.check(),this}},{key:"setAxisAngle",value:function(e,t){return Sn()(this,e,t),this.check(),this}},{key:"slerp",value:function(e){var t=e.start,n=void 0===t?kn:t,r=e.target,i=e.ratio;return In()(this,n,r,i),this.check(),this}},{key:"ELEMENTS",get:function(){return 4}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"w",get:function(){return this[3]},set:function(e){return this[3]=o(e)}}]),t}(),Ln=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Rn="Unknown Euler angle order";var jn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return arguments.length>0&&Array.isArray(arguments[0])?o.fromVector3.apply(o,arguments):o.set(e,n,r,i),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,w),Ln(t,[{key:"ELEMENTS",get:function(){return 4}}],[{key:"rotationOrder",value:function(e){return t.RotationOrders[e]}},{key:"ZYX",get:function(){return 0}},{key:"YXZ",get:function(){return 1}},{key:"XZY",get:function(){return 2}},{key:"ZXY",get:function(){return 3}},{key:"YZX",get:function(){return 4}},{key:"XYZ",get:function(){return 5}},{key:"RollPitchYaw",get:function(){return 0}},{key:"DefaultOrder",get:function(){return t.ZYX}},{key:"RotationOrders",get:function(){return["ZYX","YXZ","XZY","ZXY","YZX","XYZ"]}}]),Ln(t,[{key:"copy",value:function(e){for(var t=0;t<3;++t)this[t]=e[t];return this[3]=Number.isFinite(e[3])||this.order,this.check(),this}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];return this[0]=e,this[1]=t,this[2]=n,this[3]=Number.isFinite(r)?r:this[3],this.check(),this}},{key:"validate",value:function(){return(e=this[3])>=0&&e<6&&Number.isFinite(this[0])&&Number.isFinite(this[1])&&Number.isFinite(this[2]);var e}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e}},{key:"toArray4",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this[0],e[t+1]=this[1],e[t+2]=this[2],e[t+3]=this[3],e}},{key:"toVector3",value:function(e){return e?e.set(this[0],this[1],this[2]):new Me(this[0],this[1],this[2])}},{key:"fromVector3",value:function(e,t){return this.set(e[0],e[1],e[2],Number.isFinite(t)?t:this[3])}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this[0]=e[0+t],this[1]=e[1+t],this[2]=e[2+t],void 0!==e[3]&&(this[3]=e[3]),this.check(),this}},{key:"fromRollPitchYaw",value:function(e,n,r){return this.set(e,n,r,t.ZYX)}},{key:"fromQuaternion",value:function(e,t){return this._fromRotationMatrix(Gt.fromQuaternion(e),t),this.check(),this}},{key:"fromRotationMatrix",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DefaultOrder;return this._fromRotationMatrix(e,n),this.check(),this}},{key:"getRotationMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gt;return this._getRotationMatrix(e),e}},{key:"getQuaternion",value:function(){var e=new On;switch(this[4]){case t.XYZ:return e.rotateX(this[0]).rotateY(this[1]).rotateZ(this[2]);case t.YXZ:return e.rotateY(this[0]).rotateX(this[1]).rotateZ(this[2]);case t.ZXY:return e.rotateZ(this[0]).rotateX(this[1]).rotateY(this[2]);case t.ZYX:return e.rotateZ(this[0]).rotateY(this[1]).rotateX(this[2]);case t.YZX:return e.rotateY(this[0]).rotateZ(this[1]).rotateX(this[2]);case t.XZY:return e.rotateX(this[0]).rotateZ(this[1]).rotateY(this[2]);default:throw new Error(Rn)}}},{key:"_fromRotationMatrix",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DefaultOrder,r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],u=r[5],l=r[9],c=r[2],p=r[6],f=r[10];switch(n=n||this[3]){case t.XYZ:this[1]=Math.asin(_(a,-1,1)),Math.abs(a)<.99999?(this[0]=Math.atan2(-l,f),this[2]=Math.atan2(-o,i)):(this[0]=Math.atan2(p,u),this[2]=0);break;case t.YXZ:this[0]=Math.asin(-_(l,-1,1)),Math.abs(l)<.99999?(this[1]=Math.atan2(a,f),this[2]=Math.atan2(s,u)):(this[1]=Math.atan2(-c,i),this[2]=0);break;case t.ZXY:this[0]=Math.asin(_(p,-1,1)),Math.abs(p)<.99999?(this[1]=Math.atan2(-c,f),this[2]=Math.atan2(-o,u)):(this[1]=0,this[2]=Math.atan2(s,i));break;case t.ZYX:this[1]=Math.asin(-_(c,-1,1)),Math.abs(c)<.99999?(this[0]=Math.atan2(p,f),this[2]=Math.atan2(s,i)):(this[0]=0,this[2]=Math.atan2(-o,u));break;case t.YZX:this[2]=Math.asin(_(s,-1,1)),Math.abs(s)<.99999?(this[0]=Math.atan2(-l,u),this[1]=Math.atan2(-c,i)):(this[0]=0,this[1]=Math.atan2(a,f));break;case t.XZY:this[2]=Math.asin(-_(o,-1,1)),Math.abs(o)<.99999?(this[0]=Math.atan2(p,u),this[1]=Math.atan2(a,i)):(this[0]=Math.atan2(-l,f),this[1]=0);break;default:throw new Error(Rn)}return this[3]=n,this}},{key:"_getRotationMatrix",value:function(){var e=new Gt,n=this.x,r=this.y,i=this.z,o=Math.cos(n),a=Math.cos(r),s=Math.cos(i),u=Math.sin(n),l=Math.sin(r),c=Math.sin(i);switch(this[3]){case t.XYZ:var p=o*s,f=o*c,h=u*s,d=u*c;e[0]=a*s,e[4]=-a*c,e[8]=l,e[1]=f+h*l,e[5]=p-d*l,e[9]=-u*a,e[2]=d-p*l,e[6]=h+f*l,e[10]=o*a;break;case t.YXZ:var g=a*s,y=a*c,v=l*s,m=l*c;e[0]=g+m*u,e[4]=v*u-y,e[8]=o*l,e[1]=o*c,e[5]=o*s,e[9]=-u,e[2]=y*u-v,e[6]=m+g*u,e[10]=o*a;break;case t.ZXY:var _=a*s,A=a*c,b=l*s,x=l*c;e[0]=_-x*u,e[4]=-o*c,e[8]=b+A*u,e[1]=A+b*u,e[5]=o*s,e[9]=x-_*u,e[2]=-o*l,e[6]=u,e[10]=o*a;break;case t.ZYX:var w=o*s,E=o*c,T=u*s,M=u*c;e[0]=a*s,e[4]=T*l-E,e[8]=w*l+M,e[1]=a*c,e[5]=M*l+w,e[9]=E*l-T,e[2]=-l,e[6]=u*a,e[10]=o*a;break;case t.YZX:var S=o*a,C=o*l,I=u*a,P=u*l;e[0]=a*s,e[4]=P-S*c,e[8]=I*c+C,e[1]=c,e[5]=o*s,e[9]=-u*s,e[2]=-l*s,e[6]=C*c+I,e[10]=S-P*c;break;case t.XZY:var k=o*a,O=o*l,L=u*a,R=u*l;e[0]=a*s,e[4]=-c,e[8]=l*s,e[1]=k*c+R,e[5]=o*s,e[9]=O*c-L,e[2]=L*c-O,e[6]=u*s,e[10]=R*c+k;break;default:throw new Error(Rn)}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"x",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"y",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"z",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"alpha",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"beta",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"gamma",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"phi",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"theta",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"psi",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"roll",get:function(){return this[0]},set:function(e){return this[0]=o(e)}},{key:"pitch",get:function(){return this[1]},set:function(e){return this[1]=o(e)}},{key:"yaw",get:function(){return this[2]},set:function(e){return this[2]=o(e)}},{key:"order",get:function(){return this[3]},set:function(e){return this[3]=function(e){if(e<0&&e>=6)throw new Error(Rn);return e}(e)}}]),t}(),Nn=n(170),Bn=n.n(Nn),Dn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var zn=6371e3,Un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.phi,r=t.theta,i=t.radius,o=t.bearing,a=t.pitch,s=(t.altitude,t.radiusScale),u=void 0===s?zn:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),0===arguments.length?(this.phi=0,this.theta=0,this.radius=1):Number.isFinite(n)||Number.isFinite(r)?(this.phi=n||0,this.theta=r||0):(Number.isFinite(o)||Number.isFinite(a))&&(this.bearing=o||0,this.pitch=a||0),this.radius=i||1,this.radiusScale=u||1,this.check()}return Fn(e,[{key:"toString",value:function(){return this.formatString(r)}},{key:"formatString",value:function(e){var t=e.printTypes,n=(e.printDegrees,s);return(t?"Spherical":"")+"[rho:"+n(this.radius)+",theta:"+n(this.theta)+",phi:"+n(this.phi)+"]"}},{key:"equals",value:function(e){return A(this.radius,e.radius)&&A(this.theta,e.theta)&&A(this.phi,e.phi)}},{key:"exactEquals",value:function(e){return this.radius===e.radius&&this.theta===e.theta&&this.phi===e.phi}},{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this.check()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this.check()}},{key:"fromLngLatZ",value:function(e){var t=Dn(e,3),n=t[0],r=t[1],i=t[2];this.radius=1+i/this.radiusScale,this.phi=p(r),this.theta=p(n)}},{key:"fromVector3",value:function(e){return this.radius=Bn()(e),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e[0],e[1]),this.phi=Math.acos(_(e[2]/this.radius,-1,1))),this.check()}},{key:"toVector3",value:function(){return new Me(0,0,this.radius).rotateX({radians:this.theta}).rotateZ({radians:this.phi})}},{key:"makeSafe",value:function(){this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi))}},{key:"check",value:function(){return rt()(Number.isFinite(this.phi)&&Number.isFinite(this.theta)&&this.radius>0),this}},{key:"bearing",get:function(){return 180-f(this.phi)},set:function(e){this.phi=Math.PI-p(e)}},{key:"pitch",get:function(){return f(this.theta)},set:function(e){this.theta=p(e)}},{key:"longitude",get:function(){return f(this.phi)}},{key:"latitude",get:function(){return f(this.theta)}},{key:"lng",get:function(){return f(this.phi)}},{key:"lat",get:function(){return f(this.theta)}},{key:"z",get:function(){return(this.radius-1)*this.radiusScale}}]),e}();n.d(t,"e",function(){return Gn}),n.d(t,"b",function(){return q}),n.d(t,"c",function(){return Me}),n.d(t,!1,function(){return tt}),n.d(t,"a",function(){return Gt}),n.d(t,!1,function(){return On}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return o}),n.d(t,!1,function(){return i}),n.d(t,!1,function(){return s}),n.d(t,!1,function(){return u}),n.d(t,!1,function(){return l}),n.d(t,!1,function(){return p}),n.d(t,!1,function(){return f}),n.d(t,!1,function(){return h}),n.d(t,!1,function(){return d}),n.d(t,!1,function(){return g}),n.d(t,!1,function(){return y}),n.d(t,!1,function(){return v}),n.d(t,!1,function(){return m}),n.d(t,!1,function(){return _}),n.d(t,"d",function(){return A});var Gn={Euler:jn,SphericalCoordinates:Un}},function(e,t,n){e.exports=n(437)()},function(e,t,n){"use strict";var r=n(1),i=n.n(r),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s={};function u(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var s,c;(i()(Number.isFinite(e),"log priority must be a number"),e<=u.priority)&&(r=l.apply(void 0,[t].concat(a(r))),console.debug?(s=console).debug.apply(s,a(r)):(c=console).info.apply(c,a(r)))}function l(e){"function"==typeof e&&(e=e());for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"string"==typeof e?n.unshift("deck.gl "+e):(n.unshift(e),n.unshift("deck.gl")),n}u.priority=0,u.log=u,u.once=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var c;!s[t]&&e<=u.priority&&(r=function(e){return e&&e.length>0&&"object"===o(e[0])&&null!==e[0]&&"AssertionError"===e[0].name&&(e=Array.prototype.slice.call(e)).unshift("assert("+e[0].message+")"),e}(r),(c=console).error.apply(c,a(l.apply(void 0,[t].concat(a(r))))),s[t]=!0)},u.time=function(e,t){i()(Number.isFinite(e),"log priority must be a number"),e<=u.priority&&(console.time?console.time(t):console.info(t))},u.timeEnd=function(e,t){i()(Number.isFinite(e),"log priority must be a number"),e<=u.priority&&(console.timeEnd?console.timeEnd(t):console.info(t))},u.warn=function(e){if(!s[e]){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).warn.apply(t,["deck.gl: "+e].concat(r)),s[e]=!0}},u.error=function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).error.apply(t,["deck.gl: "+e].concat(r))},u.deprecated=function(e,t){u.warn("`"+e+"` is deprecated and will be removed in a later version. Use `"+t+"` instead")},u.removed=function(e,t){u.error("`"+e+"` is no longer supported. Use `"+t+"` instead, check our upgrade-guide.md for more details")},u.group=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).collapsed,r=void 0!==n&&n;e<=u.priority&&(r?console.groupCollapsed("luma.gl: "+t):console.group("luma.gl: "+t))},u.groupEnd=function(e,t){e<=u.priority&&console.groupEnd("luma.gl: "+t)},t.a=u},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(10),i=n(98),o=n.n(i),a=n(35),s=n.n(a);function u(e,t){var n=s()([],t,e);return o()(n,n,1/n[3]),n}function l(e,t){var n=e%t;return n<0?t+n:n}var c=n(53),p=n.n(c),f=n(47),h=n.n(f),d=n(46),g=n.n(d),y=n(89),v=n.n(y),m=n(67),_=n.n(m),A=n(142),b=n.n(A),x=n(1),w=n.n(x),E=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=Math.PI,M=T/4,S=T/180,C=180/T,I=512,P=4003e4;function k(e){return Math.pow(2,e)}function O(e){return Math.log2(e)}function L(e,t){var n=E(e,2),r=n[0],i=n[1]*S;return[(t*=I)*(r*S+T)/(2*T),t*(T-Math.log(Math.tan(M+.5*i)))/(2*T)]}function R(e,t){var n=E(e,2),r=n[0],i=n[1],o=r/(t*=I)*(2*T)-T,a=2*(Math.atan(Math.exp(T-i/t*(2*T)))-M);return[o*C,a*C]}function j(e){var t=e.latitude;w()(t);var n=Math.cos(t*S);return O(P*n)-8}function N(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,o=e.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:k(r),w()(isFinite(t)&&isFinite(n)&&isFinite(i));var s={},u=I*i,l=Math.cos(t*S),c=u/360,p=c/l,f=u/P/l;if(s.pixelsPerMeter=[f,f,f],s.metersPerPixel=[1/f,1/f,1/f],s.pixelsPerDegree=[c,p,f],s.degreesPerPixel=[1/c,1/p,1/f],a){var h=S*Math.tan(t*S)/l,d=c*h/2,g=u/P*h,y=g/p*f;s.pixelsPerDegree2=[0,d,g],s.pixelsPerMeter2=[y,0,y]}return s}function B(e){var t=e.longitude,n=e.latitude,i=e.zoom,o=e.scale,a=e.meterOffset,s=e.distanceScales,u=void 0===s?null:s,l=L([t,n],o=void 0!==o?o:k(i)),c=new r.c(l[0],l[1],0);if(a){u=u||N({latitude:n,longitude:t,scale:o});var p=new r.c(a).scale(u.pixelsPerMeter).scale([1,-1,1]);c.add(p)}return c}function D(e){var t=e.height,n=e.pitch,i=e.bearing,o=e.altitude,a=e.center,s=void 0===a?null:a,u=e.flipY,l=void 0!==u&&u,c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return g()(c,c,[0,0,-o]),h()(c,c,[1,1,1/t]),v()(c,c,-n*S),_()(c,c,i*S),l&&h()(c,c,[1,-1,1]),s&&g()(c,c,new r.c(s).negate()),c}function F(e){var t=e.width,n=e.height,r=e.pitch,i=e.altitude,o=e.farZMultiplier,a=void 0===o?10:o,s=function(e){var t=e.altitude,n=e.pitch*S,r=Math.atan(.5/t),i=Math.sin(r)*t/Math.sin(Math.PI/2-n-r);return{farZ:Math.cos(Math.PI/2-n)*i+t,nearZ:.1}}({altitude:i,pitch:r}),u=s.nearZ,l=s.farZ,c=function(e){var t=e.height,n=e.altitude;return 2*Math.atan(t/2/n)}({height:n,altitude:i});return p()([],c,t/n,u,l*a)}function z(e,t){var n=E(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return w()(isFinite(r)&&isFinite(i)&&isFinite(a)),u(t,[r,i,a,1])}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=E(e,3),i=r[0],o=r[1],a=r[2];if(w()(isFinite(i)&&isFinite(o)),Number.isFinite(a))return u(t,[i,o,a,1]);var s=u(t,[i,o,0,1]),l=u(t,[i,o,1,1]),c=s[2],p=l[2],f=c===p?0:((n||0)-c)/(p-c);return b()([],s,l,f)}var G=n(26),V=n.n(G),Y=n(70),H=n.n(Y),W=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var X=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height,i=t.viewMatrix,o=void 0===i?X:i,a=t.projectionMatrix,s=void 0===a?X:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=n||1,this.height=r||1,this.scale=1,this.viewMatrix=o,this.projectionMatrix=s;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];V()(u,u,this.projectionMatrix),V()(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h()(l,l,[this.width/2,-this.height/2,1]),g()(l,l,[1,-1,0]),V()(l,l,this.viewProjectionMatrix);var c=H()([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],l);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Q(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&Object(r.d)(t.projectionMatrix,this.projectionMatrix)&&Object(r.d)(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,n=void 0===t||t,r=W(e,3),i=r[0],o=r[1],a=r[2],s=this.projectFlat([i,o]),u=W(s,2),l=z([u[0],u[1],a],this.pixelProjectionMatrix),c=W(l,2),p=c[0],f=c[1],h=n?f:this.height-f;return 2===e.length?[p,h]:[p,h,l[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=W(e,3),a=o[0],s=o[1],u=o[2],l=U([a,r?s:this.height-s,u],this.pixelUnprojectionMatrix,i),c=this.unprojectFlat(l),p=W(c,2),f=p[0],h=p[1];return Number.isFinite(u)?[f,h,l[2]]:Number.isFinite(i)?[f,h,i]:[f,h]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}}]),e}(),J=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function K(e){var t=e.width,n=e.height,r=e.bounds,i=e.padding,o=void 0===i?0:i,a=e.offset,s=void 0===a?[0,0]:a,u=J(r,2),l=J(u[0],2),c=l[0],p=l[1],f=J(u[1],2),h=f[0],d=f[1],g=new re({width:t,height:n,longitude:0,latitude:0,zoom:0}),y=g.project([c,d]),v=g.project([h,p]),m=[Math.abs(v[0]-y[0]),Math.abs(v[1]-y[1])],_=[(v[0]+y[0])/2,(v[1]+y[1])/2],A=(t-2*o-2*Math.abs(s[0]))/m[0],b=(n-2*o-2*Math.abs(s[1]))/m[1],x=g.unproject(_),w=g.zoom+Math.log2(Math.abs(Math.min(A,b)));return{longitude:x[0],latitude:x[1],zoom:w}}var q=n(71),$=n.n(q),ee=n(90),te=n.n(ee),ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var re=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.latitude,o=void 0===i?0:i,a=e.longitude,s=void 0===a?0:a,u=e.zoom,l=void 0===u?0:u,c=e.pitch,p=void 0===c?0:c,f=e.bearing,h=void 0===f?0:f,d=e.altitude,g=void 0===d?1.5:d,y=e.farZMultiplier,v=void 0===y?10:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=n||1,r=r||1;var m=k(l);g=Math.max(.75,g);var _=B({longitude:s,latitude:o,scale:m}),A=F({width:n,height:r,pitch:p,bearing:h,altitude:g,farZMultiplier:v}),b=D({height:r,center:_,pitch:p,bearing:h,altitude:g,flipY:!0}),x=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{width:n,height:r,viewMatrix:b,projectionMatrix:A}));return x.latitude=o,x.longitude=s,x.zoom=l,x.pitch=p,x.bearing=h,x.altitude=g,x.scale=m,x.center=_,Object.freeze(x),x}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Z),ne(t,[{key:"projectFlat",value:function(e){return L(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale)}},{key:"unprojectFlat",value:function(e){return R(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=U(e.pos,this.pixelUnprojectionMatrix),r=L(t,this.scale),i=$()([],r,te()([],n));return R($()([],this.center,i),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=K(Object.assign({width:r,height:i,bounds:e},n));return new t({width:r,height:i,longitude:o.longitude,latitude:o.latitude,zoom:o.zoom})}}]),t}(),ie=85.05113,oe=-85.05113;function ae(e){var t=e.width,n=e.height,r=e.longitude,i=e.latitude,o=e.zoom,a=e.pitch,s=void 0===a?0:a,u=e.bearing,c=void 0===u?0:u;(r<-180||r>180)&&(r=l(r+180,360)-180),(c<-180||c>180)&&(c=l(c+180,360)-180);var p=new re({width:t,height:n,longitude:r,latitude:i,zoom:o}),f=p.project([r,ie])[1],h=p.project([r,oe])[1],d=0;return h-f<n&&(o+=Math.log2(n/(h-f)),f=(p=new re({width:t,height:n,longitude:r,latitude:i,zoom:o})).project([r,ie])[1],h=p.project([r,oe])[1]),f>0?d=f:h<n&&(d=h-n),d&&(i=p.unproject([t/2,n/2+d])[1]),{width:t,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:c}}var se=.01,ue=["longitude","latitude","zoom"];function le(e,t,n){var i,o={},a=e.zoom,s=[e.longitude,e.latitude],u=k(a),l=t.zoom,c=[t.longitude,t.latitude],p=k(l-a),f=new r.b(L(s,u)),h=new r.b(L(c,u)).subtract(f),d=Math.max(e.width,e.height),g=d/p,y=Math.sqrt(h.x*h.x+h.y*h.y);if(Math.abs(y)<se){var v=!0,m=!1,_=void 0;try{for(var A,b=ue[Symbol.iterator]();!(v=(A=b.next()).done);v=!0){var x=A.value,w=e[x],E=t[x];o[x]=(i=n)*E+(1-i)*w}}catch(e){m=!0,_=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw _}}return o}var T=1.414*1.414,M=(g*g-d*d+T*T*y*y)/(2*d*T*y),S=(g*g-d*d-T*T*y*y)/(2*g*T*y),C=Math.log(Math.sqrt(M*M+1)-M),I=n*((Math.log(Math.sqrt(S*S+1)-S)-C)/1.414),P=Math.cosh(C)/Math.cosh(C+1.414*I),j=d*((Math.cosh(C)*Math.tanh(C+1.414*I)-Math.sinh(C))/T)/y,N=1/P,B=a+O(N),D=R(f.add(h.scale(j)).scale(N),k(B));return o.longitude=D[0],o.latitude=D[1],o.zoom=B,o}n.d(t,"a",function(){return re}),n.d(t,!1,function(){return re}),n.d(t,"b",function(){return K}),n.d(t,"j",function(){return ae}),n.d(t,"c",function(){return le}),n.d(t,"i",function(){return L}),n.d(t,"l",function(){return R}),n.d(t,"m",function(){return z}),n.d(t,"k",function(){return U}),n.d(t,"e",function(){return j}),n.d(t,"d",function(){return N}),n.d(t,"h",function(){return B}),n.d(t,"g",function(){return D}),n.d(t,"f",function(){return F}),n.d(t,!1,function(){return re}),n.d(t,!1,function(){return D}),n.d(t,!1,function(){return L}),n.d(t,!1,function(){return R})},function(e,t,n){e.exports=n(439)()},function(e,t,n){e.exports=n(428)()},function(e,t,n){"use strict";n.d(t,"m",function(){return S}),n.d(t,"a",function(){return I}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"i",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return y}),n.d(t,"g",function(){return m}),n.d(t,"k",function(){return A}),n.d(t,"l",function(){return x}),n.d(t,"c",function(){return E}),n.d(t,"j",function(){return M}),n.d(t,"b",function(){return C});var r=n(48);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(){i(this,e)},a=r.default.globals.headlessTypes||r.global,s=a.WebGLRenderingContext,u=void 0===s?o:s,l=a.WebGLProgram,c=void 0===l?o:l,p=a.WebGLShader,f=void 0===p?o:p,h=a.WebGLBuffer,d=void 0===h?o:h,g=a.WebGLFramebuffer,y=void 0===g?o:g,v=a.WebGLRenderbuffer,m=void 0===v?o:v,_=a.WebGLTexture,A=void 0===_?o:_,b=a.WebGLUniformLocation,x=void 0===b?o:b,w=a.WebGLActiveInfo,E=void 0===w?o:w,T=a.WebGLShaderPrecisionFormat,M=void 0===T?o:T,S=u!==o&&c!==o&&f!==o&&d!==o&&y!==o&&m!==o&&A!==o&&x!==o&&E!==o&&M!==o;var C=r.global.WebGL2RenderingContext||function e(){i(this,e)},I=r.global.Image||function e(){i(this,e)}},function(e,t,n){"use strict";n.r(t);var r=n(2);n.d(t,"GL",function(){return r.a}),n.d(t,"default",function(){return r.a});var i=n(17);n.d(t,"Image",function(){return i.a}),n.d(t,"WebGLRenderingContext",function(){return i.h}),n.d(t,"WebGLProgram",function(){return i.f}),n.d(t,"WebGLShader",function(){return i.i}),n.d(t,"WebGLBuffer",function(){return i.d}),n.d(t,"WebGLFramebuffer",function(){return i.e}),n.d(t,"WebGLRenderbuffer",function(){return i.g}),n.d(t,"WebGLTexture",function(){return i.k}),n.d(t,"WebGLUniformLocation",function(){return i.l}),n.d(t,"WebGLActiveInfo",function(){return i.c}),n.d(t,"WebGLShaderPrecisionFormat",function(){return i.j}),n.d(t,"WebGL2RenderingContext",function(){return i.b}),n.d(t,"webGLTypesAvailable",function(){return i.m});var o=n(9);n.d(t,"isWebGL",function(){return o.g}),n.d(t,"isWebGL2",function(){return o.h}),n.d(t,"createGLContext",function(){return o.e}),n.d(t,"deleteGLContext",function(){return o.f});var a=n(22);n.d(t,"withParameters",function(){return a.c}),n.d(t,"resetParameters",function(){return a.a});var s=n(57);n.d(t,"getContextInfo",function(){return s.a});var u=n(34);n.d(t,"Buffer",function(){return u.a});var l=n(27);n.d(t,"Shader",function(){return l.b}),n.d(t,"VertexShader",function(){return l.c}),n.d(t,"FragmentShader",function(){return l.a});var c=n(63);n.d(t,"Program",function(){return c.a});var p=n(38);n.d(t,"Framebuffer",function(){return p.a});var f=n(58);n.d(t,"Renderbuffer",function(){return f.a});var h=n(87);n.d(t,"Texture2D",function(){return h.a});var d=n(112);n.d(t,"TextureCube",function(){return d.a});var g=n(111);n.d(t,"draw",function(){return g.a});var y=n(50);n.d(t,"clear",function(){return y.a});var v=n(110);n.d(t,"readPixels",function(){return v.a});var m=n(41);n.d(t,"parseUniformName",function(){return m.e}),n.d(t,"getUniformSetter",function(){return m.c}),n.d(t,"checkUniformValues",function(){return m.b});var _=n(77);n.d(t,"VertexArray",function(){return _.a})},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="undefined"!=typeof window&&window.addEventListener,o=new Map,a=function(){return i&&window.__SEER_INITIALIZED__},s=function(e,t){var n=o.get(e),r=Date.now();return!!(n&&r-n<t)||(o.set(e,r),!1)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&a()){var n=new Set,o=JSON.stringify(t,function(e){return function(t,n){if(!n||"object"!==(void 0===n?"undefined":r(n))||!e.has(n))return e.add(n),Object.prototype.toString.call(n).slice(8,-1).includes("Array")?Array.prototype.slice.call(n,0,20):n}}(n));try{window.postMessage({type:e,payload:o,source:"seer-agent"},"*")}catch(e){if(s("seer-log",2e3))return;console.log(e)}}},l=new Map,c=function(e){if(e&&e.data&&"seer-core"===e.data.source){var t=e.data,n=t.type,r=t.payload,i=l.get(n);i&&i.forEach(function(e){return e(r)})}},p=function(){i&&!window.__SEER_LISTENER__&&(window.addEventListener("message",c),window.__SEER_LISTENER__=!0)};t.default={send:u,throttle:s,isReady:a,list:function(e,t){return u("LIST",{key:e,data:t})},listItem:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u("LIST_ITEM",{key:e,itemKey:t,data:n})},updateItem:function(e,t,n,r){return u("UPDATE_ITEM",{key:e,itemKey:t,path:n,data:r})},multiUpdate:function(e,t,n){return u("MULTI_UPDATE_ITEM",{key:e,itemKey:t,array:n})},deleteItem:function(e,t){return u("DELETE_ITEM",{key:e,itemKey:t})},addLog:function(e,t,n){return u("ADD_LOG",{key:e,itemKey:t,msg:n})},listeners:l,listenFor:function(e,t){if(i){if(!e||!t)throw new Error("Please provide a type and callback");l.has(e)||l.set(e,[]),window.__SEER_LISTENER__||p(),l.get(e).push(t)}},removeListener:function(e){l.forEach(function(t,n){l.set(n,t.filter(function(t){return t!==e}))})},init:p,clean:function(){i&&window.__SEER_LISTENER__&&(window.removeEventListener("message",c),delete window.__SEER_LISTENER__)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r={LNGLAT:1,METER_OFFSETS:2,METERS:2,LNGLAT_OFFSETS:3,IDENTITY:0},i={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Intialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"}},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"c",function(){return d});var r=n(0),i=n(66),o=n(1),a=n.n(o),s=n(5),u=n(44);n.d(t,"a",function(){return u.c});var l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p={framebuffer:function(e,t){var n=t&&t.handle?t.handle:t;return e.bindFramebuffer(r.a.FRAMEBUFFER,n)},blend:function(e,t){return t?e.enable(r.a.BLEND):e.disable(r.a.BLEND)},blendColor:function(e,t){return e.blendColor.apply(e,c(t))},blendEquation:function(e,t){t=f(t)?t:[t,t],e.blendEquationSeparate.apply(e,c(t))},blendFunc:function(e,t){t=f(t)&&2===t.length?[].concat(c(t),c(t)):t,e.blendFuncSeparate.apply(e,c(t))},clearColor:function(e,t){return e.clearColor.apply(e,c(t))},clearDepth:function(e,t){return e.clearDepth(t)},clearStencil:function(e,t){return e.clearStencil(t)},colorMask:function(e,t){return e.colorMask.apply(e,c(t))},cull:function(e,t){return t?e.enable(r.a.CULL_FACE):e.disable(r.a.CULL_FACE)},cullFace:function(e,t){return e.cullFace(t)},depthTest:function(e,t){return t?e.enable(r.a.DEPTH_TEST):e.disable(r.a.DEPTH_TEST)},depthFunc:function(e,t){return e.depthFunc(t)},depthMask:function(e,t){return e.depthMask(t)},depthRange:function(e,t){return e.depthRange.apply(e,c(t))},dither:function(e,t){return t?e.enable(r.a.DITHER):e.disable(r.a.DITHER)},derivativeHint:function(e,t){e.hint(r.a.FRAGMENT_SHADER_DERIVATIVE_HINT,t)},frontFace:function(e,t){return e.frontFace(t)},mipmapHint:function(e,t){return e.hint(r.a.GENERATE_MIPMAP_HINT,t)},lineWidth:function(e,t){return e.lineWidth(t)},polygonOffsetFill:function(e,t){return t?e.enable(r.a.POLYGON_OFFSET_FILL):e.disable(r.a.POLYGON_OFFSET_FILL)},polygonOffset:function(e,t){return e.polygonOffset.apply(e,c(t))},sampleCoverage:function(e,t){return e.sampleCoverage.apply(e,c(t))},scissorTest:function(e,t){return t?e.enable(r.a.SCISSOR_TEST):e.disable(r.a.SCISSOR_TEST)},scissor:function(e,t){return e.scissor.apply(e,c(t))},stencilTest:function(e,t){return t?e.enable(r.a.STENCIL_TEST):e.disable(r.a.STENCIL_TEST)},stencilMask:function(e,t){t=f(t)?t:[t,t];var n=l(t,2),i=n[0],o=n[1];e.stencilMaskSeparate(r.a.FRONT,i),e.stencilMaskSeparate(r.a.BACK,o)},stencilFunc:function(e,t){t=f(t)&&3===t.length?[].concat(c(t),c(t)):t;var n=l(t,6),i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],p=n[5];e.stencilFuncSeparate(r.a.FRONT,i,o,a),e.stencilFuncSeparate(r.a.BACK,s,u,p)},stencilOp:function(e,t){t=f(t)&&3===t.length?[].concat(c(t),c(t)):t;var n=l(t,6),i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],p=n[5];e.stencilOpSeparate(r.a.FRONT,i,o,a),e.stencilOpSeparate(r.a.BACK,s,u,p)},viewport:function(e,t){return e.viewport.apply(e,c(t))}};function f(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function h(e,t){for(var n in Object(u.d)(e,t),t){var r=p[n];r&&r(e,t[n],n)}}function d(e,t,n){if(Object(s.d)(t))return n(e);var r=t.nocatch,o=void 0===r||r;a()(!t.frameBuffer),Object(i.c)(e),h(e,t);var u=void 0;if(o)u=n(e),Object(i.b)(e);else try{u=n(e)}finally{Object(i.b)(e)}return u}},function(e,t,n){"use strict";var r=n(5),i=r.c&&"complete"===document.readyState,o=r.c?new Promise(function(e,t){i?e(document):window.onload=function(){i=!0,e(document)}}):Promise.resolve({});function a(){return o}function s(e){var t=e.width,n=void 0===t?800:t,r=e.height,i=void 0===r?600:r,o=e.id,s=void 0===o?"gl-canvas":o,u=e.insert,l=void 0===u||u,c=document.createElement("canvas");return c.id=s,c.style.width=Number.isFinite(n)?n+"px":"100%",c.style.height=Number.isFinite(i)?i+"px":"100%",l&&a().then(function(e){var t=e.body;t.insertBefore(c,t.firstChild)}),c}function u(e){var t=e.id;if(!i)throw new Error("createGLContext called on canvas '"+t+"' before page was loaded");return document.getElementById(t)}function l(e,t){var n=t.width,r=t.height;e.style.width=n+"px",e.style.height=r+"px"}function c(e,t){var n=t.useDevicePixelRatio,i=void 0===n?null:n,o=t.useDevicePixels,a=void 0===o||o;null!==i&&(r.f.deprecated("useDevicePixelRatio","useDevicePixels"),a=i);var s=function(e,t){var n=t.useDevicePixels,i=void 0===n||n;"useDevicePixelRatio"in t&&(r.f.deprecated("useDevicePixelRatio","useDevicePixels"),i=t.useDevicePixels||t.useDevicePixelRatio);var o=i&&window.devicePixelRatio||1,a=function(e){return{width:e.clientWidth,height:e.clientHeight}}(e);return{width:Math.floor(a.width*o),height:Math.floor(a.height*o),devicePixelRatio:o}}(e,{useDevicePixels:a});s.width===e.width&&s.height===e.height||(e.width=s.width,e.height=s.height)}var p=n(1),f=n.n(p);function h(e){var t=e.canvas,n=e.opts,r=void 0===n?{}:n,i=e.onError,o=void 0===i?function(e){return null}:i;function a(e){o("WebGL context: "+(e.statusMessage||"Unknown error"))}t.addEventListener("webglcontextcreationerror",a,!1);var s=r.webgl1,u=void 0===s||s,l=r.webgl2,c=void 0===l||l,p=null;return c&&(p=(p=p||t.getContext("webgl2",r))||t.getContext("experimental-webgl2",r)),u&&(p=(p=p||t.getContext("webgl",r))||t.getContext("experimental-webgl",r)),t.removeEventListener("webglcontextcreationerror",a,!1),p||o("Failed to create "+(c&&!u?"WebGL2":"WebGL")+" context")}function d(e){var t=e.onContextCreate,n=void 0===t?function(){return null}:t,r=e.onContextCreated,i=void 0===r?function(){}:r;if(f()(n||i),"undefined"!=typeof HTMLCanvasElement){var o=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(e,t){var r=void 0;return"webgl"===e&&(r=n({canvas:this,type:e,opts:t,getContext:o.bind(this)})),(r=r||o.call(this,e,t))instanceof WebGLRenderingContext&&i({canvas:this,context:r,type:e,opts:t}),r}}}var g=n(124),y=n(66),v=35632,m=35633;function _(e){var t=e.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return t?t[1]:"unnamed"}function A(e,t,n){for(var r=e.split(/\r?\n/),i={},o={},a=_(t)||"(unnamed)",s=function(e){switch(e){case v:return"fragment";case m:return"vertex";default:return"unknown type"}}(n)+" shader "+a,u=0;u<r.length;u++){var l=r[u];if(!(l.length<=1)){var c=l.split(":"),p=c[0],f=parseInt(c[2],10);if(isNaN(f))throw new Error("GLSL compilation error in "+s+": "+e);"WARNING"!==p?i[f]=l:o[f]=l}}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ",r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map(function(e,r){var o=r+t,a=String(o).length,s=w(o,i-a);return s+n+e})}(t);return{shaderName:s,errors:x(i,h),warnings:x(o,h)}}function b(e,t,n){var r=A(e,t,n);return"GLSL compilation error in "+r.shaderName+"\n\n"+r.errors+"\n"+r.warnings}function x(e,t){for(var n="",r=0;r<t.length;r++){var i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+=i+"\n",e[r+1])){var o=e[r+1],a=o.split(":",3),s=a[0],u=parseInt(a[1],10)||0;n+=w("^^^ "+s+": "+o.substring(a.join(":").length+1).trim()+"\n\n",u)}}return n}function w(e,t){for(var n="",r=0;r<t;++r)n+=" ";return""+n+e}var E=n(0);n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,!1,function(){return l}),n.d(t,"h",function(){return c}),n.d(t,!1,function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"g",function(){return g.a}),n.d(t,!1,function(){return y.a}),n.d(t,!1,function(){return b}),n.d(t,"f",function(){return A}),n.d(t,"e",function(){return _}),n.d(t,!1,function(){return E.a})},function(e,t,n){"use strict";var r=n(48),i=n(9),o=n(2),a=n(5),s=n(1),u=n.n(s),l=n(23),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p="Resource subclass must define virtual methods",f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(i.d)(t);var r=n.id,o=n.userData,s=void 0===o?{}:o;this.gl=t,this.ext=Object(l.g)(t),this.id=r||Object(a.h)(this.constructor.name),this.userData=s,this.opts=n,this._handle=n.handle,void 0===this._handle&&(this._handle=this._createHandle()),this._addStats()}return c(e,[{key:"toString",value:function(){return this.constructor.name+"("+this.id+")"}},{key:"delete",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deleteChildren,t=void 0!==e&&e,n=this._handle&&this._deleteHandle(this._handle);return this._handle=null,n&&t&&n.filter(Boolean).forEach(function(e){e.delete()}),this}},{key:"unbind",value:function(){this.bind(null)}},{key:"getParameter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object(o.c)(e),u()(e);var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=Object(i.h)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension)))){var a=n.webgl1,s="webgl2"in n?n.webgl2:n.webgl1;return r?s:a}}return this._getParameter(e,t)}},{key:"getParameters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=t.parameters,r=t.keys,a=this.constructor.PARAMETERS||{},s=Object(i.h)(this.gl),u={},l=n||Object.keys(a),c=!0,p=!1,f=void 0;try{for(var h,d=l[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var g=h.value,y=a[g];if(y&&(!("webgl2"in y)||s)&&(!("extension"in y)||this.gl.getExtension(y.extension))){var v=r?Object(o.d)(g):g;u[v]=this.getParameter(g,e),r&&"GLenum"===y.type&&(u[v]=Object(o.d)(u[v]))}}}catch(e){p=!0,f=e}finally{try{!c&&d.return&&d.return()}finally{if(p)throw f}}return u}},{key:"setParameter",value:function(e,t){e=Object(o.c)(e),u()(e);var n=(this.constructor.PARAMETERS||{})[e];if(n){var r=Object(i.h)(this.gl);if(!((!("webgl2"in n)||r)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=Object(o.c)(t))}return this._setParameter(e,t),this}},{key:"setParameters",value:function(e){for(var t in e)this.setParameter(t,e[t]);return this}},{key:"initialize",value:function(e){}},{key:"_createHandle",value:function(){throw new Error(p)}},{key:"_deleteHandle",value:function(){throw new Error(p)}},{key:"_getOptsFromHandle",value:function(){throw new Error(p)}},{key:"_getParameter",value:function(e,t){throw new Error(p)}},{key:"_setParameter",value:function(e,t){throw new Error(p)}},{key:"_context",value:function(){return this.gl.luma=this.gl.luma||{},this.gl.luma}},{key:"_addStats",value:function(){var e=this.constructor.name,t=r.default.stats;t.resourceCount=t.resourceCount||0,t.resourceMap=t.resourceMap||{},t.resourceCount++,t.resourceMap[e]=t.resourceMap[e]||{count:0},t.resourceMap[e].count++}},{key:"handle",get:function(){return this._handle}}]),e}();t.a=f},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return p});var r=n(9),i=n(1),o=n.n(i),a={VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:["WEBGL_color_buffer_float","EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:[!1,"EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},s={};function u(e,t){var n=a[t];o()(n,t);var i=Object(r.h)(e)&&n[1]||n[0],s="string"==typeof i?Boolean(e.getExtension(i)):i;return o()(!1===s||!0===s),s}function l(e,t){return c(e,t)}function c(e,t){return(t=Array.isArray(t)?t:[t]).every(function(t){return u(e,t)})}function p(e){if(e.luma=e.luma||{},!e.luma.caps)for(var t in e.luma.caps={},e.luma.caps.webgl2=Object(r.h)(e),a)e.luma.caps[t]=u(e,t);return e.luma.caps}Object.keys(a).forEach(function(e){s[e]=e})},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],g=t[12],y=t[13],v=t[14],m=t[15],_=n[0],A=n[1],b=n[2],x=n[3];return e[0]=_*r+A*s+b*p+x*g,e[1]=_*i+A*u+b*f+x*y,e[2]=_*o+A*l+b*h+x*v,e[3]=_*a+A*c+b*d+x*m,_=n[4],A=n[5],b=n[6],x=n[7],e[4]=_*r+A*s+b*p+x*g,e[5]=_*i+A*u+b*f+x*y,e[6]=_*o+A*l+b*h+x*v,e[7]=_*a+A*c+b*d+x*m,_=n[8],A=n[9],b=n[10],x=n[11],e[8]=_*r+A*s+b*p+x*g,e[9]=_*i+A*u+b*f+x*y,e[10]=_*o+A*l+b*h+x*v,e[11]=_*a+A*c+b*d+x*m,_=n[12],A=n[13],b=n[14],x=n[15],e[12]=_*r+A*s+b*p+x*g,e[13]=_*i+A*u+b*f+x*y,e[14]=_*o+A*l+b*h+x*v,e[15]=_*a+A*c+b*d+x*m,e}},function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return m});var r=n(23),i=n(9),o=n(24),a=n(5),s=n(1),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h="Shader: GLSL source code must be a JavaScript string",d=35632,g=35633,y=function(e){function t(e,n,o){c(this,t),Object(i.d)(e),u()("string"==typeof n,h);var s=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{id:Object(r.e)(n)||Object(a.h)(t.getTypeName(o))}));return s.shaderType=o,s.source=n,s.opts.source=n,s.initialize(s.opts),s}return f(t,o["a"]),l(t,null,[{key:"getTypeName",value:function(e){switch(e){case g:return"vertex-shader";case d:return"fragment-shader";default:return u()(!1),"unknown"}}}]),l(t,[{key:"initialize",value:function(e){var t=e.source,n=Object(r.e)(t);n&&(this.id=Object(a.h)(n)),this._compile(t),this.opts.source=t}},{key:"getParameter",value:function(e){return this.gl.getShaderParameter(this.handle,e)}},{key:"toString",value:function(){return this.getTypeName(this.shaderType)+":"+this.id}},{key:"getName",value:function(){return Object(r.e)(this.opts.source)||"unnamed-shader"}},{key:"getSource",value:function(){return this.gl.getShaderSource(this.handle)}},{key:"getTranslatedSource",value:function(){var e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}},{key:"_compile",value:function(){if(this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){var e=this.gl.getShaderInfoLog(this.handle),t=Object(r.f)(e,this.source,this.shaderType),n=t.shaderName,i=t.errors,o=t.warnings;throw a.f.error("GLSL compilation errors in "+n+"\n"+i),a.f.warn("GLSL compilation warnings in "+n+"\n"+o),new Error("GLSL compilation errors in "+n)}}},{key:"_deleteHandle",value:function(){this.gl.deleteShader(this.handle)}},{key:"_getOptsFromHandle",value:function(){return{type:this.getParameter(35663),source:this.getSource()}}}]),t}(),v=function(e){function t(e,n){return c(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,g))}return f(t,y),l(t,[{key:"_createHandle",value:function(){return this.gl.createShader(g)}}]),t}(),m=function(e){function t(e,n){return c(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,d))}return f(t,y),l(t,[{key:"_createHandle",value:function(){return this.gl.createShader(d)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(3)),o=s(n(16)),a=n(161);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.padding,n=e.size,o=e.top,s=e.right,u=e.bottom,l=e.left,c=e.inline,p=e.style,f=e.children,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["padding","size","top","right","bottom","left","inline","style","children"]),d=t?"padding":"margin",g=[o&&"top",s&&"right",u&&"bottom",l&&"left"].filter(Boolean),y=r({},(0,a.marginStyle)(d,n,g),p);return c?i.default.createElement("span",r({style:y},h),f):i.default.createElement("div",r({style:y},h),f)};u.propTypes={padding:o.default.bool,size:o.default.string,top:o.default.bool,right:o.default.bool,bottom:o.default.bool,left:o.default.bool,inline:o.default.bool,style:o.default.object,children:o.default.any},u.defaultProps={padding:!1,size:"default",top:!1,right:!1,bottom:!1,left:!1,inline:!1,style:{},children:null},t.default=u},function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n(5),i=n(1),o=n.n(i),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};function u(e){var t="string"==typeof e?s[e]||s.TRIANGLES:e;return o()(t>=0&&t<=s.TRIANGLE_FAN,"Illegal drawMode"),t}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.id,i=t.drawMode,o=void 0===i?s.TRIANGLES:i,a=t.vertexCount,l=void 0===a?void 0:a,c=t.attributes;this.id=n||Object(r.h)(this.constructor.name),this.drawMode=u(o),this.vertexCount=l,this.attributes={},this.needsRedraw=!0,this.userData={},Object.seal(this),c&&this.setAttributes(c)}return a(e,[{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=e,this}},{key:"getNeedsRedraw",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,t=void 0!==e&&e,n=!1;return n=n||this.needsRedraw,this.needsRedraw=this.needsRedraw&&!t,n}},{key:"setVertexCount",value:function(e){this.vertexCount=e}},{key:"getVertexCount",value:function(){return void 0!==this.vertexCount?this.vertexCount:this.attributes.indices?this.attributes.indices.value.length:this.attributes.vertices?this.attributes.vertices.value.length/3:!!this.attributes.positions&&this.attributes.positions.value.length/3}},{key:"hasAttribute",value:function(e){return Boolean(this.attributes[e])}},{key:"getAttribute",value:function(e){var t=this.attributes[e];return o()(t),t.value}},{key:"getArray",value:function(e){var t=this.attributes[e];return o()(t),t.value}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(e){for(var t in e){var n=e[t];n=ArrayBuffer.isView(n)?{value:n}:n,o()(ArrayBuffer.isView(n.value),this._print(t)+": must be typed array or object with value as typed array"),this._autoDetectAttribute(t,n),this.attributes[t]=Object.assign({},n,{instanced:n.instanced||0})}return this.setNeedsRedraw(),this}},{key:"_autoDetectAttribute",value:function(e,t){var n=void 0;switch(e){case"indices":n=n||"indices";break;case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2;break;case"indices":t.size=t.size||1,t.isIndexed=t.isIndexed||!0,o()(t.value instanceof Uint16Array||t.value instanceof Uint32Array,'attribute array for "indices" must be of integer type')}o()(t.size,"attribute "+e+" needs size")}},{key:"_print",value:function(e){return"Geometry "+this.id+" attribute "+e}}]),e}();t.a=l},function(e,t,n){"use strict";n.r(t);var r=n(29);n.d(t,"Geometry",function(){return r.a});var i=n(108);n.d(t,"ConeGeometry",function(){return i.a});var o=n(107);n.d(t,"CubeGeometry",function(){return o.a});var a=n(106);n.d(t,"CylinderGeometry",function(){return a.a});var s=n(105);n.d(t,"IcoSphereGeometry",function(){return s.a});var u=n(104);n.d(t,"PlaneGeometry",function(){return u.a});var l=n(103);n.d(t,"SphereGeometry",function(){return l.a});var c=n(62);n.d(t,"TruncatedConeGeometry",function(){return c.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i=r({black:"rgb(0, 0, 0)",white:"rgb(255, 255, 255)",transparent:"rgba(0, 0, 0, 0.4)"},function e(t,n,r){return t===n?[]:[t].concat(e(t+r,n,r))}(5,100,5).reduce(function(e,t){var n,r,i,o,a=(n=t,255-Math.round(n/100*255));return Object.assign({},e,(o="rgb("+a+", "+a+", "+a+")",(i="gray"+t)in(r={})?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r))},{})),o={greenLight:"#e8f5e9",green:"#388e3c",redLight:"#ffebee",red:"#d32f2f",blueLight:"#d6ecf5",blue:"#3eb8f0",blueDark:"#036996",orangeLight:"#e69f97",orange:"#e74c3c",yellow:"#b49b5c",yellowLight:"#fcf8e3",purpleLight:"#d8bce8",purple:"#9b59b6",purpleDark:"#8e44ad"},a={primary:o.blue,primaryLight:o.blueLight,primaryDark:o.blueDark};t.colors=r({},i,o,a);t.default=void 0},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r,i=n(2),o=n(8),a=n(9),s=n(22),u=n(24),l=n(34),c=n(5),p=n(1),f=n.n(p),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=[i.b.LINEAR,i.b.NEAREST],y=(d(r={},i.b.RGB,{dataFormat:i.b.RGB,types:[i.b.UNSIGNED_BYTE,i.b.UNSIGNED_SHORT_5_6_5]}),d(r,i.b.RGBA,{dataFormat:i.b.RGBA,types:[i.b.UNSIGNED_BYTE,i.b.UNSIGNED_SHORT_4_4_4_4,i.b.UNSIGNED_SHORT_5_5_5_1]}),d(r,i.b.ALPHA,{dataFormat:i.b.ALPHA,types:[i.b.UNSIGNED_BYTE]}),d(r,i.b.LUMINANCE,{dataFormat:i.b.LUMINANCE,types:[i.b.UNSIGNED_BYTE]}),d(r,i.b.LUMINANCE_ALPHA,{dataFormat:i.b.LUMINANCE_ALPHA,types:[i.b.UNSIGNED_BYTE]}),r);var v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n.id,i=void 0===r?Object(c.h)("texture"):r,o=n.handle,a=n.target,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,{id:i,handle:o}));return s.target=a,s.hasFloatTexture=e.getExtension("OES_texture_float"),s.textureUnit=void 0,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["a"]),h(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.format,r=t.linearFiltering;f()(Object(a.g)(e),a.a);var o=!0;return n&&(o=(o=o&&function(e,t){f()(Object(a.g)(e),a.a);var n=y[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;var r=Object(a.h)(e)&&n.gl2||n.gl1;return"string"==typeof r?e.getExtension(r):r}(e,n))&&(!r||function(e,t){var n=y[t];switch(n&&n.types[0]){case i.b.FLOAT:return e.getExtension("OES_texture_float_linear");case i.b.HALF_FLOAT:return e.getExtension("OES_texture_half_float_linear");default:return!0}}(e,n))),o}}]),h(t,[{key:"toString",value:function(){return"Texture("+this.id+","+this.width+"x"+this.height+")"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.pixels,r=void 0===n?null:n,o=e.format,a=void 0===o?i.b.RGBA:o,s=e.type,u=void 0===s?i.b.UNSIGNED_BYTE:s,l=e.border,p=void 0===l?0:l,f=e.recreate,h=void 0!==f&&f,g=e.parameters,y=void 0===g?{}:g,v=e.pixelStore,m=void 0===v?{}:v,_=e.unpackFlipY,A=void 0===_||_,b=e.mipmaps,x=void 0===b||b;t||(t=r);var w=e.width,E=e.height,T=e.dataFormat,M=this._deduceParameters({format:a,type:u,dataFormat:T,compressed:!1,data:t,width:w,height:E});w=M.width,E=M.height,T=M.dataFormat,this.width=w,this.height=E,this.format=a,this.type=u,this.dataFormat=T,this.border=p,this.mipmaps=x;var S=d({},i.b.UNPACK_FLIP_Y_WEBGL,A),C=Object.assign({},S,m);this._isNPOT()&&(c.f.warn("texture: "+this+" is Non-Power-Of-Two, disabling mipmaping"),x=!1,this._updateForNPOT(y)),this.setImageData({data:t,width:w,height:E,format:a,type:u,dataFormat:T,border:p,mipmaps:x,parameters:C}),x&&this.generateMipmap(),this.setParameters(y),h&&(this.data=t)}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:!1}):this}},{key:"generateMipmap",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindTexture(this.target,this.handle),Object(s.c)(this.gl,t,function(){e.gl.generateMipmap(e.target)}),this.gl.bindTexture(this.target,null),this}},{key:"setImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,o=e.pixels,u=void 0===o?null:o,l=e.data,c=void 0===l?null:l,p=e.width,h=e.height,d=e.level,g=void 0===d?0:d,y=e.format,v=void 0===y?i.b.RGBA:y,m=e.type,_=e.dataFormat,A=e.offset,b=void 0===A?0:A,x=e.border,w=void 0===x?0:x,E=e.compressed,T=void 0!==E&&E,M=e.parameters,S=void 0===M?{}:M;c||(c=u);var C=this._deduceParameters({format:v,type:m,dataFormat:_,compressed:T,data:c,width:p,height:h});m=C.type,_=C.dataFormat,T=C.compressed,p=C.width,h=C.height;var I=this.gl;I.bindTexture(this.target,this.handle);var P,k=this._getDataType({data:c,compressed:T});c=k.data,P=k.dataType,Object(s.c)(this.gl,S,function(){switch(P){case"null":I.texImage2D(r,g,v,p,h,w,_,m,c);break;case"typed-array":I.texImage2D(r,g,v,p,h,w,_,m,c,b);break;case"buffer":f()(Object(a.h)(I),a.b),I.bindBuffer(i.b.PIXEL_UNPACK_BUFFER,c.handle||c),I.texImage2D(r,g,v,p,h,w,v,m,b);break;case"browser-object":I.texImage2D(r,g,v,v,m,c);break;case"compressed":I.compressedTexImage2D(t.target,g,v,p,h,w,c);break;default:f()(!1,"Unknown image data type")}})}},{key:"setSubImageData",value:function(e){var t=this,n=e.target,r=void 0===n?this.target:n,u=e.pixels,c=void 0===u?null:u,p=e.data,h=void 0===p?null:p,d=e.x,g=void 0===d?0:d,y=e.y,v=void 0===y?0:y,m=e.width,_=e.height,A=e.level,b=void 0===A?0:A,x=e.format,w=void 0===x?i.b.RGBA:x,E=e.type,T=e.dataFormat,M=e.compressed,S=void 0!==M&&M,C=e.offset,I=void 0===C?0:C,P=e.border,k=void 0===P?0:P,O=e.parameters,L=void 0===O?{}:O,R=this._deduceParameters({format:w,type:E,dataFormat:T,compressed:S,data:h,width:m,height:_});if(E=R.type,T=R.dataFormat,S=R.compressed,m=R.width,_=R.height,h||(h=c),h&&h.data){var j=h;h=j.data,m=j.shape[0],_=j.shape[1]}h instanceof l.a&&(h=h.handle),this.gl.bindTexture(this.target,this.handle),Object(s.c)(this.gl,L,function(){S?t.gl.compressedTexSubImage2D(r,b,g,v,m,_,w,h):null===h?t.gl.texSubImage2D(r,b,w,m,_,k,T,E,null):ArrayBuffer.isView(h)?t.gl.texSubImage2D(r,b,g,v,m,_,w,E,h,I):h instanceof o.c?(f()(Object(a.h)(t.gl),a.b),t.gl.bindBuffer(i.b.PIXEL_UNPACK_BUFFER,h),t.gl.texSubImage2D(r,b,w,m,_,k,w,E,I),t.gl.bindBuffer(i.b.GL_PIXEL_UNPACK_BUFFER,null)):t.gl.texSubImage2D(r,b,g,v,w,E,h)}),this.gl.bindTexture(this.target,null)}},{key:"copyFramebuffer",value:function(e){var t=e.target,n=(void 0===t&&this.target,e.framebuffer),r=(e.offset,e.x),o=void 0===r?0:r,a=e.y,s=void 0===a?0:a,u=e.width,l=e.height,c=e.level,p=void 0===c?0:c,f=e.internalFormat,h=void 0===f?i.b.RGBA:f,d=e.border,g=void 0===d?0:d;n&&n.bind(),this.bind(),this.gl.copyTexImage2D(this.target,p,h,o,s,u,l,g),this.unbind(),n&&n.unbind()}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(i.b.ACTIVE_TEXTURE)-i.b.TEXTURE0}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;if(void 0===e)throw new Error("Texture.bind: must specify texture unit");return this.textureUnit=e,this.gl.activeTexture(i.b.TEXTURE0+e),this.gl.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){if(void 0===this.textureUnit)throw new Error("Texture.unbind: texture unit not specified");return this.gl.activeTexture(i.b.TEXTURE0+this.textureUnit),this.gl.bindTexture(this.target,null),this.textureUnit}},{key:"_getDataType",value:function(e){var t=e.data,n=e.compressed;return void 0!==n&&n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof l.a?{data:t.handle,dataType:"buffer"}:t instanceof o.c?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}},{key:"setImage3D",value:function(e){var t=e.level,n=void 0===t?0:t,r=e.internalformat,o=void 0===r?i.b.RGBA:r,a=e.width,s=e.height,u=e.depth,c=void 0===u?1:u,p=e.border,f=void 0===p?0:p,h=e.format,d=e.type,g=void 0===d?i.b.UNSIGNED_BYTE:d,y=e.offset,v=void 0===y?0:y,m=e.pixels;return ArrayBuffer.isView(m)?(this.gl.texImage3D(this.target,n,o,a,s,c,f,h,g,m),this):(m instanceof l.a&&(this.gl.bindBuffer(i.b.PIXEL_UNPACK_BUFFER,m.handle),this.gl.texImage3D(this.target,n,o,a,s,c,f,h,g,v)),this)}},{key:"_deduceParameters",value:function(e){var t=e.format,n=e.data,r=e.width,i=e.height,o=e.dataFormat,a=e.type,s=e.compressed,u=y[t];o=o||u&&u.dataFormat,a=a||u&&u.types[0],s=s||u&&u.compressed;var l=this._deduceImageSize({data:n,width:r,height:i});return{dataFormat:o,type:a,compressed:s,width:r=l.width,height:i=l.height,format:t,data:n}}},{key:"_deduceImageSize",value:function(e){var t=e.data,n=e.width,r=e.height,i=void 0;return i="undefined"!=typeof ImageData&&t instanceof ImageData?{width:t.width,height:t.height}:"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement?{width:t.width,height:t.height}:"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t?{width:n,height:r}:{width:n>=0?n:1,height:r>=0?r:1},f()(i,"Could not deduced texture size"),f()(void 0===n||i.width===n,"Deduced texture width does not match supplied width"),f()(void 0===r||i.height===r,"Deduced texture height does not match supplied height"),i}},{key:"_createHandle",value:function(){return this.gl.createTexture()}},{key:"_deleteHandle",value:function(){this.gl.deleteTexture(this.handle)}},{key:"_getParameter",value:function(e){switch(e){case i.b.TEXTURE_WIDTH:return this.width;case i.b.TEXTURE_HEIGHT:return this.height;default:this.gl.bindTexture(this.target,this.handle);var t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}},{key:"_setParameter",value:function(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case i.b.TEXTURE_MIN_LOD:case i.b.TEXTURE_MAX_LOD:this.gl.texParameterf(this.handle,e,t);break;case i.b.TEXTURE_WIDTH:case i.b.TEXTURE_HEIGHT:throw new Error("Cannot set emulated parameter");default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}},{key:"_isNPOT",value:function(){return!(Object(a.h)(this.gl)||Object(c.e)(this.width)&&Object(c.e)(this.height))}},{key:"_updateForNPOT",value:function(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(c.f.warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_MIN_FILTER to LINEAR"),e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(c.f.warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_WRAP_S to CLAMP_TO_EDGE"),e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(c.f.warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_WRAP_T to CLAMP_TO_EDGE"),e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}},{key:"_getNPOTParam",value:function(e,t){if(this._isNPOT())switch(e){case i.b.TEXTURE_MIN_FILTER:-1===g.indexOf(t)&&(c.f.warn("texture: "+this+" is Non-Power-Of-Two, forcing TEXTURE_MIN_FILTER to LINEAR"),t=i.b.LINEAR);break;case i.b.TEXTURE_WRAP_S:case i.b.TEXTURE_WRAP_T:t!==i.b.CLAMP_TO_EDGE&&(c.f.warn("texture: "+this+" is Non-Power-Of-Two, "+Object(i.d)(e)+" to CLAMP_TO_EDGE"),t=i.b.CLAMP_TO_EDGE)}return t}}]),t}();t.a=v},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(40),a=n(24),s=n(1),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p="Illegal or missing parameter to Buffer",f=36662,h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.target=n.target||(i.gl.webgl2?f:r.e.ARRAY_BUFFER),i.index=null,i.setData(n),Object.seal(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),l(t,[{key:"setDataLayout",value:function(e){var t=e.layout,n=e.type,r=e.size,i=void 0===r?1:r,o=e.offset,a=void 0===o?0:o,s=e.stride,u=void 0===s?0:s,l=e.normalized,p=void 0!==l&&l,f=e.integer,h=void 0!==f&&f,d=e.instanced,g=void 0===d?0:d;return this.layout=t||new function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.size,i=void 0===r?1:r,o=t.offset,a=void 0===o?0:o,s=t.stride,u=void 0===s?0:s,l=t.normalized,p=void 0!==l&&l,f=t.integer,h=void 0!==f&&f,d=t.instanced,g=void 0===d?0:d;c(this,e),this.type=n,this.size=i,this.offset=a,this.stride=u,this.normalized=p,this.integer=h,this.instanced=g}({type:n||this.type,size:i,offset:a,stride:u,normalized:p,integer:h,instanced:g}),this}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.bytes,i=e.usage,a=void 0===i?r.e.STATIC_DRAW:i,s=(e.layout,e.type),l=(e.size,e.offset,e.stride,e.normalized,e.integer,e.instanced,arguments[0]);t?(s=s||Object(o.b)(t),n=t.byteLength,u()(s,p)):(s=s||r.e.FLOAT,n&&0!==n||(n=0,t=new Float32Array(0))),this.bytes=n,this.bytesUsed=n,this.data=t,this.type=s,this.usage=a,this.setDataLayout(Object.assign(l));var c=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(c,this.handle),this.gl.bufferData(c,t||n,a),this.gl.bindBuffer(c,null),this}},{key:"setData",value:function(e){return this.initialize(e)}},{key:"subData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.offset,r=void 0===n?0:n,o=e.srcOffset,a=void 0===o?0:o,s=e.length;u()(t,p);var l=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(l,this.handle),0!==a||void 0!==s?(Object(i.c)(this.gl),this.gl.bufferSubData(this.target,r,t,a,s||0)):this.gl.bufferSubData(l,r,t),this.gl.bindBuffer(l,null),this}},{key:"copyData",value:function(e){var t=e.sourceBuffer,n=e.readOffset,r=void 0===n?0:n,o=e.writeOffset,a=void 0===o?0:o,s=e.size;return Object(i.c)(this.gl),this.gl.bindBuffer(f,t.handle),this.gl.bindBuffer(36663,this.handle),this.gl.copyBufferSubData(f,36663,r,a,s),this.gl.bindBuffer(f,null),this.gl.bindBuffer(36663,null),this}},{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dstData,n=void 0===t?null:t,r=e.srcByteOffset,a=void 0===r?0:r,s=e.dstOffset,l=void 0===s?0:s,c=e.length,p=void 0===c?0:c;Object(i.c)(this.gl);var h=Object(o.c)(this.type,{clamped:!1}),d=this._getAvailableElementCount(a),g=void 0,y=void 0,v=l;n?g=(y=n.length)-v:y=v+(g=Math.min(d,p||d));var m=Math.min(d,g);return p=p||m,u()(p<=m,"Invalid srcByteOffset, dstOffset and length combination"),n=n||new h(y),this.gl.bindBuffer(f,this.handle),this.gl.getBufferSubData(f,a,n,l,p),this.gl.bindBuffer(f,null),n}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,o=e.index,a=void 0===o?this.index:o,s=e.offset,l=void 0===s?0:s,c=e.size;switch(n===r.e.UNIFORM_BUFFER||35982===n?void 0!==c?"ranged":" indexed":"non-indexed"){case"non-indexed":this.gl.bindBuffer(n,this.handle);break;case"indexed":Object(i.c)(this.gl),u()(0===l,p),this.gl.bindBufferBase(n,a,this.handle);break;case"ranged":Object(i.c)(this.gl),this.gl.bindBufferRange(n,a,this.handle,l,c);break;default:throw new Error(p)}return this}},{key:"unbind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?this.target:t,i=e.index,o=void 0===i?this.index:i;return n===r.e.UNIFORM_BUFFER||35982===n?this.gl.bindBufferBase(n,o,null):this.gl.bindBuffer(n,null),this}},{key:"getIndexedParameter",value:function(e,t){var n=this.gl.webgl2?f:this.target;return this.gl.bindBuffer(n,t),this.gl.getIndexedParameter(e,t)}},{key:"_createHandle",value:function(){return this.gl.createBuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteBuffer(this.handle)}},{key:"_getParameter",value:function(e){this.gl.bindBuffer(this.target,this.handle);var t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}},{key:"_getAvailableElementCount",value:function(e){var t=Object(o.c)(this.type,{clamped:!1});return this.bytes/t.BYTES_PER_ELEMENT-e/t.BYTES_PER_ELEMENT}}]),t}();t.a=h},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(e){return e},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pendingQueries=new Set,this.invalidQueryType=null,this.invalidErrorMessage="",this.checkInvalid=function(){return!1}}return r(e,[{key:"poll",value:function(e){this.cancelInvalidQueries(e);var t=!0,n=!1,r=void 0;try{for(var i,o=this.pendingQueries.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a.isResultAvailable()){var s=a.getResult();this.resolveQuery(a,s)}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"setInvalidator",value:function(e){var t=e.queryType,n=e.errorMessage,r=e.checkInvalid;this.invalidQueryType=t,this.invalidErrorMessage=n,this.checkInvalid=r}},{key:"beginQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;this.cancelInvalidQueries(e.gl),this.cancelQuery(e);var r={};return e.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),Object.assign(e.promise,r),this.pendingQueries.add(e),e.promise.then(t).catch(n)}},{key:"resolveQuery",value:function(e,t){this.pendingQueries.delete(e),e.promise.resolve(t)}},{key:"rejectQuery",value:function(e,t){this.pendingQueries.delete(e),e.promise&&e.promise.reject(new Error(t))}},{key:"deleteQuery",value:function(e){return this.rejectQuery(e,"Query was deleted before result was available")}},{key:"cancelQuery",value:function(e){return this.rejectQuery(e,"Query was canceled before result was available")}},{key:"invalidateQuery",value:function(e){e instanceof this.invalidQueryType&&this.rejectQuery(e,this.invalidErrorMessage)}},{key:"cancelInvalidQueries",value:function(e){if(this.checkInvalid(e)){var t=!0,n=!1,r=void 0;try{for(var i,o=this.pendingQueries.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.invalidateQuery(a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}}]),e}();t.a=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(3)),o=u(n(16)),a=n(164),s=u(n(122));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.secondary,n=e.size,o=e.color,s=e.bold,u=e.inline,l=e.uppercase,c=e.center,p=e.right,f=e.style,h=e.children,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["secondary","size","color","bold","inline","uppercase","center","right","style","children"]),g=t?a.secondaryFontStyle:a.primaryFontStyle,y=c?"center":p?"right":"unset",v=r({},g(n,o,s),{textTransform:l?"uppercase":"none",textAlign:y},f);return u?i.default.createElement("span",r({style:v},d),h):i.default.createElement("p",r({style:v},d),h)};l.propTypes={secondary:o.default.bool,size:o.default.string,color:o.default.string,bold:o.default.bool,inline:o.default.bool,uppercase:o.default.bool,center:o.default.bool,right:o.default.bool,style:o.default.object,children:o.default.any},l.defaultProps={secondary:!1,size:"iota",color:"gray80",bold:!1,inline:!1,uppercase:!1,center:!1,right:!1,style:{},children:null},t.default=(0,s.default)({key:"text",css:a.fontCSS})(l)},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(25),a=n(50),s=n(24),u=n(87),l=n(58),c=n(40),p=n(5),f=n(1),h=n.n(f),d=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=36064,m=34069,_=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.width=null,r.height=null,r.attachments={},r.readBuffer=v,r.drawBuffers=[v],r.initialize(n),Object.seal(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),g(t,[{key:"MAX_COLOR_ATTACHMENTS",get:function(){return this.gl.getParameter(this.gl.MAX_COLOR_ATTACHMENTS)}},{key:"MAX_DRAW_BUFFERS",get:function(){return this.gl.getParameter(this.gl.MAX_DRAW_BUFFERS)}}],[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.colorBufferFloat,r=t.colorBufferHalfFloat;return n&&e.getExtension(Object(i.h)(e)?"EXT_color_buffer_float":"WEBGL_color_buffer_float"),r&&e.getExtension(Object(i.h)(e)?"EXT_color_buffer_float":"EXT_color_buffer_half_float")}},{key:"getDefaultFramebuffer",value:function(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer||(e.luma.defaultFramebuffer=new t(e,{handle:null,attachments:{}})),e.luma.defaultFramebuffer}}]),g(t,[{key:"initialize",value:function(e){var t=e.width,n=void 0===t?1:t,r=e.height,i=void 0===r?1:r,o=e.attachments,a=void 0===o?null:o,s=e.color,u=void 0===s||s,l=e.depth,c=void 0===l||l,p=e.stencil,f=void 0!==p&&p,d=e.check,g=void 0===d||d,y=e.readBuffer,v=e.drawBuffers;if(h()(n>=0&&i>=0,"Width and height need to be integers"),this.width=n,this.height=i,a)for(var m in a){var _=a[m];(Array.isArray(_)?_[0]:_).resize({width:n,height:i})}else a=this._createDefaultAttachments({color:u,depth:c,stencil:f,width:n,height:i});this.update({clearAttachments:!0,attachments:a,readBuffer:y,drawBuffers:v}),a&&g&&this.checkStatus()}},{key:"update",value:function(e){var t=e.attachments,n=void 0===t?{}:t,r=e.readBuffer,i=e.drawBuffers,o=e.clearAttachments,a=void 0!==o&&o;this.attach(n,{clearAttachments:a});var s=this.gl,u=s.bindFramebuffer(36160,this.handle);return r&&this._setReadBuffer(r),i&&this._setDrawBuffers(i),s.bindFramebuffer(36160,u),this}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;if(null===this.handle)return h()(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;for(var r in void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&p.f.log(2,"Resizing framebuffer "+this.id+" to "+t+"x"+n),this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}},{key:"attach",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clearAttachments,r={};void 0!==n&&n&&Object.keys(this.attachments).forEach(function(e){r[e]=null}),Object.assign(r,e);var i=this.gl.bindFramebuffer(36160,this.handle);for(var o in r){h()("undefined"!==o,"Misspelled framebuffer binding point?");var a=r[o],s=a;if(s)if(s instanceof l.a)this._attachRenderbuffer({attachment:o,renderbuffer:s});else if(Array.isArray(a)){var u=d(a,3),c=u[0],p=u[1],f=void 0===p?0:p,g=u[2],y=void 0===g?0:g;s=c,this._attachTexture({attachment:o,texture:c,layer:f,level:y})}else this._attachTexture({attachment:o,texture:s,layer:0,level:0});else this._unattach({attachment:o});s&&s.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,i),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(function(e){return!t.attachments[e]}).forEach(function(e){delete t.attachments[e]})}},{key:"checkStatus",value:function(){var e=this.gl,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);if(e.bindFramebuffer(36160,t),n!==e.FRAMEBUFFER_COMPLETE)throw new Error(A(n));return this}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.depth,r=e.stencil,i=e.drawBuffers,o=void 0===i?[]:i,s=this.gl.bindFramebuffer(36160,this.handle);return(t||n||r)&&Object(a.a)(this.gl,{color:t,depth:n,stencil:r}),o.forEach(function(e,t){Object(a.b)({drawBuffer:t,value:e})}),this.gl.bindFramebuffer(36160,s),this}},{key:"readPixels",value:function(e){var t=e.x,n=void 0===t?0:t,i=e.y,o=void 0===i?0:i,a=e.width,s=void 0===a?this.width:a,u=e.height,l=void 0===u?this.height:u,p=e.format,f=void 0===p?r.e.RGBA:p,h=e.type,d=e.pixelArray,g=void 0===d?null:d,y=e.attachment,m=void 0===y?v:y,_=this.gl;if(m===r.e.COLOR_ATTACHMENT0&&null===this.handle&&(m=r.e.FRONT),!g){h=h||_.UNSIGNED_BYTE;var A=Object(c.c)(h,{clamped:!1}),b=function(e){switch(e){case r.e.ALPHA:return 1;case r.e.RGB:return 3;case r.e.RGBA:return 4;default:throw new Error("Unknown format")}}(f);g=g||new A(s*l*b)}h=h||Object(c.b)(g);var x=this.gl.bindFramebuffer(36160,this.handle);return this.gl.readPixels(n,o,s,l,f,h,g),this.gl.bindFramebuffer(36160,x),g}},{key:"copyToDataUrl",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attachment,n=void 0===t?v:t,r=e.maxHeight,i=void 0===r?Number.MAX_SAFE_INTEGER:r,o=this.readPixels({attachment:n}),a=this.width,s=this.height;s>i;){var u=Object(p.g)({data:o,width:a,height:s});o=u.data,a=u.width,s=u.height}Object(p.a)({data:o,width:a,height:s});var l=document.createElement("canvas");l.width=a,l.height=s;var c=l.getContext("2d"),f=c.createImageData(a,s);return f.data.set(o),c.putImageData(f,0,0),l.toDataURL()}},{key:"copyToImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.image,n=void 0===t?null:t,r=e.attachment,i=void 0===r?v:r,o=e.maxHeight,a=(void 0===o&&Number.MAX_SAFE_INTEGER,this.readDataUrl({attachment:i}));return(n=n||new Image).src=a,n}},{key:"copyToTexture",value:function(e){var t=e.texture,n=e.target,r=e.xoffset,i=void 0===r?0:r,o=e.yoffset,a=void 0===o?0:o,s=e.zoffset,u=void 0===s?0:s,l=e.mipmapLevel,c=void 0===l?0:l,p=e.attachment,f=void 0===p?v:p,h=e.x,d=void 0===h?0:h,g=e.y,y=void 0===g?0:g,m=e.width,_=e.height,A=this.gl,b=A.bindFramebuffer(36160,this.handle),x=A.readBuffer(f);switch(m=Number.isFinite(m)?m:t.width,_=Number.isFinite(_)?_:t.height,t.target){case 3553:case 34067:A.copyTexSubImage2D(n||t.target,c,i,a,d,y,m,_);break;case 35866:case 32879:A.copyTexSubImage3D(n||t.target,c,i,a,u,d,y,m,_)}return A.readBuffer(x),A.bindFramebuffer(36160,b),t}},{key:"blit",value:function(e){var t=e.srcFramebuffer,n=e.attachment,o=void 0===n?v:n,a=e.srcX0,s=void 0===a?0:a,u=e.srcY0,l=void 0===u?0:u,c=e.srcX1,p=e.srcY1,f=e.dstX0,d=void 0===f?0:f,g=e.dstY0,y=void 0===g?0:g,m=e.dstX1,_=e.dstY1,A=e.color,b=void 0===A||A,x=e.depth,w=void 0!==x&&x,E=e.stencil,T=void 0!==E&&E,M=e.mask,S=void 0===M?0:M,C=e.filter,I=void 0===C?r.e.NEAREST:C,P=this.gl;h()(Object(i.h)(P),i.b),t.handle||o!==v||(o=r.e.FRONT),b&&(S|=16384),w&&(S|=256),T&&(S|=1024),h()(S),c=void 0===c?t.width:c,p=void 0===p?t.height:p,m=void 0===m?this.width:m,_=void 0===_?this.height:_;var k=P.bindFramebuffer(36008,this.handle),O=P.bindFramebuffer(36009,t.handle),L=P.readBuffer(o);return P.blitFramebuffer(s,l,c,p,d,y,m,_,S,I),P.readBuffer(L),P.bindFramebuffer(36009,O),P.bindFramebuffer(36008,k),this}},{key:"invalidate",value:function(e){var t=e.attachments,n=void 0===t?[]:t,r=e.x,o=void 0===r?0:r,a=e.y,s=void 0===a?0:a,u=e.width,l=e.height,c=this.gl;h()(Object(i.h)(c,i.b));var p=c.bindFramebuffer(36009,this.handle);return 0===o&&0===s&&void 0===u&&void 0===l?c.invalidateFramebuffer(36009,n):c.invalidateFramebuffer(36009,n,o,s,u,l),c.bindFramebuffer(36009,p),this}},{key:"getAttachmentParameter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attachment,n=void 0===t?v:t,r=e.pname,i=this._getAttachmentParameterFallback(r);return null===i&&(this.gl.bindTexture(36160,this.handle),i=this.gl.getFramebufferAttachmentParameter(36160,n,r),this.gl.bindTexture(36160,null)),i}},{key:"getAttachmentParameters",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.ATTACHMENT_PARAMETERS||{},t={};for(var n in e)t[n]=this.getAttachmentParameter(n);return this}},{key:"show",value:function(){return"undefined"!=typeof window&&window.open(this.copyToDataUrl(),"luma-debug-texture"),this}},{key:"log",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.priority,n=void 0===t?0:t,r=e.message,i=void 0===r?"":r;if(n>p.f.priority||"undefined"==typeof window)return this;i=i||"Framebuffer "+this.id;var o=this.copyToDataUrl({maxHeight:100});return p.f.image({priority:n,message:i,image:o},i),this}},{key:"bind",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=void 0===e?36160:e;return this.gl.bindFramebuffer(t,this.handle),this}},{key:"unbind",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).target,t=void 0===e?36160:e;return this.gl.bindFramebuffer(t,null),this}},{key:"_createDefaultAttachments",value:function(e){var t,n=e.color,i=e.depth,o=(e.stencil,e.width),a=e.height,s=null;n&&((s=s||{})[v]=new u.a(this.gl,{pixels:null,format:r.e.RGBA,type:r.e.UNSIGNED_BYTE,width:o,height:a,mipmaps:!1,parameters:(t={},y(t,r.e.TEXTURE_MIN_FILTER,r.e.NEAREST),y(t,r.e.TEXTURE_MAG_FILTER,r.e.NEAREST),y(t,r.e.TEXTURE_WRAP_S,r.e.CLAMP_TO_EDGE),y(t,r.e.TEXTURE_WRAP_T,r.e.CLAMP_TO_EDGE),t)}));return i&&((s=s||{})[36096]=new l.a(this.gl,{format:r.e.DEPTH_COMPONENT16,width:o,height:a})),s}},{key:"_unattach",value:function(e){var t=e.attachment;this.gl.bindRenderbuffer(36161,this.handle),this.gl.framebufferRenderbuffer(36160,t,36161,null),delete this.attachments[t]}},{key:"_attachRenderbuffer",value:function(e){var t=e.attachment,n=void 0===t?v:t,r=e.renderbuffer;this.gl.framebufferRenderbuffer(36160,n,36161,r.handle),this.attachments[n]=r}},{key:"_attachTexture",value:function(e){var t=e.attachment,n=void 0===t?v:t,r=e.texture,i=e.layer,o=e.level,a=this.gl;switch(a.bindTexture(r.target,r.handle),r.target){case 35866:case 32879:a.framebufferTextureLayer(36160,n,r.target,o,i);break;case 34067:var s=function(e){return e<m?e+m:e}(i);a.framebufferTexture2D(36160,n,s,r.handle,o);break;case 3553:a.framebufferTexture2D(36160,n,3553,r.handle,o);break;default:h()(!1,"Illegal texture type")}a.bindTexture(r.target,null),this.attachments[n]=r}},{key:"_setReadBuffer",value:function(e,t){Object(i.h)(e)?e.readBuffer(t):h()(t===v||t===r.e.BACK,"Multiple render targets not supported"),this.readBuffer=t}},{key:"_setDrawBuffers",value:function(e,t){if(Object(i.h)(e))e.drawBuffers(t);else{var n=e.getExtension("WEBGL_draw_buffers");n?n.drawBuffersWEBGL(t):h()(1===t.length&&(t[0]===v||t[0]===r.e.BACK),"Multiple render targets not supported")}this.drawBuffers=t}},{key:"_getAttachmentParameterFallback",value:function(e){var t=Object(o.b)(this.gl);switch(e){case r.e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:return t.webgl2?null:0;case r.e.FRAMEBUFFER_ATTACHMENT_RED_SIZE:case r.e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:case r.e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:case r.e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:case r.e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:case r.e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:return t.webgl2?null:8;case r.e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:return t.webgl2?null:r.e.UNSIGNED_INT;case r.e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:return t.webgl2||t.EXT_sRGB?null:r.e.LINEAR;default:return null}}},{key:"_createHandle",value:function(){return this.gl.createFramebuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteFramebuffer(this.handle)}},{key:"color",get:function(){return this.attachments[v]||null}},{key:"texture",get:function(){return this.attachments[v]||null}},{key:"depth",get:function(){return this.attachments[36096]||null}},{key:"stencil",get:function(){return this.attachments[36128]||null}}]),t}();function A(e){return(_.STATUS||{})[e]||"Framebuffer error "+e}t.a=_},function(e,t,n){"use strict";n.r(t);var r=n(79);n.d(t,"AnimationLoop",function(){return r.b}),n.d(t,"requestAnimationFrame",function(){return r.c}),n.d(t,"cancelAnimationFrame",function(){return r.a});var i=n(61);n.d(t,"Model",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return v});var r=5120,i=5121,o=5122,a=5123,s=5124,u=5125,l=5126,c=32819,p=32820,f=33635,h="Failed to deduce GL constant from typed array";function d(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return l;case Uint16Array:return a;case Uint32Array:return u;case Uint8Array:case Uint8ClampedArray:return i;case Int8Array:return r;case Int16Array:return o;case Int32Array:return s;default:throw new Error(h)}}function g(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clamped,n=void 0===t||t;switch(e){case l:return Float32Array;case a:case f:case c:case p:return Uint16Array;case u:return Uint32Array;case i:return n?Uint8ClampedArray:Uint8Array;case r:return Int8Array;case o:return Int16Array;case s:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function y(e){var t=e.data,n=e.width,r=e.height,i=e.bytesPerPixel,o=void 0===i?4:i,a=e.temp,s=n*o;a=a||new Uint8Array(s);for(var u=0;u<r/2;++u){var l=u*s,c=(r-u-1)*s;a.set(t.subarray(l,l+s)),t.copyWithin(l,c,c+s),t.set(a,c)}}function v(e){for(var t=e.data,n=e.width,r=e.height,i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4),s=0;s<o;s++)for(var u=0;u<i;u++)for(var l=0;l<4;l++)a[4*(s*i+u)+l]=t[4*(2*s*n+2*u)+l];return{data:a,width:i,height:o}}},function(e,t,n){"use strict";n.d(t,"e",function(){return m}),n.d(t,"c",function(){return _}),n.d(t,"b",function(){return A}),n.d(t,"d",function(){return w}),n.d(t,"a",function(){return E});var r,i=n(38),o=n(33),a=n(5),s=n(1),u=n.n(s);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(l(r={},5126,function(e,t,n){return e.uniform1f(t,n)}),l(r,35664,function(e,t,n){return e.uniform2fv(t,g(n,2))}),l(r,35665,function(e,t,n){return e.uniform3fv(t,g(n,3))}),l(r,35666,function(e,t,n){return e.uniform4fv(t,g(n,4))}),l(r,5124,function(e,t,n){return e.uniform1i(t,n)}),l(r,35667,function(e,t,n){return e.uniform2iv(t,y(n,2))}),l(r,35668,function(e,t,n){return e.uniform3iv(t,y(n,3))}),l(r,35669,function(e,t,n){return e.uniform4iv(t,y(n,4))}),l(r,35670,function(e,t,n){return e.uniform1i(t,n)}),l(r,35671,function(e,t,n){return e.uniform2iv(t,y(n,2))}),l(r,35672,function(e,t,n){return e.uniform3iv(t,y(n,3))}),l(r,35673,function(e,t,n){return e.uniform4iv(t,y(n,4))}),l(r,35674,function(e,t,n){return e.uniformMatrix2fv(t,!1,g(n,4))}),l(r,35675,function(e,t,n){return e.uniformMatrix3fv(t,!1,g(n,9))}),l(r,35676,function(e,t,n){return e.uniformMatrix4fv(t,!1,g(n,16))}),l(r,35678,function(e,t,n){return e.uniform1i(t,n)}),l(r,35680,function(e,t,n){return e.uniform1i(t,n)}),l(r,5125,function(e,t,n){return e.uniform1ui(t,n)}),l(r,36294,function(e,t,n){return e.uniform2uiv(t,v(n,2))}),l(r,36295,function(e,t,n){return e.uniform3uiv(t,v(n,3))}),l(r,36296,function(e,t,n){return e.uniform4uiv(t,v(n,4))}),l(r,35685,function(e,t,n){return e.uniformMatrix2x3fv(t,!1,g(n,6))}),l(r,35686,function(e,t,n){return e.uniformMatrix2x4fv(t,!1,g(n,8))}),l(r,35687,function(e,t,n){return e.uniformMatrix3x2fv(t,!1,g(n,6))}),l(r,35688,function(e,t,n){return e.uniformMatrix3x4fv(t,!1,g(n,12))}),l(r,35689,function(e,t,n){return e.uniformMatrix4x2fv(t,!1,g(n,8))}),l(r,35690,function(e,t,n){return e.uniformMatrix4x3fv(t,!1,g(n,12))}),l(r,35679,function(e,t,n){return e.uniform1i(t,n)}),l(r,35682,function(e,t,n){return e.uniform1i(t,n)}),l(r,36289,function(e,t,n){return e.uniform1i(t,n)}),l(r,36292,function(e,t,n){return e.uniform1i(t,n)}),l(r,36293,function(e,t,n){return e.uniform1i(t,n)}),l(r,36298,function(e,t,n){return e.uniform1i(t,n)}),l(r,36299,function(e,t,n){return e.uniform1i(t,n)}),l(r,36300,function(e,t,n){return e.uniform1i(t,n)}),l(r,36303,function(e,t,n){return e.uniform1i(t,n)}),l(r,36306,function(e,t,n){return e.uniform1i(t,n)}),l(r,36307,function(e,t,n){return e.uniform1i(t,n)}),l(r,36308,function(e,t,n){return e.uniform1i(t,n)}),l(r,36311,function(e,t,n){return e.uniform1i(t,n)}),r),p={},f={},h={};function d(e,t,n,r){var i=e.length;if(i%t&&a.f.warn("Uniform size should be multiples of "+t,e),e instanceof n)return e;var o=r[i];o||(o=new n(i),r[i]=o);for(var s=0;s<i;s++)o[s]=e[s];return o}function g(e,t){return d(e,t,Float32Array,p)}function y(e,t){return d(e,t,Int32Array,f)}function v(e,t){return d(e,t,Uint32Array,h)}function m(e){var t=e.match(/([^\[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name "+e);return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function _(e,t,n){var r=c[n.type];if(!r)throw new Error("Unknown GLSL uniform type "+n.type);return r.bind(null,e,t)}function A(e,t){for(var n in e){var r=e[n];if(!b(r))throw t=t?t+" ":"",console.error(t+" Bad uniform "+n,r),new Error(t+" Bad uniform "+n)}return!0}function b(e){return Array.isArray(e)?e.length>0&&e.every(function(e){return isFinite(e)}):ArrayBuffer.isView(e)?e.length>0:!!isFinite(e)||(e instanceof o.a||e instanceof i.a&&Boolean(e.texture))}function x(e){var t=e.table,n=e.header,r=e.uniforms,i=e.uniformName,o=e.undefinedOnly,s=r[i],u=function(e){return void 0!==e&&null!==e}(s);return(!o||!u)&&(t[i]=l({Type:u?s:"NOT PROVIDED"},n,u?Object(a.b)(s):"N/A"),!0)}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.header,n=void 0===t?"Uniforms":t,r=e.program,i=e.uniforms,o=e.undefinedOnly,s=void 0!==o&&o;u()(r);var c=r._uniformSetters,p={},f=Object.keys(c).sort(),h=0,d=!0,g=!1,y=void 0;try{for(var v,m=f[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var _=v.value;_.match(".*_.*")||_.match(".*Matrix")||x({table:p,header:n,uniforms:i,uniformName:_,undefinedOnly:s})&&h++}}catch(e){g=!0,y=e}finally{try{!d&&m.return&&m.return()}finally{if(g)throw y}}var A=!0,b=!1,w=void 0;try{for(var E,T=f[Symbol.iterator]();!(A=(E=T.next()).done);A=!0){var M=E.value;M.match(".*Matrix")&&x({table:p,header:n,uniforms:i,uniformName:M,undefinedOnly:s})&&h++}}catch(e){b=!0,w=e}finally{try{!A&&T.return&&T.return()}finally{if(b)throw w}}var S=!0,C=!1,I=void 0;try{for(var P,k=f[Symbol.iterator]();!(S=(P=k.next()).done);S=!0){var O=P.value;p[O]||x({table:p,header:n,uniforms:i,uniformName:O,undefinedOnly:s})&&h++}}catch(e){C=!0,I=e}finally{try{!S&&k.return&&k.return()}finally{if(C)throw I}}var L=0,R={};if(!s)for(var j in i){var N=i[j];p[j]||(L++,R[j]=l({Type:"NOT USED: "+N},n,Object(a.b)(N)))}return{table:p,count:h,unusedTable:R,unusedCount:L}}function E(e,t){if(Array.isArray(e)||ArrayBuffer.isView(e)){if(!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return e===t}},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r="undefined"!=typeof window?window:e,i=void 0!==e?e:window;"undefined"!=typeof document&&document}).call(this,n(32))},function(e,t,n){e.exports=n(434)()},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return b});var r,i,o,a=n(0),s=n(9);n(1);function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(l(r={},a.a.BLEND,!1),l(r,a.a.BLEND_COLOR,new Float32Array([0,0,0,0])),l(r,a.a.BLEND_EQUATION_RGB,a.a.FUNC_ADD),l(r,a.a.BLEND_EQUATION_ALPHA,a.a.FUNC_ADD),l(r,a.a.BLEND_SRC_RGB,a.a.ONE),l(r,a.a.BLEND_DST_RGB,a.a.ZERO),l(r,a.a.BLEND_SRC_ALPHA,a.a.ONE),l(r,a.a.BLEND_DST_ALPHA,a.a.ZERO),l(r,a.a.COLOR_CLEAR_VALUE,new Float32Array([0,0,0,0])),l(r,a.a.COLOR_WRITEMASK,[!0,!0,!0,!0]),l(r,a.a.CULL_FACE,!1),l(r,a.a.CULL_FACE_MODE,a.a.BACK),l(r,a.a.DEPTH_TEST,!1),l(r,a.a.DEPTH_CLEAR_VALUE,1),l(r,a.a.DEPTH_FUNC,a.a.LESS),l(r,a.a.DEPTH_RANGE,new Float32Array([0,1])),l(r,a.a.DEPTH_WRITEMASK,!0),l(r,a.a.DITHER,!0),l(r,a.a.FRAMEBUFFER_BINDING,null),l(r,a.a.FRONT_FACE,a.a.CCW),l(r,a.a.GENERATE_MIPMAP_HINT,a.a.DONT_CARE),l(r,a.a.LINE_WIDTH,1),l(r,a.a.POLYGON_OFFSET_FILL,!1),l(r,a.a.POLYGON_OFFSET_FACTOR,0),l(r,a.a.POLYGON_OFFSET_UNITS,0),l(r,a.a.SAMPLE_COVERAGE_VALUE,1),l(r,a.a.SAMPLE_COVERAGE_INVERT,!1),l(r,a.a.SCISSOR_TEST,!1),l(r,a.a.SCISSOR_BOX,new Int32Array([0,0,1024,1024])),l(r,a.a.STENCIL_TEST,!1),l(r,a.a.STENCIL_CLEAR_VALUE,0),l(r,a.a.STENCIL_WRITEMASK,4294967295),l(r,a.a.STENCIL_BACK_WRITEMASK,4294967295),l(r,a.a.STENCIL_FUNC,a.a.ALWAYS),l(r,a.a.STENCIL_REF,0),l(r,a.a.STENCIL_VALUE_MASK,4294967295),l(r,a.a.STENCIL_BACK_FUNC,a.a.ALWAYS),l(r,a.a.STENCIL_BACK_REF,0),l(r,a.a.STENCIL_BACK_VALUE_MASK,4294967295),l(r,a.a.STENCIL_FAIL,a.a.KEEP),l(r,a.a.STENCIL_PASS_DEPTH_FAIL,a.a.KEEP),l(r,a.a.STENCIL_PASS_DEPTH_PASS,a.a.KEEP),l(r,a.a.STENCIL_BACK_FAIL,a.a.KEEP),l(r,a.a.STENCIL_BACK_PASS_DEPTH_FAIL,a.a.KEEP),l(r,a.a.STENCIL_BACK_PASS_DEPTH_PASS,a.a.KEEP),l(r,a.a.VIEWPORT,new Int32Array([0,0,1024,1024])),l(r,a.a.PACK_ALIGNMENT,4),l(r,a.a.UNPACK_ALIGNMENT,4),l(r,a.a.UNPACK_FLIP_Y_WEBGL,!1),l(r,a.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),l(r,a.a.UNPACK_COLORSPACE_CONVERSION_WEBGL,a.a.BROWSER_DEFAULT_WEBGL),l(r,a.a.FRAGMENT_SHADER_DERIVATIVE_HINT,a.a.DONT_CARE),l(r,a.a.READ_FRAMEBUFFER_BINDING,null),l(r,a.a.RASTERIZER_DISCARD,!1),l(r,a.a.PACK_ROW_LENGTH,0),l(r,a.a.PACK_SKIP_PIXELS,0),l(r,a.a.PACK_SKIP_ROWS,0),l(r,a.a.UNPACK_ROW_LENGTH,0),l(r,a.a.UNPACK_IMAGE_HEIGHT,0),l(r,a.a.UNPACK_SKIP_PIXELS,0),l(r,a.a.UNPACK_SKIP_ROWS,0),l(r,a.a.UNPACK_SKIP_IMAGES,0),r),p=function(e,t,n){return t?e.enable(n):e.disable(n)},f=function(e,t,n){return e.hint(n,t)},h=function(e,t,n){return e.pixelStorei(n,t)},d=(l(i={},a.a.BLEND,p),l(i,a.a.BLEND_COLOR,function(e,t){return e.blendColor.apply(e,u(t))}),l(i,a.a.BLEND_EQUATION_RGB,"blendEquation"),l(i,a.a.BLEND_EQUATION_ALPHA,"blendEquation"),l(i,a.a.BLEND_SRC_RGB,"blendFunc"),l(i,a.a.BLEND_DST_RGB,"blendFunc"),l(i,a.a.BLEND_SRC_ALPHA,"blendFunc"),l(i,a.a.BLEND_DST_ALPHA,"blendFunc"),l(i,a.a.COLOR_CLEAR_VALUE,function(e,t){return e.clearColor.apply(e,u(t))}),l(i,a.a.COLOR_WRITEMASK,function(e,t){return e.colorMask.apply(e,u(t))}),l(i,a.a.CULL_FACE,p),l(i,a.a.CULL_FACE_MODE,function(e,t){return e.cullFace(t)}),l(i,a.a.DEPTH_TEST,p),l(i,a.a.DEPTH_CLEAR_VALUE,function(e,t){return e.clearDepth(t)}),l(i,a.a.DEPTH_FUNC,function(e,t){return e.depthFunc(t)}),l(i,a.a.DEPTH_RANGE,function(e,t){return e.depthRange.apply(e,u(t))}),l(i,a.a.DEPTH_WRITEMASK,function(e,t){return e.depthMask(t)}),l(i,a.a.DITHER,p),l(i,a.a.FRAGMENT_SHADER_DERIVATIVE_HINT,f),l(i,a.a.FRAMEBUFFER_BINDING,function(e,t){var n=Object(s.h)(e)?a.a.DRAW_FRAMEBUFFER:a.a.FRAMEBUFFER;return e.bindFramebuffer(n,t)}),l(i,a.a.FRONT_FACE,function(e,t){return e.frontFace(t)}),l(i,a.a.GENERATE_MIPMAP_HINT,f),l(i,a.a.LINE_WIDTH,function(e,t){return e.lineWidth(t)}),l(i,a.a.POLYGON_OFFSET_FILL,p),l(i,a.a.POLYGON_OFFSET_FACTOR,"polygonOffset"),l(i,a.a.POLYGON_OFFSET_UNITS,"polygonOffset"),l(i,a.a.RASTERIZER_DISCARD,p),l(i,a.a.SAMPLE_COVERAGE_VALUE,"sampleCoverage"),l(i,a.a.SAMPLE_COVERAGE_INVERT,"sampleCoverage"),l(i,a.a.SCISSOR_TEST,p),l(i,a.a.SCISSOR_BOX,function(e,t){return e.scissor.apply(e,u(t))}),l(i,a.a.STENCIL_TEST,p),l(i,a.a.STENCIL_CLEAR_VALUE,function(e,t){return e.clearStencil(t)}),l(i,a.a.STENCIL_WRITEMASK,function(e,t){return e.stencilMaskSeparate(a.a.FRONT,t)}),l(i,a.a.STENCIL_BACK_WRITEMASK,function(e,t){return e.stencilMaskSeparate(a.a.BACK,t)}),l(i,a.a.STENCIL_FUNC,"stencilFuncFront"),l(i,a.a.STENCIL_REF,"stencilFuncFront"),l(i,a.a.STENCIL_VALUE_MASK,"stencilFuncFront"),l(i,a.a.STENCIL_BACK_FUNC,"stencilFuncBack"),l(i,a.a.STENCIL_BACK_REF,"stencilFuncBack"),l(i,a.a.STENCIL_BACK_VALUE_MASK,"stencilFuncBack"),l(i,a.a.STENCIL_FAIL,"stencilOpFront"),l(i,a.a.STENCIL_PASS_DEPTH_FAIL,"stencilOpFront"),l(i,a.a.STENCIL_PASS_DEPTH_PASS,"stencilOpFront"),l(i,a.a.STENCIL_BACK_FAIL,"stencilOpBack"),l(i,a.a.STENCIL_BACK_PASS_DEPTH_FAIL,"stencilOpBack"),l(i,a.a.STENCIL_BACK_PASS_DEPTH_PASS,"stencilOpBack"),l(i,a.a.VIEWPORT,function(e,t){return e.viewport.apply(e,u(t))}),l(i,a.a.PACK_ALIGNMENT,h),l(i,a.a.UNPACK_ALIGNMENT,h),l(i,a.a.UNPACK_FLIP_Y_WEBGL,h),l(i,a.a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h),l(i,a.a.UNPACK_COLORSPACE_CONVERSION_WEBGL,h),l(i,a.a.PACK_ROW_LENGTH,h),l(i,a.a.PACK_SKIP_PIXELS,h),l(i,a.a.PACK_SKIP_ROWS,h),l(i,a.a.READ_FRAMEBUFFER_BINDING,function(e,t){return e.bindFramebuffer(a.a.READ_FRAMEBUFFER,t)}),l(i,a.a.UNPACK_ROW_LENGTH,h),l(i,a.a.UNPACK_IMAGE_HEIGHT,h),l(i,a.a.UNPACK_SKIP_PIXELS,h),l(i,a.a.UNPACK_SKIP_ROWS,h),l(i,a.a.UNPACK_SKIP_IMAGES,h),i),g={blendEquation:function(e,t){return e.blendEquationSeparate(t[a.a.BLEND_EQUATION_RGB],t[a.a.BLEND_EQUATION_ALPHA])},blendFunc:function(e,t){return e.blendFuncSeparate(t[a.a.BLEND_SRC_RGB],t[a.a.BLEND_DST_RGB],t[a.a.BLEND_SRC_ALPHA],t[a.a.BLEND_DST_ALPHA])},polygonOffset:function(e,t){return e.polygonOffset(t[a.a.POLYGON_OFFSET_FACTOR],t[a.a.POLYGON_OFFSET_UNITS])},sampleCoverage:function(e,t){return e.sampleCoverage(t[a.a.SAMPLE_COVERAGE_VALUE],t[a.a.SAMPLE_COVERAGE_INVERT])},stencilFuncFront:function(e,t){return e.stencilFuncSeparate(a.a.FRONT,t[a.a.STENCIL_FUNC],t[a.a.STENCIL_REF],t[a.a.STENCIL_VALUE_MASK])},stencilFuncBack:function(e,t){return e.stencilFuncSeparate(a.a.BACK,t[a.a.STENCIL_BACK_FUNC],t[a.a.STENCIL_BACK_REF],t[a.a.STENCIL_BACK_VALUE_MASK])},stencilOpFront:function(e,t){return e.stencilOpSeparate(a.a.FRONT,t[a.a.STENCIL_FAIL],t[a.a.STENCIL_PASS_DEPTH_FAIL],t[a.a.STENCIL_PASS_DEPTH_PASS])},stencilOpBack:function(e,t){return e.stencilOpSeparate(a.a.BACK,t[a.a.STENCIL_BACK_FAIL],t[a.a.STENCIL_BACK_PASS_DEPTH_FAIL],t[a.a.STENCIL_BACK_PASS_DEPTH_PASS])}},y=function(e,t){return e.isEnabled(t)},v=(l(o={},a.a.BLEND,y),l(o,a.a.CULL_FACE,y),l(o,a.a.DEPTH_TEST,y),l(o,a.a.DITHER,y),l(o,a.a.POLYGON_OFFSET_FILL,y),l(o,a.a.SAMPLE_ALPHA_TO_COVERAGE,y),l(o,a.a.SAMPLE_COVERAGE,y),l(o,a.a.SCISSOR_TEST,y),l(o,a.a.STENCIL_TEST,y),l(o,a.a.RASTERIZER_DISCARD,y),o);function m(e,t){var n={};for(var r in t){var i=d[r];i&&("string"==typeof i?n[i]=!0:i(e,t[r],Number(r)))}var o=e.state&&e.state.cache;if(o){var a=Object.assign({},o,t);for(var s in n){(0,g[s])(e,a)}}}function _(e,t){var n=v[t];return n?n(e,Number(t)):e.getParameter(Number(t))}function A(e,t){t=t||c;var n=Array.isArray(t)?t:Object.keys(t),r={},i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=_(e,l)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}function b(e){m(e,Object.assign({},c,{}))}},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c});var r=n(1),i=n.n(r),o={},a=[];function s(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ignoreMultipleRegistrations,n=void 0!==t&&t,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){p(a.value,{ignoreMultipleRegistrations:n})}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}function u(e){a=e}function l(e){if("string"!=typeof e){var t=e;return i()("string"==typeof t.name),p(t,{ignoreMultipleRegistrations:!0}),t}var n=o[e];return n||i()(!1,"Unknown shader module "+e),n}function c(e){return function(e){var t={};return function e(t){var n=t.modules,r=t.level,i=t.result;if(r>=5)throw new Error("Possible loop in shader dependency graph");var o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var p=u.value,f=l(p);(void 0===i[f.name]||i[f.name]<r)&&(i[f.name]=r)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var h=!0,d=!1,g=void 0;try{for(var y,v=n[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value,_=l(m);_.dependencies&&e({modules:_.dependencies,level:r+1,result:i})}}catch(e){d=!0,g=e}finally{try{!h&&v.return&&v.return()}finally{if(d)throw g}}return i}({modules:e=e.concat(a),level:0,result:t}),Object.keys(t).sort(function(e,n){return t[n]-t[e]})}(e.map(function(e){return"string"!=typeof e?(s([e],{ignoreMultipleRegistrations:!0}),e.name):e}))}function p(e,t){var n=t.ignoreMultipleRegistrations,r=void 0!==n&&n;if(i()(e.name,"shader module has no name"),!r&&o[e.name])throw new Error("shader module "+e.name+" already registered");o[e.name]=e,e.dependencies=e.dependencies||[],e.deprecations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach(function(e){switch(e.type){case"function":e.regex=new RegExp("\\b"+e.old+"\\(");break;default:e.regex=new RegExp(e.type+" "+e.old+";")}}),e}(e.deprecations)}},function(e,t){e.exports=function(e,t,n){var r,i,o,a,s,u,l,c,p,f,h,d,g=n[0],y=n[1],v=n[2];t===e?(e[12]=t[0]*g+t[4]*y+t[8]*v+t[12],e[13]=t[1]*g+t[5]*y+t[9]*v+t[13],e[14]=t[2]*g+t[6]*y+t[10]*v+t[14],e[15]=t[3]*g+t[7]*y+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=p,e[9]=f,e[10]=h,e[11]=d,e[12]=r*g+s*y+p*v+t[12],e[13]=i*g+u*y+f*v+t[13],e[14]=o*g+l*y+h*v+t[14],e[15]=a*g+c*y+d*v+t[15]);return e}},function(e,t){e.exports=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(e,t,n){"use strict";n.r(t);var r=n(130),i=n(42);n.d(t,"global",function(){return i.a});var o=n(96);if(i.a.luma&&"5.1.5"!==i.a.luma.VERSION)throw new Error("luma.gl - multiple VERSIONs detected: "+i.a.luma.VERSION+" vs 5.1.5");i.a.luma||(r.a&&console.log("luma.gl 5.1.5 - set luma.log.priority=1 (or higher) to trace rendering"),i.a.luma=i.a.luma||{VERSION:"5.1.5",version:"5.1.5",log:o.a,stats:{},globals:{headlessGL:null,headlessTypes:null,modules:{},nodeIO:{}}}),t.default=i.a.luma},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(186);Object.defineProperty(t,"setPathPrefix",{enumerable:!0,get:function(){return r.setPathPrefix}}),Object.defineProperty(t,"loadFile",{enumerable:!0,get:function(){return r.loadFile}}),Object.defineProperty(t,"loadImage",{enumerable:!0,get:function(){return r.loadImage}});var i=n(300);Object.defineProperty(t,"loadFiles",{enumerable:!0,get:function(){return i.loadFiles}}),Object.defineProperty(t,"loadImages",{enumerable:!0,get:function(){return i.loadImages}}),Object.defineProperty(t,"loadTextures",{enumerable:!0,get:function(){return i.loadTextures}}),Object.defineProperty(t,"loadProgram",{enumerable:!0,get:function(){return i.loadProgram}}),Object.defineProperty(t,"loadModel",{enumerable:!0,get:function(){return i.loadModel}}),Object.defineProperty(t,"parseModel",{enumerable:!0,get:function(){return i.parseModel}})},function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return v});var r=n(9),i=n(22),o=n(1),a=n.n(o),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=256,l=1024,c=16384,p=6144,f=6145,h=6146,d=34041,g="clear: bad arguments";function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,r=void 0===n?null:n,o=t.color,s=void 0===o?null:o,p=t.depth,f=void 0===p?null:p,h=t.stencil,d=void 0===h?null:h,y={};r&&(y.framebuffer=r);var v=0;s&&(v|=c,!0!==s&&(y.clearColor=s)),f&&(v|=u,!0!==f&&(y.clearDepth=f)),d&&(v|=l,!0!==f&&(y.clearStencil=f)),a()(0!==v,g),Object(i.c)(e,y,function(){e.clear(v)})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.framebuffer,o=void 0===n?null:n,u=t.buffer,l=void 0===u?p:u,c=t.drawBuffer,y=void 0===c?0:c,v=t.value,m=void 0===v?[0,0,0,0]:v;a()(Object(r.h)(e),r.b),Object(i.c)(e,{framebuffer:o},function(){switch(l){case p:switch(m.constructor){case Int32Array:e.clearBufferiv(l,y,m);break;case Uint32Array:e.clearBufferuiv(l,y,m);break;case Float32Array:default:e.clearBufferfv(l,y,m)}break;case f:e.clearBufferfv(f,0,[m]);break;case h:e.clearBufferiv(h,0,[m]);break;case d:var t=s(m,2),n=t[0],r=t[1];e.clearBufferfi(d,0,n,r);break;default:a()(!1,g)}})}},function(e,t,n){"use strict";var r=n(4),i=n(26),o=n.n(i),a=n(35),s=n.n(a),u=n(12),l=n(1),c=n.n(l),p=n(21),f=n(138),h=n(14),d=[0,0,0,0],g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],v=[0,0,0],m=[0,0,0],_=Object(f.a)(function(e){var t=e.viewport,n=e.coordinateSystem,r=e.coordinateOrigin,i=t.zoom;c()(i>=0);var a=function(e){var t=e.viewport,n=e.coordinateSystem,r=e.coordinateOrigin,i=e.coordinateZoom,a=t.viewMatrixUncentered,u=t.viewMatrix,l=t.projectionMatrix,c=t.viewProjectionMatrix,f=void 0;switch(n){case p.a.IDENTITY:case p.a.LNGLAT:f=d;break;case p.a.LNGLAT_OFFSETS:case p.a.METER_OFFSETS:var y=Object(h.i)(r,Math.pow(2,i));f=s()([],[y[0],y[1],0,1],c),u=a||u,c=o()([],l,u),c=o()([],c,g);break;default:throw new Error("Unknown projection mode")}return{viewMatrix:u,viewProjectionMatrix:c,projectionCenter:f,cameraPos:t.cameraPosition}}({coordinateSystem:n,coordinateOrigin:r,coordinateZoom:i,viewport:t}),u=a.projectionCenter,l=a.viewProjectionMatrix,f=a.cameraPos;c()(l,"Viewport missing modelViewProjectionMatrix");var y=t.getDistanceScales(),m="undefined"!=typeof window&&window.devicePixelRatio||1,_=[t.width*m,t.height*m],A={project_uCoordinateSystem:n,project_uCenter:u,project_uViewportSize:_,project_uDevicePixelRatio:m,project_uFocalDistance:t.focalDistance||1,project_uPixelsPerMeter:y.pixelsPerMeter,project_uPixelsPerDegree:y.pixelsPerDegree,project_uPixelsPerUnit:y.pixelsPerMeter,project_uPixelsPerUnit2:v,project_uScale:t.scale,project_uViewProjectionMatrix:l,project_uCameraPosition:f};if(n===p.a.METER_OFFSETS){var b=t.getDistanceScales(r);A.project_uPixelsPerUnit=b.pixelsPerMeter,A.project_uPixelsPerUnit2=b.pixelsPerMeter2}if(n===p.a.LNGLAT_OFFSETS){var x=t.getDistanceScales(r);A.project_uPixelsPerUnit=x.pixelsPerDegree,A.project_uPixelsPerUnit2=x.pixelsPerDegree2}return A});var A={};t.a={name:"project",dependencies:[r.m],vs:'// EXTERNAL CONSTANTS: these must match JavaScript constants in "src/core/lib/constants.js"\nconst float COORDINATE_SYSTEM_IDENTITY = 0.;\nconst float COORDINATE_SYSTEM_LNG_LAT = 1.;\nconst float COORDINATE_SYSTEM_METER_OFFSETS = 2.;\nconst float COORDINATE_SYSTEM_LNGLAT_OFFSETS = 3.;\n\nuniform float project_uCoordinateSystem;\nuniform float project_uScale;\nuniform vec3 project_uPixelsPerMeter;\nuniform vec3 project_uPixelsPerDegree;\nuniform vec3 project_uPixelsPerUnit;\nuniform vec3 project_uPixelsPerUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\n\n//\n// Scaling offsets - scales meters to "pixels"\n// Note the scalar version of project_scale is for scaling the z component only\n//\nfloat project_scale(float meters) {\n  return meters * project_uPixelsPerMeter.z;\n}\n\nvec2 project_scale(vec2 meters) {\n  return meters * project_uPixelsPerMeter.xy;\n}\n\nvec3 project_scale(vec3 meters) {\n  return meters * project_uPixelsPerMeter;\n}\n\nvec4 project_scale(vec4 meters) {\n  return vec4(meters.xyz * project_uPixelsPerMeter, meters.w);\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return normalize(vector * project_uPixelsPerDegree);\n  }\n  return normalize(vector * project_uPixelsPerMeter);\n}\n\nvec4 project_offset_(vec4 offset) {\n  vec3 pixelsPerUnit = project_uPixelsPerUnit + project_uPixelsPerUnit2 * offset.y;\n  return vec4(offset.xyz * pixelsPerUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  return vec2(\n    radians(lnglat.x) + PI,\n    PI - log(tan_fp32(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\n//\n// Projects lnglats (or meter offsets, depending on mode) to pixels\n//\nvec4 project_position(vec4 position) {\n  // TODO - why not simply subtract center and fall through?\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNG_LAT) {\n    return project_uModelMatrix * vec4(\n      project_mercator_(position.xy) * WORLD_SCALE * project_uScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    return project_offset_(position);\n  }\n\n  // METER_OFFSETS or IDENTITY\n  // Apply model matrix\n  vec4 position_modelspace = project_uModelMatrix * position;\n  return project_offset_(position_modelspace);\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0));\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0));\n  return projected_position.xy;\n}\n\n//\n// Projects from "world" coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_to_clipspace(vec4 position) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_METER_OFFSETS ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // Needs to be divided with project_uPixelsPerMeter\n    position.w *= project_uPixelsPerMeter.z;\n  }\n  return project_uViewProjectionMatrix * position + project_uCenter;\n}\n\n// Returns a clip space offset that corresponds to a given number of **non-device** pixels\nvec4 project_pixel_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio;\n  return vec4(offset * project_uFocalDistance, 0.0, 0.0);\n}\nfloat scale(float position) {\n  return project_scale(position);\n}\n\nvec2 scale(vec2 position) {\n  return project_scale(position);\n}\n\nvec3 scale(vec3 position) {\n  return project_scale(position);\n}\n\nvec4 scale(vec4 position) {\n  return project_scale(position);\n}\n\nvec2 preproject(vec2 position) {\n  return project_position(position);\n}\n\nvec3 preproject(vec3 position) {\n  return project_position(position);\n}\n\nvec4 preproject(vec4 position) {\n  return project_position(position);\n}\n\nvec4 project(vec4 position) {\n  return project_to_clipspace(position);\n}\n',getUniforms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return e.viewport?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewport,n=e.modelMatrix,r=void 0===n?null:n,i=e.coordinateSystem,o=void 0===i?p.a.LNGLAT:i,a=e.coordinateOrigin,s=void 0===a?m:a,l=e.projectionMode,f=e.positionOrigin;return c()(t),void 0!==l&&u.a.removed("projectionMode","coordinateSystem"),void 0!==f&&u.a.removed("positionOrigin","coordinateOrigin"),Object.assign({project_uModelMatrix:r||y},_({viewport:t,coordinateSystem:o,coordinateOrigin:s}))}(e):{}},deprecations:[{type:"uniform vec3",old:"selectedPickingColor",new:"luma.gl's picking module"},{type:"uniform float",old:"renderPickingBuffer",new:"luma.gl's picking module"},{type:"uniform float",old:"pickingEnabled",new:"luma.gl's picking module"},{type:"uniform float",old:"projectionMode",new:"project_uCoordinateSystem"},{type:"uniform vec4",old:"projectionCenter",new:"project_uCenter"},{type:"uniform vec2",old:"projectionOrigin"},{type:"uniform mat4",old:"modelMatrix",new:"project_uModelMatrix"},{type:"uniform mat4",old:"viewMatrix"},{type:"uniform mat4",old:"projectionMatrix",new:"project_uViewProjectionMatrix"},{type:"uniform vec3",old:"projectionPixelsPerUnit",new:"project_uPixelsPerUnit"},{type:"uniform float",old:"projectionScale",new:"project_uScale"},{type:"uniform vec2",old:"viewportSize",new:"project_uViewportSize"},{type:"uniform float",old:"devicePixelRatio",new:"project_uDevicePixelRatio"},{type:"uniform vec3",old:"cameraPos",new:"project_uCameraPosition"},{type:"function",old:"scale",new:"project_scale",deprecated:1},{type:"function",old:"preproject",new:"project_position",deprecated:1},{type:"function",old:"project",new:"project_to_clipspace",deprecated:1}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(352);Object.defineProperty(t,"EventManager",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t){e.exports=function(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e}},function(e,t,n){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var r=t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return p});var r,i=n(2),o=n(9);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(a(r={},i.b.ALIASED_LINE_WIDTH_RANGE,{gl1:new Float32Array([1,1])}),a(r,i.b.ALIASED_POINT_SIZE_RANGE,{gl1:new Float32Array([1,1])}),a(r,i.b.MAX_TEXTURE_SIZE,{gl1:64,gl2:2048}),a(r,i.b.MAX_CUBE_MAP_TEXTURE_SIZE,{gl1:16}),a(r,i.b.MAX_TEXTURE_IMAGE_UNITS,{gl1:8}),a(r,i.b.MAX_COMBINED_TEXTURE_IMAGE_UNITS,{gl1:8}),a(r,i.b.MAX_VERTEX_TEXTURE_IMAGE_UNITS,{gl1:0}),a(r,i.b.MAX_RENDERBUFFER_SIZE,{gl1:1}),a(r,i.b.MAX_VARYING_VECTORS,{gl1:8}),a(r,i.b.MAX_VERTEX_ATTRIBS,{gl1:8}),a(r,i.b.MAX_VERTEX_UNIFORM_VECTORS,{gl1:128}),a(r,i.b.MAX_FRAGMENT_UNIFORM_VECTORS,{gl1:16}),a(r,i.b.MAX_VIEWPORT_DIMS,{gl1:new Int32Array([0,0])}),a(r,i.b.MAX_3D_TEXTURE_SIZE,{gl1:0,gl2:256}),a(r,i.b.MAX_ARRAY_TEXTURE_LAYERS,{gl1:0,gl2:256}),a(r,i.b.MAX_CLIENT_WAIT_TIMEOUT_WEBGL,{gl1:0,gl2:0}),a(r,i.b.MAX_COLOR_ATTACHMENTS,{gl1:0,gl2:4}),a(r,i.b.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_COMBINED_UNIFORM_BLOCKS,{gl1:0,gl2:0}),a(r,i.b.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_DRAW_BUFFERS,{gl1:0,gl2:4}),a(r,i.b.MAX_ELEMENT_INDEX,{gl1:0,gl2:0}),a(r,i.b.MAX_ELEMENTS_INDICES,{gl1:0,gl2:0}),a(r,i.b.MAX_ELEMENTS_VERTICES,{gl1:0,gl2:0}),a(r,i.b.MAX_FRAGMENT_INPUT_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_FRAGMENT_UNIFORM_BLOCKS,{gl1:0,gl2:0}),a(r,i.b.MAX_FRAGMENT_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_SAMPLES,{gl1:0,gl2:0}),a(r,i.b.MAX_SERVER_WAIT_TIMEOUT,{gl1:0,gl2:0}),a(r,i.b.MAX_TEXTURE_LOD_BIAS,{gl1:0,gl2:0}),a(r,i.b.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS,{gl1:0,gl2:0}),a(r,i.b.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_UNIFORM_BLOCK_SIZE,{gl1:0,gl2:0}),a(r,i.b.MAX_UNIFORM_BUFFER_BINDINGS,{gl1:0,gl2:0}),a(r,i.b.MAX_VARYING_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_VERTEX_OUTPUT_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MAX_VERTEX_UNIFORM_BLOCKS,{gl1:0,gl2:0}),a(r,i.b.MAX_VERTEX_UNIFORM_COMPONENTS,{gl1:0,gl2:0}),a(r,i.b.MIN_PROGRAM_TEXEL_OFFSET,{gl1:0,gl2:-8,negative:!0}),a(r,i.b.MAX_PROGRAM_TEXEL_OFFSET,{gl1:0,gl2:7}),a(r,i.b.UNIFORM_BUFFER_OFFSET_ALIGNMENT,{gl1:0,gl2:0}),r);var u=37445,l=37446;function c(e){var t=function(e){if(e.luma=e.luma||{},!e.luma.limits){e.luma.limits={},e.luma.webgl1MinLimits={},e.luma.webgl2MinLimits={};var t=Object(o.h)(e);for(var n in s){var r=s[n],i=r.gl1,a="gl2"in r?r.gl2:r.gl1,u=t?a:i,l="gl2"in r&&!t||"extension"in r&&!e.getExtension(r.extension)?u:e.getParameter(n);e.luma.limits[n]=l,e.luma.webgl1MinLimits[n]=i,e.luma.webgl2MinLimits[n]=a}}return e.luma.limits}(e),n=function(e){if(e.luma=e.luma||{},!e.luma.info){var t,n=e.getExtension("WEBGL_debug_renderer_info");e.luma.info=(a(t={},i.b.VENDOR,e.getParameter(i.b.VENDOR)),a(t,i.b.RENDERER,e.getParameter(i.b.RENDERER)),a(t,i.b.UNMASKED_VENDOR_WEBGL,e.getParameter(n&&n.UNMASKED_VENDOR_WEBGL||i.b.VENDOR)),a(t,i.b.UNMASKED_RENDERER_WEBGL,e.getParameter(n&&n.UNMASKED_RENDERER_WEBGL||i.b.RENDERER)),a(t,i.b.VERSION,e.getParameter(i.b.VERSION)),a(t,i.b.SHADING_LANGUAGE_VERSION,e.getParameter(i.b.SHADING_LANGUAGE_VERSION)),t)}return e.luma.info}(e);return{vendor:n[u]||n[i.b.VENDOR],renderer:n[l]||n[i.b.RENDERER],version:n[i.b.VERSION],shadingLanguageVersion:n[i.b.SHADING_LANGUAGE_VERSION],info:n,limits:t,webgl1MinLimits:e.luma.webgl1MinLimits,webgl2MinLimits:e.luma.webgl2MinLimits}}function p(e){return function(e){var t=e.getParameter(i.b.VENDOR),n=e.getParameter(i.b.RENDERER),r=e.getExtension("WEBGL_debug_renderer_info"),o=r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||i.b.VENDOR),a=r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||i.b.RENDERER);return{vendor:o||t,renderer:a||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(i.b.VERSION),shadingLanguageVersion:e.getParameter(i.b.SHADING_LANGUAGE_VERSION)}}(e)}},function(e,t,n){"use strict";var r,i=n(2),o=n(9),a=n(24),s=n(1),u=n.n(s),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="EXT_color_buffer_float",f=(c(r={},i.b.DEPTH_COMPONENT16,{}),c(r,i.b.DEPTH_COMPONENT24,{gl2:!0}),c(r,i.b.DEPTH_COMPONENT32F,{gl2:!0}),c(r,i.b.STENCIL_INDEX8,{}),c(r,i.b.DEPTH_STENCIL,{}),c(r,i.b.DEPTH24_STENCIL8,{gl2:!0}),c(r,i.b.DEPTH32F_STENCIL8,{gl2:!0}),c(r,i.b.RGBA4,{}),c(r,i.b.RGB565,{}),c(r,i.b.RGB5_A1,{}),c(r,i.b.R8,{gl2:!0}),c(r,i.b.R8UI,{gl2:!0}),c(r,i.b.R8I,{gl2:!0}),c(r,i.b.R16UI,{gl2:!0}),c(r,i.b.R16I,{gl2:!0}),c(r,i.b.R32UI,{gl2:!0}),c(r,i.b.R32I,{gl2:!0}),c(r,i.b.RG8,{gl2:!0}),c(r,i.b.RG8UI,{gl2:!0}),c(r,i.b.RG8I,{gl2:!0}),c(r,i.b.RG16UI,{gl2:!0}),c(r,i.b.RG16I,{gl2:!0}),c(r,i.b.RG32UI,{gl2:!0}),c(r,i.b.RG32I,{gl2:!0}),c(r,i.b.RGB8,{gl2:!0}),c(r,i.b.RGBA8,{gl2:!0}),c(r,i.b.RGB10_A2,{gl2:!0}),c(r,i.b.RGBA8UI,{gl2:!0}),c(r,i.b.RGBA8I,{gl2:!0}),c(r,i.b.RGB10_A2UI,{gl2:!0}),c(r,i.b.RGBA16UI,{gl2:!0}),c(r,i.b.RGBA16I,{gl2:!0}),c(r,i.b.RGBA32I,{gl2:!0}),c(r,i.b.RGBA32UI,{gl2:!0}),c(r,i.b.R16F,{gl2:p}),c(r,i.b.RG16F,{gl2:p}),c(r,i.b.RGBA16F,{gl2:p}),c(r,i.b.R32F,{gl2:p}),c(r,i.b.RG32F,{gl2:p}),c(r,i.b.RGBA32F,{gl2:p}),c(r,i.b.R11F_G11F_B10F,{gl2:p}),r);var h=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.initialize(n),Object.seal(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),l(t,null,[{key:"isSupported",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).format;return!t||function(e,t,n){var r=n[t];if(!r)return!1;var i=Object(o.h)(e)&&r.gl2||r.gl1;return"string"==typeof i?e.getExtension(i):i}(e,t,f)}},{key:"getSamplesForFormat",value:function(e,t){var n=t.format;return e.getInternalformatParameter(36161,n,32937)}}]),l(t,[{key:"initialize",value:function(e){var t=e.format,n=e.width,r=void 0===n?1:n,i=e.height,a=void 0===i?1:i,s=e.samples,l=void 0===s?0:s;return u()(t,"Needs format"),this.gl.bindRenderbuffer(36161,this.handle),0!==l&&Object(o.h)(this.gl)?this.gl.renderbufferStorageMultisample(36161,l,t,r,a):this.gl.renderbufferStorage(36161,t,r,a),this.format=t,this.width=r,this.height=a,this.samples=l,this}},{key:"resize",value:function(e){var t=e.width,n=e.height;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}},{key:"_createHandle",value:function(){return this.gl.createRenderbuffer()}},{key:"_deleteHandle",value:function(){this.gl.deleteRenderbuffer(this.handle)}},{key:"_syncHandle",value:function(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}},{key:"_getParameter",value:function(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}]),t}();t.a=h},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(43),o=n.n(i),a=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),s=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",i=function(e){function i(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o[t]=n.store,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,e),i.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},i.prototype.render=function(){return r.Children.only(this.props.children)},i}(r.Component);return i.propTypes={store:s.isRequired,children:o.a.element.isRequired},i.childContextTypes=((e={})[t]=s.isRequired,e[n]=a,e),i}var l=u(),c=n(269),p=n.n(c),f=n(19),h=n.n(f);var d=null,g={notify:function(){}};var y=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=g}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=d,e=d},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==d&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=g)},e}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var m=0,_={};function A(){}function b(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.getDisplayName,u=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=i.methodName,c=void 0===l?"connectAdvanced":l,f=i.renderCountProp,d=void 0===f?void 0:f,g=i.shouldHandleStateChanges,b=void 0===g||g,x=i.storeKey,w=void 0===x?"store":x,E=i.withRef,T=void 0!==E&&E,M=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),S=w+"Subscription",C=m++,I=((t={})[w]=s,t[S]=a,t),P=((n={})[S]=a,n);return function(t){h()("function"==typeof t,"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=u(n),o=v({},M,{getDisplayName:u,methodName:c,renderCountProp:d,shouldHandleStateChanges:b,storeKey:w,withRef:T,displayName:i,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.version=C,r.state={},r.renderCount=0,r.store=e[w]||t[w],r.propsMode=Boolean(e[w]),r.setWrappedInstance=r.setWrappedInstance.bind(r),h()(r.store,'Could not find "'+w+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+w+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[S]=t||this.context[S],e},a.prototype.componentDidMount=function(){b&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=A,this.store=null,this.selector.run=A,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return h()(T,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(b){var e=(this.propsMode?this.props:this.context)[S];this.subscription=new y(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(T||d||this.propsMode&&this.subscription))return e;var t=v({},e);return T&&(t.ref=this.setWrappedInstance),d&&(t[d]=this.renderCount++),this.propsMode&&this.subscription&&(t[S]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},a}(r.Component);return a.WrappedComponent=t,a.displayName=i,a.childContextTypes=P,a.contextTypes=I,a.propTypes=I,p()(a,t)}}var x=Object.prototype.hasOwnProperty;function w(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function E(e,t){if(w(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!x.call(t,n[i])||!w(e[n[i]],t[n[i]]))return!1;return!0}var T=n(86),M=n(456),S="object"==typeof self&&self&&self.Object===Object&&self,C=(M.a||S||Function("return this")()).Symbol,I=Object.prototype;I.hasOwnProperty,I.toString,C&&C.toStringTag;Object.prototype.toString;C&&C.toStringTag;Object.getPrototypeOf,Object;var P=Function.prototype,k=Object.prototype,O=P.toString;k.hasOwnProperty,O.call(Object);function L(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function R(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function j(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=R(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=R(i),i=r(t,n)),i},r}}var N=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:L(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?L(function(t){return Object(T.bindActionCreators)(e,t)}):void 0}];var B=[function(e){return"function"==typeof e?j(e):void 0},function(e){return e?void 0:L(function(){return{}})}],D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function F(e,t,n){return D({},n,e,t)}var z=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r=n.pure,i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return F}}];function U(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function G(e,t,n,r,i){var o=i.areStatesEqual,a=i.areOwnPropsEqual,s=i.areStatePropsEqual,u=!1,l=void 0,c=void 0,p=void 0,f=void 0,h=void 0;function d(i,u){var d,g,y=!a(u,c),v=!o(i,l);return l=i,c=u,y&&v?(p=e(l,c),t.dependsOnOwnProps&&(f=t(r,c)),h=n(p,f,c)):y?(e.dependsOnOwnProps&&(p=e(l,c)),t.dependsOnOwnProps&&(f=t(r,c)),h=n(p,f,c)):v?(d=e(l,c),g=!s(d,p),p=d,g&&(h=n(p,f,c)),h):h}return function(i,o){return u?d(i,o):(p=e(l=i,c=o),f=t(r,c),h=n(p,f,c),u=!0,h)}}function V(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?G:U)(a,s,u,e,o)}var Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function H(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function W(e,t){return e===t}var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?b:t,r=e.mapStateToPropsFactories,i=void 0===r?B:r,o=e.mapDispatchToPropsFactories,a=void 0===o?N:o,s=e.mergePropsFactories,u=void 0===s?z:s,l=e.selectorFactory,c=void 0===l?V:l;return function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=o.pure,l=void 0===s||s,p=o.areStatesEqual,f=void 0===p?W:p,h=o.areOwnPropsEqual,d=void 0===h?E:h,g=o.areStatePropsEqual,y=void 0===g?E:g,v=o.areMergedPropsEqual,m=void 0===v?E:v,_=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),A=H(e,i,"mapStateToProps"),b=H(t,a,"mapDispatchToProps"),x=H(r,u,"mergeProps");return n(c,Y({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:A,initMapDispatchToProps:b,initMergeProps:x,pure:l,areStatesEqual:f,areOwnPropsEqual:d,areStatePropsEqual:y,areMergedPropsEqual:m},_))}}();n.d(t,"Provider",function(){return l}),n.d(t,"createProvider",function(){return u}),n.d(t,"connectAdvanced",function(){return b}),n.d(t,"connect",function(){return Q})},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var r=n(18),i=n(41),o=n(29),a=n(100),s=n(5),u="#define SHADER_NAME luma_modular_vertex\n\n// object attributes\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec2 texCoords;\nattribute vec3 pickingColors;\n\nvoid main(void) {\n\n  // Set up position\n#ifdef MODULE_GEOMETRY\n  geometry_setPosition(positions);\n  geometry_setNormal(normals);\n#endif\n\n#ifdef MODULE_PROJECT\n  project_setPositionAndNormal_Model(positions, normals);\n  gl_Position = project_model_to_clipspace(positions);\n#endif\n\n  // Set up depth\n#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n\n#ifdef MODULE_DIFFUSE\n  diffuse_setTextureCoordinate(texCoords);\n#endif\n\n  // Set up color calculations\n#ifdef MODULE_MATERIAL\n  material_setDiffuseColor(colors);\n  material_setDiffuseTextureCoordinates(texCoords);\n#endif\n\n#ifdef MODULE_LIGHTING\n  lighting_setPositionAndNormal(positions, normals);\n  lighting_apply_light(positions);\n  lighting_apply_reflection(positions);\n#endif\n\n#ifdef MODULE_PICKING\n  picking_setPickingColor(pickingColors);\n#endif\n\n}\n",l="#define SHADER_NAME luma-modular-fragment\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n// varyings\nvarying vec4 vColor;\n\nvoid main(){\n  gl_FragColor = vec4(1., 0., 1., 1.);\n\n#ifdef MODULE_DIFFUSE\n  gl_FragColor = diffuse_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth(gl_Position);\n#endif\n}\n",c=(n(45),n(102)),p=(n(109),n(20)),f=n.n(p),h=n(42),d={},g=function e(t,n,r){t&&(n.length>1?e(t[n[0]],n.slice(1),r):t[n[0]]=r)},y=new Map;f.a.listenFor("luma.gl",function(e){var t=d[e.itemKey];if(t&&"edit"===e.type&&"uniforms"===e.valuePath[0]){var n=e.valuePath.slice(1);!function(e,t,n){h.b.__SEER_INITIALIZED__&&(y.has(e)||y.set(e,new Map),y.get(e).set(t,n))}(e.itemKey,n,e.value);var r=t.getUniforms();g(r,n,e.value),t.setUniforms(r)}});var v=n(97),m=n(1),_=n.n(m),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=["renderPickingBuffer","pickingEnabled"],x=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return _()(Object(r.isWebGL)(e)),i.gl=e,i.init(n),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a["a"]),A(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vs,n=void 0===t?null:t,i=e.fs,a=void 0===i?null:i,s=e.modules,u=void 0===s?null:s,l=e.defines,c=void 0===l?{}:l,p=e.moduleSettings,f=void 0===p?{}:p,h=e.defaultUniforms,d=e.program,g=void 0===d?null:d,y=e.shaderCache,m=void 0===y?null:y,A=e.isInstanced,b=void 0!==A&&A,x=e.instanced,w=e.vertexCount,E=void 0===w?void 0:w,T=e.instanceCount,M=void 0===T?0:T,S=e.drawMode,C=e.uniforms,I=void 0===C?{}:C,P=e.attributes,k=void 0===P?{}:P,O=e.geometry,L=void 0===O?null:O,R=e.pickable,j=void 0===R||R,N=e.pick,B=void 0===N?null:N,D=(e.render,e.onBeforeRender),F=void 0===D?function(){}:D,z=e.onAfterRender,U=void 0===z?function(){}:z,G=e.varyings,V=void 0===G?null:G,Y=e.bufferMode,H=void 0===Y?r.GL.SEPARATE_ATTRIBS:Y,W=e.timerQueryEnabled,Q=void 0!==W&&W;this._initializeProgram({vs:n,fs:a,modules:u,defines:c,moduleSettings:f,defaultUniforms:h,program:g,shaderCache:m,varyings:V,bufferMode:H}),this.uniforms={},I=Object.assign({},this.program.defaultUniforms,I),this.setUniforms(I),this.setUniforms(this.getModuleUniforms()),this.setUniforms(this.getModuleUniforms(f)),x&&(console.warn('Warning: Model constructor: parameter "instanced" renamed to "isInstanced".\nThis will become a hard error in a future version of luma.gl.'),b=b||x),this.buffers={},this.samplers={},this.userData={},this.drawParams={},this.dynamic=!1,this.needsRedraw=!0,L&&this.setGeometry(L),this.attributes={},this.setAttributes(k),void 0!==S&&(this.drawMode=Object(o.b)(S)),void 0!==E&&(this.vertexCount=E),this.isInstanced=b,this.instanceCount=M,this.pickable=Boolean(j),this.pick=B||function(){return!1},this.onBeforeRender=F,this.onAfterRender=U,_()(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount"),this.timerQueryEnabled=Q&&v.a.isSupported(this.gl,{timer:!0}),this.timeElapsedQuery=void 0,this.lastQueryReturned=!0,this.stats={accumulatedFrameTime:0,averageFrameTime:0,profileFrameCount:0}}},{key:"delete",value:function(){var e;this.program.delete(),e=this.id,delete d[e],f.a.deleteItem("luma.gl",e)}},{key:"destroy",value:function(){this.delete()}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=e,this}},{key:"getNeedsRedraw",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,t=void 0!==e&&e,n=!1;return n=n||this.needsRedraw,this.needsRedraw=this.needsRedraw&&!t,n=n||this.geometry.getNeedsRedraw({clearRedrawFlags:t})}},{key:"setDrawMode",value:function(e){return this.drawMode=Object(o.b)(e),this}},{key:"getDrawMode",value:function(){return this.drawMode}},{key:"setVertexCount",value:function(e){return _()(Number.isFinite(e)),this.vertexCount=e,this}},{key:"getVertexCount",value:function(){return this.vertexCount}},{key:"setInstanceCount",value:function(e){return _()(Number.isFinite(e)),this.instanceCount=e,this}},{key:"getInstanceCount",value:function(){return this.instanceCount}},{key:"getProgram",value:function(){return this.program}},{key:"setGeometry",value:function(e){return this.geometry=e,this.vertexCount=e.getVertexCount(),this.drawMode=e.drawMode,this._createBuffersFromAttributeDescriptors(this.geometry.getAttributes()),this.setNeedsRedraw(),this}},{key:"getAttributes",value:function(){return this.attributes}},{key:"setAttributes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(s.d)(e)?this:(Object.assign(this.attributes,e),this._createBuffersFromAttributeDescriptors(e),this.setNeedsRedraw(),this)}},{key:"getUniforms",value:function(){return this.uniforms}},{key:"setUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1;for(var n in e)if(!Object(i.a)(this.uniforms[n],e[n])){t=!0;break}return t&&(Object(r.checkUniformValues)(e,this.id),Object.assign(this.uniforms,e),this.setNeedsRedraw()),this}},{key:"updateModuleSettings",value:function(e){var t=this.getModuleUniforms(e);return this.setUniforms(t)}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleSettings,n=void 0===t?null:t,r=e.uniforms,i=void 0===r?{}:r,o=e.attributes,a=void 0===o?{}:o,u=e.samplers,l=void 0===u?{}:u,c=e.parameters,p=void 0===c?{}:c,f=e.settings,h=e.framebuffer,d=void 0===h?null:h,g=e.vertexArray,y=void 0===g?null:g,v=e.transformFeedback,m=void 0===v?null:v;return f&&(s.f.deprecated("settings","parameters"),p=f),n&&this.updateModuleSettings(n),d&&(p=Object.assign(p,{framebuffer:d})),this.render(i,a,l,m,p,y),d&&d.log({priority:2,message:"Rendered to "+d.id}),this}},{key:"render",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;d[(e=this).id]||(d[e.id]=e,f.a.listItem("luma.gl",e.id));var u=this.addViewUniforms(t);!function(e,t){if(h.b.__SEER_INITIALIZED__&&e){var n=y.get(e);n&&n.forEach(function(e,n){g(t,n,e)})}}(this.id,u),this.setUniforms(u),this.setAttributes(n),Object.assign(this.samplers,r),s.f.group(2,">>> RENDERING MODEL "+this.id,{collapsed:s.f.priority<=2}),this.setProgramState({vertexArray:a}),this._logAttributesAndUniforms(2,u),this.onBeforeRender();var l=this.drawParams;l.isInstanced&&!this.isInstanced&&s.f.warn("Found instanced attributes on non-instanced model");var c=l.isIndexed,p=l.indexType,v=this.isInstanced,m=this.instanceCount;return this._timerQueryStart(),this.program.draw({parameters:o,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:a,transformFeedback:i,isIndexed:c,indexType:p,isInstanced:v,instanceCount:m}),this._timerQueryEnd(),this.onAfterRender(),this.unsetProgramState(),this.setNeedsRedraw(!1),s.f.groupEnd(2,">>> RENDERING MODEL "+this.id),this}},{key:"setProgramState",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).vertexArray,t=void 0===e?null:e,n=this.program;return n.use(),this.drawParams={},n.setBuffers(this.buffers,{drawParams:this.drawParams}),n.checkAttributeBindings({vertexArray:t}),n.setUniforms(this.uniforms,this.samplers),this}},{key:"unsetProgramState",value:function(){return this.program.unsetBuffers(),this}},{key:"addViewUniforms",value:function(e){var t=e.camera,n=e.viewMatrix,r=e.modelMatrix,i=t?t.getUniforms():{},o=n?this.getCoordinateUniforms(n,r):{};return Object.assign({},e,i,o)}},{key:"_initializeProgram",value:function(e){var t=e.vs,n=e.fs,i=e.modules,o=e.defines,a=(e.moduleSettings,e.defaultUniforms,e.program),s=e.shaderCache,p=e.varyings,f=e.bufferMode;if(this.getModuleUniforms=function(e){},!a){t||(t=u),n||(n=l);var h=Object(c.a)(this.gl,{vs:t,fs:n,modules:i,defines:o});t=h.vs,n=h.fs,a=s?s.getProgram(this.gl,{vs:t,fs:n,id:this.id}):new r.Program(this.gl,{vs:t,fs:n,varyings:p,bufferMode:f});var d=h.getUniforms;this.getModuleUniforms=d||function(e){}}this.program=a,_()(this.program instanceof r.Program,"Model needs a program")}},{key:"_checkForDeprecatedUniforms",value:function(e){b.forEach(function(t){t in e&&s.f.deprecated(t,"use picking shader module and Model class updateModuleSettings()")})}},{key:"_timerQueryStart",value:function(){!0===this.timerQueryEnabled&&(this.timeElapsedQuery||(this.timeElapsedQuery=new v.a(this.gl)),this.lastQueryReturned&&(this.lastQueryReturned=!1,this.timeElapsedQuery.beginTimeElapsedQuery()))}},{key:"_timerQueryEnd",value:function(){if(!0===this.timerQueryEnabled&&(this.timeElapsedQuery.end(),this.timeElapsedQuery.isResultAvailable())){this.lastQueryReturned=!0;var e=this.timeElapsedQuery.getResult();this.stats.lastFrameTime=e,this.stats.accumulatedFrameTime+=e,this.stats.profileFrameCount++,this.stats.averageFrameTime=this.stats.accumulatedFrameTime/this.stats.profileFrameCount,s.f.log(2,"GPU time "+this.program.id+": "+this.stats.lastFrameTime+"ms average "+this.stats.averageFrameTime+"ms accumulated: "+this.stats.accumulatedFrameTime+"ms count: "+this.stats.profileFrameCount)}}},{key:"_createBuffersFromAttributeDescriptors",value:function(e){var t=this.program.gl;for(var n in e){var i=e[n];if(i instanceof r.Buffer)this.buffers[n]=i;else if(i.isGeneric)this.buffers[n]=i.value;else{this.buffers[n]=this.buffers[n]||new r.Buffer(t,{target:i.isIndexed?r.GL.ELEMENT_ARRAY_BUFFER:r.GL.ARRAY_BUFFER}),this.buffers[n].setData({data:i.value}).setDataLayout(i)}}return this}},{key:"_logAttributesAndUniforms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s.f.priority>=e){var n=this._getAttributesTable({header:this.id+" attributes",program:this.program,attributes:Object.assign({},this.geometry.attributes,this.attributes)});s.f.table(e,n);var r=Object(i.d)({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.uniforms,t)}),o=r.table,a=r.unusedTable,u=r.unusedCount;s.f.table(e,o),s.f.log(e,(u||"No")+" unused uniforms ",a)}else{var l=Object(i.d)({header:this.id+" uniforms",program:this.program,uniforms:Object.assign({},this.uniforms,t),undefinedOnly:!0}),c=l.table;l.count>0&&s.f.table(e,c)}!function(e,t){if(f.a.isReady()&&!f.a.throttle("luma.gl:"+e.id,1e3)){var n=Object.assign({},e.geometry.attributes,e.attributes),r=Object.assign({},e.uniforms,t);f.a.multiUpdate("luma.gl",e.id,[{path:"objects.uniforms",data:r},{path:"objects.attributes",data:n}])}}(this,t)}},{key:"_getAttributesTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attributes,n=e.header,r=void 0===n?"Attributes":n,i=(e.instanced,e.program);_()(i);var o=i._attributeLocations,a={};for(var s in o){var u=t[s],l=o[s];a[s]=this._getAttributeEntry(u,l,r)}for(var c in t){var p=t[c];a[c]||(a[c]=this._getAttributeEntry(p,null,r))}return a}},{key:"_getAttributeEntry",value:function(e,t,n){var i=function(e){return Math.round(10*e)/10},o="NOT PROVIDED",a=0,u="N/A",l="N/A",c="N/A",p="N/A";if(e&&null===t&&(t=e.isIndexed?"ELEMENT_ARRAY_BUFFER":"NOT USED"),e instanceof r.Buffer){var f=e;o=f.layout.type,a=f.layout.instanced,u=f.layout.size,l=i(f.data.length/f.layout.size),c=f.data.length*f.data.BYTES_PER_ELEMENT}else e&&(o=e.value.constructor.name,a=e.instanced,u=e.size,l=i(e.value.length/e.size),c=e.value.length*e.value.BYTES_PER_ELEMENT,p=e.value);var h=-1!==(o=String(o).replace("Array","")).indexOf("nt");return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"Inst/Verts/Comps/Bytes/Type/Loc":(a?"I ":"P ")+" "+l+" (x"+u+"="+c+" "+o+") loc="+t},n,Object(s.b)(p,{size:u,isInteger:h}))}},{key:"isPickable",value:function(){return this.pickable}},{key:"setPickable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.pickable=Boolean(e),this}},{key:"getGeometry",value:function(){return this.geometry}},{key:"varyingMap",get:function(){return this.program.varyingMap}}]),t}();t.a=x},function(e,t,n){"use strict";var r=n(29);var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=e.bottomRadius,r=void 0===n?0:n,i=e.topRadius,o=void 0===i?0:i,a=e.height,s=void 0===a?1:a,u=e.nradial,l=void 0===u?10:u,c=e.nvertical,p=void 0===c?10:c,f=e.topCap,h=void 0!==f&&f,d=e.bottomCap,g=void 0!==d&&d,y=(h?2:0)+(g?2:0),v=(l+1)*(p+1+y),m=Math.atan2(r-o,s),_=Math.sin,A=Math.cos,b=Math.PI,x=A(m),w=_(m),E=h?-2:0,T=p+(g?2:0),M=l+1,S=new Float32Array(3*v),C=new Float32Array(3*v),I=new Float32Array(2*v),P=new Uint16Array(l*(p+y)*6),k=0,O=0,L=E;L<=T;L++){var R=L/p,j=s*R,N=void 0;L<0?(j=0,R=1,N=r):L>p?(j=s,R=1,N=o):N=r+L/p*(o-r),-2!==L&&L!==p+2||(N=0,R=0),j-=s/2;for(var B=0;B<M;B++){var D=_(B*b*2/l),F=A(B*b*2/l);S[k+0]=D*N,S[k+1]=j,S[k+2]=F*N,C[k+0]=L<0||L>p?0:D*x,C[k+1]=L<0?-1:L>p?1:w,C[k+2]=L<0||L>p?0:F*x,I[O+0]=B/l,I[O+1]=R,O+=2,k+=3}}for(var z=0;z<p+y;z++)for(var U=0;U<l;U++){var G=6*(z*l+U);P[G+0]=M*(z+0)+0+U,P[G+1]=M*(z+0)+1+U,P[G+2]=M*(z+1)+1+U,P[G+3]=M*(z+0)+0+U,P[G+4]=M*(z+1)+1+U,P[G+5]=M*(z+1)+0+U}return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{attributes:{positions:S,normals:C,texCoords:I,indices:P}})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=i},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(22),a=n(77),s=n(24),u=n(33),l=n(38),c=n(126),p=n(41),f=n(27),h=n(34),d=n(5),g=n(1),y=n.n(g),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var m=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.initialize(n),r.vertexAttributes=a.a.getDefaultArray(e),Object.seal(r),r._setId(n.id),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),v(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.vs,n=e.fs,o=e.defaultUniforms,a=e.varyings,s=e.bufferMode,u=void 0===s?r.e.SEPARATE_ATTRIBS:s;return this.vs="string"==typeof t?new f.c(this.gl,t):t,this.fs="string"==typeof n?new f.a(this.gl,n):n,y()(this.vs instanceof f.c,"Program: bad vertex shader"),y()(this.fs instanceof f.a,"Program: bad fragment shader"),this.defaultUniforms=o,a?(Object(i.c)(this.gl),this.varyings=a,this.gl.transformFeedbackVaryings(this.handle,a,u),this.varyingMap=function(e,t){var n={},i=0;y()(t===r.e.SEPARATE_ATTRIBS||t===r.e.INTERLEAVED_ATTRIBS);var o=t===r.e.SEPARATE_ATTRIBS?1:0,a=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;n[p]=i,i+=o}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return n}(a,u)):this.varyingMap={},this._compileAndLink(),this._isCached=!1,this}},{key:"checkAttributeBindings",value:function(e){var t=e.vertexArray,n=t?t.filledLocations:this.vertexAttributes.filledLocations;for(var r in this._attributeToLocationMap){var i=this._attributeToLocationMap[r];n[i]||this._warnedLocations[i]||(d.f.warn("Program "+this.id+": Attribute "+i+":"+r+" not supplied"),this._warnedLocations[i]=!0)}return this}},{key:"delete",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"delete",this).call(this,e)}},{key:"reset",value:function(){this.unsetBuffers()}},{key:"use",value:function(){return this.gl.useProgram(this.handle),this}},{key:"draw",value:function(e){var t=this,n=e.drawMode,s=void 0===n?r.e.TRIANGLES:n,u=e.vertexCount,l=e.offset,p=void 0===l?0:l,f=e.start,h=e.end,d=e.isIndexed,g=void 0!==d&&d,y=e.indexType,v=void 0===y?r.e.UNSIGNED_SHORT:y,m=e.isInstanced,_=void 0!==m&&m,A=e.instanceCount,b=void 0===A?0:A,x=e.vertexArray,w=void 0===x?null:x,E=e.transformFeedback,T=void 0===E?null:E,M=e.uniforms,S=void 0===M?{}:M,C=e.samplers,I=void 0===C?{}:C,P=e.parameters,k=void 0===P?{}:P;return(w=w||a.a.getDefaultArray(this.gl)).bind(function(){if(t.gl.useProgram(t.handle),T){var e=Object(c.b)({drawMode:s});T.begin(e)}t.setUniforms(S,I),Object(o.c)(t.gl,k,function(){g&&_?t.ext.drawElementsInstanced(s,u,v,p,b):g&&Object(i.h)(t.gl)&&!isNaN(f)&&!isNaN(h)?t.gl.drawElementsRange(s,f,h,u,v,p):g?t.gl.drawElements(s,u,v,p):_?t.ext.drawArraysInstanced(s,p,u,b):t.gl.drawArrays(s,p,u)}),T&&T.end()}),this}},{key:"setBuffers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clear,r=void 0===n||n,i=t.drawParams,o=void 0===i?{}:i;r&&this.vertexAttributes.clearBindings(),o.isInstanced=!1,o.isIndexed=!1,o.indexType=null;for(var a=this._sortBuffersByLocation(e),s=a.locations,u=a.elements,l=0;l<s.length;++l){var c=e[s[l]];if(c)if(c instanceof h.a){var p=c.layout.instanced?1:0;this.vertexAttributes.setBuffer({location:l,buffer:c}),this.vertexAttributes.setDivisor(l,p),o.isInstanced=c.layout.instanced>0,this.vertexAttributes.enable(l)}else this.vertexAttributes.setGeneric({location:l,array:c}),this.vertexAttributes.disable(l,!0);else this.vertexAttributes.disable(l)}if(u){var f=e[u];f.bind(),o.isIndexed=!0,o.indexType=f.layout.type}return this}},{key:"unsetBuffers",value:function(){for(var e=this._attributeCount,t=1;t<e;++t)this.vertexAttributes.disable(t);return this.gl.bindBuffer(r.e.ELEMENT_ARRAY_BUFFER,null),this}},{key:"setUniforms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e){var r=e[n],i=this._uniformSetters[n],o=t[n];if(i)if(r instanceof l.a&&(r=r.texture),r instanceof u.a){void 0===i.textureIndex&&(i.textureIndex=this._textureIndexCounter++);var a=r,s=i.textureIndex;a.bind(s),o&&o.bind(s),i(s)}else i(r)}return this}},{key:"getAttributeCount",value:function(){return this._getParameter(r.e.ACTIVE_ATTRIBUTES)}},{key:"getAttributeLocation",value:function(e){return this.gl.getAttribLocation(this.handle,e)}},{key:"getAttributeInfo",value:function(e){return this.gl.getActiveAttrib(this.handle,e)}},{key:"getUniformCount",value:function(){return this._getParameter(r.e.ACTIVE_UNIFORMS)}},{key:"getUniformInfo",value:function(e){return this.gl.getActiveUniform(this.handle,e)}},{key:"getUniformLocation",value:function(e){return this.gl.getUniformLocation(this.handle,e)}},{key:"getUniformValue",value:function(e){return this.gl.getUniform(this.handle,e)}},{key:"getVarying",value:function(e,t){return this.gl.getTransformFeedbackVarying(e,t)}},{key:"getFragDataLocation",value:function(e){return Object(i.c)(this.gl),this.gl.getFragDataLocation(this.handle,e)}},{key:"getAttachedShaders",value:function(){return this.gl.getAttachedShaders(this.handle)}},{key:"_compileAndLink",value:function(){var e=this.gl;if((e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),d.f.time(3,"linkProgram for "+this._getName()),e.linkProgram(this.handle),d.f.timeEnd(3,"linkProgram for "+this._getName()),e.debug||d.f.priority>0)&&(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,e.LINK_STATUS)))throw new Error("Error linking "+e.getProgramInfoLog(this.handle));this._queryAttributeLocations(),this._queryUniformLocations()}},{key:"_sortBuffersByLocation",value:function(e){var t=null,n=[];if(Object(d.d)(e))return{locations:n,elements:t};for(var i in n=new Array(this._attributeCount),e){var o=e[i],a=this._attributeToLocationMap[i];if(void 0===a){if(o.target===r.e.ELEMENT_ARRAY_BUFFER&&t)throw new Error(this._print(i)+" duplicate GL.ELEMENT_ARRAY_BUFFER");o.target===r.e.ELEMENT_ARRAY_BUFFER?t=i:this._warnedLocations[a]||(d.f.log(2,this._print(i)+" not used"),this._warnedLocations[a]=!0)}else{if(o.target===r.e.ELEMENT_ARRAY_BUFFER)throw new Error(this._print(i)+":"+a+" has both location and type gl.ELEMENT_ARRAY_BUFFER");n[a]=i}}return{locations:n,elements:t}}},{key:"_areAllAttributesEnabled",value:function(){for(var e=this._attributeCount,t=0;t<e;++t)if(!this.vertexAttributes.isEnabled(t))return!1;return!0}},{key:"_print",value:function(e){return"Program "+this.id+": Attribute "+e}},{key:"_createHandle",value:function(){return this.gl.createProgram()}},{key:"_deleteHandle",value:function(){this.gl.deleteProgram(this.handle)}},{key:"_getName",value:function(){var e=this.vs.getName()||this.fs.getName();return e=(e=e.replace(/shader/i,""))?e+"-program":"program"}},{key:"_getOptionsFromHandle",value:function(e){var t=this.gl.getAttachedShaders(e),n={},i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;switch(this.gl.getShaderParameter(this.handle,r.e.SHADER_TYPE)){case r.e.VERTEX_SHADER:n.vs=new f.c({handle:l});break;case r.e.FRAGMENT_SHADER:n.fs=new f.a({handle:l})}}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n}},{key:"_getParameter",value:function(e){return this.gl.getProgramParameter(this.handle,e)}},{key:"_queryAttributeLocations",value:function(){this._attributeToLocationMap={},this._attributeCount=this.getAttributeCount();for(var e=0;e<this._attributeCount;e++){var t=this.getAttributeInfo(e).name;this._attributeToLocationMap[t]=this.getAttributeLocation(t)}this._warnedLocations={}}},{key:"_queryUniformLocations",value:function(){var e=this.gl;this._uniformSetters={},this._uniformCount=this.getUniformCount();for(var t=0;t<this._uniformCount;t++){var n=this.getUniformInfo(t),r=Object(p.e)(n.name),i=this.getUniformLocation(r.name);this._uniformSetters[r.name]=Object(p.c)(e,i,n,r.isArray)}this._textureIndexCounter=0}},{key:"_setId",value:function(e){if(!e){var t=this._getName();this.id=Object(d.h)(t)}}}]),t}();t.a=m},function(e,t,n){"use strict";var r=n(271),i=n.n(r),o={},a=0;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof t&&(t={path:t});var n=t,r=n.path,s=void 0===r?"/":r,u=n.exact,l=void 0!==u&&u,c=n.strict,p=void 0!==c&&c,f=n.sensitive,h=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=o[n]||(o[n]={});if(r[e])return r[e];var s=[],u={re:i()(e,s,t),keys:s};return a<1e4&&(r[e]=u,a++),u}(s,{end:l,strict:p,sensitive:void 0!==f&&f}),d=h.re,g=h.keys,y=d.exec(e);if(!y)return null;var v=y[0],m=y.slice(1),_=e===v;return l&&!_?null:{path:s,url:"/"===s&&""===v?"/":v,isExact:_,params:g.reduce(function(e,t,n){return e[t.name]=m[n],e},{})}}},function(e,t,n){"use strict";var r=n(13),i=n.n(r),o=n(19),a=n.n(o),s=n(3),u=n.n(s),l=n(11),c=n.n(l),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;a()(null==n||1===u.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){e.setState({match:e.computeMatch(r.location.pathname)})})},t.prototype.componentWillReceiveProps=function(e){i()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?u.a.Children.only(e):null},t}(u.a.Component);h.propTypes={history:c.a.object.isRequired,children:c.a.node},h.contextTypes={router:c.a.object},h.childContextTypes={router:c.a.object.isRequired},t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return v});var r=n(0),i=n(44),o=n(124),a=n(1),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}return e===t},p={enable:function(e,t){return e(l({},t,!0))},disable:function(e,t){return e(l({},t,!1))},pixelStorei:function(e,t,n){return e(l({},t,n))},hint:function(e,t,n){return e(l({},t,n))},bindFramebuffer:function(e,t,n){var i;switch(t){case r.a.FRAMEBUFFER:return e((l(i={},r.a.DRAW_FRAMEBUFFER_BINDING,n),l(i,r.a.READ_FRAMEBUFFER_BINDING,n),i));case r.a.DRAW_FRAMEBUFFER:return e(l({},r.a.DRAW_FRAMEBUFFER_BINDING,n));case r.a.READ_FRAMEBUFFER:return e(l({},r.a.READ_FRAMEBUFFER_BINDING,n));default:return null}},blendColor:function(e,t,n,i,o){return e(l({},r.a.BLEND_COLOR,new Float32Array([t,n,i,o])))},blendEquation:function(e,t){var n;return e((l(n={},r.a.BLEND_EQUATION_RGB,t),l(n,r.a.BLEND_EQUATION_ALPHA,t),n))},blendEquationSeparate:function(e,t,n){var i;return e((l(i={},r.a.BLEND_EQUATION_RGB,t),l(i,r.a.BLEND_EQUATION_ALPHA,n),i))},blendFunc:function(e,t,n){var i;return e((l(i={},r.a.BLEND_SRC_RGB,t),l(i,r.a.BLEND_DST_RGB,n),l(i,r.a.BLEND_SRC_ALPHA,t),l(i,r.a.BLEND_DST_ALPHA,n),i))},blendFuncSeparate:function(e,t,n,i,o){var a;return e((l(a={},r.a.BLEND_SRC_RGB,t),l(a,r.a.BLEND_DST_RGB,n),l(a,r.a.BLEND_SRC_ALPHA,i),l(a,r.a.BLEND_DST_ALPHA,o),a))},clearColor:function(e,t,n,i,o){return e(l({},r.a.COLOR_CLEAR_VALUE,new Float32Array([t,n,i,o])))},clearDepth:function(e,t){return e(l({},r.a.DEPTH_CLEAR_VALUE,t))},clearStencil:function(e,t){return e(l({},r.a.STENCIL_CLEAR_VALUE,t))},colorMask:function(e,t,n,i,o){return e(l({},r.a.COLOR_WRITEMASK,[t,n,i,o]))},cullFace:function(e,t){return e(l({},r.a.CULL_FACE_MODE,t))},depthFunc:function(e,t){return e(l({},r.a.DEPTH_FUNC,t))},depthRange:function(e,t,n){return e(l({},r.a.DEPTH_RANGE,new Float32Array([t,n])))},depthMask:function(e,t){return e(l({},r.a.DEPTH_WRITEMASK,t))},frontFace:function(e,t){return e(l({},r.a.FRONT_FACE,t))},lineWidth:function(e,t){return e(l({},r.a.LINE_WIDTH,t))},polygonOffset:function(e,t,n){var i;return e((l(i={},r.a.POLYGON_OFFSET_FACTOR,t),l(i,r.a.POLYGON_OFFSET_UNITS,n),i))},sampleCoverage:function(e,t,n){var i;return e((l(i={},r.a.SAMPLE_COVERAGE_VALUE,t),l(i,r.a.SAMPLE_COVERAGE_INVERT,n),i))},scissor:function(e,t,n,i,o){return e(l({},r.a.SCISSOR_BOX,new Int32Array([t,n,i,o])))},stencilMask:function(e,t){var n;return e((l(n={},r.a.STENCIL_WRITEMASK,t),l(n,r.a.STENCIL_BACK_WRITEMASK,t),n))},stencilMaskSeparate:function(e,t,n){return e(l({},t===r.a.FRONT?r.a.STENCIL_WRITEMASK:r.a.STENCIL_BACK_WRITEMASK,n))},stencilFunc:function(e,t,n,i){var o;return e((l(o={},r.a.STENCIL_FUNC,t),l(o,r.a.STENCIL_REF,n),l(o,r.a.STENCIL_VALUE_MASK,i),l(o,r.a.STENCIL_BACK_FUNC,t),l(o,r.a.STENCIL_BACK_REF,n),l(o,r.a.STENCIL_BACK_VALUE_MASK,i),o))},stencilFuncSeparate:function(e,t,n,i,o){var a;return e((l(a={},t===r.a.FRONT?r.a.STENCIL_FUNC:r.a.STENCIL_BACK_FUNC,n),l(a,t===r.a.FRONT?r.a.STENCIL_REF:r.a.STENCIL_BACK_REF,i),l(a,t===r.a.FRONT?r.a.STENCIL_VALUE_MASK:r.a.STENCIL_BACK_VALUE_MASK,o),a))},stencilOp:function(e,t,n,i){var o;return e((l(o={},r.a.STENCIL_FAIL,t),l(o,r.a.STENCIL_PASS_DEPTH_FAIL,n),l(o,r.a.STENCIL_PASS_DEPTH_PASS,i),l(o,r.a.STENCIL_BACK_FAIL,t),l(o,r.a.STENCIL_BACK_PASS_DEPTH_FAIL,n),l(o,r.a.STENCIL_BACK_PASS_DEPTH_PASS,i),o))},stencilOpSeparate:function(e,t,n,i,o){var a;return e((l(a={},t===r.a.FRONT?r.a.STENCIL_FAIL:r.a.STENCIL_BACK_FAIL,n),l(a,t===r.a.FRONT?r.a.STENCIL_PASS_DEPTH_FAIL:r.a.STENCIL_BACK_PASS_DEPTH_FAIL,i),l(a,t===r.a.FRONT?r.a.STENCIL_PASS_DEPTH_PASS:r.a.STENCIL_BACK_PASS_DEPTH_PASS,o),a))},viewport:function(e,t,n,i,o){return e(l({},r.a.VIEWPORT,new Int32Array([t,n,i,o])))}};function f(e,t){var n=e[t].bind(e);e[t]=function(){var t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache||(e.state.cache[t]=n.apply(void 0,arguments)),e.state.enable?e.state.cache[t]:n.apply(void 0,arguments)},Object.defineProperty(e[t],"name",{value:t+"-from-cache",configurable:!1})}function h(e,t,n){var r=e[t].bind(e);e[t]=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var s,u=n.apply(void 0,[e.state._updateCache].concat(o)),l=u.valueChanged,c=u.oldValue;l&&((s=e.state).log.apply(s,["gl."+t].concat(o)),r.apply(void 0,o));return c},Object.defineProperty(e[t],"name",{value:t+"-to-cache",configurable:!1})}var d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.copyState,o=void 0!==r&&r,a=n.log,s=void 0===a?function(){}:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=t,this.stateStack=[],this.enable=!0,this.cache=o?Object(i.b)(t):Object.assign({},i.a),this.log=s,this._updateCache=this._updateCache.bind(this),Object.seal(this)}return u(e,[{key:"push",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stateStack.push({})}},{key:"pop",value:function(){s()(this.stateStack.length>0);var e=this.stateStack[this.stateStack.length-1];Object(i.d)(this.gl,e,this.cache),this.stateStack.pop()}},{key:"_updateCache",value:function(e){var t=!1,n=void 0,r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(var i in e)s()(void 0!==i),c(e[i],this.cache[i])||(t=!0,n=this.cache[i],!r||i in r||(r[i]=this.cache[i]),this.cache[i]=e[i]);return{valueChanged:t,oldValue:n}}}]),e}();function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.enable,r=void 0===n||n,i=t.copyState;if(s()(void 0!==i),!e.state){for(var a in Object(o.a)(e),e.state=new d(e,{copyState:i,enable:r}),p){h(e,a,p[a])}f(e,"getParameter"),f(e,"isEnabled")}return e.state.enable=r,e}function y(e){s()(e.state),e.state.push()}function v(e){s()(e.state),e.state.pop()}},function(e,t){e.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],p=t[6],f=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+p*r,e[3]=u*i+f*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=p*i-s*r,e[7]=f*i-u*r,e}},function(e,t,n){var r=n(356);e.exports=function(e,t,n,i){var o,a,s,u,l,c,p,f,h,d,g=t[0],y=t[1],v=t[2],m=i[0],_=i[1],A=i[2],b=n[0],x=n[1],w=n[2];if(Math.abs(g-b)<1e-6&&Math.abs(y-x)<1e-6&&Math.abs(v-w)<1e-6)return r(e);p=g-b,f=y-x,h=v-w,d=1/Math.sqrt(p*p+f*f+h*h),o=_*(h*=d)-A*(f*=d),a=A*(p*=d)-m*h,s=m*f-_*p,(d=Math.sqrt(o*o+a*a+s*s))?(o*=d=1/d,a*=d,s*=d):(o=0,a=0,s=0);u=f*s-h*a,l=h*o-p*s,c=p*a-f*o,(d=Math.sqrt(u*u+l*l+c*c))?(u*=d=1/d,l*=d,c*=d):(u=0,l=0,c=0);return e[0]=o,e[1]=u,e[2]=p,e[3]=0,e[4]=a,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(o*g+a*y+s*v),e[13]=-(u*g+l*y+c*v),e[14]=-(p*g+f*y+h*v),e[15]=1,e}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r=n(12),i=n(21);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.fround(e),i=e-Math.fround(e);return t[n]=r,t[n+1]=i,t}function a(e){for(var t=new Float32Array(32),n=0;n<4;++n)for(var r=0;r<4;++r){var i=4*n+r;o(e[4*r+n],t,2*i)}return t}function s(e){return e-Math.fround(e)}function u(e){if(e.fp64){if(e.coordinateSystem===i.a.LNGLAT)return!0;r.a.once(0,"64-bit mode only works with coordinateSystem set to\n      COORDINATE_SYSTEM.LNGLAT. Rendering in 32-bit mode instead")}return!1}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=t[9],f=t[10],h=t[11],d=t[12],g=t[13],y=t[14],v=t[15],m=n*s-r*a,_=n*u-i*a,A=n*l-o*a,b=r*u-i*s,x=r*l-o*s,w=i*l-o*u,E=c*g-p*d,T=c*y-f*d,M=c*v-h*d,S=p*y-f*g,C=p*v-h*g,I=f*v-h*y,P=m*I-_*C+A*S+b*M-x*T+w*E;if(!P)return null;return P=1/P,e[0]=(s*I-u*C+l*S)*P,e[1]=(i*C-r*I-o*S)*P,e[2]=(g*w-y*x+v*b)*P,e[3]=(f*x-p*w-h*b)*P,e[4]=(u*M-a*I-l*T)*P,e[5]=(n*I-i*M+o*T)*P,e[6]=(y*A-d*w-v*_)*P,e[7]=(c*w-f*A+h*_)*P,e[8]=(a*C-s*M+l*E)*P,e[9]=(r*M-n*C-o*E)*P,e[10]=(d*x-g*A+v*m)*P,e[11]=(p*A-c*x-h*m)*P,e[12]=(s*T-a*S-u*E)*P,e[13]=(n*S-r*T+i*E)*P,e[14]=(g*_-d*b-y*m)*P,e[15]=(c*b-p*_+f*m)*P,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(82)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(119),i=n(198),o=n(157),a=Object.defineProperty;t.f=n(73)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments[1];return(e[r.type]||function(e){return e})(n,r)}}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,u],p=0;(l=new Error(t.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var r=n(2),i=n(9),o=n(24),a=n(1),s=n.n(a),u=n(5),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=[34338,34339,34340,34341,34922,34373,34975,35069,35070],p=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.elements=null,r.buffers={},r.locations={},r.names={},r.drawParameters={},r._bound=!1,r._filledLocations={},Object.seal(r),r.initialize(n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["a"]),l(t,[{key:"MAX_ATTRIBUTES",get:function(){return this.gl.getParameter(this.gl.MAX_VERTEX_ATTRIBS)}}],[{key:"isSupported",value:function(e){return Object(i.h)(e)||e.getExtension("OES_vertex_array_object")}},{key:"getDefaultArray",value:function(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new t(e,{handle:null})),e.luma.defaultVertexArray}},{key:"getMaxAttributes",value:function(e){return e.getParameter(e.MAX_VERTEX_ATTRIBS)}}]),l(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffers,n=void 0===t?{}:t,r=e.elements,i=void 0===r?null:r,o=e.locations,a=void 0===o?{}:o;this.setLocations(a),this.setBuffers(n,{clear:!0}),this.setElements(i)}},{key:"setLocations",value:function(e){this.locations=e,this.names={}}},{key:"setElements",value:function(e){return s()(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.ext.bindVertexArray(this.handle),this.gl.bindBuffer(34963,e&&e.handle),this.ext.bindVertexArray(null),this.elements=e,this}},{key:"_getBufferAndLayout",value:function(e){var t=void 0,n=void 0;return e.handle?(t=e,n=e.layout):(t=e.buffer,n=Object.assign({},t.layout,e.layout||{},e)),{buffer:t,layout:n}}},{key:"setBuffers",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clear;(void 0===t||t)&&this.clearBindings();var n=this._getLocations(e),r=n.locations,i=n.elements;for(var o in this.ext.bindVertexArray(this.handle),r){var a=r[o];if(a){var s=this._getBufferAndLayout(a),u=s.buffer,l=s.layout;this.setBuffer({location:o,buffer:u,layout:l}),this.setDivisor(o,l.instanced?1:0),this.enable(o)}else this.disable(o)}this.buffers=e,this.ext.bindVertexArray(null),i&&this.setElements(i)}},{key:"enable",value:function(e){var t=this;this.bind(function(){t.gl.enableVertexAttribArray(e)})}},{key:"clearBindings",value:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).disableZero,n=void 0!==t&&t;this.bind(function(){for(var t in e._filledLocations)e._filledLocations[t]&&(t>0||n)&&e.gl.disableVertexAttribArray(t);e._filledLocations={}})}},{key:"disable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e>0||n)&&this.bind(function(){t.gl.disableVertexAttribArray(e)})}},{key:"setDivisor",value:function(e,t){var n=this;this.bind(function(){n.ext.vertexAttribDivisor(e,t)})}},{key:"setBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.location,n=e.buffer,r=e.target,o=e.layout,a=this.gl;r=void 0!==r?r:n.target,o=void 0!==o?o:n.layout,s()(r,"setBuffer needs target"),s()(o,"setBuffer called on uninitialized buffer"),this._filledLocations[t]=!0,this.bind(function(){n.bind({target:a.ARRAY_BUFFER});var e=o,r=e.size,u=e.type,l=e.normalized,c=e.stride,p=e.offset;o.integer?(s()(Object(i.h)(a)),a.vertexAttribIPointer(t,r,u,c,p)):a.vertexAttribPointer(t,r,u,l,c,p)})}},{key:"setGeneric",value:function(e){var t=e.location,n=e.array;switch(this._filledLocations[t]=!0,n.constructor){case Float32Array:this._setGenericFloatArray(t,n);break;case Int32Array:this._setGenericIntArray(t,n);break;case Uint32Array:this._setGenericUintArray(t,n);break;default:this.setGenericValues.apply(this,[t].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)))}}},{key:"_setGenericFloatArray",value:function(e,t){var n=this.gl;switch(t.length){case 1:n.vertexAttrib1fv(e,t);break;case 2:n.vertexAttrib2fv(e,t);break;case 3:n.vertexAttrib3fv(e,t);break;case 4:n.vertexAttrib4fv(e,t);break;default:s()(!1)}}},{key:"_setGenericIntArray",value:function(e,t){var n=this.gl;switch(s()(Object(i.h)(n)),t.length){case 1:n.vertexAttribI1iv(e,t);break;case 2:n.vertexAttribI2iv(e,t);break;case 3:n.vertexAttribI3iv(e,t);break;case 4:n.vertexAttribI4iv(e,t);break;default:s()(!1)}}},{key:"_setGenericUintArray",value:function(e,t){var n=this.gl;switch(s()(Object(i.h)(n)),t.length){case 1:n.vertexAttribI1uiv(e,t);break;case 2:n.vertexAttribI2uiv(e,t);break;case 3:n.vertexAttribI3uiv(e,t);break;case 4:n.vertexAttribI4uiv(e,t);break;default:s()(!1)}}},{key:"setGenericValues",value:function(e,t,n,r,i){var o=this.gl;switch(arguments.length-1){case 1:o.vertexAttrib1f(e,t);break;case 2:o.vertexAttrib2f(e,t,n);break;case 3:o.vertexAttrib3f(e,t,n,r);break;case 4:o.vertexAttrib4f(e,t,n,r,i);break;default:s()(!1)}}},{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;if("function"!=typeof e)return this.bindVertexArray(e),this;var t=void 0;return this._bound?t=e():(this.ext.bindVertexArray(this.handle),this._bound=!0,t=e(),this.ext.bindVertexArray(null),this._bound=!1),t}},{key:"_deduceDrawParameters",value:function(){var e=!1,t=!1,n=null;return this.elements&&(t=!0,n=this.elements.layout.type),this.buffers.forEach(function(t){t.layout.instanced>0&&(e=!0)}),{isInstanced:e,isIndexed:t,indexType:n}}},{key:"_getLocations",value:function(e){var t=null,n={};for(var r in e){var i=e[r];i&&34963===i.target&&(s()(!t,"Duplicate GL.ELEMENT_ARRAY_BUFFER"),t=i);var o=Number(r);Number.isFinite(o)||(o=this.locations[r]),s()(Number.isFinite(o)),s()(!n[o],"Duplicate attribute for binding point "+o),n[o]=i}return{locations:n,elements:t}}},{key:"_sortBuffersByLocation",value:function(e){var t=null,n=new Array(this._attributeCount).fill(null);for(var r in e){var i=e[r];34963===i.target?(s()(!t,"Duplicate GL.ELEMENT_ARRAY_BUFFER"),t=i):this._warn[r]||(u.f.warn(2,this._print(r)+" not used"),this._warn[r]=!0);var o=Number(r);Number.isFinite(o)||(o=this.locations[r]),n[o]=r,s()(null===n[o],"Duplicate attribute for binding point "+o),n[o]=o}return{locations:n,elements:t}}},{key:"_createHandle",value:function(){return this.ext.createVertexArray()}},{key:"_deleteHandle",value:function(e){return this.ext.deleteVertexArray(e),[this.elements]}},{key:"_getParameter",value:function(e,t){var n=t.location;s()(Number.isFinite(n)),this.ext.bindVertexArray(this.handle);var r=void 0;switch(e){case 34373:r=this.gl.getVertexAttribOffset(n,e);break;default:r=this.ext.getVertexAttrib(n,e)}return this.ext.bindVertexArray(null),r}},{key:"_getData",value:function(){var e=this;return new Array(this.MAX_ATTRIBUTES).fill(0).map(function(t,n){var i={};return c.forEach(function(t){i[Object(r.d)(t)]=e.getParameter(t,{location:n})}),i})}},{key:"_bind",value:function(e){this.ext.bindVertexArray(e)}},{key:"filledLocations",get:function(){return this._filledLocations}}]),t}();t.a=p},function(e,t,n){(function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"!==(void 0===t?"undefined":r(t))||"[object process]"!==String(t)||t.browser;e.exports={window:"undefined"!=typeof window?window:n,global:void 0!==n?n:window,document:"undefined"!=typeof document?document:{},isBrowser:i}}).call(this,n(85),n(32))},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l});var r=n(5),i=n(23),o=n(18),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e){return r.c?window.requestAnimationFrame(e):setTimeout(e,1e3/60)}function l(e){return r.c?window.cancelAnimationFrame(e):clearTimeout(e)}var c={preserveDrawingBuffer:!0},p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.onCreateContext,i=void 0===n?function(e){return Object(o.createGLContext)(e)}:n,a=t.onInitialize,s=void 0===a?function(){}:a,u=t.onRender,l=void 0===u?function(){}:u,c=t.onFinalize,p=void 0===c?function(){}:c,f=t.gl,h=void 0===f?null:f,d=t.glOptions,g=void 0===d?{}:d,y=t.width,v=void 0===y?null:y,m=t.height,_=void 0===m?null:m,A=t.createFramebuffer,b=void 0!==A&&A,x=t.autoResizeViewport,w=void 0===x||x,E=t.autoResizeDrawingBuffer,T=void 0===E||E,M=t.useDevicePixels,S=void 0===M||M;return"useDevicePixelRatio"in t&&(r.f.deprecated("useDevicePixelRatio","useDevicePixels"),S=t.useDevicePixelRatio),this._onCreateContext=i,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._renderFrame=this._renderFrame.bind(this),this.glOptions=g,this._createFramebuffer=b,this._onInitialize=s,this._onRender=l,this._onFinalize=p,this.width=v,this.height=_,this.gl=h,this.setProps({autoResizeViewport:w,autoResizeDrawingBuffer:T,useDevicePixels:S}),this}return s(e,[{key:"setNeedsRedraw",value:function(e){return this.needsRedraw=this.needsRedraw||e,this}},{key:"setProps",value:function(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._stopped=!1,this._animationFrameId||(this._startPromise=Object(i.d)().then(function(){return e._stopped?null:(e._createWebGLContext(t),e._initializeCallbackData(),e._updateCallbackData(),e._resizeCanvasDrawingBuffer(),e._resizeViewport(),e._onInitialize(e._callbackData))}).then(function(t){e._stopped||(e._addCallbackData(t||{}),!1===t||e._animationFrameId||(e._animationFrameId=u(e._renderFrame)))})),this}},{key:"stop",value:function(){return this._animationFrameId&&(this._finalizeCallbackData(),l(this._animationFrameId),this._animationFrameId=null,this._stopped=!0),this}},{key:"setViewParameters",value:function(e){var t=e.autoResizeDrawingBuffer,n=void 0===t||t,i=e.autoResizeCanvas,o=void 0===i||i,a=e.autoResizeViewport,s=void 0===a||a,u=e.useDevicePixels,l=void 0===u||u,c=e.useDevicePixelRatio,p=void 0===c?null:c;return r.f.deprecated("AnimationLoop.setViewParameters","AnimationLoop.setProps"),this.autoResizeViewport=s,this.autoResizeCanvas=o,this.autoResizeDrawingBuffer=n,this.useDevicePixels=l,null!==p&&(r.f.deprecated("useDevicePixelRatio","useDevicePixels"),this.useDevicePixels=p),this}},{key:"_setupFrame",value:function(){this._onSetupFrame?this._onSetupFrame(this._callbackData):(this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer())}},{key:"_renderFrame",value:function(){this._setupFrame(),this._updateCallbackData(),this._onRender(this._callbackData),this._callbackData.tick++,this._stopped||(this._animationFrameId=u(this._renderFrame))}},{key:"_initializeCallbackData",value:function(){this._callbackData={gl:this.gl,canvas:this.gl.canvas,framebuffer:this.framebuffer,stop:this.stop,tick:0,tock:0,useDevicePixels:this.useDevicePixels}}},{key:"_updateCallbackData",value:function(){var e=this.gl.canvas;this._callbackData.width=e.width,this._callbackData.height=e.height,this._callbackData.aspect=e.width/e.height}},{key:"_finalizeCallbackData",value:function(){this._onFinalize(this._callbackData)}},{key:"_addCallbackData",value:function(e){"object"===(void 0===e?"undefined":a(e))&&null!==e&&(this._callbackData=Object.assign({},this._callbackData,e))}},{key:"_createWebGLContext",value:function(e){if((e=Object.assign({},e,c,this.glOptions)).gl?this.gl=e.gl:this.gl=this._onCreateContext(e),!Object(o.isWebGL)(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");this._createFramebuffer&&(this.framebuffer=new o.Framebuffer(this.gl)),Object(o.resetParameters)(this.gl)}},{key:"_resizeViewport",value:function(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}},{key:"_resizeFramebuffer",value:function(){this.framebuffer&&this.framebuffer.resize({width:this.gl.canvas.width,height:this.gl.canvas.height})}},{key:"_resizeCanvasDrawingBuffer",value:function(){this.autoResizeDrawingBuffer&&Object(i.h)(this.gl.canvas,{useDevicePixels:this.useDevicePixels})}}]),e}();t.b=p},function(e,t,n){var r=n(153)("wks"),i=n(117),o=n(55).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(195),i=n(156);e.exports=function(e){return r(i(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(74),i=n(118);e.exports=n(73)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(55),i=n(60),o=n(349),a=n(83),s=function(e,t,n){var u,l,c,p=e&s.F,f=e&s.G,h=e&s.S,d=e&s.P,g=e&s.B,y=e&s.W,v=f?i:i[t]||(i[t]={}),m=v.prototype,_=f?r:h?r[t]:(r[t]||{}).prototype;for(u in f&&(n=t),n)(l=!p&&_&&void 0!==_[u])&&u in v||(c=l?_[u]:n[u],v[u]=f&&"function"!=typeof _[u]?n[u]:g&&l?o(c,r):y&&_[u]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):d&&"function"==typeof c?o(Function.call,c):c,d&&((v.virtual||(v.virtual={}))[u]=c,e&s.R&&m&&!m[u]&&a(m,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],c=!1,p=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var r=n(268),i="object"==typeof self&&self&&self.Object===Object&&self,o=(r.a||i||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,l=o?o.toStringTag:void 0;var c=function(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=u.call(e);return r&&(t?e[l]=n:delete e[l]),i},p=Object.prototype.toString;var f=function(e){return p.call(e)},h="[object Null]",d="[object Undefined]",g=o?o.toStringTag:void 0;var y=function(e){return null==e?void 0===e?d:h:g&&g in Object(e)?c(e):f(e)};var v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var m=function(e){return null!=e&&"object"==typeof e},_="[object Object]",A=Function.prototype,b=Object.prototype,x=A.toString,w=b.hasOwnProperty,E=x.call(Object);var T=function(e){if(!m(e)||y(e)!=_)return!1;var t=v(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&x.call(n)==E},M=n(181),S=n.n(M),C={INIT:"@@redux/INIT"};function I(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(I)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){return o}function p(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),s.push(e),function(){if(t){t=!1,l();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!T(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:C.INIT}),(r={dispatch:f,subscribe:p,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,f({type:C.INIT})}})[S.a]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[S.a]=function(){return this},e},r}function P(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function k(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n);var a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:C.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+C.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=e[u],p=l(c,t);if(void 0===p){var f=P(u,t);throw new Error(f)}i[u]=p,r=r||p!==c}return r?i:e}}function O(e,t){return function(){return t(e.apply(void 0,arguments))}}function L(e,t){if("function"==typeof e)return O(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=O(a,t))}return r}function R(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o,a=e(n,r,i),s=a.dispatch,u={getState:a.getState,dispatch:function(e){return s(e)}};return o=t.map(function(e){return e(u)}),s=R.apply(void 0,o)(a.dispatch),j({},a,{dispatch:s})}}}n.d(t,"createStore",function(){return I}),n.d(t,"combineReducers",function(){return k}),n.d(t,"bindActionCreators",function(){return L}),n.d(t,"applyMiddleware",function(){return N}),n.d(t,"compose",function(){return R})},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(33),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.d)(e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{target:e.TEXTURE_2D})));return r.initialize(n),Object.seal(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["a"]),a(t,null,[{key:"isSupported",value:function(e,t){return o.a.isSupported(e,t)}}]),a(t,[{key:"bind",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit,t=this.gl;if(void 0===e)throw new Error("Texture.bind: must specify texture unit");return this.textureUnit=e,t.activeTexture(t.TEXTURE0+e),t.bindTexture(this.target,this.handle),e}},{key:"unbind",value:function(){var e=this.gl;if(void 0===this.textureUnit)throw new Error("Texture.unbind: texture unit not specified");return e.activeTexture(e.TEXTURE0+this.textureUnit),e.bindTexture(this.target,null),this.textureUnit}},{key:"getActiveUnit",value:function(){return this.gl.getParameter(r.a.ACTIVE_TEXTURE)-r.a.TEXTURE0}}]),t}();t.a=s},function(e,t,n){"use strict";var r=n(13),i=n.n(r),o=n(19),a=n.n(o),s=n(3),u=n.n(s),l=n(11),c=n.n(l),p=n(64),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){return 0===u.a.Children.count(e)},g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=h(this,e.call.apply(e,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:f({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,i=e.path,o=e.strict,s=e.exact,u=e.sensitive;if(n)return n;a()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,c=(r||l.location).pathname;return i?Object(p.a)(c,{path:i,strict:o,exact:s,sensitive:u}):l.match},t.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!d(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!d(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){i()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,i=t.render,o=this.context.router,a=o.history,s=o.route,l=o.staticContext,c={match:e,location:this.props.location||s.location,history:a,staticContext:l};return r?e?u.a.createElement(r,c):null:i?e?i(c):null:n?"function"==typeof n?n(c):d(n)?null:u.a.Children.only(n):null},t}(u.a.Component);g.propTypes={computedMatch:c.a.object,path:c.a.string,exact:c.a.bool,strict:c.a.bool,sensitive:c.a.bool,component:c.a.func,render:c.a.func,children:c.a.oneOfType([c.a.func,c.a.node]),location:c.a.object},g.contextTypes={router:c.a.shape({history:c.a.object.isRequired,route:c.a.object.isRequired,staticContext:c.a.object})},g.childContextTypes={router:c.a.object.isRequired},t.a=g},function(e,t){e.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],p=t[10],f=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+p*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=p*i-s*r,e[11]=f*i-u*r,e}},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e}},function(e,t,n){"use strict";(function(e){var r=n(6),i=n.n(r),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=!("object"===(void 0===e?"undefined":a(e))&&"[object process]"===String(e)&&!e.browser)?n(353):null;function u(){}var l={container:i.a.object,mapboxApiAccessToken:i.a.string,attributionControl:i.a.bool,preserveDrawingBuffer:i.a.bool,onLoad:i.a.func,onError:i.a.func,reuseMaps:i.a.bool,transformRequest:i.a.func,mapStyle:i.a.string,visible:i.a.bool,width:i.a.number.isRequired,height:i.a.number.isRequired,longitude:i.a.number.isRequired,latitude:i.a.number.isRequired,zoom:i.a.number.isRequired,bearing:i.a.number,pitch:i.a.number,altitude:i.a.number},c={mapboxApiAccessToken:function(){var t=null;if("undefined"!=typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);t=n&&n[1]}t||void 0===e||(t=t||Object({NODE_ENV:"production",MAPBOX_API_TOKEN:"pk.eyJ1Ijoic2t5bmV0LXJpY2UiLCJhIjoiY2phbzU2a3hkM2luZDMzcGxzejNhaWdxYiJ9.nC5BtNoLkeX4fBoF-nakxw",PIWIK_URL:"https://analytics.kevinlin.info",PIWIK_SITE_ID:"5",PIWIK_CLIENT_TRACKER_NAME:"client",PIWIK_SERVER_TRACKER_NAME:"server"}).MapboxAccessToken);return t||null}(),preserveDrawingBuffer:!1,attributionControl:!0,preventStyleDiffing:!1,onLoad:u,onError:u,reuseMaps:!1,transformRequest:null,mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,bearing:0,pitch:0,altitude:1.5};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&i.a.checkPropTypes(l,e,"prop",t)}var f=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!s)throw new Error("Mapbox not supported");!e.initialized&&console.debug&&(e.initialized=!0,console.debug("react-map-gl: using mapbox-gl v"+s.version)),this.props={},this._initialize(t)}return o(e,null,[{key:"supported",value:function(){return s&&s.supported()}}]),o(e,[{key:"finalize",value:function(){return s&&this._map?(this._destroy(),this):this}},{key:"setProps",value:function(e){return s&&this._map?(this._update(this.props,e),this):this}},{key:"resize",value:function(){return s&&this._map?(this._map.resize(),this):this}},{key:"getMap",value:function(){return this._map}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap){this._map=this.map=e.savedMap;var n=this._map.getContainer(),r=t.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,e.savedMap=null,t.onLoad()}else{var i={container:t.container||document.body,center:[t.longitude,t.latitude],zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,style:t.mapStyle,interactive:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(i.transformRequest=t.transformRequest),this._map=this.map=new s.Map(i),this.map.once("load",t.onLoad),this.map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){e.savedMap?this._map.remove():e.savedMap=this._map}},{key:"_initialize",value:function(e){p(e=Object.assign({},c,e),"Mapbox"),this.accessToken=e.mapboxApiAccessToken||c.mapboxApiAccessToken,s&&(this.accessToken?s.accessToken=this.accessToken:s.accessToken="no-token"),this._create(e);var t=this.map.getCanvas();t&&(t.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){p(t=Object.assign({},this.props,t),"Mapbox"),this._updateMapViewport(e,t),this._updateMapSize(e,t),this.props=t}},{key:"_updateMapViewport",value:function(e,t){(t.latitude!==e.latitude||t.longitude!==e.longitude||t.zoom!==e.zoom||t.pitch!==e.pitch||t.bearing!==e.bearing||t.altitude!==e.altitude)&&(this._map.jumpTo({center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.altitude!==e.altitude&&(this._map.transform.altitude=t.altitude))}},{key:"_updateMapSize",value:function(e,t){(e.width!==t.width||e.height!==t.height)&&this._map.resize()}}]),e}();t.a=f,f.propTypes=l,f.defaultProps=c}).call(this,n(85))},function(e,t,n){var r=n(196),i=n(152);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(51);t.a={name:"lighting",dependencies:[r.a],vs:"#define NUM_OF_LIGHTS 2\n\n// TODO these should be using lighting_ prefix\nuniform vec3 lightsPosition[16];\nuniform vec2 lightsStrength[16];\nuniform float ambientRatio;\nuniform float diffuseRatio;\nuniform float specularRatio;\n\nfloat lighting_getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  float lightWeight = 0.0;\n\n  vec3 normals_worldspace_vec3 = normals_worldspace.xyz;\n\n  vec3 camera_pos_worldspace = project_uCameraPosition;\n  vec3 view_direction = normalize(camera_pos_worldspace - position_worldspace_vec3);\n\n  for (int i = 0; i < NUM_OF_LIGHTS; i++) {\n    vec3 light_position_worldspace = project_position(lightsPosition[i]);\n    vec3 light_direction = normalize(light_position_worldspace - position_worldspace_vec3);\n\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normals_worldspace_vec3);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normals_worldspace_vec3, halfway_direction), 0.0);\n      specular = pow(specular_angle, 32.0);\n    }\n    lambertian = max(lambertian, 0.0);\n    lightWeight += (ambientRatio + lambertian * diffuseRatio + specular * specularRatio) *\n      lightsStrength[i].x;\n\n  }\n\n  return lightWeight;\n}\n\n// DEPRECATED - Backwards compatibility\n\nfloat getLightWeight(vec3 position_worldspace_vec3, vec3 normals_worldspace) {\n  return lighting_getLightWeight(position_worldspace_vec3, normals_worldspace);\n}\n"}},function(e,t,n){"use strict";var r=n(4),i=n(51),o=n(69),a=n(138),s=(t.a={name:"project64",dependencies:[i.a,r.n],vs:"\nconst vec2 WORLD_SCALE_FP64 = vec2(81.4873275756836, 0.0000032873668232014097);\n\nuniform vec2 project64_uScale;\nuniform vec2 project_uViewProjectionMatrixFP64[16];\n\n// longitude: lnglat_fp64.xy; latitude: lnglat_fp64.zw\nvoid mercatorProject_fp64(vec4 lnglat_fp64, out vec2 out_val[2]) {\n\n#if defined(NVIDIA_FP64_WORKAROUND)\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64 * ONE);\n#else\n  out_val[0] = sum_fp64(radians_fp64(lnglat_fp64.xy), PI_FP64);\n#endif\n  out_val[1] = sub_fp64(PI_FP64,\n    log_fp64(tan_fp64(sum_fp64(PI_4_FP64, radians_fp64(lnglat_fp64.zw) / 2.0))));\n  return;\n}\n\nvoid project_position_fp64(vec4 position_fp64, out vec2 out_val[2]) {\n  vec2 pos_fp64[2];\n  mercatorProject_fp64(position_fp64, pos_fp64);\n  vec2 x_fp64 = mul_fp64(pos_fp64[0], project64_uScale);\n  vec2 y_fp64 = mul_fp64(pos_fp64[1], project64_uScale);\n  out_val[0] = mul_fp64(x_fp64, WORLD_SCALE_FP64);\n  out_val[1] = mul_fp64(y_fp64, WORLD_SCALE_FP64);\n\n  return;\n}\n\nvec4 project_to_clipspace_fp64(vec2 vertex_pos_modelspace[4]) {\n  vec2 vertex_pos_clipspace[4];\n  mat4_vec4_mul_fp64(project_uViewProjectionMatrixFP64, vertex_pos_modelspace,\n    vertex_pos_clipspace);\n  return vec4(\n    vertex_pos_clipspace[0].x,\n    vertex_pos_clipspace[1].x,\n    vertex_pos_clipspace[2].x,\n    vertex_pos_clipspace[3].x\n    );\n}\n",getUniforms:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.project_uViewProjectionMatrix,n=e.project_uScale;if(t&&n)return s({project_uViewProjectionMatrix:t,project_uScale:n});return{}},deprecations:[{type:"uniform vec2",old:"projectionFP64[16]",new:"project_uViewProjectionMatrixFP64"},{type:"uniform vec2",old:"projectionScaleFP64",new:"project64_uScale"}]},Object(a.a)(function(e){var t=e.project_uViewProjectionMatrix,n=e.project_uScale,r=Object(o.d)(t),i=Object(o.c)(n);return{project_uViewProjectionMatrixFP64:r,project64_uViewProjectionMatrix:r,project64_uScale:i}}))},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),console.debug=console.debug||console.log;var r={},i={priority:0,table:function(e,t){e<=i.priority&&t&&console.table(t)},log:function(e,t){if(e<=i.priority){for(var n,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(n=console).debug.apply(n,["luma.gl: "+t].concat(o))}},info:function(e,t){if(e<=i.priority){for(var n,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(n=console).log.apply(n,["luma.gl: "+t].concat(o))}},once:function(e,t){if(!r[t]){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];i.log.apply(i,[e,t].concat(o)),r[t]=!0}},warn:function(e){if(!r[e]){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(t=console).warn.apply(t,["luma.gl: "+e].concat(i)),r[e]=!0}},error:function(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=console).error.apply(t,["luma.gl: "+e].concat(r))},image:function(e){var t=e.priority,n=e.image,r=e.message,a=void 0===r?"":r,s=e.scale,u=void 0===s?1:s;if(!(t>i.priority)&&"undefined"!=typeof window){if("string"==typeof n){var l=new Image;l.onload=o.bind(null,l,a,u),l.src=n}var c=n.nodeName||"";if("img"===c.toLowerCase()&&o(n,a,u),"canvas"===c.toLowerCase()){var p=new Image;p.onload=o.bind(null,p,a,u),p.src=n.toDataURL()}}},deprecated:function(e,t){i.warn("`"+e+"` is deprecated and will be removed in a later version. Use `"+t+"` instead")},removed:function(e,t){i.error("`"+e+"` is no longer supported. Use `"+t+"` instead,   check our Upgrade Guide for more details")},group:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).collapsed,r=void 0!==n&&n;e<=i.priority&&(r?console.groupCollapsed("luma.gl: "+t):console.group("luma.gl: "+t))},groupEnd:function(e,t){e<=i.priority&&console.groupEnd("luma.gl: "+t)},time:function(e,t){e<=i.priority&&(console.time?console.time(t):console.info(t))},timeEnd:function(e,t){e<=i.priority&&(console.timeEnd?console.timeEnd(t):console.info(t))}};function o(e,t,n){var r=e.width*n,i=e.height*n,o=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");console.log(t+" %c+",["font-size:1px;","padding:"+Math.floor(i/2)+"px "+Math.floor(r/2)+"px;","line-height:"+i+"px;","background:url("+o+");","background-size:"+r+"px "+i+"px;","color:transparent;"].join(""))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isInteger,r=void 0!==n&&n;if(Array.isArray(e)||ArrayBuffer.isView(e))return function(e,t){for(var n=t.maxElts,r=void 0===n?16:n,i=t.size,o=void 0===i?1:i,s="[",u=0;u<e.length&&u<r;++u)u>0&&(s+=","+(u%o==0?" ":"")),s+=a(e[u],t);return s+(e.length>r?"...":"]")}(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<1e-16)return r?"0":"0.";if(r)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);var i=e.toPrecision(2);return i.indexOf(".0")===i.length-2?i.slice(0,-1):i}t.a=i},function(e,t,n){"use strict";var r=n(24),i=n(36),o=n(25),a=n(9),s=n(23),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){return e},c=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),i=n.onComplete,o=void 0===i?l:i,a=n.onError,s=void 0===a?l:a;return r.target=null,r.onComplete=o,r.onError=s,r.promise=null,Object.seal(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),u(t,null,[{key:"isSupported",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.queries,r=void 0!==n&&n,i=t.timers,u=void 0!==i&&i,l=t.timestamps,c=void 0!==l&&l,p=Object(a.h)(e),f=Object(o.d)(e,o.a.TIMER_QUERY),h=p||f;if(r&&(h=h&&p),u&&(h=h&&f),c){Object(s.g)(e);var d=e.getQuery(36392,34916);h=h&&d>0}return h}}]),u(t,[{key:"beginTimeElapsedQuery",value:function(){return this.begin(35007)}},{key:"beginOcclusionQuery",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).conservative,t=void 0!==e&&e;return this.begin(t?36202:35887)}},{key:"beginTransformFeedbackQuery",value:function(){return this.begin(35976)}},{key:"getTimestamp",value:function(){i.a.beginQuery(this,this.onComplete,this.onError);try{this.gl.queryCounter(this.handle,36392)}catch(e){i.a.rejectQuery(this,'Timer queries require "EXT_disjoint_timer_query" extension')}return this}},{key:"begin",value:function(e){i.a.beginQuery(this,this.onComplete,this.onError),this.target=e;try{this.gl.beginQuery(this.target,this.handle)}catch(e){i.a.rejectQuery(this,"Query not supported")}return this}},{key:"end",value:function(){return this.target&&(this.ext.endQuery(this.target),this.target=null),this}},{key:"cancel",value:function(){return this.end(),i.a.cancelQuery(this),this}},{key:"isResultAvailable",value:function(){return this.gl.getQueryParameter(this.handle,34919)}},{key:"getResult",value:function(){var e=this.gl.getQueryParameter(this.handle,34918);return Number.isFinite(e)?e/1e6:0}},{key:"_createHandle",value:function(){return t.isSupported(this.gl)?this.gl.createQuery():null}},{key:"_deleteHandle",value:function(){i.a.deleteQuery(this),this.gl.deleteQuery(this.handle)}}],[{key:"poll",value:function(e){i.a.poll(e)}}]),t}();t.a=c,i.a.setInvalidator({queryType:c,errorMessage:"Disjoint GPU operation invalidated timer queries",checkInvalid:function(e){return e.getParameter(36795)}})},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}},function(e,t,n){"use strict";n.r(t);var r=n(13),i=n.n(r),o=n(19),a=n.n(o),s=n(178),u=n(177),l=function(e){return"/"===e.charAt(0)?e:"/"+e},c=function(e){return"/"===e.charAt(0)?e.substr(1):e},p=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},f=function(e,t){return p(e,t)?e.substr(t.length):e},h=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},d=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},g=function(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=function(e,t,n,r){var i=void 0;"string"==typeof e?(i=d(e)).state=t:(void 0===(i=y({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(s.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i},m=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(u.default)(e.state,t.state)},_=function(){var e=null,t=[];return{setPrompt:function(t){return i()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}},A=!("undefined"==typeof window||!window.document||!window.document.createElement),b=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},x=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},w=function(e,t){return t(window.confirm(e))},E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M=function(){try{return window.history.state||{}}catch(e){return{}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(A,"Browser history needs a DOM");var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e.forceRefresh,u=void 0!==s&&s,c=e.getUserConfirmation,d=void 0===c?w:c,y=e.keyLength,m=void 0===y?6:y,S=e.basename?h(l(e.basename)):"",C=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return i()(!S||p(a,S),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+S+'".'),S&&(a=f(a,S)),v(a,r,n)},I=function(){return Math.random().toString(36).substr(2,m)},P=_(),k=function(e){T(Y,e),Y.length=n.length,P.notifyListeners(Y.location,Y.action)},O=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||j(C(e.state))},L=function(){j(C(M()))},R=!1,j=function(e){R?(R=!1,k()):P.confirmTransitionTo(e,"POP",d,function(t){t?k({action:"POP",location:e}):N(e)})},N=function(e){var t=Y.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(R=!0,z(i))},B=C(M()),D=[B.key],F=function(e){return S+g(e)},z=function(e){n.go(e)},U=0,G=function(e){1===(U+=e)?(b(window,"popstate",O),o&&b(window,"hashchange",L)):0===U&&(x(window,"popstate",O),o&&x(window,"hashchange",L))},V=!1,Y={length:n.length,action:"POP",location:B,createHref:F,push:function(e,t){i()(!("object"===(void 0===e?"undefined":E(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=v(e,t,I(),Y.location);P.confirmTransitionTo(o,"PUSH",d,function(e){if(e){var t=F(o),a=o.key,s=o.state;if(r)if(n.pushState({key:a,state:s},null,t),u)window.location.href=t;else{var l=D.indexOf(Y.location.key),c=D.slice(0,-1===l?0:l+1);c.push(o.key),D=c,k({action:"PUSH",location:o})}else i()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t}})},replace:function(e,t){i()(!("object"===(void 0===e?"undefined":E(e))&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=v(e,t,I(),Y.location);P.confirmTransitionTo(o,"REPLACE",d,function(e){if(e){var t=F(o),a=o.key,s=o.state;if(r)if(n.replaceState({key:a,state:s},null,t),u)window.location.replace(t);else{var l=D.indexOf(Y.location.key);-1!==l&&(D[l]=o.key),k({action:"REPLACE",location:o})}else i()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(t)}})},go:z,goBack:function(){return z(-1)},goForward:function(){return z(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=P.setPrompt(e);return V||(G(1),V=!0),function(){return V&&(V=!1,G(-1)),t()}},listen:function(e){var t=P.appendListener(e);return G(1),function(){G(-1),t()}}};return Y},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+c(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:c,decodePath:l},slash:{encodePath:l,decodePath:l}},P=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},k=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(A,"Hash history needs a DOM");var t=window.history,n=-1===window.navigator.userAgent.indexOf("Firefox"),r=e.getUserConfirmation,o=void 0===r?w:r,s=e.hashType,u=void 0===s?"slash":s,c=e.basename?h(l(e.basename)):"",d=I[u],y=d.encodePath,E=d.decodePath,T=function(){var e=E(P());return i()(!c||p(e,c),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+c+'".'),c&&(e=f(e,c)),v(e)},M=_(),S=function(e){C(H,e),H.length=t.length,M.notifyListeners(H.location,H.action)},O=!1,L=null,R=function(){var e=P(),t=y(e);if(e!==t)k(t);else{var n=T(),r=H.location;if(!O&&m(r,n))return;if(L===g(n))return;L=null,j(n)}},j=function(e){O?(O=!1,S()):M.confirmTransitionTo(e,"POP",o,function(t){t?S({action:"POP",location:e}):N(e)})},N=function(e){var t=H.location,n=z.lastIndexOf(g(t));-1===n&&(n=0);var r=z.lastIndexOf(g(e));-1===r&&(r=0);var i=n-r;i&&(O=!0,U(i))},B=P(),D=y(B);B!==D&&k(D);var F=T(),z=[g(F)],U=function(e){i()(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},G=0,V=function(e){1===(G+=e)?b(window,"hashchange",R):0===G&&x(window,"hashchange",R)},Y=!1,H={length:t.length,action:"POP",location:F,createHref:function(e){return"#"+y(c+g(e))},push:function(e,t){i()(void 0===t,"Hash history cannot push state; it is ignored");var n=v(e,void 0,void 0,H.location);M.confirmTransitionTo(n,"PUSH",o,function(e){if(e){var t=g(n),r=y(c+t);if(P()!==r){L=t,function(e){window.location.hash=e}(r);var o=z.lastIndexOf(g(H.location)),a=z.slice(0,-1===o?0:o+1);a.push(t),z=a,S({action:"PUSH",location:n})}else i()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),S()}})},replace:function(e,t){i()(void 0===t,"Hash history cannot replace state; it is ignored");var n=v(e,void 0,void 0,H.location);M.confirmTransitionTo(n,"REPLACE",o,function(e){if(e){var t=g(n),r=y(c+t);P()!==r&&(L=t,k(r));var i=z.indexOf(g(H.location));-1!==i&&(z[i]=t),S({action:"REPLACE",location:n})}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=M.setPrompt(e);return Y||(V(1),Y=!0),function(){return Y&&(Y=!1,V(-1)),t()}},listen:function(e){var t=M.appendListener(e);return V(1),function(){V(-1),t()}}};return H},L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(e,t,n){return Math.min(Math.max(e,t),n)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,r=void 0===n?["/"]:n,o=e.initialIndex,a=void 0===o?0:o,s=e.keyLength,u=void 0===s?6:s,l=_(),c=function(e){R(m,e),m.length=m.entries.length,l.notifyListeners(m.location,m.action)},p=function(){return Math.random().toString(36).substr(2,u)},f=j(a,0,r.length-1),h=r.map(function(e){return v(e,void 0,"string"==typeof e?p():e.key||p())}),d=g,y=function(e){var n=j(m.index+e,0,m.entries.length-1),r=m.entries[n];l.confirmTransitionTo(r,"POP",t,function(e){e?c({action:"POP",location:r,index:n}):c()})},m={length:h.length,action:"POP",location:h[f],index:f,entries:h,createHref:d,push:function(e,n){i()(!("object"===(void 0===e?"undefined":L(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=v(e,n,p(),m.location);l.confirmTransitionTo(r,"PUSH",t,function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),c({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,n){i()(!("object"===(void 0===e?"undefined":L(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=v(e,n,p(),m.location);l.confirmTransitionTo(r,"REPLACE",t,function(e){e&&(m.entries[m.index]=r,c({action:"REPLACE",location:r}))})},go:y,goBack:function(){return y(-1)},goForward:function(){return y(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return m};n.d(t,"createBrowserHistory",function(){return S}),n.d(t,"createHashHistory",function(){return O}),n.d(t,"createMemoryHistory",function(){return N}),n.d(t,"createLocation",function(){return v}),n.d(t,"locationsAreEqual",function(){return m}),n.d(t,"parsePath",function(){return d}),n.d(t,"createPath",function(){return g})},function(e,t,n){"use strict";var r=n(5),i=n(10),o=n(1),a=n.n(o),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(){function e(t){var n=t.id;t.display;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.position=new i.c,this.rotation=new i.c,this.scale=new i.c(1,1,1),this.matrix=new i.a,this.id=n||Object(r.h)(this.constructor.name),this.display=!0,this.userData={}}return s(e,[{key:"setPosition",value:function(e){return a()(3===e.length,"setPosition requires vector argument"),this.position=e,this}},{key:"setRotation",value:function(e){return a()(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}},{key:"setScale",value:function(e){return a()(3===e.length,"setScale requires vector argument"),this.scale=e,this}},{key:"setMatrixComponents",value:function(e){var t=e.position,n=e.rotation,r=e.scale,i=e.update,o=void 0===i||i;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),o&&this.updateMatrix(),this}},{key:"updateMatrix",value:function(){var e=this.position,t=this.rotation,n=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(n),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=e.rotation,r=e.scale;return t&&this.setPosition(t),n&&this.setRotation(n),r&&this.setScale(r),this.updateMatrix(),this}},{key:"getCoordinateUniforms",value:function(e,t){a()(e),t=t||this.matrix;var n=new i.a(e).multiplyRight(t),r=n.invert();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:n,worldInverseMatrix:r,worldInverseTransposeMatrix:r.transpose()}}},{key:"transform",value:function(){if(this.parent){var e=this.parent;this.endPosition.set(this.position.add(e.endPosition)),this.endRotation.set(this.rotation.add(e.endRotation)),this.endScale.set(this.scale.add(e.endScale))}else this.endPosition.set(this.position),this.endRotation.set(this.rotation),this.endScale.set(this.scale);for(var t=this.children,n=0;n<t.length;++n)t[n].transform();return this}}]),e}();t.a=u},function(e,t,n){(function(t){WebGLDebugUtils=function(){var e;void 0===e&&(e=t);var n=function(t){e.console&&e.console.error?e.console.error(t):function(t){e.console&&e.console.log&&e.console.log(t)}(t)},r={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},bindBuffer:{2:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}},bufferData:{3:{0:!0,2:!0},4:{0:!0,2:!0},5:{0:!0,2:!0}},bufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},copyBufferSubData:{5:{0:!0,1:!0}},getBufferSubData:{3:{0:!0},4:{0:!0},5:{0:!0}},blitFramebuffer:{10:{8:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]},9:!0}},framebufferTextureLayer:{5:{0:!0,1:!0}},invalidateFramebuffer:{2:{0:!0}},invalidateSubFramebuffer:{6:{0:!0}},readBuffer:{1:{0:!0}},getInternalformatParameter:{3:{0:!0,1:!0,2:!0}},renderbufferStorageMultisample:{5:{0:!0,2:!0}},texStorage2D:{5:{0:!0,2:!0}},texStorage3D:{6:{0:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0},10:{0:!0,2:!0,6:!0,7:!0}},texImage3D:{10:{0:!0,2:!0,7:!0,8:!0},11:{0:!0,2:!0,7:!0,8:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0},10:{0:!0,6:!0,7:!0}},texSubImage3D:{11:{0:!0,8:!0,9:!0},12:{0:!0,8:!0,9:!0}},copyTexSubImage3D:{9:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0},8:{0:!0,2:!0},9:{0:!0,2:!0}},compressedTexImage3D:{8:{0:!0,2:!0},9:{0:!0,2:!0},10:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0},9:{0:!0,6:!0},10:{0:!0,6:!0}},compressedTexSubImage3D:{10:{0:!0,8:!0},11:{0:!0,8:!0},12:{0:!0,8:!0}},vertexAttribIPointer:{5:{2:!0}},drawArraysInstanced:{4:{0:!0}},drawElementsInstanced:{5:{0:!0,2:!0}},drawRangeElements:{6:{0:!0,4:!0}},readPixels:{7:{4:!0,5:!0},8:{4:!0,5:!0}},clearBufferfv:{3:{0:!0},4:{0:!0}},clearBufferiv:{3:{0:!0},4:{0:!0}},clearBufferuiv:{3:{0:!0},4:{0:!0}},clearBufferfi:{4:{0:!0}},beginQuery:{2:{0:!0}},endQuery:{1:{0:!0}},getQuery:{2:{0:!0,1:!0}},getQueryParameter:{2:{1:!0}},samplerParameteri:{3:{1:!0,2:!0}},samplerParameterf:{3:{1:!0}},getSamplerParameter:{2:{1:!0}},fenceSync:{2:{0:!0,1:{enumBitwiseOr:[]}}},clientWaitSync:{3:{1:{enumBitwiseOr:["SYNC_FLUSH_COMMANDS_BIT"]}}},waitSync:{3:{1:{enumBitwiseOr:[]}}},getSyncParameter:{2:{1:!0}},bindTransformFeedback:{2:{0:!0}},beginTransformFeedback:{1:{0:!0}},transformFeedbackVaryings:{3:{2:!0}},bindBufferBase:{3:{0:!0}},bindBufferRange:{5:{0:!0}},getIndexedParameter:{2:{0:!0}},getActiveUniforms:{3:{2:!0}},getActiveUniformBlockParameter:{3:{2:!0}}},i=null,o=null;function a(e){if(null==i)for(var t in i={},o={},e)"number"==typeof e[t]&&(i[e[t]]=t,o[t]=e[t])}function s(){if(null==i)throw"WebGLDebugUtils.init(ctx) not called"}function u(e){s();var t=i[e];return void 0!==t?"gl."+t:"/*UNKNOWN WebGL ENUM*/ 0x"+e.toString(16)}function l(e,t,n,i){var a;if(void 0!==(a=r[e])&&(void 0!==(a=a[t])&&a[n])){if("object"==typeof a[n]&&void 0!==a[n].enumBitwiseOr){for(var s=a[n].enumBitwiseOr,l=0,c=[],p=0;p<s.length;++p){var f=o[s[p]];0!=(i&f)&&(l|=f,c.push(u(f)))}return l===i?c.join(" | "):u(i)}return u(i)}return null===i?"null":void 0===i?"undefined":i.toString()}function c(e,t,n){e.__defineGetter__(n,function(){return t[n]}),e.__defineSetter__(n,function(e){t[n]=e})}function p(e){var t=!!e.createTransformFeedback;t&&e.bindVertexArray(null);var n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);for(var i=0;i<n;++i)e.disableVertexAttribArray(i),e.vertexAttribPointer(i,4,e.FLOAT,!1,0,0),e.vertexAttrib1f(i,0),t&&e.vertexAttribDivisor(i,0);e.deleteBuffer(r);var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(i=0;i<o;++i)e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindTexture(e.TEXTURE_2D,null),t&&(e.bindTexture(e.TEXTURE_2D_ARRAY,null),e.bindTexture(e.TEXTURE_3D,null),e.bindSampler(i,null));if(e.activeTexture(e.TEXTURE0),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.SCISSOR_TEST),e.blendColor(0,0,0,0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(-1),e.colorMask(!0,!0,!0,!0),e.cullFace(e.BACK),e.depthFunc(e.LESS),e.depthMask(!0),e.depthRange(0,1),e.frontFace(e.CCW),e.hint(e.GENERATE_MIPMAP_HINT,e.DONT_CARE),e.lineWidth(1),e.pixelStorei(e.PACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.BROWSER_DEFAULT_WEBGL),e.polygonOffset(0,0),e.sampleCoverage(1,!1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilMask(4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT),t){e.drawBuffers([e.BACK]),e.readBuffer(e.BACK),e.bindBuffer(e.COPY_READ_BUFFER,null),e.bindBuffer(e.COPY_WRITE_BUFFER,null),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),e.bindBuffer(e.PIXEL_UNPACK_BUFFER,null);var a=e.getParameter(e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS);for(i=0;i<a;++i)e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,i,null);var s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);for(i=0;i<s;++i)e.bindBufferBase(e.UNIFORM_BUFFER,i,null);e.disable(e.RASTERIZER_DISCARD),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.pixelStorei(e.UNPACK_ROW_LENGTH,0),e.pixelStorei(e.UNPACK_SKIP_ROWS,0),e.pixelStorei(e.UNPACK_SKIP_PIXELS,0),e.pixelStorei(e.PACK_ROW_LENGTH,0),e.pixelStorei(e.PACK_SKIP_ROWS,0),e.pixelStorei(e.PACK_SKIP_PIXELS,0),e.hint(e.FRAGMENT_SHADER_DERIVATIVE_HINT,e.DONT_CARE)}for(;e.getError(););}return{init:a,mightBeEnum:function(e){return s(),void 0!==i[e]},glEnumToString:u,glFunctionArgToString:l,glFunctionArgsToString:function(e,t){for(var n="",r=t.length,i=0;i<r;++i)n+=(0==i?"":", ")+l(e,r,i,t[i]);return n},makeDebugContext:function e(t,r,i,o){o=o||t,a(t),r=r||function(e,t,r){for(var i="",o=r.length,a=0;a<o;++a)i+=(0==a?"":", ")+l(t,o,a,r[a]);n("WebGL error "+u(e)+" in "+t+"("+i+")")};var s={};function p(e,t){return function(){i&&i(t,arguments);var n=e[t].apply(e,arguments),a=o.getError();return 0!=a&&(s[a]=!0,r(a,t,arguments)),n}}var f={};for(var h in t)if("function"==typeof t[h])if("getExtension"!=h)f[h]=p(t,h);else{var d=p(t,h);f[h]=function(){var n=d.apply(t,arguments);return n?e(n,r,i,o):null}}else c(f,t,h);return f.getError=function(){for(var e in s)if(s.hasOwnProperty(e)&&s[e])return s[e]=!1,e;return t.NO_ERROR},f},makeLostContextSimulatingCanvas:function(t){var n,r,i,o=[],a=[],s={},u=1,l=!1,f=[],h=0,d=0,g=!1,y=0,v={};function m(e){return"function"==typeof e?e:function(t){e.handleEvent(t)}}t.getContext=(i=t.getContext,function(){var o=i.apply(t,arguments);if(o instanceof WebGLRenderingContext||e.WebGL2RenderingContext&&o instanceof WebGL2RenderingContext){if(o!=n){if(n)throw"got different context";r=e.WebGL2RenderingContext&&o instanceof WebGL2RenderingContext,s=function(e){for(var t in e)"function"==typeof e[t]?s[t]=x(e,t):c(s,e,t);s.getError=function(){if(b(),!l)for(;e=n.getError();)v[e]=!0;for(var e in v)if(v[e])return delete v[e],e;return s.NO_ERROR};var i=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"];r&&i.push("createQuery","createSampler","fenceSync","createTransformFeedback","createVertexArray");for(var o=0;o<i.length;++o){var a=i[o];s[a]=function(t){return function(){if(b(),l)return null;var n=t.apply(e,arguments);return n.__webglDebugContextLostId__=u,f.push(n),n}}(e[a])}var p=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"];r&&p.push("getInternalformatParameter","getQuery","getQueryParameter","getSamplerParameter","getSyncParameter","getTransformFeedbackVarying","getIndexedParameter","getUniformIndices","getActiveUniforms","getActiveUniformBlockParameter","getActiveUniformBlockName");for(var o=0;o<p.length;++o){var a=p[o];s[a]=function(t){return function(){return b(),l?null:t.apply(e,arguments)}}(s[a])}var h,d=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"];r&&d.push("isQuery","isSampler","isSync","isTransformFeedback","isVertexArray");for(var o=0;o<d.length;++o){var a=d[o];s[a]=function(t){return function(){return b(),!l&&t.apply(e,arguments)}}(s[a])}return s.checkFramebufferStatus=(h=s.checkFramebufferStatus,function(){return b(),l?s.FRAMEBUFFER_UNSUPPORTED:h.apply(e,arguments)}),s.getAttribLocation=function(t){return function(){return b(),l?-1:t.apply(e,arguments)}}(s.getAttribLocation),s.getVertexAttribOffset=function(t){return function(){return b(),l?0:t.apply(e,arguments)}}(s.getVertexAttribOffset),s.isContextLost=function(){return l},r&&(s.getFragDataLocation=function(t){return function(){return b(),l?-1:t.apply(e,arguments)}}(s.getFragDataLocation),s.clientWaitSync=function(t){return function(){return b(),l?s.WAIT_FAILED:t.apply(e,arguments)}}(s.clientWaitSync),s.getUniformBlockIndex=function(t){return function(){return b(),l?s.INVALID_INDEX:t.apply(e,arguments)}}(s.getUniformBlockIndex)),s}(n=o)}return s}return o});var _=function(e){o.push(m(e))},A=function(e){a.push(m(e))};function b(){++d,l||h==d&&t.loseContext()}function x(e,t){var n=e[t];return function(){if(b(),!l)return n.apply(e,arguments)}}function w(e){return{statusMessage:e,preventDefault:function(){g=!0}}}return function(e){var t=e.addEventListener;e.addEventListener=function(n,r,i){switch(n){case"webglcontextlost":_(r);break;case"webglcontextrestored":A(r);break;default:t.apply(e,arguments)}}}(t),t.loseContext=function(){if(!l){for(l=!0,h=0,++u;n.getError(););!function(){for(var e=Object.keys(v),t=0;t<e.length;++t)delete v[e[t]]}(),v[n.CONTEXT_LOST_WEBGL]=!0;var e=w("context lost"),r=o.slice();setTimeout(function(){for(var n=0;n<r.length;++n)r[n](e);y>=0&&setTimeout(function(){t.restoreContext()},y)},0)}},t.restoreContext=function(){l&&a.length&&setTimeout(function(){if(!g)throw"can not restore. webglcontestlost listener did not call event.preventDefault";!function(){for(var e=0;e<f.length;++e){var t=f[e];t instanceof WebGLBuffer?n.deleteBuffer(t):t instanceof WebGLFramebuffer?n.deleteFramebuffer(t):t instanceof WebGLProgram?n.deleteProgram(t):t instanceof WebGLRenderbuffer?n.deleteRenderbuffer(t):t instanceof WebGLShader?n.deleteShader(t):t instanceof WebGLTexture?n.deleteTexture(t):r&&(t instanceof WebGLQuery?n.deleteQuery(t):t instanceof WebGLSampler?n.deleteSampler(t):t instanceof WebGLSync?n.deleteSync(t):t instanceof WebGLTransformFeedback?n.deleteTransformFeedback(t):t instanceof WebGLVertexArrayObject&&n.deleteVertexArray(t))}}(),p(n),l=!1,d=0,g=!1;for(var e=a.slice(),t=w("context restored"),i=0;i<e.length;++i)e[i](t)},0)},t.loseContextInNCalls=function(e){if(l)throw"You can not ask a lost contet to be lost";h=d+e},t.getNumCalls=function(){return d},t.setRestoreTimeout=function(e){y=e},t},resetToInitialState:p}}(),e.exports=WebGLDebugUtils}).call(this,n(32))},function(e,t,n){"use strict";var r=n(45),i=n(18),o=n(25);function a(e,t){var n=e.vendor,r=e.renderer,i=void 0;switch(t){case"nvidia":i=n.match(/NVIDIA/i)||r.match(/NVIDIA/i);break;case"intel":i=n.match(/INTEL/i)||r.match(/INTEL/i);break;case"amd":i=n.match(/AMD/i)||r.match(/AMD/i)||n.match(/ATI/i)||r.match(/ATI/i);break;default:i=!1}return i}var s,u,l=n(1),c=n.n(l),p=n(5);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return b});var h="vs",d="fs",g=(f(s={},h,"vertex"),f(s,d,"fragment"),s),y=(f(u={},h,"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n"),f(u,d,"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"),u),v="#ifdef GL_ES\nprecision highp float;\n#endif\n\n";function m(e,t){Object(r.a)(e).deprecations.forEach(function(e){e.regex.test(t)&&(e.deprecated?p.f.deprecated(e.old,e.new):p.f.removed(e.old,e.new))})}function _(e,t){var n=Object(r.a)(e),i=void 0;switch(t){case h:i=n.vs||n.vertexShader;break;case d:i=n.fs||n.fragmentShader;break;default:c()(!1)}return"string"!=typeof i?"":"#define MODULE_"+e.toUpperCase()+"\n"+i+"// END MODULE_"+e+"\n\n"}function A(e,t){var n=t.id,r=t.source,s=t.type,u=t.modules,l=void 0===u?[]:u,p=t.defines,f=void 0===p?{}:p;c()("string"==typeof r,"shader source must be a string");var h=r.split("\n"),A="",b=r;0===h[0].indexOf("#version ")&&(A=h[0],b=h.slice(1).join("\n"));var x=function(e){var t=e.id,n=e.source,r=e.type;return t&&"string"==typeof t&&-1===n.indexOf("SHADER_NAME")?"\n#define SHADER_NAME "+t+"_"+g[r]+"\n\n":""}({id:n,source:r,type:s})+"\n"+function(e){var t="",n=Object(i.getContextInfo)(e);return a(n,"nvidia")?t+="#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n":a(n,"intel")?t+="#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n":a(n,"amd")?t+="#define AMD_GPU\n":t+="#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n",t}(e)+"\n"+function(e){var t="// Defines for shader portability\n#if (__VERSION__ > 120)\n# define attribute in\n# define varying out\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n#else\n// # define in attribute\n// # define out varying\n#endif // __VERSION\n";return Object(o.c)(e,o.a.GLSL_FRAG_DEPTH)&&(t+="// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),Object(o.c)(e,o.a.GLSL_DERIVATIVES)&&(t+="// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define DERIVATIVES\n#endif\n"),Object(o.c)(e,o.a.GLSL_FRAG_DATA)&&(t+="// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define DRAW_BUFFERS\n#endif\n"),Object(o.c)(e,o.a.GLSL_TEXTURE_LOD)&&(t+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n# define TEXTURE_LOD\n#define texture2DLod texture2DLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define texture2DProjLod texture2DProjLodEXT\n#define textureCubeLod textureCubeLodEXT\n#define texture2DGrad texture2DGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define texture2DProjGrad texture2DProjGradEXT\n#define textureCubeGrad textureCubeGradEXT\n#endif\n"),t}(e)+"\n"+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(var r in e)0===t&&(n+="\n// APPLICATION DEFINES\n"),t++,n+="#define "+r.toUpperCase()+" "+e[r]+"\n";return 0===t&&(n+="\n"),n}(f)+"\n"+(s===d?v:"")+"\n",w=!1,E=!0,T=!1,M=void 0;try{for(var S,C=l[Symbol.iterator]();!(E=(S=C.next()).done);E=!0){var I=S.value;switch(I){case"inject":w=!0;break;default:m(I,b),x+=_(I,s)}}}catch(e){T=!0,M=e}finally{try{!E&&C.return&&C.return()}finally{if(T)throw M}}return x=A+x+b,w&&x.replace("}s*$",y),x}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vs,i=t.fs,o=Object(r.c)(t.modules||[]);return{gl:e,vs:A(e,Object.assign({},t,{source:n,type:h,modules:o})),fs:A(e,Object.assign({},t,{source:i,type:d,modules:o})),getUniforms:function(e){return function(t){var n={},i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=Object(r.a)(l),p=c.getUniforms?c.getUniforms(t,n):{};Object.assign(n,p)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return n}}(o),modules:function(e){var t={},n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,l=Object(r.a)(u);t[u]=l}}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return t}(o)}}},function(e,t,n){"use strict";var r=n(29),i=n(5);var o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.nlat,r=void 0===n?10:n,o=e.nlong,a=void 0===o?10:o,s=e.radius,u=void 0===s?1:s,l=e.id,c=void 0===l?Object(i.h)("sphere-geometry"):l;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{id:c,attributes:function(e,t,n){var r=Math.PI-0,i=2*Math.PI-0,o=(e+1)*(t+1);if("number"==typeof n){var a=n;n=function(e,t,n,r,i){return a}}for(var s=new Float32Array(3*o),u=new Float32Array(3*o),l=new Float32Array(2*o),c=new Uint16Array(e*t*6),p=0;p<=e;p++)for(var f=0;f<=t;f++){var h=f/t,d=p/e,g=f+p*(t+1),y=2*g,v=3*g,m=i*h,_=r*d,A=Math.sin(m),b=Math.cos(m),x=Math.sin(_),w=Math.cos(_),E=b*x,T=w,M=A*x,S=n(E,T,M,h,d);s[v+0]=S*E,s[v+1]=S*T,s[v+2]=S*M,u[v+0]=E,u[v+1]=T,u[v+2]=M,l[y+0]=h,l[y+1]=d}for(var C=e+1,I=0;I<e;I++)for(var P=0;P<t;P++){var k=6*(I*t+P);c[k+0]=P*C+I,c[k+1]=P*C+I+1,c[k+2]=(P+1)*C+I,c[k+3]=(P+1)*C+I,c[k+4]=P*C+I+1,c[k+5]=(P+1)*C+I+1}return{positions:s,indices:c,normals:u,texCoords:l}}(r,a,u)})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=o},function(e,t,n){"use strict";var r=n(29),i=n(5);var o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.type,r=void 0===n?"x,y":n,o=e.offset,a=void 0===o?0:o,s=e.flipCull,u=void 0!==s&&s,l=e.unpack,c=void 0!==l&&l,p=e.id,f=void 0===p?Object(i.h)("plane-geometry"):p,h=r.split(","),d=e[h[0]+"len"],g=e[h[1]+"len"],y=e["n"+h[0]]||1,v=e["n"+h[1]]||1,m=(y+1)*(v+1),_=new Float32Array(3*m),A=new Float32Array(3*m),b=new Float32Array(2*m);u&&(d=-d);for(var x=0,w=0,E=0;E<=v;E++)for(var T=0;T<=y;T++){var M=T/y,S=E/v;switch(b[x+0]=u?1-M:M,b[x+1]=S,r){case"x,y":_[w+0]=d*M-.5*d,_[w+1]=g*S-.5*g,_[w+2]=a,A[w+0]=0,A[w+1]=0,A[w+2]=u?1:-1;break;case"x,z":_[w+0]=d*M-.5*d,_[w+1]=a,_[w+2]=g*S-.5*g,A[w+0]=0,A[w+1]=u?1:-1,A[w+2]=0;break;case"y,z":_[w+0]=a,_[w+1]=d*M-.5*d,_[w+2]=g*S-.5*g,A[w+0]=u?1:-1,A[w+1]=0,A[w+2]=0}x+=2,w+=3}for(var C=y+1,I=new Uint16Array(y*v*6),P=0;P<v;P++)for(var k=0;k<y;k++){var O=6*(P*y+k);I[O+0]=(P+0)*C+k,I[O+1]=(P+1)*C+k,I[O+2]=(P+0)*C+k+1,I[O+3]=(P+1)*C+k,I[O+4]=(P+1)*C+k+1,I[O+5]=(P+0)*C+k+1}if(c){for(var L=new Float32Array(3*I.length),R=new Float32Array(3*I.length),j=new Float32Array(2*I.length),N=0;N<I.length;++N){var B=I[N];L[3*N+0]=_[3*B+0],L[3*N+1]=_[3*B+1],L[3*N+2]=_[3*B+2],R[3*N+0]=A[3*B+0],R[3*N+1]=A[3*B+1],R[3*N+2]=A[3*B+2],j[2*N+0]=b[2*B+0],j[2*N+1]=b[2*B+1]}_=L,A=R,b=j,I=void 0}var D={positions:_,normals:A,texCoords:b};return I&&(D.indices=I),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{attributes:D,id:f})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=o},function(e,t,n){"use strict";var r=n(29),i=n(10);var o=[-1,0,0,0,1,0,0,0,-1,0,0,1,0,-1,0,1,0,0],a=[3,4,5,3,5,1,3,1,0,3,0,4,4,0,2,4,2,5,2,0,1,5,2,1],s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.iterations,r=void 0===n?0:n,s=Math.PI,u=2*s,l=[].concat(o),c=[].concat(a);l.push(),c.push();for(var p,f=(p={},function(e,t){var n=((e*=3)<(t*=3)?e:t)+"|"+(e>t?e:t);if(n in p)return p[n];var r=l[e],i=l[e+1],o=l[e+2],a=(r+l[t])/2,s=(i+l[t+1])/2,u=(o+l[t+2])/2,c=Math.sqrt(a*a+s*s+u*u);return a/=c,s/=c,u/=c,l.push(a,s,u),p[n]=l.length/3-1}),h=0;h<r;h++){for(var d=[],g=0;g<c.length;g+=3){var y=f(c[g+0],c[g+1]),v=f(c[g+1],c[g+2]),m=f(c[g+2],c[g+0]);d.push(m,c[g+0],y,y,c[g+1],v,v,c[g+2],m,y,v,m)}c=d}for(var _=new Array(3*c.length),A=new Array(2*c.length),b=c.length-3;b>=0;b-=3){var x=c[b+0],w=c[b+1],E=c[b+2],T=3*x,M=3*w,S=3*E,C=2*x,I=2*w,P=2*E,k=l[T+0],O=l[T+1],L=l[T+2],R=Math.acos(L/Math.sqrt(k*k+O*O+L*L))/s,j=1-(Math.atan2(O,k)+s)/u,N=l[M+0],B=l[M+1],D=l[M+2],F=Math.acos(D/Math.sqrt(N*N+B*B+D*D))/s,z=1-(Math.atan2(B,N)+s)/u,U=l[S+0],G=l[S+1],V=l[S+2],Y=Math.acos(V/Math.sqrt(U*U+G*G+V*V))/s,H=1-(Math.atan2(G,U)+s)/u,W=[U-N,G-B,V-D],Q=[k-N,O-B,L-D],X=new i.c(W).cross(Q).normalize(),Z=void 0;(0===j||0===z||0===H)&&(0===j||j>.5)&&(0===z||z>.5)&&(0===H||H>.5)&&(l.push(l[T+0],l[T+1],l[T+2]),Z=l.length/3-1,c.push(Z),A[2*Z+0]=1,A[2*Z+1]=R,_[3*Z+0]=X.x,_[3*Z+1]=X.y,_[3*Z+2]=X.z,l.push(l[M+0],l[M+1],l[M+2]),Z=l.length/3-1,c.push(Z),A[2*Z+0]=1,A[2*Z+1]=F,_[3*Z+0]=X.x,_[3*Z+1]=X.y,_[3*Z+2]=X.z,l.push(l[S+0],l[S+1],l[S+2]),Z=l.length/3-1,c.push(Z),A[2*Z+0]=1,A[2*Z+1]=Y,_[3*Z+0]=X.x,_[3*Z+1]=X.y,_[3*Z+2]=X.z),_[T+0]=_[M+0]=_[S+0]=X.x,_[T+1]=_[M+1]=_[S+1]=X.y,_[T+2]=_[M+2]=_[S+2]=X.z,A[C+0]=j,A[C+1]=R,A[I+0]=z,A[I+1]=F,A[P+0]=H,A[P+1]=Y}return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{attributes:{positions:new Float32Array(l),normals:new Float32Array(_),texCoords:new Float32Array(A),indices:new Uint16Array(c)}})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=s},function(e,t,n){"use strict";var r=n(62);var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.radius,r=void 0===n?1:n;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{bottomRadius:r,topRadius:r})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=i},function(e,t,n){"use strict";var r=n(29),i=n(5);var o=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.id,r=void 0===n?Object(i.h)("cube-geometry"):n;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{id:r,attributes:{indices:new Uint16Array(a),positions:new Float32Array(s),normals:new Float32Array(u),texCoords:new Float32Array(l)}})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=o;var a=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),s=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),u=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),l=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1])},function(e,t,n){"use strict";var r=n(62);var i=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.radius,r=void 0===n?1:n,i=e.cap,o=void 0===i||i;return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{topRadius:0,topCap:Boolean(o),bottomCap:Boolean(o),bottomRadius:r})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),t}();t.a=i},function(e,t,n){"use strict";var r=n(27),i=n(63),o=n(1),a=n.n(o),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gl,r=t._cachePrograms,i=void 0!==r&&r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a()(n),this.gl=n,this.vertexShaders={},this.fragmentShaders={},this.programs={},this._cachePrograms=i}return s(e,[{key:"delete",value:function(){return this}},{key:"getVertexShader",value:function(e,t){a()("string"==typeof t),a()(this._compareContexts(e,this.gl));var n=this.vertexShaders[t];return n||(n=new r.c(e,t),this.vertexShaders[t]=n),n}},{key:"getFragmentShader",value:function(e,t){a()("string"==typeof t),a()(this._compareContexts(e,this.gl));var n=this.fragmentShaders[t];return n||(n=new r.a(e,t),this.fragmentShaders[t]=n),n}},{key:"getProgram",value:function(e,t){a()(this._compareContexts(e,this.gl)),a()("string"==typeof t.vs),a()("string"==typeof t.fs),a()("string"==typeof t.id);var n=this._getProgramKey(t),r=this.programs[n];return r?(this._resetProgram(r),r):(r=this._createNewProgram(e,t),this._cachePrograms&&this._checkProgramProp(r)&&(r._isCached=!0,this.programs[n]=r),r)}},{key:"_getProgramKey",value:function(e){return e.id+"-"+e.vs+"-"+e.fs}},{key:"_checkProgramProp",value:function(e){return!e.varyings}},{key:"_createNewProgram",value:function(e,t){var n=t.vs,r=t.fs,o=this.getVertexShader(e,n),a=this.getFragmentShader(e,r);return new i.a(this.gl,Object.assign({},t,{vs:o,fs:a}))}},{key:"_resetProgram",value:function(e,t){e.reset()}},{key:"_compareContexts",value:function(e,t){return(e.gl||e)===(t.gl||t)}}]),e}();t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(8),i=n(9);n(1);function o(e,t){var n=t.x,o=t.y,a=t.width,s=void 0===a?1:a,u=t.height,l=void 0===u?1:u,c=t.data,p=t.dataOffset,f=void 0===p?0:p,h=t.type,d=void 0===h?r.e.UNSIGNED_BYTE:h,g=t.sourceHeight,y=t.format,v=void 0===y?r.e.RGBA:y;return c=c||new Uint8Array(4*s*l),o=g?g-o:o,f?(Object(i.c)(e),e.readPixels(n,o,s,l,v,d,c,f)):e.readPixels(n,o,s,l,v,d,c),c}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),i=n(9);n(1);function o(e,t){var n=t.drawMode,o=void 0===n?r.b.TRIANGLES:n,a=t.vertexCount,s=t.offset,u=void 0===s?0:s,l=t.isIndexed,c=void 0!==l&&l,p=t.indexType,f=void 0===p?r.b.UNSIGNED_SHORT:p,h=t.isInstanced,d=void 0!==h&&h,g=t.instanceCount,y=void 0===g?0:g;Object(i.d)(e);e.getExtension("ANGLE_instanced_arrays");if(d){var v=isWebGL2(e),m=e.getExtension("ANGLE_instanced_arrays"),_=v?e:m,A=v?"":"ANGLE",b="drawArraysInstanced"+A;c?_["drawElementsInstanced"+A](o,a,f,u,y):_[b](o,u,a,y)}else c?e.drawElements(o,a,f,u):e.drawArrays(o,u,a)}},function(e,t,n){"use strict";var r=n(2),i=n(33),o=n(1),a=n.n(o),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=[r.a.TEXTURE_CUBE_MAP_POSITIVE_X,r.a.TEXTURE_CUBE_MAP_NEGATIVE_X,r.a.TEXTURE_CUBE_MAP_POSITIVE_Y,r.a.TEXTURE_CUBE_MAP_NEGATIVE_Y,r.a.TEXTURE_CUBE_MAP_POSITIVE_Z,r.a.TEXTURE_CUBE_MAP_NEGATIVE_Z],l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({},n,{target:r.a.TEXTURE_CUBE_MAP})));return i.initialize(n),Object.seal(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),s(t,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.format,n=void 0===t?r.a.RGBA:t,i=e.mipmaps,o=void 0===i||i,s=e.width,u=void 0===s?1:s,l=e.height,c=void 0===l?1:l,p=e.type,f=void 0===p?r.a.UNSIGNED_BYTE:p,h=e.dataFormat,d=this._deduceParameters({format:n,type:f,dataFormat:h});f=d.type,h=d.dataFormat;var g=this._deduceImageSize({data:e[r.a.TEXTURE_CUBE_MAP_POSITIVE_X],width:u,height:c});u=g.width,c=g.height,a()(u===c),this.setCubeMapImageData(e),o&&this.generateMipmap(e),this.opts=e}},{key:"subImage",value:function(e){var t=e.face,n=e.data,r=e.x,i=void 0===r?0:r,o=e.y,a=void 0===o?0:o,s=e.mipmapLevel,u=void 0===s?0:s;return this._subImage({target:t,data:n,x:i,y:a,mipmapLevel:u})}},{key:"setCubeMapImageData",value:function(e){var t=e.width,n=e.height,i=e.pixels,o=e.data,a=e.border,s=void 0===a?0:a,l=e.format,c=void 0===l?r.a.RGBA:l,p=e.type,f=void 0===p?r.a.UNSIGNED_BYTE:p,h=(e.generateMipmap,this.gl);if(i=i||o,this.bind(),this.width||this.height){var d=!0,g=!1,y=void 0;try{for(var v,m=u[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var _=v.value;h.texImage2D(_,0,c,t,n,s,c,f,i[_])}}catch(e){g=!0,y=e}finally{try{!d&&m.return&&m.return()}finally{if(g)throw y}}}else{var A=!0,b=!1,x=void 0;try{for(var w,E=u[Symbol.iterator]();!(A=(w=E.next()).done);A=!0){var T=w.value;h.texImage2D(T,0,c,c,f,i[T])}}catch(e){b=!0,x=e}finally{try{!A&&E.return&&E.return()}finally{if(b)throw x}}}}},{key:"bind",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).index;return void 0!==e&&this.gl.activeTexture(r.a.TEXTURE0+e),this.gl.bindTexture(r.a.TEXTURE_CUBE_MAP,this.handle),e}},{key:"unbind",value:function(){return this.gl.bindTexture(r.a.TEXTURE_CUBE_MAP,null),this}}]),t}();t.a=l,l.FACES=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GESTURE_EVENT_ALIASES=t.EVENT_RECOGNIZER_MAP=t.INPUT_EVENT_TYPES=t.BASIC_EVENT_ALIASES=t.RECOGNIZER_FALLBACK_MAP=t.RECOGNIZER_COMPATIBLE_MAP=t.RECOGNIZERS=void 0;var r,i=n(193),o=(r=i)&&r.__esModule?r:{default:r};t.RECOGNIZERS=o.default?[[o.default.Rotate,{enable:!1}],[o.default.Pinch,{enable:!1}],[o.default.Swipe,{enable:!1}],[o.default.Pan,{threshold:0,enable:!1}],[o.default.Press,{enable:!1}],[o.default.Tap,{event:"doubletap",taps:2,enable:!1}],[o.default.Tap,{enable:!1}]]:null,t.RECOGNIZER_COMPATIBLE_MAP={rotate:["pinch"]},t.RECOGNIZER_FALLBACK_MAP={doubletap:["tap"]},t.BASIC_EVENT_ALIASES={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},t.INPUT_EVENT_TYPES={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel","DOMMouseScroll"]},t.EVENT_RECOGNIZER_MAP={tap:"tap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},t.GESTURE_EVENT_ALIASES={click:"tap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseleave:"pointerleave"}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(339),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(93);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports={default:n(351),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOCATION_DISPLAY_TYPE_HEATMAP=t.LOCATION_DISPLAY_TYPE_PATH=t.LOCATION_DISPLAY_TYPE_DOTS=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(201),a=n(75),s=(r=a)&&r.__esModule?r:{default:r};var u=t.LOCATION_DISPLAY_TYPE_DOTS="dots",l=(t.LOCATION_DISPLAY_TYPE_PATH="path",t.LOCATION_DISPLAY_TYPE_HEATMAP="heatmap",{locationDisplayType:u}),c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o.SET_LOCATION_DISPLAY_TYPE,function(e,t){return i({},e,{locationDisplayType:t.payload.displayType})});t.default=(0,s.default)(c,l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=s(i),a=s(n(216));function s(e){return e&&e.__esModule?e:{default:e}}var u={};t.default=function(e){var t=e.key,n=e.css;return function(e){return function(s){function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,i.Component),r(l,[{key:"componentWillMount",value:function(){u[t]||((0,a.default)(n()),u[t]=!0)}},{key:"render",value:function(){return o.default.createElement(e,this.props)}}]),l}()}}},function(e,t,n){(function(t){var r=n(423),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a,e.exports.Client=r}).call(this,n(32))},function(e,t,n){"use strict";var r,i=n(1),o=n.n(i),a=n(0);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,l=function(e){return p(e)?void 0:0},c=(s(r={},a.a.READ_BUFFER,function(e){return p(e)?void 0:a.a.COLOR_ATTACHMENT0}),s(r,35723,function(e){return p(e)?void 0:4352}),s(r,a.a.RASTERIZER_DISCARD,l),s(r,a.a.SAMPLES,l),s(r,36795,function(e,t){var n=p(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0}),s(r,37445,function(e,t){var n=e.getExtension("WEBGL_debug_renderer_info");return t(n&&n.UNMASKED_VENDOR_WEBGL||a.a.VENDOR)}),s(r,37446,function(e,t){var n=e.getExtension("WEBGL_debug_renderer_info");return t(n&&n.UNMASKED_RENDERER_WEBGL||a.a.RENDERER)}),s(r,34047,function(e,t){var n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1}),s(r,a.a.MAX_3D_TEXTURE_SIZE,l),s(r,a.a.MAX_ARRAY_TEXTURE_LAYERS,l),s(r,a.a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL,l),s(r,a.a.MAX_COLOR_ATTACHMENTS,function(e,t){if(!p(e)){var n=e.getExtension("WEBGL_draw_buffers");return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}}),s(r,a.a.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS,l),s(r,a.a.MAX_COMBINED_UNIFORM_BLOCKS,l),s(r,a.a.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS,l),s(r,a.a.MAX_DRAW_BUFFERS,function(e){if(!p(e)){var t=e.getExtension("WEBGL_draw_buffers");return t?t.MAX_DRAW_BUFFERS_WEBGL:0}}),s(r,a.a.MAX_ELEMENT_INDEX,function(e){return e.getExtension("OES_element_index")?2147483647:65535}),s(r,a.a.MAX_ELEMENTS_INDICES,function(e){return e.getExtension("OES_element_index")?16777216:65535}),s(r,a.a.MAX_ELEMENTS_VERTICES,function(e){return 16777216}),s(r,a.a.MAX_FRAGMENT_INPUT_COMPONENTS,l),s(r,a.a.MAX_FRAGMENT_UNIFORM_BLOCKS,l),s(r,a.a.MAX_FRAGMENT_UNIFORM_COMPONENTS,l),s(r,a.a.MAX_SAMPLES,l),s(r,a.a.MAX_SERVER_WAIT_TIMEOUT,l),s(r,a.a.MAX_TEXTURE_LOD_BIAS,l),s(r,a.a.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS,l),s(r,a.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS,l),s(r,a.a.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS,l),s(r,a.a.MAX_UNIFORM_BLOCK_SIZE,l),s(r,a.a.MAX_UNIFORM_BUFFER_BINDINGS,l),s(r,a.a.MAX_VARYING_COMPONENTS,l),s(r,a.a.MAX_VERTEX_OUTPUT_COMPONENTS,l),s(r,a.a.MAX_VERTEX_UNIFORM_BLOCKS,l),s(r,a.a.MAX_VERTEX_UNIFORM_COMPONENTS,l),s(r,a.a.MIN_PROGRAM_TEXEL_OFFSET,l),s(r,a.a.MAX_PROGRAM_TEXEL_OFFSET,l),s(r,a.a.UNIFORM_BUFFER_OFFSET_ALIGNMENT,l),r);function p(e){return e&&32874===e.TEXTURE_BINDING_3D}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return y});function h(e){return e&&32874===e.TEXTURE_BINDING_3D}var d=(f(u={},"OES_vertex_array_object",{meta:{suffix:"OES"},createVertexArray:function(){o()(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:function(){},bindVertexArray:function(){},isVertexArray:function(){return!1}}),f(u,"ANGLE_instanced_arrays",{meta:{suffix:"ANGLE"},vertexAttribDivisor:function(e,t){o()(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:function(){},drawArraysInstanced:function(){}}),f(u,"WEBGL_draw_buffers",{meta:{suffix:"WEBGL"},drawBuffers:function(){o()(!1)}}),f(u,"EXT_disjoint_timer_query",{meta:{suffix:"EXT"},createQuery:function(){o()(!1)},deleteQuery:function(){o()(!1)},beginQuery:function(){o()(!1)},endQuery:function(){},getQuery:function(e,t){return this.getQueryObject(e,t)},getQueryParameter:function(e,t){return this.getQueryObject(e,t)},queryCounter:function(){},getQueryObject:function(){}}),f(u,"EXT_disjoint_timer_query_webgl2",{meta:{suffix:"EXT"},queryCounter:null}),f(u,"OVERRIDES",{readBuffer:function(e,t,n){h(e)&&t(n)},getVertexAttrib:function(e,t,n,r){var i=function(e,t){return{webgl2:h(e),ext:e.getExtension(t)}}(e,"ANGLE_instanced_arrays"),o=i.webgl2,a=i.ext,s=void 0;switch(r){case 35069:s=!!o&&void 0;break;case 35070:s=o||a?void 0:0}return void 0!==s?s:t(n,r)},getProgramParameter:function(e,t,n,r){if(!h(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:function(e,t,n,r,i){if(!h(e))switch(i){case 32937:return new Int32Array([0])}return e.getInternalformatParameter(n,r,i)},getTexParameter:function(e,t,n,r){switch(r){case 34046:var i=e.luma.extensions.EXT_texture_filter_anisotropic;r=i&&i.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){var r=c[n],i="function"==typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint:function(e,t,n,r){return t(n,r)}}),u);function g(e,t){var n=t.extension,r=t.target,i=t.target2,a=d[n];o()(a);var s=a.meta,u=(void 0===s?{}:s).suffix,l=void 0===u?"":u,c=e.getExtension(n);Object.keys(a).forEach(function(t){var n=""+t+l,o=null;"meta"===t||"function"==typeof e[t]||(c&&"function"==typeof c[n]?o=function(){return c[n].apply(c,arguments)}:"function"==typeof a[t]&&(o=a[t].bind(r))),o&&(r[t]=o,i[t]=o)})}function y(e){if(e.luma=e.luma||{},function(e){e.luma.extensions={};var t=e.getSupportedExtensions(),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.luma[s]=e.getExtension(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}(e),!e.luma.polyfilled){for(var t in d)"overrides"!==t&&g(e,{extension:t,target:e.luma,target2:e});!function(e,t){var n=t.target,r=t.target2,i=d.OVERRIDES;Object.keys(i).forEach(function(t){if("function"==typeof i[t]){var o=e[t]?e[t].bind(e):function(){},a=i[t].bind(null,e,o);n[t]=a,r[t]=a}})}(e,{target:e.luma,target2:e}),e.luma.polyfilled=!0}return e}},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(24),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.c)(e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.seal(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["a"]),a(t,null,[{key:"isSupported",value:function(e){return Object(i.h)(e)}},{key:"isHandle",value:function(e){return this.gl.isSampler(this.handle)}}]),a(t,[{key:"bind",value:function(e){return this.gl.bindSampler(e,this.handle),this}},{key:"unbind",value:function(e){return this.gl.bindSampler(e,null),this}},{key:"_createHandle",value:function(){return this.gl.createSampler()}},{key:"_deleteHandle",value:function(){this.gl.deleteSampler(this.handle)}},{key:"_getParameter",value:function(e){return this.gl.getSamplerParameter(this.handle,e)}},{key:"_setParameter",value:function(e,t){switch(e){case r.e.TEXTURE_MIN_LOD:case r.e.TEXTURE_MAX_LOD:this.gl.samplerParameterf(this.handle,e,t);break;default:this.gl.samplerParameteri(this.handle,e,t)}return this}}]),t}();t.a=s},function(e,t,n){"use strict";n.d(t,"b",function(){return c});var r=n(2),i=n(24),o=n(9),a=n(1),s=n.n(a),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object(o.c)(e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.buffers={},Object.seal(r),r.initialize(n),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),u(t,null,[{key:"isSupported",value:function(e){return Object(o.h)(e)}},{key:"isHandle",value:function(e){return this.gl.isTransformFeedback(this.handle)}}]),u(t,[{key:"initialize",value:function(e){var t=e.buffers,n=void 0===t?{}:t,r=e.varyingMap,i=void 0===r?{}:r;this.bindBuffers(n,{clear:!0,varyingMap:i})}},{key:"bindBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.clear,r=void 0!==n&&n,i=t.varyingMap,o=void 0===i?{}:i;for(var a in r&&(this._unbindBuffers(),this.buffers={}),e){var u=e[a],l=Number.isFinite(Number(a))?Number(a):o[a];s()(Number.isFinite(l)),this.buffers[l]=u}}},{key:"begin",value:function(e){return this._bindBuffers(),this.gl.bindTransformFeedback(36386,this.handle),this.gl.beginTransformFeedback(e),this}},{key:"pause",value:function(){return this.gl.bindTransformFeedback(36386,this.handle),this.gl.pauseTransformFeedback(),this.gl.bindTransformFeedback(36386,null),this._unbindBuffers(),this}},{key:"resume",value:function(){return this._bindBuffers(),this.gl.bindTransformFeedback(36386,this.handle),this.gl.resumeTransformFeedback(),this}},{key:"end",value:function(){return this.gl.bindTransformFeedback(36386,this.handle),this.gl.endTransformFeedback(),this.gl.bindTransformFeedback(36386,null),this._unbindBuffers(),this}},{key:"bindBuffer",value:function(e){var t=e.index,n=e.buffer,r=e.offset,i=void 0===r?0:r,o=e.size;return n.unbind(),this.gl.bindTransformFeedback(36386,this.handle),void 0===o?this.gl.bindBufferBase(35982,t,n.handle):this.gl.bindBufferRange(35982,t,n.handle,i,o),this}},{key:"unbindBuffer",value:function(e){var t=e.index;return this.gl.bindTransformFeedback(36386,this.handle),this.gl.bindBufferBase(35982,t,null),this}},{key:"_bindBuffers",value:function(){for(var e in this.buffers)this.bindBuffer({buffer:this.buffers[e],index:Number(e)})}},{key:"_unbindBuffers",value:function(){for(var e in this.buffers)this.unbindBuffer({buffer:this.buffers[e],index:Number(e)})}},{key:"_createHandle",value:function(){return this.gl.createTransformFeedback()}},{key:"_deleteHandle",value:function(){this.gl.deleteTransformFeedback(this.handle)}}]),t}();function c(e){switch(e.drawMode){case r.b.POINTS:return r.b.POINTS;case r.b.LINES:case r.b.LINE_STRIP:case r.b.LINE_LOOP:return r.b.LINES;case r.b.TRIANGLES:case r.b.TRIANGLE_STRIP:case r.b.TRIANGLE_FAN:return r.b.TRIANGLES;default:return s()(!1),0}}t.a=l},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(24),a=n(36),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Object(i.c)(e);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.promise=null,Object.seal(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["a"]),s(t,[{key:"wait",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.flags,n=void 0===t?0:t,i=e.timeout,o=void 0===i?r.e.TIMEOUT_IGNORED:i;return this.gl.waitSync(this.handle,n,o),this}},{key:"clientWait",value:function(e){var t=e.flags,n=void 0===t?r.e.SYNC_FLUSH_COMMANDS_BIT:t,i=e.timeout,o=this.gl.clientWaitSync(this.handle,n,i);switch(o){case r.e.ALREADY_SIGNALED:case r.e.TIMEOUT_EXPIRED:case r.e.CONDITION_SATISFIED:case r.e.WAIT_FAILED:}return o}},{key:"cancel",value:function(){a.a.cancelQuery(this)}},{key:"isSignaled",value:function(){return this.getParameter(r.e.SYNC_STATUS)===r.e.SIGNALED}},{key:"isResultAvailable",value:function(){return this.isSignaled()}},{key:"getResult",value:function(){return this.isSignaled()}},{key:"getParameter",value:function(e){return this.gl.getSyncParameter(this.handle,e)}},{key:"_createHandle",value:function(){return this.gl.fenceSync(r.e.SYNC_GPU_COMMANDS_COMPLETE,0)}},{key:"_deleteHandle",value:function(){a.a.deleteQuery(this),this.gl.deleteSync(this.handle)}}]),t}();t.a=u},function(e,t,n){"use strict";n.d(t,"a",function(){return M});var r,i,o,a,s,u,l=n(0),c=n(34),p=n(127),f=n(38),h=n(63),d=n(58),g=n(125),y=n(33);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(v(r={},l.a.BUFFER_SIZE,{webgl1:0}),v(r,l.a.BUFFER_USAGE,{webgl1:0}),r),_=[l.a.OBJECT_TYPE,l.a.SYNC_STATUS,l.a.SYNC_CONDITION,l.a.SYNC_FLAGS],A=[l.a.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,l.a.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,l.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE,l.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL,l.a.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING,l.a.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER,l.a.FRAMEBUFFER_ATTACHMENT_RED_SIZE,l.a.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE,l.a.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE,l.a.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE,l.a.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE,l.a.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE,l.a.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE],b=(v(i={},l.a.FRAMEBUFFER_COMPLETE,"Success. Framebuffer is correctly set up"),v(i,l.a.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,"Framebuffer attachment types mismatched or some attachment point not attachment complete"),v(i,l.a.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,"Framebuffer has no attachment"),v(i,l.a.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,"Framebuffer attachments do not have the same size"),v(i,l.a.FRAMEBUFFER_UNSUPPORTED,"Framebuffer attachment format not supported or depth and stencil attachments are not same"),v(i,l.a.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE,"Framebuffer attachement SAMPLES differs among renderbuffers, or are mixed with textures"),i),x=(v(o={},l.a.DELETE_STATUS,{webgl1:0}),v(o,l.a.LINK_STATUS,{webgl1:0}),v(o,l.a.VALIDATE_STATUS,{webgl1:0}),v(o,l.a.ATTACHED_SHADERS,{webgl1:0}),v(o,l.a.ACTIVE_ATTRIBUTES,{webgl1:0}),v(o,l.a.ACTIVE_UNIFORMS,{webgl1:0}),v(o,l.a.TRANSFORM_FEEDBACK_BUFFER_MODE,{webgl2:0}),v(o,l.a.TRANSFORM_FEEDBACK_VARYINGS,{webgl2:0}),v(o,l.a.ACTIVE_UNIFORM_BLOCKS,{webgl2:0}),o),w=(v(a={},l.a.RENDERBUFFER_WIDTH,{webgl1:0}),v(a,l.a.RENDERBUFFER_HEIGHT,{webgl1:0}),v(a,l.a.RENDERBUFFER_INTERNAL_FORMAT,{type:"GLenum",webgl1:l.a.RGBA4}),v(a,l.a.RENDERBUFFER_GREEN_SIZE,{webgl1:0}),v(a,l.a.RENDERBUFFER_BLUE_SIZE,{webgl1:0}),v(a,l.a.RENDERBUFFER_RED_SIZE,{webgl1:0}),v(a,l.a.RENDERBUFFER_ALPHA_SIZE,{webgl1:0}),v(a,l.a.RENDERBUFFER_DEPTH_SIZE,{webgl1:0}),v(a,l.a.RENDERBUFFER_STENCIL_SIZE,{webgl1:0}),v(a,l.a.RENDERBUFFER_SAMPLES,{webgl2:1}),a),E=(v(s={},l.a.TEXTURE_MAG_FILTER,{webgl2:!0}),v(s,l.a.TEXTURE_MIN_FILTER,{webgl2:!0}),v(s,l.a.TEXTURE_WRAP_S,{webgl2:!0}),v(s,l.a.TEXTURE_WRAP_T,{webgl2:!0}),v(s,l.a.TEXTURE_WRAP_R,{webgl2:!0}),v(s,l.a.TEXTURE_BASE_LEVEL,{webgl2:!0}),v(s,l.a.TEXTURE_MAX_LEVEL,{webgl2:!0}),v(s,l.a.TEXTURE_COMPARE_FUNC,{webgl2:!0}),v(s,l.a.TEXTURE_COMPARE_MODE,{webgl2:!0}),v(s,l.a.TEXTURE_MIN_LOD,{webgl2:!0}),v(s,l.a.TEXTURE_MAX_LOD,{webgl2:!0}),s),T=(v(u={},l.a.TEXTURE_MAG_FILTER,{type:"GLenum",webgl1:l.a.LINEAR}),v(u,l.a.TEXTURE_MIN_FILTER,{type:"GLenum",webgl1:l.a.NEAREST_MIPMAP_LINEAR}),v(u,l.a.TEXTURE_WRAP_S,{type:"GLenum",webgl1:l.a.REPEAT}),v(u,l.a.TEXTURE_WRAP_T,{type:"GLenum",webgl1:l.a.REPEAT}),v(u,l.a.TEXTURE_WRAP_R,{type:"GLenum",webgl2:l.a.REPEAT}),v(u,l.a.TEXTURE_BASE_LEVEL,{webgl2:0}),v(u,l.a.TEXTURE_MAX_LEVEL,{webgl2:1e3}),v(u,l.a.TEXTURE_COMPARE_FUNC,{type:"GLenum",webgl2:l.a.LEQUAL}),v(u,l.a.TEXTURE_COMPARE_MODE,{type:"GLenum",webgl2:l.a.NONE}),v(u,l.a.TEXTURE_MIN_LOD,{webgl2:-1e3}),v(u,l.a.TEXTURE_MAX_LOD,{webgl2:1e3}),v(u,l.a.TEXTURE_WIDTH,{webgl1:0}),v(u,l.a.TEXTURE_HEIGHT,{webgl1:0}),u);function M(){c.a.PARAMETERS=m,p.a.PARAMETERS=_,f.a.ATTACHMENT_PARAMETERS=A,f.a.STATUS=b,h.a.PARAMETERS=x,d.a.PARAMETERS=w,g.a.PARAMETERS=E,y.a.PARAMETERS=T}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(101),i=n.n(r),o=n(5),a=n(128);function s(e){return e.luma=e.luma||{},e.luma}function u(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).debug;return null===e?null:t?function(e){if(null===e)return null;var t=s(e);if(t.realContext)return e;if(t.debugContext)return t.debugContext;var n=i.a.makeDebugContext(e,c,p);return Object.assign(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}.prototype,n),t.debugContext=n,n.debug=!0,n.gl=e,n}(e):function(e){if(null===e)return null;var t=s(e);return t.realContext?t.realContext:e}(e)}function l(e,t){var n=i.a.glFunctionArgsToString(e,t);return"gl."+e+"("+(n=n.slice(0,100)+(n.length>100?"...":""))+")"}function c(e,t,n){if(!o.f.nothrow){var r=i.a.glEnumToString(e),a=i.a.glFunctionArgsToString(t,n);throw new Error(r+" in gl."+t+"("+a+")")}}function p(e,t){if(o.f.debug){var n=void 0;if(o.f.priority>=4&&(n=l(e,t),o.f.info(4,""+n)),o.f.break){n=n||l(e,t);o.f.break&&o.f.break.every(function(e){return-1!==n.indexOf(e)})}var r=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){if(void 0===s.value)throw n=n||l(e,t),new Error("Undefined argument: "+n)}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}}}Object(a.a)()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return i});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=!("object"===(void 0===e?"undefined":r(e))&&"[object process]"===String(e)&&!e.browser)}).call(this,n(85))},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(11),a=n.n(o),s=n(270),u=n.n(s),l=n(88),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["wrappedComponentRef"]);return i.a.createElement(l.a,{render:function(t){return i.a.createElement(e,c({},r,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:a.a.func},u()(t,e)}},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(11),a=n.n(o),s=n(13),u=n.n(s),l=n(19),c=n.n(l),p=n(64);var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){u()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),u()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,o=void 0;return i.a.Children.forEach(t,function(t){if(i.a.isValidElement(t)){var a=t.props,s=a.path,u=a.exact,l=a.strict,c=a.sensitive,f=a.from,h=s||f;null==r&&(o=t,r=h?Object(p.a)(n.pathname,{path:h,exact:u,strict:l,sensitive:c}):e.match)}}),r?i.a.cloneElement(o,{location:n,computedMatch:r}):null},t}(i.a.Component);f.contextTypes={router:a.a.shape({route:a.a.object.isRequired}).isRequired},f.propTypes={children:a.a.node,location:a.a.object},t.a=f},function(e,t,n){"use strict";var r=n(13),i=n.n(r),o=n(19),a=n.n(o),s=n(3),u=n.n(s),l=n(11),c=n.n(l),p=n(54),f=n(65),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e,t){return e?h({},t,{pathname:Object(p.addLeadingSlash)(e)+t.pathname}):t},y=function(e){return"string"==typeof e?Object(p.parsePath)(e):(n=(t=e).pathname,r=void 0===n?"/":n,i=t.search,o=void 0===i?"":i,a=t.hash,s=void 0===a?"":a,{pathname:r,search:"?"===o?"":o,hash:"#"===s?"":s});var t,n,r,i,o,a,s},v=function(e){return"string"==typeof e?e:Object(p.createPath)(e)},m=function(e){return function(){a()(!1,"You cannot %s with <StaticRouter>",e)}},_=function(){},A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.createHref=function(e){return Object(p.addLeadingSlash)(r.props.basename+v(e))},r.handlePush=function(e){var t=r.props,n=t.basename,i=t.context;i.action="PUSH",i.location=g(n,y(e)),i.url=v(i.location)},r.handleReplace=function(e){var t=r.props,n=t.basename,i=t.context;i.action="REPLACE",i.location=g(n,y(e)),i.url=v(i.location)},r.handleListen=function(){return _},r.handleBlock=function(){return _},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},t.prototype.componentWillMount=function(){i()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},t.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:function(e,t){if(!e)return t;var n=Object(p.addLeadingSlash)(e);return 0!==t.pathname.indexOf(n)?t:h({},t,{pathname:t.pathname.substr(n.length)})}(t,y(n)),push:this.handlePush,replace:this.handleReplace,go:m("go"),goBack:m("goBack"),goForward:m("goForward"),listen:this.handleListen,block:this.handleBlock};return u.a.createElement(f.a,h({},r,{history:i}))},t}(u.a.Component);A.propTypes={basename:c.a.string,context:c.a.object.isRequired,location:c.a.oneOfType([c.a.string,c.a.object])},A.defaultProps={basename:"",location:"/"},A.childContextTypes={router:c.a.object.isRequired},t.a=A},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(11),a=n.n(o),s=n(13),u=n.n(s),l=n(19),c=n.n(l),p=n(99);var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(p.createLocation)(e.to),n=Object(p.createLocation)(this.props.to);Object(p.locationsAreEqual)(t,n)?u()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.perform=function(){var e=this.context.router.history,t=this.props,n=t.push,r=t.to;n?e.push(r):e.replace(r)},t.prototype.render=function(){return null},t}(i.a.Component);f.propTypes={push:a.a.bool,from:a.a.string,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired},f.defaultProps={push:!1},f.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired}).isRequired,staticContext:a.a.object}).isRequired},t.a=f},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(11),a=n.n(o),s=n(19),u=n.n(s);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){u()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(i.a.Component);l.propTypes={when:a.a.bool,message:a.a.oneOfType([a.a.func,a.a.string]).isRequired},l.defaultProps={when:!0},l.contextTypes={router:a.a.shape({history:a.a.shape({block:a.a.func.isRequired}).isRequired}).isRequired},t.a=l},function(e,t,n){"use strict";var r=n(13),i=n.n(r),o=n(3),a=n.n(o),s=n(11),u=n.n(s),l=n(272),c=n.n(l),p=n(65);function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.history=c()(r.props),f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){i()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},t.prototype.render=function(){return a.a.createElement(p.a,{history:this.history,children:this.props.children})},t}(a.a.Component);h.propTypes={initialEntries:u.a.array,initialIndex:u.a.number,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node},t.a=h},function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,u,l,c,h,g,y=t&&t.length,v=y?t[0]*n:e.length,m=i(e,0,v,n,!0),_=[];if(!m)return _;if(y&&(m=function(e,t,n,r){var a,s,u,l,c,h=[];for(a=0,s=t.length;a<s;a++)u=t[a]*r,l=a<s-1?t[a+1]*r:e.length,(c=i(e,u,l,r,!1))===c.next&&(c.steiner=!0),h.push(d(c));for(h.sort(p),a=0;a<h.length;a++)f(h[a],n),n=o(n,n.next);return n}(e,t,m,n)),e.length>80*n){r=u=e[0],s=l=e[1];for(var A=n;A<v;A+=n)c=e[A],h=e[A+1],c<r&&(r=c),h<s&&(s=h),c>u&&(u=c),h>l&&(l=h);g=0!==(g=Math.max(u-r,l-s))?1/g:0}return a(m,_,n,r,s,g),_}function i(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=x(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=x(o,e[o],e[o+1],a);return a&&m(a,a.next)&&(w(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(w(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,p,f){if(e){!f&&p&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=h(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,p);for(var d,g,y=e;e.prev!==e.next;)if(d=e.prev,g=e.next,p?u(e,r,i,p):s(e))t.push(d.i/n),t.push(e.i/n),t.push(g.i/n),w(e),e=g.next,y=g.next;else if((e=g)===y){f?1===f?a(e=l(e,t,n),t,n,r,i,p,2):2===f&&c(e,t,n,r,i,p):a(o(e),t,n,r,i,p,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(v(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(g(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,o=e,a=e.next;if(v(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=h(s,u,t,n,r),f=h(l,c,t,n,r),d=e.prevZ,y=e.nextZ;d&&d.z>=p&&y&&y.z<=f;){if(d!==e.prev&&d!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==e.prev&&y!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=p;){if(d!==e.prev&&d!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=f;){if(y!==e.prev&&y!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!m(i,o)&&_(i,r,r.next,o)&&A(i,o)&&A(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),w(r),w(r.next),r=e=o),r=r.next}while(r!==e);return r}function c(e,t,n,r,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var c=b(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,t,n,r,i,s),void a(c,t,n,r,i,s)}l=l.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function f(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,p=n.y,f=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&g(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&A(r,e)&&(n=r,f=u),r=r.next;return n}(e,t)){var n=b(t,e);o(n,n.next)}}function h(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function g(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&A(e,t)&&A(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function v(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,n,r){return!!(m(e,t)&&m(n,r)||m(e,r)&&m(n,t))||v(e,t,n)>0!=v(e,t,r)>0&&v(n,r,e)>0!=v(n,r,t)>0}function A(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function b(e,t){var n=new E(e.i,e.x,e.y),r=new E(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(e,t,n,r){var i=new E(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function w(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function E(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=r,e.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(T(e,l,c,n))}var p=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((e[f]-e[d])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[d+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(Array.isArray(e)){var n=e.length;if(!t||t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function i(e){var t={},n=void 0;return function(i){for(var o in i)if(!r(i[o],t[o])){n=e(i),t=i;break}return n}}n.d(t,"a",function(){return i})},function(e,t){e.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[8],c=t[9],p=t[10],f=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=o*i-l*r,e[1]=a*i-c*r,e[2]=s*i-p*r,e[3]=u*i-f*r,e[8]=o*r+l*i,e[9]=a*r+c*i,e[10]=s*r+p*i,e[11]=u*r+f*i,e}},function(e,t){e.exports=function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}},function(e,t){e.exports=function(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}},function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,o=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(t)&&/android/i.test(t),s=/nexus\s*[0-6]\s*/i.test(t),u=!s&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),c=/silk/i.test(t),p=/sailfish/i.test(t),f=/tizen/i.test(t),h=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!d&&/windows/i.test(t)),y=!o&&!c&&/macintosh/i.test(t),v=!a&&!p&&!f&&!h&&/linux/i.test(t),m=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),_=n(/version\/(\d+(\.\d+)?)/i),A=/tablet/i.test(t)&&!/tablet pc/i.test(t),b=!A&&/[^-]mobi/i.test(t),x=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:_||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||_}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:_||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:_||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:_||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:d?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},m?(i.msedge=e,i.version=m):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:m}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||_}:p?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):c?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:_||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",osname:"WebOS",webos:e,version:_||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:f?i={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||_}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||_}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||_}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?i={name:"Android",version:_}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},_&&(i.version=_)):o?(i={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},_&&(i.version=_)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||_}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&_&&(i.version=_)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!a&&!i.silk?!i.windowsphone&&o?(i[o]=e,i.ios=e,i.osname="iOS"):y?(i.mac=e,i.osname="macOS"):x?(i.xbox=e,i.osname="Xbox"):g?(i.windows=e,i.osname="Windows"):v&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var w="";i.windows?w=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?w=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?w=(w=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):o?w=(w=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?w=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?w=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?w=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?w=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(w=n(/tizen[\/\s](\d+(\.\d+)*)/i)),w&&(i.osversion=w);var E=!i.windows&&w.split(".")[0];return A||u||"ipad"==o||a&&(3==E||E>=4&&!b)||i.silk?i.tablet=e:(b||"iphone"==o||"ipod"==o||a||s||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function i(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function o(e){for(var t=Math.max(r(e[0]),r(e[1])),n=i(e,function(e){var n=t-r(e);return i((e+=new Array(n+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,i){var a=n;"string"==typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(a=t(i));var s=""+a.version;for(var u in e)if(e.hasOwnProperty(u)&&a[u]){if("string"!=typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return o([s,e[u]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"==typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(e,t,n){return!a(e,t,n)},n._detect=t,n.detect=t,n},void 0!==e&&e.exports?e.exports=r():n(303)("bowser",r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SET_VIEWPORT="SET_VIEWPORT";t.setViewport=function(e){return{type:r,payload:{viewport:e}}}},function(e,t,n){var r=n(55),i=n(60),o=n(149),a=n(146),s=n(74).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(80)},function(e,t,n){var r=n(74).f,i=n(72),o=n(80)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t){e.exports=!0},function(e,t,n){var r=n(156);e.exports=function(e){return Object(r(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(55),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(153)("keys"),i=n(117);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(93);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FETCH_LOCATIONS="FETCH_LOCATIONS",i=t.LOAD_LOCATIONS="LOAD_LOCATIONS";t.fetchLocations=function(){return{type:r}},t.loadLocations=function(e){return{type:i,payload:{locations:e}}}},function(e,t,n){"use strict";var r=n(389),i=n(386),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach(function(e){s[o.call(i[e].labels).sort().join("")]=e});var u={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,c;if(e)if(e instanceof l)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var p=r.get(e);if(null===p)throw new Error("Unable to parse color from string: "+e);this.model=p.model,c=i[this.model].channels,this.color=p.value.slice(0,c),this.valpha="number"==typeof p.value[c]?p.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var h=o.call(e,0,c);this.color=f(h,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var d=Object.keys(e);"alpha"in e&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var g=d.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[g];var y=i[this.model].labels,v=[];for(n=0;n<y.length;n++)v.push(e[y[n]]);this.color=f(v)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var m=u[this.model][n];m&&(this.color[n]=m(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach(function(e){(u[e]||(u[e]=[]))[t]=n}),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function p(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new l(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,p(255)),green:c("rgb",1,p(255)),blue:c("rgb",2,p(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:c("hsl",1,p(100)),lightness:c("hsl",2,p(100)),saturationv:c("hsv",1,p(100)),value:c("hsv",2,p(100)),chroma:c("hcg",1,p(100)),gray:c("hcg",2,p(100)),white:c("hwb",1,p(100)),wblack:c("hwb",2,p(100)),cyan:c("cmyk",0,p(100)),magenta:c("cmyk",1,p(100)),yellow:c("cmyk",2,p(100)),black:c("cmyk",3,p(100)),x:c("xyz",0,p(100)),y:c("xyz",1,p(100)),z:c("xyz",2,p(100)),l:c("lab",0,p(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new l(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new l(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return n=(n=(n+e)%360)<0?360+n:n,t.color[0]=n,t},mix:function(e,t){var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(e){if(-1===a.indexOf(e)){var t=i[e].channels;l.prototype[e]=function(){if(this.model===e)return new l(this);if(arguments.length)return new l(arguments,e);var n,r="number"==typeof arguments[t]?t:this.valpha;return new l((n=i[this.model][e].raw(this.color),Array.isArray(n)?n:[n]).concat(r),e)},l[e]=function(n){return"number"==typeof n&&(n=f(o.call(arguments),t)),new l(n,e)}}}),e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.spacing={default:"24px",micro:"4px",tiny:"6px",small:"12px",large:"36px",huge:"50px",enormous:"100px"};t.marginStyle=function(e,t,n){var i,o,a,s=function(e){return n.includes(e)?r[t]||t:"0"};return i={},o=e,a=[s("top"),s("right"),s("bottom"),s("left")].join(" "),o in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,i},t.buttonOutlinesCSS=function(){return"\n  button::-moz-focus-inner {\n    border: 0;\n  }\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=(r=a)&&r.__esModule?r:{default:r};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){var t=e.key,n=e.enable,r=e.disable;return function(e){return function(c){function p(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=n=l(this,(e=p.__proto__||Object.getPrototypeOf(p)).call.apply(e,[this].concat(i))),n.state={isToggled:!1},n.handleToggle=function(e){return function(){return n.setState({isToggled:e})}},n.enable=n.handleToggle(!0),n.disable=n.handleToggle(!1),l(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,a.Component),o(p,[{key:"render",value:function(){var o,a=this.state.isToggled,l=i({},this.props,(u(o={},t,a),u(o,n,this.enable),u(o,r,this.disable),o));return s.default.createElement(e,l)}}]),p}()}}},function(e,t,n){(function(t){var r=n(214),i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function o(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function c(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function p(e,t){var n,r;if(o(e.length))for(n in e)f(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){for(var t,n=[],r=0,i=e.length;r<i;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function d(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var u=["type","name","title","alt"];for(o=0;o<u.length;o++)r=u[o],(i=e.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function g(e,t){return!!(!!e^!!t)}function y(e,t){if(g(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var v=3,m=51200,_=40;function A(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function b(e){if("string"==typeof e)return e.length<=40?e:e.substr(0,39)+"";if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch({}.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return l()&&"[object ErrorEvent]"==={}.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:u,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:l,supportsFetch:c,supportsReferrerPolicy:function(){if(!c())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:p,objectMerge:function(e,t){return t?(p(t,function(t,n){e[t]=n}),e):e},truncate:function(e,t){return!t||e.length<=t?e:e.substr(0,t)+""},objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:f,joinRegExp:h,urlencode:function(e){var t=[];return p(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=i.crypto||i.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0,o=" > ".length;e&&r++<5&&!("html"===(t=d(e))||r>1&&i+n.length*o+t.length>=80);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:d,isSameException:function(e,t){return!g(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!o(n)||!o(r))&&y(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:y,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!u(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,i){if(!a(t))return t;i="number"!=typeof(n="number"!=typeof n?v:n)?m:i;var o=function e(t,n){return 0===n?b(t):a(t)?Object.keys(t).reduce(function(r,i){return r[i]=e(t[i],n-1),r},{}):Array.isArray(t)?t.map(function(t){return e(t,n-1)}):b(t)}(t,n);return A(r(o))>i?e(t,n-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if(t="number"!=typeof t?_:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+""}return""},sanitize:function(e,t){if(!u(t)||u(t)&&0===t.length)return e;var n,i=h(t),o="********";try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return u(t)?t.map(function(t){return e(t)}):a(t)?Object.keys(t).reduce(function(n,r){return i.test(r)?n[r]=o:n[r]=e(t[r]),n},{}):t}(n)}}}).call(this,n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fontCSS=t.secondaryFontStyle=t.primaryFontStyle=t.sizes=t.fonts=void 0;var r=n(31),i=t.fonts={primary:{regular:"",bold:""},secondary:{regular:"",bold:""}},o=t.sizes={alpha:"60px",beta:"54px",gamma:"46px",delta:"36px",epsilon:"24px",iota:"15px",kilo:"13px",lambda:"12px"},a=(t.primaryFontStyle=function(e,t,n){return{fontFamily:n?"primary--bold":"primary--regular",fontSize:o[e]||e,color:r.colors[t]||t}},t.secondaryFontStyle=function(e,t,n){return{fontFamily:n?"secondary--bold":"secondary--regular",fontSize:o[e]||e,color:r.colors[t]||t}},function(e,t){return"\n  @font-face {\n    font-family: '"+e+"';\n    src: "+t+";\n  }\n"});t.fontCSS=function(){return[a("primary--regular",i.primary.regular),a("primary--bold",i.primary.bold),a("secondary--regular",i.secondary.regular),a("secondary--bold",i.secondary.bold)].join("\n")}},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(13),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(){var e=null,t=[];return{setPrompt:function(t){return(0,o.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,i):((0,o.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}},function(e,t,n){"use strict";t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(178)),o=s(n(177)),a=n(54);function s(e){return e&&e.__esModule?e:{default:e}}t.createLocation=function(e,t,n,o){var s=void 0;"string"==typeof e?(s=(0,a.parsePath)(e)).state=t:(void 0===(s=r({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),o?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,i.default)(s.pathname,o.pathname)):s.pathname=o.pathname:s.pathname||(s.pathname="/"),s},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,o.default)(e.state,t.state)}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}},function(e,t,n){e.exports=n(173)},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},function(e,t){e.exports=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a);return e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}},function(e,t){e.exports=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],u=n[2];return e[0]=i*u-o*s,e[1]=o*a-r*u,e[2]=r*s-i*a,e}},function(e,t,n){"use strict";n.r(t);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var i=void 0===t?"undefined":r(t);if(i!==(void 0===n?"undefined":r(n)))return!1;if("object"===i){var o=t.valueOf(),a=n.valueOf();if(o!==t||a!==n)return e(o,a);var s=Object.keys(t),u=Object.keys(n);return s.length===u.length&&s.every(function(r){return e(t[r],n[r])})}return!1}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}n.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),u=a||s;if(e&&r(e)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var l=void 0;if(o.length){var c=o[o.length-1];l="."===c||".."===c||""===c}else l=!1;for(var p=0,f=o.length;f>=0;f--){var h=o[f];"."===h?i(o,f):".."===h?(i(o,f),p++):p&&(i(o,f),p--)}if(!u)for(;p--;p)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var d=o.join("/");return l&&"/"!==d.substr(-1)&&(d+="/"),d}},function(e,t,n){(function(t){e.exports={window:"undefined"!=typeof window?window:t,global:void 0!==t?t:window,document:"undefined"!=typeof document?document:{}}}).call(this,n(32))},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}},function(e,t,n){e.exports=n(432)},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(6),o=n.n(i),a="@@__IMMUTABLE_MAP__@@";function s(e){return Boolean(e&&e[a])}function u(e,t){return{sourcesDiff:function(e,t){var n=e.get("sources"),r=t.get("sources"),i=[],o=[],a=[],s=n.keySeq().toArray(),u=r.keySeq().toArray(),l=!0,c=!1,p=void 0;try{for(var f,h=s[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value,g=r.get(d);g?g.equals(n.get(d))||o.push({id:d,source:r.get(d)}):a.push({id:d,source:n.get(d)})}}catch(e){c=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw p}}var y=!0,v=!1,m=void 0;try{for(var _,A=u[Symbol.iterator]();!(y=(_=A.next()).done);y=!0){var b=_.value;n.get(b)||i.push({id:b,source:r.get(b)})}}catch(e){v=!0,m=e}finally{try{!y&&A.return&&A.return()}finally{if(v)throw m}}return{enter:i,update:o,exit:a}}(e,t),layersDiff:function(e,t){var n=e.get("layers"),r=t.get("layers"),i=[],o=[],a={},s={};r.forEach(function(e,t){var n=e.get("id"),i=r.get(t+1);s[n]={layer:e,id:n,before:i?i.get("id"):null,enter:!0}}),n.forEach(function(e,t){var r=e.get("id"),i=n.get(t+1);a[r]={layer:e,id:r,before:i?i.get("id"):null},s[r]?s[r].enter=!1:o.push(a[r])});var u=!0,l=!1,c=void 0;try{for(var p,f=r.reverse()[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value.get("id");a[h]&&a[h].layer.equals(s[h].layer)&&a[h].before===s[h].before||i.push(s[h])}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return{updates:i,exiting:o}}(e,t)}}function l(e,t){var n=t.source.toJS();if("geojson"===n.type){var r=e.getSource(t.id);if("geojson"===r.type){var i=r.workerOptions;if(!(void 0!==n.maxzoom&&n.maxzoom!==i.geojsonVtOptions.maxZoom||void 0!==n.buffer&&n.buffer!==i.geojsonVtOptions.buffer||void 0!==n.tolerance&&n.tolerance!==i.geojsonVtOptions.tolerance||void 0!==n.cluster&&n.cluster!==i.cluster||void 0!==n.clusterRadius&&n.clusterRadius!==i.superclusterOptions.radius||void 0!==n.clusterMaxZoom&&n.clusterMaxZoom!==i.superclusterOptions.maxZoom))return void r.setData(n.data)}}e.removeSource(t.id),e.addSource(t.id,n)}var c=n(14),p=n(91),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(){}var d=Object.assign({},p.a.propTypes,{mapStyle:o.a.oneOfType([o.a.string,o.a.object]),preventStyleDiffing:o.a.bool,visible:o.a.bool}),g=Object.assign({},p.a.defaultProps,{mapStyle:"mapbox://styles/mapbox/light-v8",preventStyleDiffing:!1,visible:!0}),y={viewport:o.a.instanceOf(c.a)},v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._queryParams={},t.supported()||(n.componentDidMount=h,n.componentWillReceiveProps=h,n.componentDidUpdate=h,n.componentWillUnmount=h),n.state={accessTokenInvalid:!1},n.getMap=n.getMap.bind(n),n.queryRenderedFeatures=n.queryRenderedFeatures.bind(n),n._updateQueryParams=n._updateQueryParams.bind(n),n._updateMapSize=n._updateMapSize.bind(n),n._updateMapStyle=n._updateMapStyle.bind(n),n._mapboxMapLoaded=n._mapboxMapLoaded.bind(n),n._mapboxMapError=n._mapboxMapError.bind(n),n._renderNoTokenWarning=n._renderNoTokenWarning.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),f(t,null,[{key:"supported",value:function(){return p.a&&p.a.supported()}}]),f(t,[{key:"getChildContext",value:function(){return{viewport:new c.a(this.props)}}},{key:"componentDidMount",value:function(){var e=this.props.mapStyle;this._mapbox=new p.a(Object.assign({},this.props,{container:this._mapboxMap,onError:this._mapboxMapError,mapStyle:s(e)?e.toJS():e})),this._map=this._mapbox.getMap(),this._updateQueryParams(e)}},{key:"componentWillReceiveProps",value:function(e){this._mapbox.setProps(e),this._updateMapStyle(this.props,e),this.setState({width:this.props.width,height:this.props.height})}},{key:"componentDidUpdate",value:function(){this._updateMapSize(this.state,this.props)}},{key:"componentWillUnmount",value:function(){this._mapbox.finalize(),this._mapbox=null,this._map=null}},{key:"getMap",value:function(){return this._map}},{key:"queryRenderedFeatures",value:function(e,t){var n=t||this._queryParams;return n.layers&&0===n.layers.length?[]:this._map.queryRenderedFeatures(e,n)}},{key:"_updateQueryParams",value:function(e){var t=function(e){var t=null;return s(e)&&e.has("layers")?t=e.get("layers").filter(function(e){return e.get("interactive")}).map(function(e){return e.get("id")}).toJS():Array.isArray(e.layers)&&(t=e.layers.filter(function(e){return e.interactive}).map(function(e){return e.id})),t}(e);this._queryParams={layers:t}}},{key:"_updateMapSize",value:function(e,t){(e.width!==t.width||e.height!==t.height)&&this._map.resize()}},{key:"_updateMapStyle",value:function(e,t){var n=t.mapStyle,r=e.mapStyle;n!==r&&(s(n)?this.props.preventStyleDiffing?this._map.setStyle(n.toJS()):function(e,t,n){var r=e&&o(e)||{},i=o(t);function o(e){return e.map(function(){return!0}).delete("layers").delete("sources").toJS()}if(e&&(a=Object.keys(r),s=Object.keys(i),a.length===s.length&&!s.some(function(n){return e.get(n)!==t.get(n)}))){var a,s,c=u(e,t),p=c.sourcesDiff,f=c.layersDiff;if(f.updates.some(function(e){return e.layer.get("ref")}))n.setStyle(t.toJS());else{var h=!0,d=!1,g=void 0;try{for(var y,v=p.enter[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value;n.addSource(m.id,m.source.toJS())}}catch(e){d=!0,g=e}finally{try{!h&&v.return&&v.return()}finally{if(d)throw g}}var _=!0,A=!1,b=void 0;try{for(var x,w=p.update[Symbol.iterator]();!(_=(x=w.next()).done);_=!0)l(n,x.value)}catch(e){A=!0,b=e}finally{try{!_&&w.return&&w.return()}finally{if(A)throw b}}var E=!0,T=!1,M=void 0;try{for(var S,C=p.exit[Symbol.iterator]();!(E=(S=C.next()).done);E=!0){var I=S.value;n.removeSource(I.id)}}catch(e){T=!0,M=e}finally{try{!E&&C.return&&C.return()}finally{if(T)throw M}}var P=!0,k=!1,O=void 0;try{for(var L,R=f.exiting[Symbol.iterator]();!(P=(L=R.next()).done);P=!0){var j=L.value;n.style.getLayer(j.id)&&n.removeLayer(j.id)}}catch(e){k=!0,O=e}finally{try{!P&&R.return&&R.return()}finally{if(k)throw O}}var N=!0,B=!1,D=void 0;try{for(var F,z=f.updates[Symbol.iterator]();!(N=(F=z.next()).done);N=!0){var U=F.value;U.enter||n.removeLayer(U.id),n.addLayer(U.layer.toJS(),U.before)}}catch(e){B=!0,D=e}finally{try{!N&&z.return&&z.return()}finally{if(B)throw D}}}}else n.setStyle(t.toJS())}(r,n,this._map):this._map.setStyle(n),this._updateQueryParams(n))}},{key:"_mapboxMapLoaded",value:function(e){this._mapboxMap=e}},{key:"_mapboxMapError",value:function(e){401!==(e.error&&e.error.status||e.status)||this.state.accessTokenInvalid||(console.error("A valid API access token is required to use Mapbox data"),this.setState({accessTokenInvalid:!0}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid){return Object(r.createElement)("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},[Object(r.createElement)("h3",{key:"header"},"A valid API access token is required to use Mapbox data"),Object(r.createElement)("div",{key:"text"},"For information on setting up your basemap, read"),Object(r.createElement)("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens")])}return null}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.width,i=e.height,o=e.style,a=e.visible,s=Object.assign({},o,{width:n,height:i,position:"relative"}),u=Object.assign({},o,{width:n,height:i,visibility:a?"visible":"hidden"}),l={position:"absolute",left:0,top:0,width:n,height:i,overflow:"hidden"};return Object(r.createElement)("div",{key:"map-container",style:s,children:[Object(r.createElement)("div",{key:"map-mapbox",ref:this._mapboxMapLoaded,style:u,className:t}),Object(r.createElement)("div",{key:"map-overlays",className:"overlays",style:l,children:this.props.children}),this._renderNoTokenWarning()]})}}]),t}(),m=v;v.displayName="StaticMap",v.propTypes=d,v.defaultProps=g,v.childContextTypes=y;var _=n(1),A=n.n(_),b=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},E={pitch:0,bearing:0,altitude:1.5};function T(e,t,n){return e<t?t:e>n?n:e}var M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,r=t.height,i=t.latitude,o=t.longitude,a=t.zoom,s=t.bearing,u=void 0===s?E.bearing:s,l=t.pitch,c=void 0===l?E.pitch:l,p=t.altitude,f=void 0===p?E.altitude:p,h=t.maxZoom,d=void 0===h?w.maxZoom:h,g=t.minZoom,y=void 0===g?w.minZoom:g,v=t.maxPitch,m=void 0===v?w.maxPitch:v,_=t.minPitch,b=void 0===_?w.minPitch:_,x=t.startPanLngLat,T=t.startZoomLngLat,M=t.startBearing,S=t.startPitch,C=t.startZoom;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A()(Number.isFinite(n),"`width` must be supplied"),A()(Number.isFinite(r),"`height` must be supplied"),A()(Number.isFinite(o),"`longitude` must be supplied"),A()(Number.isFinite(i),"`latitude` must be supplied"),A()(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:u,pitch:c,altitude:f,maxZoom:d,minZoom:y,maxPitch:m,minPitch:b}),this._interactiveState={startPanLngLat:x,startZoomLngLat:T,startBearing:M,startPitch:S,startZoom:C}}return x(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:t}),o=b(i,2),a=o[0],s=o[1];return this._getUpdatedMapState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=void 0===t?0:t,r=e.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a,startPitch:s}),l=u.pitch,c=u.bearing;return this._getUpdatedMapState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale;A()(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),A()(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o}),u=new c.a(Object.assign({},this._viewportProps,{zoom:s})).getLocationAtPoint({lngLat:a,pos:t}),l=b(u,2),p=l[0],f=l[1];return this._getUpdatedMapState({zoom:s,longitude:p,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=T(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=T(a,o,i),Object.assign(e,Object(c.j)(e)),e}},{key:"_unproject",value:function(e){var t=new c.a(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new c.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return T(n+Math.log2(t),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=T(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*t}}}]),e}(),S=n(10),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,[{key:"arePropsEqual",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=(this.propNames||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!Object(S.d)(e[s],t[s]))return!1}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,n){A()(!1,"interpolateProps is not implemented")}}]),e}(),P={longitude:1,bearing:1};function k(e,t,n){return Array.isArray(e)?e.map(function(e,r){return k(e,t[r],n)}):n*t+(1-n)*e}function O(e){return Number.isFinite(e)||Array.isArray(e)}function L(e,t,n){return function(e){return P[e]}(e)&&Math.abs(n-t)>180&&(n=n<0?n+360:n-360),n}var R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var j=["longitude","latitude","zoom","bearing","pitch"],N=["latitude","longitude","zoom","width","height"],B=["bearing","pitch"],D=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.propNames=j,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),R(t,[{key:"initializeProps",value:function(e,t){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,u=N[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=e[l],p=t[l];A()(O(c)&&O(p),l+" must be supplied for transition"),n[l]=c,r[l]=L(l,c,p)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}var f=!0,h=!1,d=void 0;try{for(var g,y=B[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var v=g.value,m=e[v]||0,_=t[v]||0;n[v]=m,r[v]=L(v,m,_)}}catch(e){h=!0,d=e}finally{try{!f&&y.return&&y.return()}finally{if(h)throw d}}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r=Object(c.c)(e,t,n),i=!0,o=!1,a=void 0;try{for(var s,u=B[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=k(e[l],t[l],n)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}}]),t}(),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var z=["longitude","latitude","zoom","bearing","pitch"],U=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.propNames=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,I),F(t,[{key:"initializeProps",value:function(e,t){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=e[l],p=t[l];A()(O(c)&&O(p),l+" must be supplied for transition"),n[l]=c,r[l]=L(l,c,p)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=k(e[l],t[l],n)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}}]),t}(),G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var V=function(){},Y={BREAK:1,SNAP_TO_END:2,IGNORE:3},H={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new U,transitionInterruption:Y.BREAK,onTransitionStart:V,onTransitionInterrupt:V,onTransitionEnd:V},W={animation:null,propsInTransition:null,startProps:null,endProps:null},Q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.state=W,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return G(e,[{key:"getViewportInTransition",value:function(){return this.state.propsInTransition}},{key:"processViewportChange",value:function(e){var t=!1,n=this.props;if(this.props=e,this._shouldIgnoreViewportChange(n,e))return t;var r=this._isTransitionInProgress();if(this._isTransitionEnabled(e)){var i=Object.assign({},n,this.state.interruption===Y.SNAP_TO_END?this.state.endProps:this.state.propsInTransition);r&&n.onTransitionInterrupt(),e.onTransitionStart(),this._triggerTransition(i,e),t=!0}else r&&(n.onTransitionInterrupt(),this._endTransition());return t}},{key:"_isTransitionInProgress",value:function(){return Boolean(this.state.propsInTransition)}},{key:"_isTransitionEnabled",value:function(e){return e.transitionDuration>0&&Boolean(e.transitionInterpolator)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this._isTransitionInProgress()?this.state.interruption===Y.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){A()(this._isTransitionEnabled(t),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var n=t.transitionInterpolator.initializeProps(e,t);this.state={duration:t.transitionDuration,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:Date.now(),startProps:n.start,endProps:n.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function(){cancelAnimationFrame(this.state.animation),this.state=W}},{key:"_updateViewport",value:function(){var e=Date.now(),t=this.state,n=t.startTime,r=t.duration,i=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,u=!1,l=(e-n)/r;l>=1&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l),p=new M(Object.assign({},this.props,c));this.state.propsInTransition=p.getViewportProps(),this.props.onViewportChange&&this.props.onViewportChange(this.state.propsInTransition),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}(),X=Q;Q.defaultProps=H;var Z=n(52),J=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var q={transitionDuration:0},$={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new U,transitionInterruption:Y.BREAK},ee=["wheel"],te=["panstart","panmove","panend"],ne=["pinchstart","pinchmove","pinchend"],re=["doubletap"],ie=["keydown"],oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this)}return K(e,[{key:"handleEvent",value:function(e){switch(this.mapState=this.getMapState(),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"setState",value:function(e){Object.assign(this._state,e),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},e.getViewportProps(),t);this.onViewportChange&&Object.keys(i).some(function(e){return r[e]!==i[e]})&&this.onViewportChange(i),this.setState(Object.assign({},e.getInteractiveState(),n))}},{key:"getMapState",value:function(e){return new M(Object.assign({},this.mapStateProps,this._state,e))}},{key:"setOptions",value:function(e){var t=e.onChangeViewport,n=e.touchZoomRotate,r=void 0===n||n,i=e.onViewportChange,o=e.onStateChange,a=void 0===o?this.onStateChange:o,s=e.eventManager,u=void 0===s?this.eventManager:s,l=e.scrollZoom,c=void 0===l||l,p=e.dragPan,f=void 0===p||p,h=e.dragRotate,d=void 0===h||h,g=e.doubleClickZoom,y=void 0===g||g,v=e.touchZoom,m=void 0===v||v,_=e.touchRotate,A=void 0!==_&&_,b=e.keyboard,x=void 0===b||b;this.onViewportChange=i||t,this.onStateChange=a,this.mapStateProps&&this.mapStateProps.height!==e.height&&this.updateViewport(new M(e)),this.mapStateProps=e,this.eventManager!==u&&(this.eventManager=u,this._events={},this.toggleEvents(this.events,!0));var w=Boolean(this.onViewportChange);this.toggleEvents(ee,w&&c),this.toggleEvents(te,w&&(f||d)),this.toggleEvents(ne,w&&r),this.toggleEvents(re,w&&y),this.toggleEvents(ie,w&&x),this.scrollZoom=c,this.dragPan=f,this.dragRotate=d,this.doubleClickZoom=y,this.touchZoom=r&&m,this.touchRotate=r&&A,this.keyboard=x}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach(function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))})}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),n=this.mapState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(n,q,{isDragging:!0})}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1})}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.mapState.pan({pos:t});return this.updateViewport(n,q,{isDragging:!0})}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,n=e.deltaY,r=this.getCenter(e),i=J(r,2)[1],o=i-n,a=this.mapState.getViewportProps(),s=a.width,u=a.height,l=t/s,c=0;n>0?Math.abs(u-o)>5&&(c=n/(o-u)*1.2):n<0&&o>5&&(c=1-i/o),c=Math.min(1,Math.max(-1,c));var p=this.mapState.rotate({deltaScaleX:l,deltaScaleY:c});return this.updateViewport(p,q,{isDragging:!0})}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;var t=this.getCenter(e),n=e.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:t,scale:r});return this.updateViewport(i,q)}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),n=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(n,q,{isDragging:!0})}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(t,q,{isDragging:!0})}},{key:"_onPinchEnd",value:function(e){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),n=this.isFunctionKeyPressed(e),r=this.mapState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,$)}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t=this.isFunctionKeyPressed(e),n=this.mapStateProps,r=void 0;switch(e.srcEvent.keyCode){case 189:r=t?this.getMapState({zoom:n.zoom-2}):this.getMapState({zoom:n.zoom-1});break;case 187:r=t?this.getMapState({zoom:n.zoom+2}):this.getMapState({zoom:n.zoom+1});break;case 37:r=t?this.getMapState({bearing:n.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:r=t?this.getMapState({bearing:n.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:r=t?this.getMapState({pitch:n.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:r=t?this.getMapState({pitch:n.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(r,$)}}]),e}(),ae=n(143),se=n.n(ae),ue=se.a.webkit||se.a.blink?"-webkit-":se.a.gecko?"-moz-":"",le={DEFAULTS:{},CURSOR:{GRABBING:ue+"grabbing",GRAB:ue+"grab",POINTER:"pointer"}},ce=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"}];function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ce.forEach(function(t){if(e.hasOwnProperty(t.old)){var n="react-map-gl: `"+t.old+"` is deprecated and will be removed in a later version.";t.new&&(n=n+" "+function(e){return"Use `"+e+"` instead."}(t.new)),console.warn(n)}})}var fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var he=Object.assign({},m.propTypes,{maxZoom:o.a.number,minZoom:o.a.number,maxPitch:o.a.number,minPitch:o.a.number,onViewportChange:o.a.func,transitionDuration:o.a.number,transitionInterpolator:o.a.object,transitionInterruption:o.a.number,transitionEasing:o.a.func,onTransitionStart:o.a.func,onTransitionInterrupt:o.a.func,onTransitionEnd:o.a.func,scrollZoom:o.a.bool,dragPan:o.a.bool,dragRotate:o.a.bool,doubleClickZoom:o.a.bool,touchZoom:o.a.bool,touchRotate:o.a.bool,keyboard:o.a.bool,onHover:o.a.func,onClick:o.a.func,clickRadius:o.a.number,getCursor:o.a.func,visibilityConstraints:o.a.shape({minZoom:o.a.number,maxZoom:o.a.number,minPitch:o.a.number,maxPitch:o.a.number}),mapControls:o.a.shape({events:o.a.arrayOf(o.a.string),handleEvent:o.a.func})}),de=Object.assign({},m.defaultProps,w,X.defaultProps,{onViewportChange:null,onClick:null,onHover:null,scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,clickRadius:0,getCursor:function(e){var t=e.isDragging,n=e.isHovering;return t?le.CURSOR.GRABBING:n?le.CURSOR.POINTER:le.CURSOR.GRAB},visibilityConstraints:w}),ge={viewport:o.a.instanceOf(c.a),isDragging:o.a.bool,eventManager:o.a.object},ye=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return pe(e),n.state={isDragging:!1,isHovering:!1},n._mapControls=e.mapControls||new oe,n._eventManager=new Z.EventManager(null,{rightButton:!0}),n.getMap=n.getMap.bind(n),n.queryRenderedFeatures=n.queryRenderedFeatures.bind(n),n._checkVisibilityConstraints=n._checkVisibilityConstraints.bind(n),n._getFeatures=n._getFeatures.bind(n),n._onInteractiveStateChange=n._onInteractiveStateChange.bind(n),n._getPos=n._getPos.bind(n),n._onMouseMove=n._onMouseMove.bind(n),n._onMouseClick=n._onMouseClick.bind(n),n._eventCanvasLoaded=n._eventCanvasLoaded.bind(n),n._staticMapLoaded=n._staticMapLoaded.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),fe(t,null,[{key:"supported",value:function(){return m.supported()}}]),fe(t,[{key:"getChildContext",value:function(){return{viewport:new c.a(this.props),isDragging:this.state.isDragging,eventManager:this._eventManager}}},{key:"componentDidMount",value:function(){var e=this._eventManager;e.on("mousemove",this._onMouseMove),e.on("click",this._onMouseClick),this._mapControls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange,eventManager:e})),this._transitionManager=new X(this.props)}},{key:"componentWillUpdate",value:function(e){this._mapControls.setOptions(e),this._transitionManager.processViewportChange(e)}},{key:"getMap",value:function(){return this._map?this._map.getMap():null}},{key:"queryRenderedFeatures",value:function(e,t){return this._map.queryRenderedFeatures(e,t)}},{key:"_checkVisibilityConstraints",value:function(e){var t,n=e.visibilityConstraints;for(var r in e){var i=(t=r)[0].toUpperCase()+t.slice(1),o="min"+i,a="max"+i;if(o in n&&e[r]<n[o])return!1;if(a in n&&e[r]>n[a])return!1}return!0}},{key:"_getFeatures",value:function(e){var t=e.pos,n=e.radius,r=void 0;if(n){var i=n,o=[[t[0]-i,t[1]+i],[t[0]+i,t[1]-i]];r=this._map.queryRenderedFeatures(o)}else r=this._map.queryRenderedFeatures(t);return r}},{key:"_onInteractiveStateChange",value:function(e){var t=e.isDragging,n=void 0!==t&&t;n!==this.state.isDragging&&this.setState({isDragging:n})}},{key:"_getPos",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"_onMouseMove",value:function(e){if(!this.state.isDragging){var t=this._getPos(e),n=this._getFeatures({pos:t,radius:this.props.clickRadius}),r=n&&n.length>0;if(r!==this.state.isHovering&&this.setState({isHovering:r}),this.props.onHover){var i=new c.a(this.props);e.lngLat=i.unproject(t),e.features=n,this.props.onHover(e)}}}},{key:"_onMouseClick",value:function(e){if(this.props.onClick){var t=this._getPos(e),n=new c.a(this.props);e.lngLat=n.unproject(t),e.features=this._getFeatures({pos:t,radius:this.props.clickRadius}),this.props.onClick(e)}}},{key:"_eventCanvasLoaded",value:function(e){this._eventManager.setElement(e)}},{key:"_staticMapLoaded",value:function(e){this._map=e}},{key:"render",value:function(){var e=this.props,t={width:e.width,height:e.height,position:"relative",cursor:(0,e.getCursor)(this.state)};return Object(r.createElement)("div",{key:"map-controls",ref:this._eventCanvasLoaded,style:t},Object(r.createElement)(m,Object.assign({},this.props,this._transitionManager&&this._transitionManager.getViewportInTransition(),{visible:this._checkVisibilityConstraints(this.props),ref:this._staticMapLoaded,children:this.props.children})))}}]),t}(),ve=ye;ye.displayName="InteractiveMap",ye.propTypes=he,ye.defaultProps=de,ye.childContextTypes=ge;var me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _e={captureScroll:o.a.bool,captureDrag:o.a.bool,captureClick:o.a.bool,captureDoubleClick:o.a.bool},Ae={viewport:o.a.instanceOf(c.a),isDragging:o.a.bool,eventManager:o.a.object},be={captureScroll:"wheel",captureDrag:"panstart",captureClick:"click",captureDoubleClick:"dblclick"},xe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._events=null,n._onContainerLoad=n._onContainerLoad.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),me(t,[{key:"_onContainerLoad",value:function(e){var t=this.context.eventManager;if(t){var n=this._events;if(n&&(t.off(n),n=null),e){for(var r in n={},be){this.props[r]&&(n[be[r]]=this._captureEvent)}t.on(n,e)}this._events=n}}},{key:"_captureEvent",value:function(e){e.stopPropagation()}},{key:"render",value:function(){return null}}]),t}(),we=xe;xe.propTypes=_e,xe.defaultProps={captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0},xe.contextTypes=Ae;var Ee=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Me=Object.assign({},we.propTypes,{className:o.a.string,longitude:o.a.number.isRequired,latitude:o.a.number.isRequired,offsetLeft:o.a.number,offsetTop:o.a.number}),Se=Object.assign({},we.defaultProps,{className:"",offsetLeft:0,offsetTop:0}),Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),Te(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.longitude,i=e.latitude,o=e.offsetLeft,a=e.offsetTop,s=this.context.viewport.project([n,i]),u=Ee(s,2),l={position:"absolute",left:u[0]+o,top:u[1]+a};return Object(r.createElement)("div",{className:"mapboxgl-marker "+t,ref:this._onContainerLoad,style:l,children:this.props.children})}}]),t}(),Ie=Ce;Ce.displayName="Marker",Ce.propTypes=Me,Ce.defaultProps=Se;var Pe={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}};var ke=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Le=Object.assign({},we.propTypes,{className:o.a.string,longitude:o.a.number.isRequired,latitude:o.a.number.isRequired,offsetLeft:o.a.number,offsetTop:o.a.number,tipSize:o.a.number,closeButton:o.a.bool,closeOnClick:o.a.bool,anchor:o.a.oneOf(Object.keys(Pe)),dynamicPosition:o.a.bool,onClose:o.a.func}),Re=Object.assign({},we.defaultProps,{className:"",offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,closeButton:!0,closeOnClick:!0,onClose:function(){}}),je=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getPosition=n._getPosition.bind(n),n._onClose=n._onClose.bind(n),n._contentLoaded=n._contentLoaded.bind(n),n._renderTip=n._renderTip.bind(n),n._renderContent=n._renderContent.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),Oe(t,[{key:"componentDidMount",value:function(){this.forceUpdate()}},{key:"_getPosition",value:function(e,t){var n=this.context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize;return this._content&&o?function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.selfWidth,a=e.selfHeight,s=e.anchor,u=e.padding,l=void 0===u?0:u,c=Pe[s],p=c.x,f=c.y,h=n-f*a,d=h+a;if(h<l)for(;h<l&&f>=.5;)f-=.5,h+=.5*a;else if(d>i-l)for(;d>i-l&&f<=.5;)f+=.5,d-=.5*a;var g=t-p*o,y=g+o,v=.5;if(.5===f&&(p=Math.floor(p),v=1),g<l)for(;g<l&&p>=v;)p-=v,g+=v*o;else if(y>r-l)for(;y>r-l&&p<=1-v;)p+=v,y-=v*o;return Object.keys(Pe).find(function(e){var t=Pe[e];return t.x===p&&t.y===f})}({x:e,y:t,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:this._content.clientWidth,selfHeight:this._content.clientHeight}):i}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_contentLoaded",value:function(e){this._content=e}},{key:"_renderTip",value:function(){var e=this.props.tipSize;return Object(r.createElement)("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var e=this.props,t=e.closeButton,n=e.children;return Object(r.createElement)("div",{key:"content",ref:this._contentLoaded,className:"mapboxgl-popup-content"},[t&&Object(r.createElement)("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button",onClick:this._onClose},""),n])}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.longitude,i=e.latitude,o=e.offsetLeft,a=e.offsetTop,s=e.closeOnClick,u=this.context.viewport.project([n,i]),l=ke(u,2),c=l[0],p=l[1],f=this._getPosition(c,p),h=Pe[f],d={position:"absolute",left:c+o,top:p+a,transform:"translate("+100*-h.x+"%, "+100*-h.y+"%)"};return Object(r.createElement)("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-"+f+" "+t,style:d,ref:this._onContainerLoad,onClick:s?this._onClose:null},[this._renderTip(),this._renderContent()])}}]),t}(),Ne=je;je.displayName="Popup",je.propTypes=Le,je.defaultProps=Re;var Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var De=Object.assign({},X.defaultProps,{transitionDuration:300}),Fe=Object.assign({},we.propTypes,{className:o.a.string,onViewportChange:o.a.func.isRequired,showCompass:o.a.bool,showZoom:o.a.bool}),ze=Object.assign({},we.defaultProps,{className:"",onViewportChange:function(){},showCompass:!0,showZoom:!0}),Ue=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return pe(e),n._updateViewport=n._updateViewport.bind(n),n._onZoomIn=n._onZoomIn.bind(n),n._onZoomOut=n._onZoomOut.bind(n),n._onResetNorth=n._onResetNorth.bind(n),n._renderCompass=n._renderCompass.bind(n),n._renderButton=n._renderButton.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),Be(t,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.context.viewport.bearing!==n.viewport.bearing}},{key:"_updateViewport",value:function(e){var t=this.context.viewport,n=new M(Object.assign({},t,e));(this.props.onChangeViewport||this.props.onViewportChange)(Object.assign({},n.getViewportProps(),De))}},{key:"_onZoomIn",value:function(){this._updateViewport({zoom:this.context.viewport.zoom+1})}},{key:"_onZoomOut",value:function(){this._updateViewport({zoom:this.context.viewport.zoom-1})}},{key:"_onResetNorth",value:function(){this._updateViewport({bearing:0,pitch:0})}},{key:"_renderCompass",value:function(){var e=this.context.viewport.bearing;return Object(r.createElement)("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate("+e+"deg)"}})}},{key:"_renderButton",value:function(e,t,n,i){return Object(r.createElement)("button",{key:e,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-"+e,type:"button",title:t,onClick:n,children:i})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.showCompass,i=e.showZoom;return Object(r.createElement)("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group "+t,ref:this._onContainerLoad},[i&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),i&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),n&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass())])}}]),t}(),Ge=Ue;Ue.displayName="NavigationControl",Ue.propTypes=Fe,Ue.defaultProps=ze;var Ve=n(179),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var He=Object.assign({},we.propTypes,{redraw:o.a.func.isRequired}),We=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._redraw=n._redraw.bind(n),n._canvasLoaded=n._canvasLoaded.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),Ye(t,[{key:"componentDidMount",value:function(){this._redraw()}},{key:"componentDidUpdate",value:function(){this._redraw()}},{key:"_redraw",value:function(){var e=Ve.window.devicePixelRatio||1,t=this._canvas.getContext("2d");t.save(),t.scale(e,e);var n=this.context,r=n.viewport,i=n.isDragging;this.props.redraw({width:r.width,height:r.height,ctx:t,isDragging:i,project:r.project.bind(r),unproject:r.unproject.bind(r)}),t.restore()}},{key:"_canvasLoaded",value:function(e){this._canvas=e,this._onContainerLoad(e)}},{key:"render",value:function(){var e=Ve.window.devicePixelRatio||1,t=this.context.viewport,n=t.width,i=t.height;return Object(r.createElement)("canvas",{ref:this._canvasLoaded,width:n*e,height:i*e,style:{width:n+"px",height:i+"px",position:"absolute",pointerEvents:"none",left:0,top:0}})}}]),t}(),Qe=We;We.displayName="CanvasOverlay",We.propTypes=He,We.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var Xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ze=Object.assign({},we.propTypes,{redraw:o.a.func.isRequired,style:o.a.object}),Je=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),Xe(t,[{key:"render",value:function(){var e=this.context,t=e.viewport,n=e.isDragging,i=Object.assign({position:"absolute",pointerEvents:"none",left:0,top:0,width:t.width,height:t.height},this.props.style);return Object(r.createElement)("div",{ref:this._onContainerLoad,style:i},this.props.redraw({width:t.width,height:t.height,isDragging:n,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),t}(),Ke=Je;Je.displayName="HTMLOverlay",Je.propTypes=Ze,Je.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1};var qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var $e=Object.assign({},we.propTypes,{redraw:o.a.func.isRequired,style:o.a.object}),et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,we),qe(t,[{key:"render",value:function(){var e=this.context,t=e.viewport,n=e.isDragging,i=Object.assign({pointerEvents:"none",position:"absolute",left:0,top:0},this.props.style);return Object(r.createElement)("svg",{width:t.width,height:t.height,ref:this._onContainerLoad,style:i},this.props.redraw({width:t.width,height:t.height,isDragging:n,project:t.project.bind(t),unproject:t.unproject.bind(t)}))}}]),t}(),tt=et;et.displayName="SVGOverlay",et.propTypes=$e,et.defaultProps={captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1},n.d(t,"experimental",function(){return nt}),n.d(t,"default",function(){return ve}),n.d(t,"InteractiveMap",function(){return ve}),n.d(t,"StaticMap",function(){return m}),n.d(t,"BaseControl",function(){return we}),n.d(t,"Marker",function(){return Ie}),n.d(t,"Popup",function(){return Ne}),n.d(t,"NavigationControl",function(){return Ge}),n.d(t,"CanvasOverlay",function(){return Qe}),n.d(t,"HTMLOverlay",function(){return Ke}),n.d(t,"SVGOverlay",function(){return tt}),n.d(t,"TRANSITION_EVENTS",function(){return Y}),n.d(t,"TransitionInterpolator",function(){return I}),n.d(t,"LinearInterpolator",function(){return U}),n.d(t,"FlyToInterpolator",function(){return D});var nt={MapControls:oe}},function(e,t,n){"use strict";n.r(t);var r=n(78),i=n(12);if(r.global.deck&&"5.1.4"!==r.global.deck.VERSION)throw new Error("deck.gl - multiple versions detected: "+r.global.deck.VERSION+" vs 5.1.4");r.global.deck||(console.log("deck.gl 5.1.4 - set deck.log.priority=1 (or higher) to trace attribute updates"),r.global.deck=r.global.deck||{VERSION:"5.1.4",version:"5.1.4",log:i.a}),console.table||(console.table=function(){}),n(187);n(187);var o=n(21),a=n(1),s=n.n(a),u=n(4),l=n(20),c=n.n(l),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(){function e(t){var n=t.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n,this.time=0,this.total=0,this.average=0,this.count=0,this._time=0}return p(e,[{key:"timeStart",value:function(){this._time=this.timestampMs()}},{key:"timeEnd",value:function(){this.time=this.timestampMs()-this._time,this.total+=this.time,this.count++,this.average=this.total/this.count}},{key:"timestampMs",value:function(){return"undefined"!=typeof window&&window.performance?window.performance.now():Date.now()}},{key:"getTimeString",value:function(){return this.id+":"+function(e){var t=void 0;t=e<10?e.toFixed(2)+"ms":e<100?e.toFixed(1)+"ms":e<1e3?e.toFixed(0)+"ms":(e/1e3).toFixed(2)+"s";return t}(this.time)+"("+this.count+")"}}]),e}();var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={1:"float",2:"vec2",3:"vec3",4:"vec4"};var y=function(e){function t(e,n){var r=n.id,i=n.transitions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,Object.assign({id:r,geometry:new u.g({id:r,drawMode:u.f.POINTS}),vertexCount:0,isIndexed:!0},function(e){var t=[],n=[],r=[],i=[],o=[];for(var a in e){var s=e[a],u=g[s.attribute.size];u&&(s.bufferIndex=t.length,t.push(a),n.push("attribute "+u+" "+a+"From;"),n.push("attribute "+u+" "+a+"To;"),r.push("uniform float "+a+"Time;"),i.push("varying "+u+" "+a+";"),o.push(a+" = mix("+a+"From, "+a+"To,\n        "+a+"Time);"))}return{vs:"\n#define SHADER_NAME feedback-vertex-shader\n"+n.join("\n")+"\n"+r.join("\n")+"\n"+i.join("\n")+"\n\nvoid main(void) {\n  "+o.join("\n")+"\n  gl_Position = vec4(0.0);\n}\n",fs:"#define SHADER_NAME feedback-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n"+i.join("\n")+"\n\nvoid main(void) {\n  gl_FragColor = vec4(0.0);\n}\n",varyings:t}}(i))));return o.setTransitions(i),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["h"]),h(t,[{key:"setTransitions",value:function(e){for(var t in e){var n,r=e[t],i=r.fromState,o=r.toState,a=r.attribute;this.setAttributes((d(n={},t+"From",i),d(n,t+"To",o),n)),this.setVertexCount(a.value.length/a.size)}}}]),t}(),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var m=1,_=2,A=3,b=function(){},x=function(){function e(t,n){var r=n.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.gl=t,this.isSupported=u.k.isSupported(t),this.attributeTransitions={},this.needsRedraw=!1,this.model=null,this.isSupported?this.transformFeedback=new u.k(t):i.a.warn(0,"WebGL2 not supported by this browser. Transition animation is disabled.")}return v(e,[{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.opts=t,this.isSupported){var n=!1,r=this.attributeTransitions,i={};for(var o in e){var a=this._updateAttribute(o,e[o]);a&&(r[o]||(r[o]=a,n=!0),i[o]=a)}for(var s in r){var u=e[s];u&&u.transition||(delete r[s],n=!0)}n?this._createModel():this.model&&this.model.setTransitions(i)}}},{key:"hasAttribute",value:function(e){return e in this.attributeTransitions}},{key:"getAttributes",value:function(){var e={};for(var t in this.attributeTransitions){var n=this.attributeTransitions[t];n.buffer&&(e[t]=n.buffer)}return e}},{key:"setCurrentTime",value:function(e){if(!this.model)return!1;var t={},n={},r=this.needsRedraw;for(var i in this.needsRedraw=!1,this.attributeTransitions){var o=this.attributeTransitions[i];n[o.bufferIndex]=o.buffer;var a=1;o.state===m&&(o.startTime=e,o.state=_,o.onStart(o)),o.state===_&&((a=(e-o.startTime)/o.duration)>=1&&(a=1,o.state=A,o.onEnd(o)),r=!0),t[o.name+"Time"]=o.easing(a)}return r&&this._runTransformFeedback({uniforms:t,buffers:n}),r}},{key:"_updateAttribute",value:function(e,t){var n=this._getTransitionSettings(t);if(n){var r=void 0,i=this.attributeTransitions[e];if(i?r=t.changed:(i={name:e,attribute:t},r=!0),r)return this._triggerTransition(i,n),i}return null}},{key:"_runTransformFeedback",value:function(e){var t,n,r,i=e.uniforms,o=e.buffers,a=this.model,s=this.transformFeedback;s.bindBuffers(o,{}),a.draw({uniforms:i,transformFeedback:s,parameters:(t={},n=u.f.RASTERIZER_DISCARD,r=!0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)})}},{key:"_createModel",value:function(){this.model&&this.model.destroy(),this.model=new y(this.gl,{id:this.id,transitions:this.attributeTransitions})}},{key:"_getCurrentAttributeState",value:function(e){var t=e.attribute,n=e.buffer,r=t.value,i=t.type,o=t.size;if(n){var a=new Float32Array(r);return n.getData({dstData:a}),r instanceof Float32Array||(a=new r.constructor(a)),{size:o,type:i,value:a}}return{size:o,type:i,value:r}}},{key:"_getTransitionSettings",value:function(e){var t=this.opts,n=e.transition,r=e.accessor;return n?Array.isArray(r)?r.map(function(e){return t[e]}).find(Boolean):t[r]:null}},{key:"_normalizeTransitionSettings",value:function(e){return Number.isFinite(e)&&(e={duration:e}),s()(e&&e.duration>0),{duration:e.duration,easing:e.easing||function(e){return e},onStart:e.onStart||b,onEnd:e.onEnd||b,onInterrupt:e.onInterrupt||b}}},{key:"_triggerTransition",value:function(e,t){this.needsRedraw=!0;var n=e.attribute,r=e.buffer,i=n.value,o=n.size,a=this._normalizeTransitionSettings(t),s=!r||e.bufferSize<i.length,l=this._getCurrentAttributeState(e),c=new u.b(this.gl,{size:o,data:i});s&&(r&&r.delete(),e.buffer=new u.b(this.gl,{size:o,instanced:n.instanced,data:new Float32Array(i.length),usage:u.f.DYNAMIC_COPY}),e.bufferSize=i.length),Object.assign(e,a),e.fromState=l,e.toState=c,e.state===_&&e.onInterrupt(e),e.state=m}}]),e}(),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function E(){}function T(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clamped,n=void 0===t||t;switch(e){case u.f.FLOAT:return Float32Array;case u.f.UNSIGNED_SHORT:case u.f.UNSIGNED_SHORT_5_6_5:case u.f.UNSIGNED_SHORT_4_4_4_4:case u.f.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;case u.f.UNSIGNED_INT:return Uint32Array;case u.f.UNSIGNED_BYTE:return n?Uint8ClampedArray:Uint8Array;case u.f.BYTE:return Int8Array;case u.f.SHORT:return Int16Array;case u.f.INT:return Int32Array;default:throw new Error("Failed to deduce type from array")}}var M={savedMessages:null,timeStart:null,onLog:function(e){var t=e.level,n=e.message;i.a.log(t,n)},onUpdateStart:function(e){e.level,e.id,e.numInstances;M.savedMessages=[],M.timeStart=new Date},onUpdate:function(e){e.level;var t=e.message;M.savedMessages&&M.savedMessages.push(t)},onUpdateEnd:function(e){var t=e.level,n=e.id,r=e.numInstances,o=Math.round(new Date-M.timeStart)+"ms";i.a.group(t,"Updated attributes for "+r+" instances in "+n+" in "+o,{collapsed:!0});var a=!0,s=!1,u=void 0;try{for(var l,c=M.savedMessages[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;i.a.log(t,p)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}i.a.groupEnd(t,"Updated attributes for "+r+" instances in "+n+" in "+o),M.savedMessages=null}},S=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).id,r=void 0===n?"attribute-manager":n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r,this.gl=t,this.attributes={},this.updateTriggers={},this.accessors={},this.allocedInstances=-1,this.needsRedraw=!0,this.userData={},this.stats=new f({id:"attr"}),this.attributeTransitionManger=new x(t,{id:r+"-transitions"}),Object.seal(this)}return w(e,null,[{key:"setDefaultLogFunctions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onLog,n=e.onUpdateStart,r=e.onUpdate,i=e.onUpdateEnd;void 0!==t&&(M.onLog=t||E),void 0!==n&&(M.onUpdateStart=n||E),void 0!==r&&(M.onUpdate=r||E),void 0!==i&&(M.onUpdateEnd=i||E)}}]),w(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._add(e,t)}},{key:"remove",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];void 0!==this.attributes[n]&&delete this.attributes[n]}}},{key:"invalidate",value:function(e){var t=this._invalidateTrigger(e);M.onLog({level:2,message:"invalidated attributes "+t+" ("+e+") for "+this.id,id:this.identifier})}},{key:"invalidateAll",value:function(){for(var e in this.attributes)this.attributes[e].needsUpdate=!0;M.onLog({level:2,message:"invalidated all attributes for "+this.id,id:this.identifier})}},{key:"_invalidateTrigger",value:function(e){var t=this.attributes,n=this.updateTriggers[e];if(n)n.forEach(function(e){var n=t[e];n&&(n.needsUpdate=!0)});else{var r="invalidating non-existent trigger "+e+" for "+this.id+"\n";r+="Valid triggers: "+Object.keys(t).join(", "),i.a.warn(r,n)}return n}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=e.numInstances,r=e.transitions,i=e.props,o=void 0===i?{}:i,a=e.buffers,s=void 0===a?{}:a,u=e.context,l=void 0===u?{}:u,c=e.ignoreUnknownAttributes,p=void 0!==c&&c;this._checkExternalBuffers({buffers:s,ignoreUnknownAttributes:p}),this._setExternalBuffers(s),this._analyzeBuffers({numInstances:n})&&(M.onUpdateStart({level:1,id:this.id,numInstances:n}),this.stats.timeStart(),this._updateBuffers({numInstances:n,data:t,props:o,context:l}),this.stats.timeEnd(),M.onUpdateEnd({level:1,id:this.id,numInstances:n})),this.attributeTransitionManger.update(this.attributes,r)}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getChangedAttributes",value:function(e){var t=e.transition,n=void 0!==t&&t,r=e.clearChangedFlags,i=void 0!==r&&r,o=this.attributes,a=this.attributeTransitionManger;if(n)return a.getAttributes();var s={};for(var u in o){var l=o[u];l.changed&&(l.changed=l.changed&&!i,a.hasAttribute(u)||(s[u]=l))}return s}},{key:"getNeedsRedraw",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,t=void 0!==e&&e,n=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!t,n&&this.id}},{key:"setNeedsRedraw",value:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.needsRedraw=!0,this}},{key:"addInstanced",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._add(e,t,{instanced:1})}},{key:"getAccessors",value:function(){return this.updateTriggers}},{key:"_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};for(var i in e){i in t&&(e[i]=Object.assign({},e[i],t[i]));var o=e[i],a=o.isGeneric||!1,s=o.isIndexed||o.elements,u=o.elements?1:o.size,l=o.value||null,c=Object.assign({target:void 0,userData:{}},o,{isExternalBuffer:!1,needsAlloc:!1,needsUpdate:!1,changed:!1,isGeneric:a,isIndexed:s,size:u,value:l},n);Object.seal(c),this._validateAttributeDefinition(i,c),r[i]=c}Object.assign(this.attributes,r),this._mapUpdateTriggersToAttributes()}},{key:"_mapUpdateTriggersToAttributes",value:function(){var e=this,t={},n=function(n){var r=e.attributes[n].accessor;t[n]=[n],"string"==typeof r&&(r=[r]),Array.isArray(r)&&r.forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)})};for(var r in this.attributes)n(r);this.updateTriggers=t}},{key:"_validateAttributeDefinition",value:function(e,t){if(s()(t.size>=1&&t.size<=4,"Attribute definition for "+e+" invalid size"),!(t.noAlloc||"function"==typeof t.update||"string"==typeof t.accessor))throw new Error("Attribute "+e+" missing update or accessor")}},{key:"_checkExternalBuffers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buffers,n=void 0===t?{}:t,r=e.ignoreUnknownAttributes,i=void 0!==r&&r,o=this.attributes;for(var a in n){if(!o[a]&&!i)throw new Error("Unknown attribute prop "+a)}}},{key:"_setExternalBuffers",value:function(e){var t=this.attributes,n=this.numInstances;for(var r in t){var i=t[r],o=e[r];if(i.isExternalBuffer=!1,o){var a=T(i.type||u.f.FLOAT);if(!(o instanceof a))throw new Error("Attribute "+r+" must be of type "+a.name);if(i.auto&&o.length<=n*i.size)throw new Error("Attribute prop array must match length and size");i.isExternalBuffer=!0,i.needsUpdate=!1,i.value!==o&&(i.value=o,i.changed=!0,this.needsRedraw=!0)}}}},{key:"_analyzeBuffers",value:function(e){var t=e.numInstances,n=this.attributes;s()(void 0!==t,"numInstances not defined");var r=!1;for(var i in n){var o=n[i];if(!o.isExternalBuffer)(null===o.value||o.value.length/o.size<t)&&(o.update||o.accessor)&&(o.needsAlloc=!0,r=!0),o.needsUpdate&&(r=!0)}return r}},{key:"_updateBuffers",value:function(e){var t=e.numInstances,n=e.data,r=e.props,i=e.context,o=this.attributes,a=Math.max(t,1);for(var s in o){var l=o[s];if(l.needsAlloc){var c=T(l.type||u.f.FLOAT);l.value=new c(l.size*a),M.onUpdate({level:2,message:s+" allocated "+a,id:this.id}),l.needsAlloc=!1,l.needsUpdate=!0}}for(var p in o){var f=o[p];f.needsUpdate&&this._updateBuffer({attribute:f,attributeName:p,numInstances:t,data:n,props:r,context:i})}this.allocedInstances=a}},{key:"_updateBuffer",value:function(e){var t=e.attribute,n=e.attributeName,r=e.numInstances,i=e.data,o=e.props,a=e.context,s=t.update,u=t.accessor,l=new Date;s?(s.call(a,t,{data:i,props:o,numInstances:r}),this._checkAttributeArray(t,n)):u?(this._updateBufferViaStandardAccessor({attribute:t,data:i,props:o}),this._checkAttributeArray(t,n)):M.onUpdate({level:2,message:n+" missing update function",id:this.id});var c=Math.round(new Date-l)+"ms";M.onUpdate({level:2,message:n+" updated "+r+" "+c,id:this.id}),t.needsUpdate=!1,t.changed=!0,this.needsRedraw=!0}},{key:"_updateBufferViaStandardAccessor",value:function(e){var t=e.attribute,n=e.data,r=e.props,i=t.accessor,o=t.value,a=t.size,u=r[i];s()("function"==typeof u,'accessor "'+i+'" is not a function');var l=t.defaultValue,c=void 0===l?[0,0,0,0]:l;c=Array.isArray(c)?c:[c];var p=0,f=!0,h=!1,d=void 0;try{for(var g,y=n[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var v=u(g.value);switch(v=Array.isArray(v)?v:[v],a){case 4:o[p+3]=Number.isFinite(v[3])?v[3]:c[3];case 3:o[p+2]=Number.isFinite(v[2])?v[2]:c[2];case 2:o[p+1]=Number.isFinite(v[1])?v[1]:c[1];case 1:o[p+0]=Number.isFinite(v[0])?v[0]:c[0]}p+=a}}catch(e){h=!0,d=e}finally{try{!f&&y.return&&y.return()}finally{if(h)throw d}}}},{key:"_checkAttributeArray",value:function(e,t){var n=e.value;if(n&&n.length>=4&&!(Number.isFinite(n[0])&&Number.isFinite(n[1])&&Number.isFinite(n[2])&&Number.isFinite(n[3])))throw new Error("Illegal attribute generated for "+t)}},{key:"updateTransition",value:function(){var e=this.attributeTransitionManger.setCurrentTime(Date.now());return this.needsRedraw=this.needsRedraw||e,e}}]),e}(),C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I="count(): argument not an object",P="count(): argument not a container";function k(e){if(null===(t=e)||"object"!==(void 0===t?"undefined":C(t)))throw new Error(I);var t;if("function"==typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===(void 0===e?"undefined":C(e))&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error(P)}var O=new Map,L=function(e){if(c.a.isReady()&&e.id){var t=O.get(e.id);t&&t.forEach(function(t,n){!function e(t,n,r){t&&(n.length>1?e(t[n[0]],n.slice(1),r):t[n[0]]=r)}(e,n,t),"data"===n[0]&&(e.data=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.data)))})}},R=function(e){c.a.isReady()&&c.a.listenFor("deck.gl",e)},j=function(e){c.a.isReady()&&c.a.listenFor("init",e)},N=function(e){if(c.a.isReady()&&e){var t=[e.constructor.layerName];c.a.listItem("deck.gl",e.id,{badges:t,links:e.state&&e.state.model?["luma.gl:"+e.state.model.id]:void 0,parent:e.parentLayer?e.parentLayer.id:void 0})}},B=function(e){if(c.a.isReady()&&!c.a.throttle("deck.gl:"+e.id,1e3)){var t=function(e){var t=[{path:"objects.props",data:e.props}],n=[e.constructor.layerName];if(e.state){if(e.state.attributeManager){var r=e.state.attributeManager.getAttributes();t.push({path:"objects.attributes",data:r}),n.push(e.state.attributeManager.stats.getTimeString())}if(e.state.model){e.state.model.timerQueryEnabled=!0;var i=e.state.model.stats.lastFrameTime;i&&n.push((1e3*i).toFixed(0)+"s")}}return t.push({path:"badges",data:n}),t}(e);c.a.multiUpdate("deck.gl",e.id,t)}};var D=Object.freeze([]);function F(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e=function e(t){var n=z(t,"_props");if(n)return n;var r=t.prototype;if(!r)return{defaultProps:{}};var o=Object.getPrototypeOf(t);var a=r&&e(o)||null;var s=z(t,"defaultProps")||{};var u=Object.create(null);Object.assign(u,a&&a.defaultProps,s);!function(e,t){var n={};delete e.id,Object.assign(n,{id:{configurable:!1,writable:!0,value:function(e){var t=z(e,"layerName");t||i.a.once(0,e.name+".layerName not specified");return t||e.name}(t)}}),Object.defineProperties(e,n)}(u,t);t._props={defaultProps:u};return t._props}(this.constructor).defaultProps,t=Object.create(e,{_layer:{enumerable:!1,value:this},_asyncProps:{enumerable:!1,value:{}}}),n=0;n<arguments.length;++n)Object.assign(t,arguments[n]);return t.data=t.data||D,L(t),Object.freeze(t),t}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)&&e[t]}var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(e,t){var n=V({newProps:e,oldProps:t,ignoreProps:{data:null,updateTriggers:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";var n=e.dataComparator;if(n){if(!n(e.data,t.data))return"Data comparator detected a change"}else if(e.data!==t.data)return"A new data container was supplied";return null}(e,t),i=!1;return r||(i=function(e,t){if(null===t)return"oldProps is null, initial diff";if("all"in e.updateTriggers){var n=Y(t,e,"all");if(n)return{all:!0}}var r={},i=!1;for(var o in e.updateTriggers)if("all"!==o){var a=Y(t,e,o);a&&(r[o]=!0,i=r)}return i}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i}}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.newProps,n=e.oldProps,r=e.ignoreProps,i=void 0===r?{}:r,o=e.shallowCompareProps,a=void 0===o?{}:o,u=e.triggerName,l=void 0===u?"props":u;if(s()(void 0!==n&&void 0!==t,"compareProps args"),n===t)return null;if("object"!==(void 0===t?"undefined":U(t))||null===t)return l+" changed shallowly";if("object"!==(void 0===n?"undefined":U(n))||null===n)return l+" changed shallowly";for(var c in n)if(!(c in i)){if(!(c in t))return l+"."+c+" dropped: "+n[c]+" -> undefined";var p=t[c]&&n[c]&&t[c].equals;if(p&&!p.call(t[c],n[c]))return l+"."+c+" changed deeply: "+n[c]+" -> "+t[c];if(c in a)"function"===U(t[c])&&"function"==typeof n[c]&&(p=!0);if(!p&&n[c]!==t[c])return l+"."+c+" changed shallowly: "+n[c]+" -> "+t[c]}for(var f in t)if(!(f in i||f in n))return l+"."+f+" added: undefined -> "+t[f];return null}function Y(e,t,n){var r=e.updateTriggers[n]||{};return V({oldProps:t.updateTriggers[n]||{},newProps:r,triggerName:n})}var H=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Q=Object.freeze({}),X=function(){},Z={dataComparator:null,updateTriggers:{},numInstances:void 0,visible:!0,pickable:!1,opacity:.8,onHover:X,onClick:X,coordinateSystem:o.a.LNGLAT,coordinateOrigin:[0,0,0],parameters:{},uniforms:{},framebuffer:null,animation:null,getPolygonOffset:function(e){return[0,100*-e.layerIndex]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:[0,0,128,128]},J=0,K=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=F.apply(this,arguments),this.id=this.props.id,this.oldProps=Q,this.count=J++,this.lifecycle=o.b.NO_STATE,this.state=null,this.context=null,this.parentLayer=null,this.internalState=null,Object.seal(this)}return W(e,[{key:"clone",value:function(e){return new this.constructor(Object.assign({},this.props,e))}},{key:"toString",value:function(){return(this.constructor.layerName||this.constructor.name)+"({id: '"+this.props.id+"'})"}},{key:"setState",value:function(e){Object.assign(this.state,e),this.state.needsRedraw=!0}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state&&(this.state.needsRedraw=e)}},{key:"getNeedsRedraw",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,t=void 0!==e&&e;return this._getNeedsRedraw(t)}},{key:"getModels",value:function(){return this.state.models||(this.state.model?[this.state.model]:[])}},{key:"needsUpdate",value:function(){return this.shouldUpdateState(this._getUpdateParams())}},{key:"isPickable",value:function(){return this.props.pickable&&this.props.visible}},{key:"getAttributeManager",value:function(){return this.state&&this.state.attributeManager}},{key:"getFirstObject",value:function(){var e=this.props.data,t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){return i.value}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return null}},{key:"project",value:function(e){var t=this.context.viewport;return s()(Array.isArray(e),"Layer.project needs [lng,lat]"),t.project(e)}},{key:"unproject",value:function(e){var t=this.context.viewport;return s()(Array.isArray(e),"Layer.unproject needs [x,y]"),t.unproject(e)}},{key:"projectFlat",value:function(e){var t=this.context.viewport;return s()(Array.isArray(e),"Layer.project needs [lng,lat]"),t.projectFlat(e)}},{key:"unprojectFlat",value:function(e){var t=this.context.viewport;return s()(Array.isArray(e),"Layer.unproject needs [x,y]"),t.unprojectFlat(e)}},{key:"screenToDevicePixels",value:function(e){return i.a.deprecated("screenToDevicePixels","DeckGL prop useDevicePixels for conversion"),e*("undefined"!=typeof window?window.devicePixelRatio:1)}},{key:"nullPickingColor",value:function(){return[0,0,0]}},{key:"encodePickingColor",value:function(e){return s()(0==(e+1>>24&255),"index out of picking color range"),[e+1&255,e+1>>8&255,e+1>>8>>8&255]}},{key:"decodePickingColor",value:function(e){s()(e instanceof Uint8Array);var t=H(e,3);return t[0]+256*t[1]+65536*t[2]-1}},{key:"initializeState",value:function(){throw new Error("Layer "+this+" has not defined initializeState")}},{key:"shouldUpdateState",value:function(e){e.oldProps,e.props,e.oldContext,e.context;return e.changeFlags.propsOrDataChanged}},{key:"updateState",value:function(e){e.oldProps,e.props,e.oldContext,e.context;var t=e.changeFlags,n=this.getAttributeManager();t.dataChanged&&n&&n.invalidateAll()}},{key:"finalizeState",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.getModels()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.delete()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"updateTransition",value:function(){var e=this.state,t=e.model,n=e.attributeManager,r=n&&n.updateTransition();t&&r&&t.setAttributes(n.getChangedAttributes({transition:!0}))}},{key:"draw",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.getModels()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.draw(e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"getPickingInfo",value:function(e){var t=e.info,n=(e.mode,t.index);return n>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[n]),t}},{key:"invalidateAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.getAttributeManager();n&&("all"===e?(i.a.log(1,"updateTriggers invalidating all attributes: "+t),n.invalidateAll()):(i.a.log(1,"updateTriggers invalidating attribute "+e+": "+t),n.invalidate(e)))}},{key:"updateAttributes",value:function(e){var t=this.getAttributeManager();if(t){var n=this.getNumInstances(e);t.update({data:e.data,numInstances:n,props:e,transitions:e.transitions,buffers:e,context:this,ignoreUnknownAttributes:!0});var r=this.state.model;if(r){var i=t.getChangedAttributes({clearChangedFlags:!0});r.setAttributes(i)}}}},{key:"calculateInstancePickingColors",value:function(e,t){for(var n=t.numInstances,r=e.value,i=e.size,o=0;o<n;o++){var a=this.encodePickingColor(o);r[o*i+0]=a[0],r[o*i+1]=a[1],r[o*i+2]=a[2]}}},{key:"getNumInstances",value:function(e){return e=e||this.props,this.state&&void 0!==this.state.numInstances?this.state.numInstances:void 0!==e.numInstances?e.numInstances:k(e.data)}},{key:"_initialize",value:function(){s()(0===arguments.length),s()(this.context.gl),s()(!this.state);var e=new S(this.context.gl,{id:this.props.id});e.addInstanced({instancePickingColors:{type:u.f.UNSIGNED_BYTE,size:3,update:this.calculateInstancePickingColors}}),this.internalState={subLayers:null,stats:new f({id:"draw"})},this.state={attributeManager:e,model:null,needsRedraw:!0},this.initializeState(this.context),this.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0}),this._updateState(this._getUpdateParams()),this.isComposite&&this._renderLayers(!0);var t=this.state.model;t&&(t.id=this.props.id,t.program.id=this.props.id+"-program",t.geometry.id=this.props.id+"-geometry",t.setAttributes(e.getAttributes())),this.isComposite&&this._renderLayers(),this.clearChangeFlags()}},{key:"_update",value:function(){s()(0===arguments.length);var e=this.needsUpdate(),t=this._getUpdateParams();e&&this._updateState(t),this.isComposite&&this._renderLayers(e),this.clearChangeFlags(),this.oldProps=Q}},{key:"_updateState",value:function(e){this.updateState(e),this.updateAttributes(this.props),this._updateBaseUniforms(),this._updateModuleSettings(),this.state.model&&this.state.model.setInstanceCount(this.getNumInstances())}},{key:"_finalize",value:function(){var e;s()(0===arguments.length),this.finalizeState(this.context),e=this.id,c.a.isReady()&&e&&c.a.deleteItem("deck.gl",e)}},{key:"drawLayer",value:function(e){var t=this,n=e.moduleParameters,r=void 0===n?null:n,i=e.uniforms,o=void 0===i?{}:i,a=e.parameters,s=void 0===a?{}:a;if(o.picking_uActive||this.updateTransition(),r){var l=!0,c=!1,p=void 0;try{for(var f,h=this.getModels()[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){f.value.updateModuleSettings(r)}}catch(e){c=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw p}}}var d=this.props.getPolygonOffset,g=d&&d(o)||[0,0];s.polygonOffset=g,Object(u.t)(this.context.gl,s,function(){t.draw({moduleParameters:r,uniforms:o,parameters:s,context:t.context})})}},{key:"pickLayer",value:function(e){return this.getPickingInfo(e)}},{key:"getChangeFlags",value:function(){return this.internalState.changeFlags}},{key:"setChangeFlags",value:function(e){var t=this;this.internalState.changeFlags=this.internalState.changeFlags||{};var n=this.internalState.changeFlags;e.dataChanged&&!n.dataChanged&&(n.dataChanged=e.dataChanged,i.a.log(2,function(){return"dataChanged: "+e.dataChanged+" in "+t.id})),e.updateTriggersChanged&&!n.updateTriggersChanged&&(n.updateTriggersChanged=n.updateTriggersChanged&&e.updateTriggersChanged?Object.assign({},e.updateTriggersChanged,n.updateTriggersChanged):e.updateTriggersChanged||n.updateTriggersChanged,i.a.log(2,function(){return"updateTriggersChanged: "+Object.keys(e.updateTriggersChanged).join(", ")+" in "+t.id})),e.propsChanged&&!n.propsChanged&&(n.propsChanged=e.propsChanged,i.a.log(2,function(){return"propsChanged: "+e.propsChanged+" in "+t.id})),e.viewportChanged&&!n.viewportChanged&&(n.viewportChanged=e.viewportChanged,i.a.log(3,function(){return"viewportChanged: "+e.viewportChanged+" in "+t.id}));var r=e.dataChanged||e.updateTriggersChanged||e.propsChanged;n.propsOrDataChanged=n.propsOrDataChanged||r,n.somethingChanged=n.somethingChanged||r||e.viewportChanged}},{key:"clearChangeFlags",value:function(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}},{key:"printChangeFlags",value:function(){var e=this.internalState.changeFlags;return(e.dataChanged?"data ":"")+(e.propsChanged?"props ":"")+(e.updateTriggersChanged?"triggers ":"")+(e.viewportChanged?"viewport":"")}},{key:"diffProps",value:function(){var e=G(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.oldProps);if(e.updateTriggersChanged)for(var t in e.updateTriggersChanged)e.updateTriggersChanged[t]&&this._activeUpdateTrigger(t);return this.setChangeFlags(e)}},{key:"_getUpdateParams",value:function(){return{props:this.props,oldProps:this.oldProps,context:this.context,oldContext:this.oldContext||{},changeFlags:this.internalState.changeFlags}}},{key:"_getNeedsRedraw",value:function(e){if(!this.state)return!1;var t=!1;t=t||this.state.needsRedraw&&this.id,this.state.needsRedraw=this.state.needsRedraw&&!e;var n=this.getAttributeManager(),r=n&&n.getNeedsRedraw({clearRedrawFlags:e});t=t||r;var i=!0,o=!1,a=void 0;try{for(var s,u=this.getModels()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value,c=l.getNeedsRedraw({clearRedrawFlags:e});c&&"string"!=typeof c&&(c="model "+l.id),t=t||c}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return t}},{key:"_transferState",value:function(e){var t=e.state,n=e.internalState,r=e.props;s()(t&&n),t.layer=this,this.state=t,this.internalState=n,this.oldProps=r;var i=!0,o=!1,a=void 0;try{for(var u,l=this.getModels()[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){u.value.userData.layer=this}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}this.diffProps()}},{key:"_activeUpdateTrigger",value:function(e){this.invalidateAttribute(e)}},{key:"_checkRequiredProp",value:function(e,t){var n=this.props[e];if(void 0===n)throw new Error("Property "+e+" undefined in layer "+this);if(t&&!t(n))throw new Error("Bad property "+e+" in layer "+this)}},{key:"_updateBaseUniforms",value:function(){var e={opacity:Math.pow(this.props.opacity,1/2.2),ONE:1},t=!0,n=!1,r=void 0;try{for(var i,o=this.getModels()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setUniforms(e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.state.needsRedraw=!0}},{key:"_updateModuleSettings",value:function(){var e={pickingHighlightColor:this.props.highlightColor},t=!0,n=!1,r=void 0;try{for(var i,o=this.getModels()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.updateModuleSettings(e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"setUniforms",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=this.getModels()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.setUniforms(e)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.state.needsRedraw=!0,i.a.deprecated("layer.setUniforms","model.setUniforms")}},{key:"stats",get:function(){return this.internalState.stats}}]),e}(),q=K;K.layerName="Layer",K.defaultProps=Z;var $=2,ee=0,te=function(e){var t=e.useDevicePixels;return s()("boolean"==typeof t,"Invalid useDevicePixels"),t&&"undefined"!=typeof window?window.devicePixelRatio:1},ne=function(e,t){var n=t.viewport,r=t.pixelRatio,i=e.canvas?e.canvas.clientHeight:100,o=n;return[o.x*r,(i-o.y-o.height)*r,o.width*r,o.height*r]};function re(e,t){var n=t.layers,r=t.viewports,o=t.onViewportActive,a=t.useDevicePixels,s=t.drawPickingColors,l=void 0!==s&&s,c=t.deviceRect,p=void 0===c?null:c,f=t.parameters,h=void 0===f?{}:f,d=t.layerFilter,g=void 0===d?null:d,y=t.pass,v=void 0===y?"draw":y,m=t.redrawReason,_=void 0===m?"":m;!function(e,t){t.useDevicePixels;var n=e.drawingBufferWidth,r=e.drawingBufferHeight;Object(u.t)(e,{viewport:[0,0,n,r]},function(){e.clear(u.f.COLOR_BUFFER_BIT|u.f.DEPTH_BUFFER_BIT)})}(e,{useDevicePixels:a}),r.forEach(function(t,r){var s=function(e){return e.viewport?e.viewport:e}(t);o(s),function(e,t){var n=t.layers,r=t.viewport,o=t.useDevicePixels,a=t.drawPickingColors,s=void 0!==a&&a,l=(t.deviceRect,t.parameters),c=void 0===l?{}:l,p=t.layerFilter,f=t.pass,h=void 0===f?"draw":f,d=t.redrawReason,g=void 0===d?"":d,y=te({useDevicePixels:o}),v=ne(e,{viewport:r,pixelRatio:y}),m={totalCount:n.length,visibleCount:0,compositeCount:0,pickableCount:0};Object(u.s)(e,c||{}),n.forEach(function(t,n){var i=t.props.visible;s&&(i=i&&t.props.pickable),i&&p&&(i=p({layer:t,viewport:r,isPicking:s})),i&&t.props.pickable&&m.pickableCount++,t.isComposite&&m.compositeCount++,i&&(t.isComposite||m.visibleCount++,function(e){e.gl;var t=e.layer,n=e.layerIndex,r=e.drawPickingColors,i=e.glViewport,o=e.parameters,a=Object.assign({},t.props,{viewport:t.context.viewport,pickingActive:r?1:0}),s=Object.assign({},t.context.uniforms,{layerIndex:n}),u=Object.assign({},t.props.parameters||{},o);Object.assign(u,{viewport:i}),r?Object.assign(u,{blendColor:[0,0,0,(n+1)/255]}):Object.assign(a,function(e){if(Number.isInteger(e.props.highlightedObjectIndex)){var t=e.props.highlightedObjectIndex>=0?e.encodePickingColor(e.props.highlightedObjectIndex):null;return{pickingSelectedColor:t}}return null}(t));t.drawLayer({moduleParameters:a,uniforms:s,parameters:u})}({gl:e,layer:t,layerIndex:n,drawPickingColors:s,glViewport:v,parameters:c}))}),ee++,function(e){var t=e.renderStats,n=e.pass,r=e.redrawReason;if(i.a.priority>=$){var o=t.totalCount,a=t.visibleCount,s=t.compositeCount,u=t.pickableCount,l=o-s,c=l-a,p="";p+="RENDER #"+ee+" "+a+" (of "+o+" layers) to "+n+" because "+r+" ",i.a.priority>$&&(p+="("+c+" hidden, "+s+" composite "+u+" unpickable)"),i.a.log($,p)}}({renderStats:m,pass:h,redrawReason:g})}(e,{layers:n,viewport:s,useDevicePixels:a,drawPickingColors:l,deviceRect:p,parameters:h,layerFilter:g,pass:v,redrawReason:_})})}var ie={pickedColor:null,pickedLayer:null,pickedObjectIndex:-1};function oe(e,t){var n=t.layers,r=t.viewports,o=t.x,a=t.y,u=t.radius,l=t.layerFilter,c=t.mode,p=t.onViewportActive,f=t.pickingFBO,h=t.lastPickedInfo,d=t.useDevicePixels,g=te({useDevicePixels:d}),y=Math.round(o*g),v=Math.round(e.canvas.height-a*g),m=Math.round(u*g),_=function(e){var t=e.deviceX,n=e.deviceY,r=e.deviceRadius,i=e.deviceWidth,o=e.deviceHeight;if(!(t>=0&&n>=0&&t<i&&n<o))return null;var a=Math.max(0,t-r),s=Math.max(0,n-r),u=Math.min(i,t+r)-a+1,l=Math.min(o,n+r)-s+1;return{x:a,y:s,width:u,height:l}}({deviceX:y,deviceY:v,deviceRadius:m,deviceWidth:f.width,deviceHeight:f.height}),A=_&&se(e,{layers:n,viewports:r,onViewportActive:p,useDevicePixels:d,pickingFBO:f,deviceRect:_,layerFilter:l,redrawReason:c});return function(e){var t=e.pickInfo,n=e.lastPickedInfo,r=e.mode,i=e.layers,o=e.viewports,a=e.x,s=e.y,u=e.deviceX,l=e.deviceY,c=e.pixelRatio,p=t.pickedColor,f=t.pickedLayer,h=t.pickedObjectIndex,d=f?[f]:[];if("hover"===r){var g=n.index,y=n.layerId,v=f&&f.props.id;if(v!==y||h!==g){if(v!==y){var m=i.find(function(e){return e.props.id===y});m&&d.unshift(m)}n.layerId=v,n.index=h}}var _=(x={viewports:o},x.viewports[0]),A={color:null,layer:null,index:-1,picked:!1,x:a,y:s,pixel:[a,s],lngLat:_.unproject([a,s]),devicePixel:[u,l],pixelRatio:c},b=new Map;var x;return d.forEach(function(e){var t=Object.assign({},A);e===f&&(t.color=p,t.index=h,t.picked=!0),(t=ue({layer:e,info:t,mode:r}))&&b.set(t.layer.id,t);var n={pickingSelectedColor:e.props.autoHighlight&&f===e?p:null},i=!0,o=!1,a=void 0;try{for(var s,u=e.getModels()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0)s.value.updateModuleSettings(n)}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}),function(e,t){var n=[];return e.forEach(function(e){var r=!1;switch(t){case"click":r=e.layer.props.onClick(e);break;case"hover":r=e.layer.props.onHover(e);break;case"query":break;default:throw new Error("unknown pick type")}r||n.push(e)}),n}(b,r)}({pickInfo:A&&function(e,t){var n=t.pickedColors,r=t.layers,o=t.deviceX,a=t.deviceY,u=t.deviceRadius,l=t.deviceRect;s()(n);for(var c=l.x,p=l.y,f=l.width,h=l.height,d=u*u,g=-1,y=0,v=0;v<h;v++){var m=v+p-a,_=m*m;if(_>d)y+=4*f;else for(var A=0;A<f;A++){var b=n[y+3]-1;if(b>=0){var x=A+c-o,w=x*x+_;w<=d&&(d=w,g=y)}y+=4}}if(g>=0){var E=n[g+3]-1,T=n.slice(g,g+4),M=r[E];if(M){var S=M.decodePickingColor(T);return{pickedColor:T,pickedLayer:M,pickedObjectIndex:S}}i.a.error("Picked non-existent layer. Is picking buffer corrupt?")}return ie}(0,{pickedColors:A,layers:n,deviceX:y,deviceY:v,deviceRadius:m,deviceRect:_})||ie,lastPickedInfo:h,mode:c,layers:n,viewports:r,x:o,y:a,deviceX:y,deviceY:v,pixelRatio:g})}function ae(e,t){var n=t.layers,r=t.viewports,o=t.x,a=t.y,s=t.width,u=t.height,l=t.mode,c=t.layerFilter,p=t.onViewportActive,f=t.pickingFBO,h=t.useDevicePixels,d=te({useDevicePixels:h}),g=Math.round(o*d),y=Math.round(e.canvas.height-a*d),v=Math.round((o+s)*d),m=Math.round(e.canvas.height-(a+u)*d),_=function(e,t){var n=t.pickedColors,r=t.layers,o=new Map;if(n)for(var a=0;a<n.length;a+=4){var s=n[a+3]-1;if(s>=0){var u=n.slice(a,a+4),l=u.join(",");if(!o.has(l)){var c=r[s];c?o.set(l,{pickedColor:u,pickedLayer:c,pickedObjectIndex:c.decodePickingColor(u)}):i.a.error("Picked non-existent layer. Is picking buffer corrupt?")}}}return Array.from(o.values())}(0,{pickedColors:se(e,{layers:n,viewports:r,onViewportActive:p,pickingFBO:f,useDevicePixels:h,deviceRect:{x:g,y:m,width:v-g,height:y-m},layerFilter:c,redrawReason:l}),layers:n}),A=new Map;return _.forEach(function(e){var t={color:e.pickedColor,layer:null,index:e.pickedObjectIndex,picked:!0,x:o,y:a,width:s,height:u,pixelRatio:d};t=ue({layer:e.pickedLayer,info:t,mode:l}),A.has(t.object)||A.set(t.object,t)}),Array.from(A.values())}function se(e,t){var n=t.layers,r=t.viewports,i=t.onViewportActive,o=t.useDevicePixels,a=t.pickingFBO,l=t.deviceRect,c=t.layerFilter,p=t.redrawReason;if(s()(l),s()(Number.isFinite(l.width)&&l.width>0,"`width` must be > 0"),s()(Number.isFinite(l.height)&&l.height>0,"`height` must be > 0"),n.filter(function(e){return e.isPickable()}).length<1)return null;!function(e,t){var n=t.layers,r=t.viewports,i=t.onViewportActive,o=t.useDevicePixels,a=t.pickingFBO,s=t.deviceRect,l=s.x,c=s.y,p=s.width,f=s.height,h=t.layerFilter,d=void 0===h?null:h,g=t.redrawReason,y=void 0===g?"":g;Object(u.t)(e,{framebuffer:a,scissorTest:!0,scissor:[l,c,p,f],clearColor:[0,0,0,0]},function(){re(e,{layers:n,viewports:r,onViewportActive:i,useDevicePixels:o,drawPickingColors:!0,layerFilter:d,pass:"picking",redrawReason:y,parameters:{blend:!0,blendFunc:[e.ONE,e.ZERO,e.CONSTANT_ALPHA,e.ZERO],blendEquation:e.FUNC_ADD,blendColor:[0,0,0,0]}})})}(e,{layers:n,viewports:r,onViewportActive:i,useDevicePixels:o,pickingFBO:a,deviceRect:l,layerFilter:c,redrawReason:p});var f=l.x,h=l.y,d=l.width,g=l.height,y=new Uint8Array(d*g*4);return a.readPixels({x:f,y:h,width:d,height:g,pixelArray:y}),y}function ue(e){for(var t=e.layer,n=e.info,r=e.mode;t&&n;){var i=n.layer||t;n.layer=t,n=t.pickLayer({info:n,mode:r,sourceLayer:i}),t=t.parentLayer}return n}var le=n(141),ce=n.n(le),pe=n(35),fe=n.n(pe);function he(e,t){if(!e)return null;var n=fe()([0,0,0,0],t,e),r=1/n[3];return ce()(n,n,[r,r,r,r]),n}var de=n(10),ge=n(47),ye=n.n(ge),ve=n(46),me=n.n(ve),_e=n(26),Ae=n.n(_e),be=n(70),xe=n.n(be),we=n(53),Ee=n.n(we),Te=n(14),Me=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ce=[0,0,0],Ie=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Pe={pixelsPerMeter:[1,1,1],metersPerPixel:[1,1,1],pixelsPerDegree:[1,1,1],degreesPerPixel:[1,1,1]},ke=0,Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.id,r=void 0===n?null:n,i=t.x,o=void 0===i?0:i,a=t.y,u=void 0===a?0:a,l=t.width,c=void 0===l?1:l,p=t.height,f=void 0===p?1:p,h=t.viewMatrix,d=void 0===h?Ie:h,g=t.projectionMatrix,y=void 0===g?null:g,v=t.fovy,m=void 0===v?75:v,_=t.near,A=void 0===_?.1:_,b=t.far,x=void 0===b?1e3:b,w=t.longitude,E=void 0===w?null:w,T=t.latitude,M=void 0===T?null:T,S=t.zoom,C=void 0===S?null:S,I=t.position,P=void 0===I?null:I,k=t.modelMatrix,O=void 0===k?null:k,L=t.distanceScales,R=void 0===L?null:L;if(this.id=r||this.constructor.displayName||"viewport",this.isGeospatial=Number.isFinite(M)&&Number.isFinite(E),this.x=o,this.y=u,this.width=c||1,this.height=f||1,this.zoom=C,Number.isFinite(this.zoom)||(this.zoom=this.isGeospatial?Object(Te.e)({latitude:M}):ke),this.scale=Math.pow(2,this.zoom),this.distanceScales=this.isGeospatial?Object(Te.d)({latitude:M,longitude:E,scale:this.scale}):R||Pe,this.focalDistance=t.focalDistance||1,this.distanceScales.metersPerPixel=new de.c(this.distanceScales.metersPerPixel),this.distanceScales.pixelsPerMeter=new de.c(this.distanceScales.pixelsPerMeter),this.position=Ce,this.meterOffset=Ce,P&&(this.position=P,this.modelMatrix=O,this.meterOffset=O?O.transformVector(P):P),this.viewMatrixUncentered=d,this.isGeospatial?(this.center=Object(Te.h)({longitude:E,latitude:M,scale:this.scale,distanceScales:this.distanceScales,meterOffset:this.meterOffset}),this.viewMatrix=(new de.a).multiplyRight(this.viewMatrixUncentered).scale([1,-1,1]).translate(new de.c(this.center||Ce).negate())):(this.center=P,this.viewMatrix=d),y)this.projectionMatrix=y;else{s()(Number.isFinite(m));var j=m*(Math.PI/180),N=this.width/this.height;this.projectionMatrix=Ee()([],j,N,A,x)}this._initMatrices(),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this),this.getMatrices=this.getMatrices.bind(this)}return Se(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&Object(de.d)(t.projectionMatrix,this.projectionMatrix)&&Object(de.d)(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,n=void 0===t||t,r=Me(e,3),i=r[0],o=r[1],a=r[2],s=void 0===a?0:a,u=this.projectFlat([i,o]),l=Me(u,2),c=l[0],p=l[1],f=Object(Te.m)([c,p,s],this.pixelProjectionMatrix),h=Me(f,2),d=h[0],g=h[1],y=n?g:this.height-g;return 2===e.length?[d,y]:[d,y,f[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,r=void 0===n||n,i=t.targetZ,o=Me(e,3),a=o[0],s=o[1],u=o[2],l=r?s:this.height-s,c=Object(Te.k)([a,l,u],this.pixelUnprojectionMatrix,i),p=this.unprojectFlat(c),f=Me(p,2),h=f[0],d=f[1];return Number.isFinite(u)?[h,d,c[2]]:Number.isFinite(i)?[h,d,i]:[h,d]}},{key:"projectFlat",value:function(e){var t=Me(e,2);t[0],t[1],arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this._projectFlat.apply(this,arguments)}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return this._unprojectFlat.apply(this,arguments)}},{key:"_projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}},{key:"_unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return e}},{key:"getMercatorParams",value:function(){var e=this._addMetersToLngLat([this.longitude||0,this.latitude||0],this.meterOffset);return{longitude:e[0],latitude:e[1]}}},{key:"isMapSynched",value:function(){return!1}},{key:"getDistanceScales",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?Object(Te.d)({longitude:e[0],latitude:e[1],scale:this.scale,highPrecision:!0}):this.distanceScales}},{key:"getMatrices",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).modelMatrix,t=void 0===e?null:e,n=this.viewProjectionMatrix,r=this.pixelProjectionMatrix,i=this.pixelUnprojectionMatrix;return t&&(n=Ae()([],this.viewProjectionMatrix,t),r=Ae()([],this.pixelProjectionMatrix,t),i=xe()([],r)),Object.assign({modelViewProjectionMatrix:n,viewProjectionMatrix:this.viewProjectionMatrix,viewMatrix:this.viewMatrix,projectionMatrix:this.projectionMatrix,pixelProjectionMatrix:r,pixelUnprojectionMatrix:i,width:this.width,height:this.height,scale:this.scale})}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"getCameraDirection",value:function(){return this.cameraDirection}},{key:"getCameraUp",value:function(){return this.cameraUp}},{key:"_addMetersToLngLat",value:function(e,t){var n=Me(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o,s=this._metersToLngLatDelta(t),u=Me(s,3),l=u[0],c=u[1],p=u[2],f=void 0===p?0:p;return 2===e.length?[r+l,i+c]:[r+l,i+c,a+f]}},{key:"_metersToLngLatDelta",value:function(e){var t=Me(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i;s()(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o),"Illegal argument to Viewport");var a=this.distanceScales,u=a.pixelsPerMeter,l=a.degreesPerPixel,c=n*u[0]*l[0],p=r*u[1]*l[1];return 2===e.length?[c,p]:[c,p,o]}},{key:"_initMatrices",value:function(){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Ae()(e,e,this.projectionMatrix),Ae()(e,e,this.viewMatrix),this.viewProjectionMatrix=e,this.viewMatrixInverse=xe()([],this.viewMatrix)||this.viewMatrix;var t,n,r,o=(t={viewMatrix:this.viewMatrix,viewMatrixInverse:this.viewMatrixInverse},n=t.viewMatrix,{eye:[(r=t.viewMatrixInverse)[12],r[13],r[14]],direction:[n[2],n[6],n[10]],up:[n[1],n[5],n[9]]}),a=o.eye,s=o.direction,u=o.up;this.cameraPosition=a,this.cameraDirection=s,this.cameraUp=u;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];ye()(l,l,[this.width/2,-this.height/2,1]),me()(l,l,[1,-1,0]),Ae()(l,l,this.viewProjectionMatrix),this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=xe()([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||i.a.warn("Pixel project matrix not invertible")}}]),e}(),Le=Oe;Oe.displayName="Viewport";var Re=n(71),je=n.n(Re),Ne=n(90),Be=n.n(Ne),De=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ze=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.latitude,r=void 0===n?0:n,i=e.longitude,o=void 0===i?0:i,a=e.zoom,s=void 0===a?11:a,u=e.pitch,l=void 0===u?0:u,c=e.bearing,p=void 0===c?0:c,f=e.farZMultiplier,h=void 0===f?10:f,d=e.width,g=e.height,y=e.altitude,v=void 0===y?1.5:y;d=d||1,g=g||1,v=Math.max(.75,v);var m=Object(Te.f)({width:d,height:g,pitch:l,altitude:v,farZMultiplier:h}),_=Object(Te.g)({height:g,pitch:l,bearing:p,altitude:v}),A=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{position:e.position&&[e.position[0],e.position[1],0],width:d,height:g,viewMatrix:_,longitude:o,latitude:r,zoom:s,projectionMatrix:m,focalDistance:1})));return A.latitude=r,A.longitude=o,A.zoom=s,A.pitch=l,A.bearing=p,A.altitude=v,A.metersToLngLatDelta=A.metersToLngLatDelta.bind(A),A.lngLatDeltaToMeters=A.lngLatDeltaToMeters.bind(A),A.addMetersToLngLat=A.addMetersToLngLat.bind(A),Object.freeze(A),A}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Le),Fe(t,[{key:"_projectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(Te.i)(e,t)}},{key:"_unprojectFlat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return Object(Te.l)(e,t)}},{key:"metersToLngLatDelta",value:function(e){var t=De(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i;s()(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o),"Illegal argument to WebMercatorViewport");var a=this.distanceScales,u=a.pixelsPerMeter,l=a.degreesPerPixel,c=n*u[0]*l[0],p=r*u[1]*l[1];return 2===e.length?[c,p]:[c,p,o]}},{key:"lngLatDeltaToMeters",value:function(e){var t=De(e,3),n=t[0],r=t[1],i=t[2],o=void 0===i?0:i;s()(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(o),"Illegal argument to WebMercatorViewport");var a=this.distanceScales,u=a.pixelsPerDegree,l=a.metersPerPixel,c=n*u[0]*l[0],p=r*u[1]*l[1];return 2===e.length?[c,p]:[c,p,o]}},{key:"addMetersToLngLat",value:function(e,t){var n=De(e,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o,s=this.metersToLngLatDelta(t),u=De(s,3),l=u[0],c=u[1],p=u[2],f=void 0===p?0:p;return 2===e.length?[r+l,i+c]:[r+l,i+c,a+f]}},{key:"getMapCenterByLngLatPosition",value:function(e){var t=e.lngLat,n=e.pos,r=Object(Te.k)(n,this.pixelUnprojectionMatrix),i=Object(Te.i)(t,this.scale),o=je()([],i,Be()([],r)),a=je()([],this.center,o);return Object(Te.l)(a,this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=Object(Te.b)(Object.assign({width:r,height:i,bounds:e},n));return new t({width:r,height:i,longitude:o.longitude,latitude:o.latitude,zoom:o.zoom})}},{key:"isMapSynched",value:function(){var e=60,t=40,n=this.pitch,r=this.zoom;return n<=e+1e-6&&r<=t+1e-6}}]),t}(),Ue=ze;function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.filter,r=void 0===n?function(){return!0}:n,i=t.map,o=void 0===i?function(e){return e}:i,a=t.result,s=void 0===a?[]:a;return Array.isArray(e)?function e(t,n,r,i){var o=-1;for(;++o<t.length;){var a=t[o];Array.isArray(a)?e(a,n,r,i):n(a)&&i.push(r(a))}return i}(e,r,o,s):r(e)?[o(e)]:[]}ze.displayName="WebMercatorViewport";var Ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ye={uniforms:{},viewports:[],viewport:null,layerFilter:null,viewportChanged:!0,pickingFBO:null,useDevicePixels:!0,lastPickedInfo:{index:-1,layerId:null}},He=function(e){return e instanceof q?""+e:e?"invalid":"null"},We=function(){function e(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).eventManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastRenderedLayers=[],this.prevLayers=[],this.layers=[],this.oldContext={},this.context=Object.assign({},Ye,{gl:t,shaderCache:new u.i({gl:t,_cachePrograms:!0})}),this.width=100,this.height=100,this.viewDescriptors=[],this.viewDescriptorsChanged=!0,this.viewports=[],this._needsRedraw="Initial render",this._pickingRadius=0,this._eventManager=null,this._onLayerClick=null,this._onLayerHover=null,this._onClick=this._onClick.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerLeave=this._onPointerLeave.bind(this),this._pickAndCallback=this._pickAndCallback.bind(this),this._initSeer=this._initSeer.bind(this),this._editSeer=this._editSeer.bind(this),j(this._initSeer),R(this._editSeer),Object.seal(this),n&&this._initEventHandling(n),this.setViewports([new Ue({width:1,height:1,latitude:0,longitude:0,zoom:1})])}return Ve(e,[{key:"finalize",value:function(){c.a.removeListener(this._initSeer),c.a.removeListener(this._editSeer)}},{key:"needsRedraw",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).clearRedrawFlags,t=void 0===e||e;return this._checkIfNeedsRedraw(t)}},{key:"setNeedsRedraw",value:function(e){this._needsRedraw=this._needsRedraw||e}},{key:"getLayers",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).layerIds,t=void 0===e?null:e;return t?this.layers.filter(function(e){return t.find(function(t){return 0===e.id.indexOf(t)})}):this.layers}},{key:"getViewports",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;return(t!==this.width||n!==this.height||this.viewDescriptorsChanged)&&(this._rebuildViewportsFromViews({viewDescriptors:this.viewDescriptors,width:t,height:n}),this.width=t,this.height=n),this.viewports}},{key:"setParameters",value:function(e){"eventManager"in e&&this._initEventHandling(e.eventManager),("pickingRadius"in e||"onLayerClick"in e||"onLayerHover"in e)&&this._setEventHandlingParameters(e),"layers"in e&&this.setLayers(e.layers),"viewports"in e&&this.setViewports(e.viewports),"layerFilter"in e&&(this.context.layerFilter=e.layerFilter,this.context.layerFilter!==e.layerFilter&&this.setNeedsRedraw("layerFilter changed")),"drawPickingColors"in e&&this.context.drawPickingColors!==e.drawPickingColors&&this.setNeedsRedraw("drawPickingColors changed"),Object.assign(this.context,e)}},{key:"setViewports",value:function(e){var t=Ge(e,{filter:Boolean}).map(function(e){return e instanceof Le?{viewport:e}:e});this.viewDescriptorsChanged=this.viewDescriptorsChanged||this._diffViews(t,this.viewDescriptors),this.viewDescriptorsChanged&&(this.viewDescriptors=t,this._rebuildViewportsFromViews({viewDescriptors:this.viewDescriptors}),this.viewDescriptorsChanged=!1)}},{key:"setLayers",value:function(e){if(s()(this.context.viewport,"LayerManager.updateLayers: viewport not set"),e===this.lastRenderedLayers)return i.a.log(3,"Ignoring layer update due to layer array not changed"),this;this.lastRenderedLayers=e,e=Ge(e,{filter:Boolean});var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.context=this.context}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}this.prevLayers=this.layers;var u=this._updateLayers({oldLayers:this.prevLayers,newLayers:e}),l=u.error,c=u.generatedLayers;if(this.layers=c,l)throw l;return this}},{key:"drawLayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pass,n=void 0===t?"render to screen":t,r=e.redrawReason,i=void 0===r?"unknown reason":r,o=this.context,a=o.gl,s=o.useDevicePixels,u=o.drawPickingColors;re(a,{layers:this.layers,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),useDevicePixels:s,drawPickingColors:u,pass:n,layerFilter:this.context.layerFilter,redrawReason:i})}},{key:"pickObject",value:function(e){var t=e.x,n=e.y,r=e.mode,i=e.radius,o=void 0===i?0:i,a=e.layerIds,s=e.layerFilter,u=this.context,l=u.gl,c=u.useDevicePixels;return oe(l,{x:t,y:n,radius:o,layers:this.getLayers({layerIds:a}),mode:r,layerFilter:s,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),pickingFBO:this._getPickingBuffer(),lastPickedInfo:this.context.lastPickedInfo,useDevicePixels:c})}},{key:"pickObjects",value:function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.layerIds,a=e.layerFilter,s=this.context,u=s.gl,l=s.useDevicePixels;return ae(u,{x:t,y:n,width:r,height:i,layers:this.getLayers({layerIds:o}),layerFilter:a,mode:"pickObjects",viewport:this.context.viewport,viewports:this.getViewports(),onViewportActive:this._activateViewport.bind(this),pickingFBO:this._getPickingBuffer(),useDevicePixels:l})}},{key:"updateLayers",value:function(e){var t=e.newLayers;i.a.deprecated("updateLayers","setLayers"),this.setLayers(t)}},{key:"setViewport",value:function(e){return i.a.deprecated("setViewport","setViewports"),this.setViewports([e]),this}},{key:"_checkIfNeedsRedraw",value:function(e){var t=this._needsRedraw;e&&(this._needsRedraw=!1);var n=!0,r=!1,i=void 0;try{for(var o,a=this.layers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getNeedsRedraw({clearRedrawFlags:e});t=t||s}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}},{key:"_rebuildViewportsFromViews",value:function(e){var t=this,n=e.viewDescriptors,r=e.width,i=e.height,o=n.map(function(e){return e.viewport instanceof Le?e.viewport:t._makeViewportFromViewDescriptor({viewDescriptor:e,width:r,height:i})});this.setNeedsRedraw("Viewport(s) changed");var a=o[0];s()(a instanceof Le,"Invalid viewport"),this.context.viewports=o,this._activateViewport(a),this.viewports=o,this.viewDescriptorsChanged=!1}},{key:"_makeViewportFromViewDescriptor",value:function(e){var t=e.viewDescriptor,n=(e.width,e.height,t.type),r=t.viewState,i=this._getViewDimensions({viewDescriptor:t});return new n(Object.assign({},t,i,r))}},{key:"_diffViews",value:function(e,t){var n=this;return e.length!==t.length||e.some(function(r,i){return n._diffView(e[i],t[i])})}},{key:"_diffView",value:function(e,t){return e.viewport?!t.viewport||!e.viewport.equals(t.viewport):e!==t}},{key:"_getViewDimensions",value:function(e){var t=e.viewDescriptor,n=(e.width,e.height,function(e,t){return e});return{x:n(t.x),y:n(t.y),width:n(t.width),height:n(t.height)}}},{key:"_initEventHandling",value:function(e){this._eventManager=e,this._eventManager.on({click:this._onClick,pointermove:this._onPointerMove,pointerleave:this._onPointerLeave})}},{key:"_setEventHandlingParameters",value:function(e){var t=e.pickingRadius,n=e.onLayerClick,r=e.onLayerHover;isNaN(t)||(this._pickingRadius=t),void 0!==n&&(this._onLayerClick=n),void 0!==r&&(this._onLayerHover=r),this._validateEventHandling()}},{key:"_activateViewport",value:function(e){if(Object.assign(this.oldContext,this.context),this.context.viewport=e,this.context.viewportChanged=!0,this.context.uniforms={},Object(i.a)(4,e),this.context.viewportChanged){var t=!0,n=!1,r=void 0;try{for(var o,a=this.layers[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;u.setChangeFlags({viewportChanged:"Viewport changed"}),this._updateLayer(u)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}return s()(this.context.viewport,"LayerManager: viewport not set"),this}},{key:"_getPickingBuffer",value:function(){var e=this.context.gl;return this.context.pickingFBO=this.context.pickingFBO||new u.e(e),this.context.pickingFBO.resize({width:e.canvas.width,height:e.canvas.height}),this.context.pickingFBO}},{key:"_updateLayers",value:function(e){var t=e.oldLayers,n=e.newLayers,r={},o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;r[c.id]?i.a.warn("Multiple old layers with same id "+He(c)):r[c.id]=c}}catch(e){a=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}var p=[],f=this._updateSublayersRecursively({newLayers:n,oldLayerMap:r,generatedLayers:p}),h=this._finalizeOldLayers(r);return{error:f||h,generatedLayers:p}}},{key:"_updateSublayersRecursively",value:function(e){var t=e.newLayers,n=e.oldLayerMap,r=e.generatedLayers,o=null,a=!0,s=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;p.context=this.context;var f=n[p.id];null===f&&i.a.warn("Multiple new layers with same id "+He(p)),n[p.id]=null;var h=null;try{f?(this._transferLayerState(f,p),this._updateLayer(p),B(p)):(this._initializeLayer(p),N(p)),r.push(p),h=p.isComposite&&p.getSubLayers()}catch(e){i.a.warn("error during matching of "+He(p),e),o=o||e}h&&this._updateSublayersRecursively({newLayers:h,oldLayerMap:n,generatedLayers:r})}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}return o}},{key:"_finalizeOldLayers",value:function(e){var t=null;for(var n in e){var r=e[n];r&&(t=t||this._finalizeLayer(r))}return t}},{key:"_initializeLayer",value:function(e){s()(!e.state),Object(i.a)(2,"initializing "+He(e));var t=null;try{e._initialize(),e.lifecycle=o.b.INITIALIZED}catch(n){i.a.warn("error while initializing "+He(e)+"\n",n),t=t||n}s()(e.state),e.state.layer=e;var n=!0,r=!1,a=void 0;try{for(var u,l=e.getModels()[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){u.value.userData.layer=e}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}return t}},{key:"_transferLayerState",value:function(e,t){t!==e?(Object(i.a)(4,"matched "+He(t),e,"->",t),t.lifecycle=o.b.MATCHED,e.lifecycle=o.b.AWAITING_GC,t._transferState(e)):(i.a.log(4,"Matching layer is unchanged "+t.id),t.lifecycle=o.b.MATCHED,t.oldProps=t.props)}},{key:"_updateLayer",value:function(e){i.a.log(4,"updating "+e+" because: "+e.printChangeFlags());var t=null;try{e._update()}catch(n){i.a.warn("error during update of "+He(e),n),t=n}return t}},{key:"_finalizeLayer",value:function(e){s()(e.state),s()(e.lifecycle!==o.b.AWAITING_FINALIZATION),e.lifecycle=o.b.AWAITING_FINALIZATION;var t=null;this.setNeedsRedraw("finalized "+He(e));try{e._finalize()}catch(n){i.a.warn("error during finalization of "+He(e),n),t=n}return e.lifecycle=o.b.FINALIZED,Object(i.a)(2,"finalizing "+He(e)),t}},{key:"_validateEventHandling",value:function(){(this.onLayerClick||this.onLayerHover)&&this.layers.length&&!this.layers.some(function(e){return e.props.pickable})&&i.a.warn("You have supplied a top-level input event handler (e.g. `onLayerClick`), but none of your layers have set the `pickable` flag.")}},{key:"_onClick",value:function(e){e.offsetCenter&&this._pickAndCallback({callback:this._onLayerClick,event:e,mode:"click"})}},{key:"_onPointerMove",value:function(e){e.leftButton||e.rightButton||this._pickAndCallback({callback:this._onLayerHover,event:e,mode:"hover"})}},{key:"_onPointerLeave",value:function(e){this.pickObject({x:-1,y:-1,radius:this._pickingRadius,mode:"hover"})}},{key:"_pickAndCallback",value:function(e){var t=e.event.offsetCenter,n=this._pickingRadius,r=this.pickObject({x:t.x,y:t.y,radius:n,mode:e.mode});if(e.callback){var i=r.find(function(e){return e.index>=0})||null;e.callback(i,r,e.event.srcEvent)}}},{key:"_initSeer",value:function(){this.layers.forEach(function(e){N(e),B(e)})}},{key:"_editSeer",value:function(e){if("edit"===e.type&&"props"===e.valuePath[0]){var t,n,r;t=e.itemKey,n=e.valuePath.slice(1),r=e.value,c.a.isReady()&&(O.has(t)||O.set(t,new Map),O.get(t).set(n,r));var i=this.layers.map(function(e){return new e.constructor(e.props)});this.updateLayers({newLayers:i})}}}]),e}(),Qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Xe=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),Qe(t,[{key:"getSubLayers",value:function(){return this.internalState.subLayers||[]}},{key:"initializeState",value:function(){}},{key:"getPickingInfo",value:function(e){return e.info}},{key:"renderLayers",value:function(){return null}},{key:"getSubLayerProps",value:function(e){var t=this.props,n={opacity:t.opacity,pickable:t.pickable,visible:t.visible,parameters:t.parameters,getPolygonOffset:t.getPolygonOffset,highlightedObjectIndex:t.highlightedObjectIndex,autoHighlight:t.autoHighlight,highlightColor:t.highlightColor,coordinateSystem:t.coordinateSystem,coordinateOrigin:t.coordinateOrigin,modelMatrix:t.modelMatrix};return e&&Object.assign(n,e,{id:this.props.id+"-"+e.id,updateTriggers:Object.assign({all:this.props.updateTriggers.all},e.updateTriggers)}),n}},{key:"_renderLayers",value:function(){var e=this.internalState.subLayers;e&&!this.needsUpdate()?i.a.log(3,"Composite layer reused subLayers "+this,this.internalState.subLayers):(e=Ge(e=this.renderLayers(),{filter:Boolean}),this.internalState.subLayers=e,i.a.log(2,"Composite layer rendered new subLayers "+this,e));var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){o.value.parentLayer=this}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"isComposite",get:function(){return!0}}]),t}(),Ze=Xe;Xe.layerName="CompositeLayer";var Je=n(68),Ke=n.n(Je);var qe=Math.PI/180,$e=function(e){function t(e){var n=e.width,r=e.height,i=e.eye,o=e.lookAt,a=void 0===o?[0,0,0]:o,s=e.up,u=void 0===s?[0,1,0]:s,l=e.fovy,c=void 0===l?75:l,p=e.near,f=void 0===p?1:p,h=e.far,d=void 0===h?100:h,g=e.aspect,y=void 0===g?null:g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var v=c*qe;return y=Number.isFinite(y)?y:n/r,function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{viewMatrix:Ke()([],i,a,u),projectionMatrix:Ee()([],v,y,f,d),width:n,height:r}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Le),t}(),et=n(140),tt=n.n(et);var nt=function(e){function t(e){var n=e.width,r=e.height,i=e.eye,o=void 0===i?[0,0,1]:i,a=e.lookAt,s=void 0===a?[0,0,0]:a,u=e.up,l=void 0===u?[0,1,0]:u,c=e.near,p=void 0===c?1:c,f=e.far,h=void 0===f?100:f,d=e.left,g=e.top,y=e.right,v=void 0===y?null:y,m=e.bottom,_=void 0===m?null:m;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),v=Number.isFinite(v)?v:d+n,_=Number.isFinite(_)?_:g+r,function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{viewMatrix:Ke()([],o,s,l),projectionMatrix:tt()([],d,v,_,g,p,h),width:n,height:r}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Le),t}(),rt=n(51),it=n(95),ot=n(94),at=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var st=de.e.SphericalCoordinates,ut={position:[0,0,0],lookAt:[0,0,0],up:[0,0,1],rotationX:0,rotationY:0,fov:50,near:1,far:100},lt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.width,r=t.height,i=t.position,o=void 0===i?ut.position:i;s()(Number.isFinite(n),"`width` must be supplied"),s()(Number.isFinite(r),"`height` must be supplied"),this._viewportProps=this._applyConstraints(Object.assign({},t,{position:new de.c(o)}))}return at(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getDirection",value:function(){return new st({bearing:this._viewportProps.bearing,pitch:this._viewportProps.pitch}).toVector3().normalize()}},{key:"getDirectionFromBearing",value:function(e){return new st({bearing:e,pitch:90}).toVector3().normalize()}},{key:"_applyConstraints",value:function(e){return e}}]),e}(),ct=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ft(e,t){return Number.isFinite(e)?e:t}var ht=function(e){function t(e){var n=e.width,r=e.height,i=e.position,o=e.bearing,a=e.pitch,s=e.longitude,u=e.latitude,l=e.zoom,c=(e.syncBearing,e.bounds,e.startPanEventPosition),p=e.startPanPosition,f=e.startRotateCenter,h=e.startRotateViewport,d=e.startZoomPos,g=e.startZoom;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{width:n,height:r,position:i,bearing:o,pitch:a,longitude:s,latitude:u,zoom:l}));return y._interactiveState={startPanEventPosition:c,startPanPosition:p,startRotateCenter:f,startRotateViewport:h,startZoomPos:d,startZoom:g},y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,lt),pt(t,[{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos,n=this._viewportProps,r=n.translationX,i=n.translationY;return this._getUpdatedState({startPanPosition:[r,i],startPanEventPosition:t})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanEventPosition||n;s()(r,"`startPanEventPosition` props is required");var i=this._interactiveState.startPanPosition||[],o=ct(i,2),a=o[0],u=o[1];a=ft(a,this._viewportProps.translationX),u=ft(u,this._viewportProps.translationY);var l=t[0]-r[0],c=t[1]-r[1];return this._getUpdatedState({translationX:a+l,translationY:u-c})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanPosition:null,startPanPos:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedState({startRotateCenter:this._viewportProps.position,startRotateViewport:this._viewportProps})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=this._viewportProps,i=r.bearing,o=r.pitch;return this._getUpdatedState({bearing:i+10*t,pitch:o-10*n})}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startRotateCenter:null,startRotateViewport:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomPos:t,startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t,n,r,i=e.pos,o=e.startPos,a=e.scale,s=this._viewportProps,u=s.zoom,l=s.minZoom,c=s.maxZoom,p=s.width,f=s.height,h=(s.translationX,s.translationY,this._interactiveState.startZoomPos||o||i),d=(r=c,(t=u*a)<(n=l)?n:t>r?r:t);i[0],h[0],i[1],h[1],h[0],h[1];return d/u<1?this.moveBackward():this.moveForward()}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomPos:null,startZoom:null})}},{key:"moveLeft",value:function(){var e=this._viewportProps.bearing-2;return this._getUpdatedState({bearing:e})}},{key:"moveRight",value:function(){var e=this._viewportProps.bearing+2;return this._getUpdatedState({bearing:e})}},{key:"moveForward",value:function(){var e=this._viewportProps.position,t=this.getDirection(),n=new de.c(t).normalize().scale(1);return this._getUpdatedState({position:new de.c(e).add(n)})}},{key:"moveBackward",value:function(){var e=this._viewportProps.position,t=this.getDirection(),n=new de.c(t).normalize().scale(-1);return this._getUpdatedState({position:new de.c(e).add(n)})}},{key:"moveUp",value:function(){var e=this._viewportProps.position;return this._getUpdatedState({position:new de.c(e).add([0,0,1])})}},{key:"moveDown",value:function(){var e=this._viewportProps.position,t=e[2]>=1?[0,0,-1]:[0,0,0];return this._getUpdatedState({position:new de.c(e).add(t)})}},{key:"zoomIn",value:function(){return this._getUpdatedState({zoom:this._viewportProps.zoom+.2})}},{key:"zoomOut",value:function(){return this._getUpdatedState({zoom:this._viewportProps.zoom-.2})}},{key:"_getUpdatedState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}}]),t}(),dt=n(89),gt=n.n(dt),yt=n(139),vt=n.n(yt),mt=n(67),_t=n.n(mt),At=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),bt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xt=Math.PI/180,wt=function(e){function t(e){var n=e.id,r=void 0===n?"orbit-viewport":n,i=e.width,o=e.height,a=e.distance,s=e.rotationX,u=void 0===s?0:s,l=e.rotationOrbit,c=void 0===l?0:l,p=e.orbitAxis,f=void 0===p?"Z":p,h=e.lookAt,d=void 0===h?[0,0,0]:h,g=e.up,y=void 0===g?[0,1,0]:g,v=e.fov,m=void 0===v?75:v,_=e.near,A=void 0===_?1:_,b=e.far,x=void 0===b?100:b,w=e.zoom,E=void 0===w?1:w;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var T=gt()([],[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],-u/180*Math.PI);"Z"===f?_t()(T,T,-c/180*Math.PI):vt()(T,T,-c/180*Math.PI);var M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];ye()(M,M,[E,E,E]),me()(M,M,[-d[0],-d[1],-d[2]]);var S=Ke()([],[0,0,a],[0,0,0],y),C=m*xt,I=i/o,P=Ee()([],C,I,A,x),k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{id:r,viewMatrix:Ae()(S,S,Ae()(T,T,M)),projectionMatrix:P,width:i,height:o}));return k.width=i,k.height=o,k.distance=a,k.rotationX=u,k.rotationOrbit=c,k.orbitAxis=f,k.lookAt=d,k.up=y,k.fov=m,k.near=A,k.far=x,k.zoom=E,k}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Le),bt(t,[{key:"project",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,n=void 0!==t&&t,r=he(this.pixelProjectionMatrix,[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[1])),i=At(r,3),o=i[0],a=i[1],s=i[2];return[o,n?this.height-a:a,s]}},{key:"unproject",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,n=void 0!==t&&t,r=At(e,3),i=r[0],o=r[1],a=r[2],s=n?this.height-o:o;return he(this.pixelUnprojectionMatrix,[i,s,a,1])}},{key:"fitBounds",value:function(e){var n=this.width,r=this.height,i=this.rotationX,o=this.rotationOrbit,a=this.orbitAxis,s=this.lookAt,u=this.up,l=this.fov;return new t({width:n,height:r,rotationX:i,rotationOrbit:o,orbitAxis:a,up:u,fov:l,near:this.near,far:this.far,zoom:this.zoom,lookAt:s,distance:Math.max(e[0],e[1],e[2])/2/Math.tan(l/180*Math.PI/2)})}}]),t}(),Et=wt;wt.displayName="OrbitViewport";var Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Mt={lookAt:[0,0,0],rotationX:0,rotationOrbit:0,fov:50,near:1,far:100,translationX:0,translationY:0,zoom:1},St={minZoom:0,maxZoom:1/0};function Ct(e,t,n){return e<t?t:e>n?n:e}function It(e,t){return Number.isFinite(e)?e:t}var Pt=function(){function e(t){var n=t.width,r=t.height,i=t.distance,o=t.rotationX,a=t.rotationOrbit,u=t.orbitAxis,l=t.bounds,c=t.lookAt,p=t.fov,f=t.near,h=t.far,d=t.translationX,g=t.translationY,y=t.zoom,v=t.minZoom,m=t.maxZoom,_=t.startPanViewport,A=t.startPanPos,b=t.isPanning,x=t.startRotateViewport,w=t.isRotating,E=t.startZoomViewport,T=t.startZoomPos;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s()(Number.isFinite(n),"`width` must be supplied"),s()(Number.isFinite(r),"`height` must be supplied"),s()(Number.isFinite(i),"`distance` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,distance:i,rotationX:It(o,Mt.rotationX),rotationOrbit:It(a,Mt.rotationOrbit),orbitAxis:u,bounds:l,lookAt:c||Mt.lookAt,fov:It(p,Mt.fov),near:It(f,Mt.near),far:It(h,Mt.far),translationX:It(d,Mt.translationX),translationY:It(g,Mt.translationY),zoom:It(y,Mt.zoom),minZoom:It(v,St.minZoom),maxZoom:It(m,St.maxZoom)}),this._interactiveState={startPanViewport:_,startPanPos:A,isPanning:b,startRotateViewport:x,isRotating:w,startZoomViewport:E,startZoomPos:T}}return Tt(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos,n=new Et(this._viewportProps);return this._getUpdatedOrbitState({startPanPos:t,startPanViewport:n})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos;if(this._interactiveState.isRotating)return this._getUpdatedOrbitState();var r=this._interactiveState.startPanPos||n;s()(r,"`startPanPos` props is required");var i=this._interactiveState.startPanViewport||new Et(this._viewportProps),o=t[0]-r[0],a=t[1]-r[1],u=i.project(i.lookAt),l=i.unproject([u[0]-o,u[1]-a,u[2]]);return this._getUpdatedOrbitState({lookAt:l,isPanning:!0})}},{key:"panEnd",value:function(){return this._getUpdatedOrbitState({startPanViewport:null,startPanPos:null,isPanning:null})}},{key:"rotateStart",value:function(e){e.pos;var t=new Et(this._viewportProps);return this._getUpdatedOrbitState({startRotateViewport:t})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY;if(this._interactiveState.isPanning)return this._getUpdatedOrbitState();var r=this._interactiveState.startRotateViewport||{},i=r.rotationX,o=r.rotationOrbit;i=It(i,this._viewportProps.rotationX),o=It(o,this._viewportProps.rotationOrbit);var a=Ct(i-180*n,-89.999,89.999),s=(o-180*t)%360;return this._getUpdatedOrbitState({rotationX:a,rotationOrbit:s,isRotating:!0})}},{key:"rotateEnd",value:function(){return this._getUpdatedOrbitState({startRotateViewport:null,isRotating:null})}},{key:"zoomStart",value:function(e){var t=e.pos,n=new Et(this._viewportProps);return this._getUpdatedOrbitState({startZoomViewport:n,startZoomPos:t})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale,i=this._viewportProps,o=i.zoom,a=i.minZoom,s=i.maxZoom,u=i.width,l=i.height,c=this._interactiveState.startZoomPos||n||t,p=this._interactiveState.startZoomViewport||new Et(this._viewportProps),f=Ct(o*r,a,s),h=t[0]-c[0],d=t[1]-c[1],g=c[0]-u/2,y=l/2-c[1],v=p.project(p.lookAt),m=v[0]-g+g*f/o+h,_=v[1]+y-y*f/o-d,A=p.unproject([m,_,v[2]]);return this._getUpdatedOrbitState({lookAt:A,zoom:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedOrbitState({startZoomPos:null})}},{key:"_getUpdatedOrbitState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;return e.zoom=r>t?t:r,e.zoom=r<n?n:r,e}}]),e}(),kt=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Lt={minZoom:0,maxZoom:20,minPitch:0,maxPitch:60},Rt={pitch:0,bearing:0,altitude:1.5};function jt(e,t,n){return e<t?t:e>n?n:e}var Nt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,i=e.latitude,o=e.longitude,a=e.zoom,u=e.bearing,l=void 0===u?Rt.bearing:u,c=e.pitch,p=void 0===c?Rt.pitch:c,f=e.altitude,h=void 0===f?Rt.altitude:f,d=e.maxZoom,g=void 0===d?Lt.maxZoom:d,y=e.minZoom,v=void 0===y?Lt.minZoom:y,m=e.maxPitch,_=void 0===m?Lt.maxPitch:m,A=e.minPitch,b=void 0===A?Lt.minPitch:A,x=e.startPanLngLat,w=e.startZoomLngLat,E=e.startBearing,T=e.startPitch,M=e.startZoom;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s()(Number.isFinite(o),"`longitude` must be supplied"),s()(Number.isFinite(i),"`latitude` must be supplied"),s()(Number.isFinite(a),"`zoom` must be supplied");var S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{width:n,height:r,latitude:i,longitude:o,zoom:a,bearing:l,pitch:p,altitude:h,maxZoom:g,minZoom:v,maxPitch:_,minPitch:b}));return S._interactiveState={startPanLngLat:x,startZoomLngLat:w,startBearing:E,startPitch:T,startZoom:M},S}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,lt),Ot(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=this._calculateNewLngLat({startPanLngLat:r,pos:t}),o=kt(i,2),a=o[0],s=o[1];return this._getUpdatedState({longitude:a,latitude:s})}},{key:"panEnd",value:function(){return this._getUpdatedState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=void 0===t?0:t,r=e.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var u=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a,startPitch:s}),l=u.pitch,c=u.bearing;return this._getUpdatedState({bearing:c,pitch:l})}},{key:"rotateEnd",value:function(){return this._getUpdatedState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,r=e.scale;s()(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),s()(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var u=this._calculateNewZoom({scale:r,startZoom:o}),l=new Te.a(Object.assign({},this._viewportProps,{zoom:u})).getLocationAtPoint({lngLat:a,pos:t}),c=kt(l,2),p=c[0],f=c[1];return this._getUpdatedState({zoom:u,longitude:p,latitude:f})}},{key:"zoomEnd",value:function(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}},{key:"zoomIn",value:function(){return this._zoomFromCenter(2)}},{key:"zoomOut",value:function(){return this._zoomFromCenter(.5)}},{key:"moveLeft",value:function(){return this._panFromCenter([100,0])}},{key:"moveRight",value:function(){return this._panFromCenter([-100,0])}},{key:"moveUp",value:function(){return this._panFromCenter([0,100])}},{key:"moveDown",value:function(){return this._panFromCenter([0,-100])}},{key:"rotateLeft",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing-15})}},{key:"rotateRight",value:function(){return this._getUpdatedState({bearing:this._viewportProps.bearing+15})}},{key:"rotateUp",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch+10})}},{key:"rotateDown",value:function(){return this._getUpdatedState({pitch:this._viewportProps.pitch-10})}},{key:"_zoomFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height;return this.zoom({pos:[n/2,r/2],scale:e})}},{key:"_panFromCenter",value:function(e){var t=this._viewportProps,n=t.width,r=t.height;return this.pan({startPos:[n/2,r/2],pos:[n/2+e[0],r/2+e[1]]})}},{key:"_getUpdatedState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,r=e.zoom;e.zoom=jt(r,n,t);var i=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=jt(a,o,i),Object.assign(e,Object(Te.j)(e)),e}},{key:"_unproject",value:function(e){var t=new Te.a(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new Te.a(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return jt(n+Math.log2(t),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,r=e.startBearing,i=e.startPitch;n=jt(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,u=i;return n>0?u=i+n*(s-i):n<0&&(u=i-n*(a-i)),{pitch:u,bearing:r+180*t}}}]),t}(),Bt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Dt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return Bt(e,[{key:"arePropsEqual",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=(this.propNames||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!Object(de.d)(e[s],t[s]))return!1}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,n){s()(!1,"interpolateProps is not implemented")}}]),e}(),Ft=["width","height","longitude","latitude","zoom","bearing","pitch","position"],zt={longitude:1,bearing:1};function Ut(e,t,n){return Array.isArray(e)?e.map(function(e,r){return Ut(e,t[r],n)}):n*t+(1-n)*e}function Gt(e){return Number.isFinite(e)||Array.isArray(e)}function Vt(e){return zt[e]}function Yt(e,t,n){return Vt(e)&&Math.abs(n-t)>180&&(n=n<0?n+360:n-360),n}function Ht(e){var t={};return Ft.forEach(function(n){var r=e[n];Gt(r)&&(t[n]=r,Vt(n)&&(t[n]=function(e,t){s()(Number.isFinite(e)&&Number.isFinite(t));var n=e%t;return n<0?t+n:n}(r+180,360)-180))}),t}var Wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qt=["longitude","latitude","zoom","bearing","pitch"],Xt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.propNames=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Dt),Wt(t,[{key:"initializeProps",value:function(e,t){var n={},r={},i=!0,o=!1,a=void 0;try{for(var u,l=this.propNames[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,p=e[c],f=t[c];s()(Gt(p)&&Gt(f),c+" must be supplied for transition"),n[c]=p,r[c]=Yt(c,p,f)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,u=this.propNames[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=Ut(e[l],t[l],n)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}}]),t}(),Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Jt=function(){},Kt={BREAK:1,SNAP_TO_END:2,IGNORE:3},qt={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new Xt,transitionInterruption:Kt.BREAK,onTransitionStart:Jt,onTransitionInterrupt:Jt,onTransitionEnd:Jt},$t={animation:null,propsInTransition:null,startProps:null,endProps:null},en=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t,this.state=$t,this._onTransitionFrame=this._onTransitionFrame.bind(this)}return Zt(e,[{key:"getViewportInTransition",value:function(){return this.state.propsInTransition}},{key:"processViewportChange",value:function(e){var t=!1,n=this.props;if(this.props=e,this._shouldIgnoreViewportChange(n,e))return t;var r=this._isTransitionInProgress();if(this._isTransitionEnabled(e)){var i=Object.assign({},n,this.state.interruption===Kt.SNAP_TO_END?this.state.endProps:this.state.propsInTransition||n);r&&n.onTransitionInterrupt(),e.onTransitionStart(),this._triggerTransition(i,e),t=!0}else r&&(n.onTransitionInterrupt(),this._endTransition());return t}},{key:"_isTransitionInProgress",value:function(){return this.state.propsInTransition}},{key:"_isTransitionEnabled",value:function(e){return e.transitionDuration>0&&e.transitionInterpolator}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return this._isTransitionInProgress()?this.state.interruption===Kt.IGNORE||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}},{key:"_triggerTransition",value:function(e,t){s()(this._isTransitionEnabled(t),"Transition is not enabled"),cancelAnimationFrame(this.state.animation);var n=t.transitionInterpolator.initializeProps(e,t);this.state={duration:t.transitionDuration,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:Date.now(),startProps:n.start,endProps:n.end,animation:null,propsInTransition:{}},this._onTransitionFrame()}},{key:"_onTransitionFrame",value:function(){this.state.animation=requestAnimationFrame(this._onTransitionFrame),this._updateViewport()}},{key:"_endTransition",value:function(){cancelAnimationFrame(this.state.animation),this.state=$t}},{key:"_updateViewport",value:function(){var e=Date.now(),t=this.state,n=t.startTime,r=t.duration,i=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,u=!1,l=(e-n)/r;l>=1&&(l=1,u=!0),l=i(l);var c=o.interpolateProps(a,s,l);this.state.propsInTransition=Ht(Object.assign({},this.props,c)),this.props.onViewportChange&&this.props.onViewportChange(this.state.propsInTransition,{inTransition:!0}),u&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}(),tn=en;en.defaultProps=qt;var nn=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var on={transitionDuration:0},an={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new Xt,transitionInterruption:Kt.BREAK},sn=["wheel"],un=["panstart","panmove","panend"],ln=["pinchstart","pinchmove","pinchend"],cn=["doubletap"],pn=["keydown"],fn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s()(t),this.ViewportState=t,this.viewportState=null,this.viewportStateProps=null,this.eventManager=null,this._events=null,this._state={isDragging:!1},this.events=[],this.handleEvent=this.handleEvent.bind(this),this.setOptions(n),this.constructor===e&&Object.seal(this)}return rn(e,[{key:"handleEvent",value:function(e){var t=this.ViewportState;switch(this.viewportState=new t(Object.assign({},this.viewportStateProps,this._state)),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"isDragging",value:function(){return this._state.isDragging}},{key:"setOptions",value:function(e){var t=e.onViewportChange,n=e.onStateChange,r=void 0===n?this.onStateChange:n,i=e.eventManager,o=void 0===i?this.eventManager:i,a=e.scrollZoom,s=void 0===a||a,u=e.dragPan,l=void 0===u||u,c=e.dragRotate,p=void 0===c||c,f=e.doubleClickZoom,h=void 0===f||f,d=e.touchZoom,g=void 0===d||d,y=e.touchRotate,v=void 0!==y&&y,m=e.keyboard,_=void 0===m||m;this.onViewportChange=t,this.onStateChange=r,this.viewportStateProps=e,this.eventManager!==o&&(this.eventManager=o,this._events={},this.toggleEvents(this.events,!0));var A=Boolean(this.onViewportChange);this.toggleEvents(sn,A&&s),this.toggleEvents(un,A&&(l||p)),this.toggleEvents(ln,A&&(g||v)),this.toggleEvents(cn,A&&h),this.toggleEvents(pn,A&&_),this.scrollZoom=s,this.dragPan=l,this.dragRotate=p,this.doubleClickZoom=h,this.touchZoom=g,this.touchRotate=v,this.keyboard=_}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach(function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))})}},{key:"setState",value:function(e){Object.assign(this._state,e),this.onStateChange&&this.onStateChange(this._state)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.viewportState.getViewportProps(),i=Object.assign({},e.getViewportProps(),t);if(this.onViewportChange&&Object.keys(i).some(function(e){return r[e]!==i[e]})){var o=this.viewportState.getViewport?this.viewportState.getViewport():null;this.onViewportChange(i,o)}this.setState(Object.assign({},e.getInteractiveState(),n))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),n=this.viewportState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(n,on,{isDragging:!0})}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.viewportState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1})}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.viewportState.pan({pos:t});return this.updateViewport(n,on,{isDragging:!0})}},{key:"_onPanRotate",value:function(e){return!!this.dragRotate&&(this.viewportState instanceof Nt?this._onPanRotateMap(e):this._onPanRotateStandard(e))}},{key:"_onPanRotateStandard",value:function(e){var t=e.deltaX,n=e.deltaY,r=this.viewportState.getViewportProps(),i=t/r.width,o=n/r.height,a=this.viewportState.rotate({deltaScaleX:i,deltaScaleY:o});return this.updateViewport(a,on,{isDragging:!0})}},{key:"_onPanRotateMap",value:function(e){var t=e.deltaX,n=e.deltaY,r=this.getCenter(e),i=nn(r,2)[1],o=i-n,a=this.viewportState.getViewportProps(),s=a.width,u=a.height,l=t/s,c=0;n>0?Math.abs(u-o)>5&&(c=n/(o-u)*1.2):n<0&&o>5&&(c=1-i/o),c=Math.min(1,Math.max(-1,c));var p=this.viewportState.rotate({deltaScaleX:l,deltaScaleY:c});return this.updateViewport(p,on,{isDragging:!0})}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;var t=this.getCenter(e),n=e.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.viewportState.zoom({pos:t,scale:r});return this.updateViewport(i,on)}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),n=this.viewportState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(n,on,{isDragging:!0})}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.viewportState;if(this.touchZoom){var n=e.scale,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){var i=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(t,on,{isDragging:!0})}},{key:"_onPinchEnd",value:function(e){var t=this.viewportState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1})}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),n=this.isFunctionKeyPressed(e),r=this.viewportState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,an)}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t=this.isFunctionKeyPressed(e),n=this.viewportState,r=void 0;switch(e.srcEvent.keyCode){case 189:r=t?n.zoomOut().zoomOut():n.zoomOut();break;case 187:r=t?n.zoomIn().zoomIn():n.zoomIn();break;case 37:r=t?n.rotateLeft():n.moveLeft();break;case 39:r=t?n.rotateRight():n.moveRight();break;case 38:r=t?n.rotateUp():n.moveUp();break;case 40:r=t?n.rotateDown():n.moveDown();break;default:return!1}return this.updateViewport(r,an)}}]),e}(),hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var dn=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Nt,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,fn),hn(t,[{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)?this._onPanRotate(e):this._onPanMove(e)}}]),t}();var gn=de.e.SphericalCoordinates;var yn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.modelMatrix,r=void 0===n?null:n,i=e.bearing,o=e.up,a=void 0===o?[0,0,1]:o,s=function(e){var t=e.bearing,n=e.pitch;return new gn({bearing:t,pitch:n}).toVector3().normalize()}({bearing:i,pitch:89}),u=r?r.transformDirection(s):s,l=(new de.a).lookAt({eye:[0,0,0],center:u,up:a});return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{zoom:null,viewMatrix:l})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Le),t}(),vn=yn;yn.displayName="FirstPersonViewport";var mn=de.e.SphericalCoordinates;var _n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.bearing,r=e.pitch,i=e.position,o=e.up,a=50*e.zoom,s=function(e){var t=e.bearing,n=e.pitch;return new mn({bearing:t,pitch:n}).toVector3().normalize()}({bearing:n,pitch:r}).scale(-a).multiply(new de.c(1,1,-1)),u=(new de.a).multiplyRight((new de.a).lookAt({eye:s,center:i,up:o}));return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e,{zoom:null,viewMatrix:u})))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Le),t}(),An=_n;_n.displayName="ThirdPersonViewport";var bn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var xn=function(){function e(t){var n=t.gl,r=t.layerManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gl=n,this.layerManager=r,this._effects=[]}return bn(e,[{key:"addEffect",value:function(e){this._effects.push(e),this._sortEffects(),e.initialize({gl:this.gl,layerManager:this.layerManager})}},{key:"removeEffect",value:function(e){var t=this._effects.indexOf(e);return t>=0&&(e.finalize({gl:this.gl,layerManager:this.layerManager}),this._effects.splice(t,1),!0)}},{key:"preDraw",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._effects[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.needsRedraw&&o.preDraw({gl:this.gl,layerManager:this.layerManager})}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"draw",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this._effects[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.needsRedraw&&o.draw({gl:this.gl,layerManager:this.layerManager})}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"_sortEffects",value:function(){this._effects.sort(function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.count-t.count})}}]),e}(),wn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var En=0,Tn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="effect",this.count=En++,this.visible=!0,this.priority=0,this.needsRedraw=!1}return wn(e,[{key:"initialize",value:function(e){e.gl,e.layerManager}},{key:"finalize",value:function(e){e.gl,e.layerManager}},{key:"preDraw",value:function(e){e.gl,e.layerManager}},{key:"draw",value:function(e){e.gl,e.layerManager}},{key:"setNeedsRedraw",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.needsRedraw=e}}]),e}(),Mn=n(52),Sn=n(7),Cn=n.n(Sn),In=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pn(){}var kn={id:Cn.a.string,width:Cn.a.number.isRequired,height:Cn.a.number.isRequired,layers:Cn.a.array,viewports:Cn.a.array,effects:Cn.a.arrayOf(Cn.a.instanceOf(Tn)),layerFilter:Cn.a.func,glOptions:Cn.a.object,gl:Cn.a.object,pickingRadius:Cn.a.number,onWebGLInitialized:Cn.a.func,onBeforeRender:Cn.a.func,onAfterRender:Cn.a.func,onLayerClick:Cn.a.func,onLayerHover:Cn.a.func,useDevicePixels:Cn.a.bool,debug:Cn.a.bool,drawPickingColors:Cn.a.bool},On={id:"deckgl-overlay",pickingRadius:0,layerFilter:null,glOptions:{},gl:null,layers:[],effects:[],onWebGLInitialized:Pn,onBeforeRender:Pn,onAfterRender:Pn,onLayerClick:null,onLayerHover:null,useDevicePixels:!0,debug:!1,drawPickingColors:!1},Ln=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},On,t),this.state={},this.needsRedraw=!0,this.layerManager=null,this.effectManager=null,this.viewports=[],this._onRendererInitialized=this._onRendererInitialized.bind(this),this._onRenderFrame=this._onRenderFrame.bind(this),this.canvas=this._createCanvas(t);var r=t,i=r.width,o=r.height,a=r.gl,s=r.glOptions,l=r.debug,c=r.useDevicePixels;this.animationLoop=new u.a({width:i,height:o,useDevicePixels:c,onCreateContext:function(e){return a||Object(u.l)(Object.assign({},s,{canvas:n.canvas,debug:l}))},onInitialize:this._onRendererInitialized,onRender:this._onRenderFrame,onBeforeRender:t.onBeforeRender,onAfterRender:t.onAfterRender}),this.animationLoop.start(),this.setProps(t)}return In(e,[{key:"setProps",value:function(e){if(e=Object.assign({},this.props,e),this.props=e,this.layerManager){var t=e,n=t.layers,r=t.pickingRadius,i=t.onLayerClick,o=t.onLayerHover,a=t.useDevicePixels,s=t.drawPickingColors,u=t.layerFilter,l=e.viewports||e.viewport;if(!l){var c=e,p=c.width,f=c.height,h=c.latitude,d=c.longitude,g=c.zoom,y=c.pitch,v=c.bearing;l=[new Ue({width:p,height:f,latitude:h,longitude:d,zoom:g,pitch:y,bearing:v})]}this.layerManager.setParameters({layers:n,viewports:l,useDevicePixels:a,drawPickingColors:s,layerFilter:u,pickingRadius:r,onLayerClick:i,onLayerHover:o}),this.animationLoop.setViewParameters({useDevicePixels:a})}}},{key:"finalize",value:function(){this.animationLoop.stop(),this.animationLoop=null,this.layerManager&&(this.layerManager.finalize(),this.layerManager=null)}},{key:"pickObject",value:function(e){var t=e.x,n=e.y,r=e.radius,i=void 0===r?0:r,o=e.layerIds,a=void 0===o?null:o,s=this.layerManager.pickObject({x:t,y:n,radius:i,layerIds:a,mode:"query"});return s.length?s[0]:null}},{key:"pickObjects",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o,s=e.layerIds,u=void 0===s?null:s;return this.layerManager.pickObjects({x:t,y:n,width:i,height:a,layerIds:u})}},{key:"getViewports",value:function(){return this.layerManager?this.layerManager.getViewports():[]}},{key:"_createCanvas",value:function(e){if(e.canvas)return e.canvas;var t=e.id,n=e.width,r=e.height,i=e.style,o=document.createElement("canvas");return o.id=t,o.width=n,o.height=r,o.style=i,(e.parent||document.body).appendChild(o),o}},{key:"_onRendererInitialized",value:function(e){var t=e.gl,n=e.canvas;Object(u.s)(t,{blend:!0,blendFunc:[u.f.SRC_ALPHA,u.f.ONE_MINUS_SRC_ALPHA,u.f.ONE,u.f.ONE_MINUS_SRC_ALPHA],polygonOffsetFill:!0,depthTest:!0,depthFunc:u.f.LEQUAL}),this.props.onWebGLInitialized(t),this.layerManager=new We(t,{eventManager:new Mn.EventManager(n)}),this.effectManager=new xn({gl:t,layerManager:this.layerManager});var r=!0,i=!1,o=void 0;try{for(var a,s=this.props.effects[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.effectManager.addEffect(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}this.setProps(this.props)}},{key:"_onRenderFrame",value:function(e){var t=e.gl,n=this.layerManager.needsRedraw({clearRedrawFlags:!0});n&&(this.props.onBeforeRender({gl:t}),this.layerManager.drawLayers({pass:"screen",redrawReason:n,drawPickingColors:this.props.drawPickingColors}),this.props.onAfterRender({gl:t}))}}]),e}(),Rn=Ln;Ln.propTypes=kn,Ln.defaultProps=On;var jn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Nn={GRABBING:"-webkit-grabbing",GRAB:"-webkit-grab",POINTER:"pointer"},Bn={width:Cn.a.number.isRequired,height:Cn.a.number.isRequired,longitude:Cn.a.number.isRequired,latitude:Cn.a.number.isRequired,zoom:Cn.a.number.isRequired,bearing:Cn.a.number,pitch:Cn.a.number,altitude:Cn.a.number,maxZoom:Cn.a.number,minZoom:Cn.a.number,maxPitch:Cn.a.number,minPitch:Cn.a.number,onViewportChange:Cn.a.func,scrollZoom:Cn.a.bool,dragPan:Cn.a.bool,dragRotate:Cn.a.bool,doubleClickZoom:Cn.a.bool,touchZoomRotate:Cn.a.bool,getCursor:Cn.a.func,controls:Cn.a.shape({events:Cn.a.arrayOf(Cn.a.string),handleEvent:Cn.a.func})},Dn=Object.assign({},Lt,{onViewportChange:null,scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoomRotate:!0,getCursor:function(e){return e.isDragging?Nn.GRABBING:Nn.GRAB}}),Fn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},Dn,t),this.props=t,this.state={isDragging:!1},this.canvas=t.canvas;var n=new Mn.EventManager(this.canvas);this._eventManager=n,this._controls=this.props.controls||new dn,this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:n}))}return jn(e,[{key:"setProps",value:function(e){e=Object.assign({},this.props,e),this.props=e,this._controls.setOptions(e)}},{key:"finalize",value:function(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function(e){var t=e.isDragging,n=void 0!==t&&t;if(n!==this.state.isDragging){this.state.isDragging=n;var r=this.props.getCursor;this.canvas.style.cursor=r(this.state)}}}]),e}(),zn=Fn;Fn.displayName="MapController",Fn.propTypes=Bn,Fn.defaultProps=Dn;var Un=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Gn={GRABBING:"-webkit-grabbing",GRAB:"-webkit-grab",POINTER:"pointer"},Vn={lookAt:Cn.a.arrayOf(Cn.a.number),distance:Cn.a.number,rotationX:Cn.a.number,rotationY:Cn.a.number,translationX:Cn.a.number,translationY:Cn.a.number,zoom:Cn.a.number,minZoom:Cn.a.number,maxZoom:Cn.a.number,fov:Cn.a.number,near:Cn.a.number,far:Cn.a.number,width:Cn.a.number.isRequired,height:Cn.a.number.isRequired,bounds:Cn.a.object,onViewportChange:Cn.a.func.isRequired,getCursor:Cn.a.func,orbitControls:Cn.a.object},Yn={lookAt:[0,0,0],rotationX:0,rotationY:0,translationX:0,translationY:0,distance:10,zoom:1,minZoom:0,maxZoom:1/0,fov:50,near:1,far:1e3,getCursor:function(e){return e.isDragging?Gn.GRABBING:Gn.GRAB}},Hn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},Yn,t),this.props=t,this.state={isDragging:!1},this.canvas=t.canvas;var n=new Mn.EventManager(this.canvas);this._eventManager=n,this._controls=t.orbitControls||new fn(Pt),this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:n}))}return Un(e,null,[{key:"getViewport",value:function(e){return new Et(e)}}]),Un(e,[{key:"setProps",value:function(e){e=Object.assign({},this.props,e),this.props=e,this._controls.setOptions(e)}},{key:"finalize",value:function(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function(e){var t=e.isDragging,n=void 0!==t&&t;if(n!==this.state.isDragging){this.state.isDragging=n;var r=this.props.getCursor;this.canvas.style.cursor=r(this.state)}}}]),e}(),Wn=Hn;Hn.displayName="OrbitController",Hn.propTypes=Vn,Hn.defaultProps=Yn;var Qn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Xn=["longitude","latitude","zoom","bearing","pitch"],Zn=["latitude","longitude","zoom","width","height"],Jn=["bearing","pitch"],Kn=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.propNames=Xn,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Dt),Qn(t,[{key:"initializeProps",value:function(e,t){var n={},r={},i=!0,o=!1,a=void 0;try{for(var u,l=Zn[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,p=e[c],f=t[c];s()(Gt(p)&&Gt(f),c+" must be supplied for transition"),n[c]=p,r[c]=Yt(c,p,f)}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}var h=!0,d=!1,g=void 0;try{for(var y,v=Jn[Symbol.iterator]();!(h=(y=v.next()).done);h=!0){var m=y.value,_=e[m]||0,A=t[m]||0;n[m]=_,r[m]=Yt(m,_,A)}}catch(e){d=!0,g=e}finally{try{!h&&v.return&&v.return()}finally{if(d)throw g}}return{start:n,end:r}}},{key:"interpolateProps",value:function(e,t,n){var r=Object(Te.c)(e,t,n),i=!0,o=!1,a=void 0;try{for(var s,u=Jn[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r[l]=Ut(e[l],t[l],n)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r}}]),t}(),qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function $n(e){return null!==e&&"object"===(void 0===e?"undefined":qn(e))}var er=function(e,t){return e[t]},tr=function(e,t){return e.get(t)},nr={};function rr(e){return Object.getPrototypeOf(e).get?tr:er}var ir=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),or=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ar=function(e){return e.length},sr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sortedBins=this.getSortedBins(t,n),this.maxCount=this.getMaxCount(),this.binMap=this.getBinMap()}return or(e,[{key:"getSortedBins",value:function(e,t){return e.reduce(function(e,n,r){var i=t(n.points);return null!==i&&void 0!==i&&e.push({i:Number.isFinite(n.index)?n.index:r,value:i,counts:n.points.length}),e},[]).sort(function(e,t){return e.value-t.value})}},{key:"getValueRange",value:function(e){var t=ir(e,2),n=t[0],r=t[1],i=this.sortedBins.length;if(!i)return[0,0];var o=Math.ceil(n/100*(i-1)),a=Math.floor(r/100*(i-1));return[this.sortedBins[o].value,this.sortedBins[a].value]}},{key:"getMaxCount",value:function(){var e=0;return this.sortedBins.forEach(function(t){return e=e>t.counts?e:t.counts}),e}},{key:"getBinMap",value:function(){return this.sortedBins.reduce(function(e,t){return Object.assign(e,(n={},r=t.i,i=t,r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n));var n,r,i},{})}}]),e}(),ur=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var lr=n(69),cr={ViewportControls:fn,FirstPersonState:ht,OrbitState:Pt,MapState:Nt,Controller:fn,MapController:dn,FirstPersonViewport:vn,ThirdPersonViewport:An,OrbitViewport:Et,DeckGLJS:Rn,MapControllerJS:zn,OrbitControllerJS:Wn,EffectManager:xn,Effect:Tn,TRANSITION_EVENTS:Kt,LinearInterpolator:Xt,ViewportFlyToInterpolator:Kn,TransitionManager:tn,extractViewportFrom:Ht,BinSorter:sr,linearScale:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]},getLinearScale:function(e,t){return function(n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]}},quantizeScale:function(e,t,n){var r=(e[1]-e[0])/t.length,i=Math.floor((n-e[0])/r);return t[Math.max(Math.min(i,t.length-1),0)]},getQuantizeScale:function(e,t){return function(n){var r=(e[1]-e[0])/t.length,i=Math.floor((n-e[0])/r),o=Math.max(Math.min(i,t.length-1),0);return t[o]}},clamp:function(e,t){var n=ur(e,2),r=n[0],i=n[1];return Math.min(i,Math.max(r,t))},defaultColorRange:[[255,255,178],[254,217,118],[254,178,76],[253,141,60],[240,59,32],[189,0,38]],log:i.a,get:function(e,t){var n=function(e){if("string"==typeof e){var t=nr[e];return t||(t=e.split("."),nr[e]=t),t}return Array.isArray(e)?e:[e]}(t),r=e,i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if(!$n(r))return;r=rr(r)(r,l)}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return r},count:k,flatten:Ge,countVertices:function e(t){for(var n=0,r=-1;++r<t.length;){var i=t[r];Array.isArray(i)||ArrayBuffer.isView(i)?n+=e(i):n++}return n},flattenVertices:function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.result,i=void 0===r?[]:r,o=n.dimensions,a=void 0===o?3:o,s=-1,u=0;++s<t.length;){var l=t[s];Array.isArray(l)||ArrayBuffer.isView(l)?e(l,{result:i,dimensions:a}):u<a&&(i.push(l),u++)}return u>0&&u<a&&i.push(0),i},fillArray:function(e){for(var t=e.target,n=e.source,r=e.start,i=void 0===r?0:r,o=e.count,a=void 0===o?1:o,s=n.length,u=a*s,l=0,c=i;l<s;l++)t[c++]=n[l];for(;l<u;)l<u-l?(t.copyWithin(i+l,i,i+l),l*=2):(t.copyWithin(i+l,i,i+u-l),l=u);return t},enable64bitSupport:lr.a,fp64ify:lr.c,fp64LowPart:lr.b},pr="#define SHADER_NAME arc-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",fr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var hr=cr.fp64LowPart,dr=cr.enable64bitSupport,gr=[0,0,0,255],yr={strokeWidth:1,fp64:!1,getSourcePosition:function(e){return e.sourcePosition},getTargetPosition:function(e){return e.targetPosition},getSourceColor:function(e){return e.color||gr},getTargetColor:function(e){return e.color||gr}},vr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),fr(t,[{key:"getShaders",value:function(){return dr(this.props)?{vs:"#define SHADER_NAME arc-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\n\nattribute vec4 instancePositions;\nattribute vec4 instancePositions64Low;\n\nattribute vec3 instancePickingColors;\n\nuniform float numSegments;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nvec2 paraboloid_fp64(vec2 source[2], vec2 target[2], float ratio) {\n\n  vec2 x[2];\n  vec2_mix_fp64(source, target, ratio, x);\n  vec2 center[2];\n  vec2_mix_fp64(source, target, 0.5, center);\n\n  vec2 dSourceCenter = vec2_distance_fp64(source, center);\n  vec2 dXCenter = vec2_distance_fp64(x, center);\n  return mul_fp64(sum_fp64(dSourceCenter, dXCenter), sub_fp64(dSourceCenter, dXCenter));\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvoid get_pos_fp64(vec2 source[2], vec2 target[2], float segmentRatio, out vec2 position[4]) {\n\n  vec2 vertex_height = paraboloid_fp64(source, target, segmentRatio);\n\n  vec2 position_temp[2];\n\n  vec2_mix_fp64(source, target, segmentRatio, position_temp);\n\n  position[0] = position_temp[0];\n  position[1] = position_temp[1];\n\n  if (vertex_height.x < 0.0 || (vertex_height.x == 0.0 && vertex_height.y <= 0.0)) {\n    vertex_height = vec2(0.0, 0.0);\n  }\n\n  position[2] = sqrt_fp64(vertex_height);\n  position[3] = vec2(1.0, 0.0);\n}\n\nvoid main(void) {\n  vec4 instanceSourcePositions64 = vec4(instancePositions.x,\n    instancePositions64Low.x, instancePositions.y, instancePositions64Low.y);\n  vec4 instanceTargetPositions64 = vec4(instancePositions.z,\n    instancePositions64Low.z, instancePositions.w, instancePositions64Low.w);\n\n  vec2 projected_source_coord[2];\n  vec2 projected_target_coord[2];\n\n  project_position_fp64(instanceSourcePositions64, projected_source_coord);\n  project_position_fp64(instanceTargetPositions64, projected_target_coord);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec2 curr_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, segmentRatio,\n    curr_pos_modelspace);\n\n  vec2 next_pos_modelspace[4];\n\n  get_pos_fp64(projected_source_coord, projected_target_coord, nextSegmentRatio,\n    next_pos_modelspace);\n\n  vec4 curr_pos_clipspace = project_to_clipspace_fp64(curr_pos_modelspace);\n  vec4 next_pos_clipspace = project_to_clipspace_fp64(next_pos_modelspace);\n\n  vec2 offset = getExtrusionOffset(next_pos_clipspace.xy - curr_pos_clipspace.xy, positions.y);\n\n  gl_Position = curr_pos_clipspace + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:pr,modules:["project64","picking"]}:{vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec4 instancePositions;\nattribute vec3 instancePickingColors;\n\nuniform float numSegments;\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\n\nvoid main(void) {\n  vec2 source = project_position(instancePositions.xy);\n  vec2 target = project_position(instancePositions.zw);\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n\n  vec3 currPos = getPos(source, target, segmentRatio);\n  vec3 nextPos = getPos(source, target, nextSegmentRatio);\n  vec4 curr = project_to_clipspace(vec4(currPos, 1.0));\n  vec4 next = project_to_clipspace(vec4(nextPos, 1.0));\n\n  // extrude\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y);\n  gl_Position = curr + vec4(offset, 0.0, 0.0);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio) / 255.;\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:pr,modules:["picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:4,transition:!0,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions},instanceSourceColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getSourceColor",update:this.calculateInstanceSourceColors},instanceTargetColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getTargetColor",update:this.calculateInstanceTargetColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instancePositions64Low:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstancePositions64Low}}):r.remove(["instancePositions64Low"])}}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.strokeWidth;this.state.model.render(Object.assign({},t,{strokeWidth:n}))}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<50;n++)t=t.concat([n,-1,0,n,1,0]);var r=new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLE_STRIP,attributes:{positions:new Float32Array(t)}}),isInstanced:!0,shaderCache:this.context.shaderCache}));return r.setUniforms({numSegments:50}),r}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getSourcePosition,i=t.getTargetPosition,o=e.value,a=e.size,s=0,u=!0,l=!1,c=void 0;try{for(var p,f=n[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value,d=r(h),g=i(h);o[s+0]=d[0],o[s+1]=d[1],o[s+2]=g[0],o[s+3]=g[1],s+=a}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"calculateInstancePositions64Low",value:function(e){var t=this.props,n=t.data,r=t.getSourcePosition,i=t.getTargetPosition,o=e.value,a=e.size,s=0,u=!0,l=!1,c=void 0;try{for(var p,f=n[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value,d=r(h),g=i(h);o[s+0]=hr(d[0]),o[s+1]=hr(d[1]),o[s+2]=hr(g[0]),o[s+3]=hr(g[1]),s+=a}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"calculateInstanceSourceColors",value:function(e){var t=this.props,n=t.data,r=t.getSourceColor,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value);i[a+0]=f[0],i[a+1]=f[1],i[a+2]=f[2],i[a+3]=isNaN(f[3])?255:f[3],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}},{key:"calculateInstanceTargetColors",value:function(e){var t=this.props,n=t.data,r=t.getTargetColor,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value);i[a+0]=f[0],i[a+1]=f[1],i[a+2]=f[2],i[a+3]=isNaN(f[3])?255:f[3],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}}]),t}(),mr=vr;vr.layerName="ArcLayer",vr.defaultProps=yr;var _r="#define SHADER_NAME icon-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nconst float MIN_ALPHA = 0.05;\n\nvoid main(void) {\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  float a = texColor.a * opacity * mix(1.0, vColor.a, vColorMode);\n\n  if (a < MIN_ALPHA) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",Ar=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),br=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wr=cr.fp64LowPart,Er=cr.enable64bitSupport,Tr=[0,0,0,255],Mr=u.f.LINEAR_MIPMAP_LINEAR,Sr=u.f.LINEAR,Cr={iconAtlas:null,iconMapping:{},sizeScale:1,fp64:!1,getPosition:function(e){return e.position},getIcon:function(e){return e.icon},getColor:function(e){return e.color||Tr},getSize:function(e){return e.size||1},getAngle:function(e){return e.angle||0}},Ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),br(t,[{key:"getShaders",value:function(){return Er(this.props)?{vs:'#define SHADER_NAME icon-layer-vertex-shader-64\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(project_scale(instancePositions.z), 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n\n  vColorMode = instanceColorModes;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n',fs:_r,modules:["project64","picking"]}:{vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  vec2 iconSize = instanceIconFrames.zw;\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : instanceSizes / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * sizeScale * instanceScale;\n  pixelOffset.y *= -1.0;\n\n  vec3 center = project_position(instancePositions);\n  gl_Position = project_to_clipspace(vec4(center, 1.0));\n  gl_Position += project_pixel_to_clipspace(pixelOffset);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vTextureCoords.y = 1.0 - vTextureCoords.y;\n\n  vColor = instanceColors / 255.;\n\n  vColorMode = instanceColorModes;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n',fs:_r,modules:["picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition",update:this.calculateInstancePositions},instanceSizes:{size:1,transition:!0,accessor:"getSize",update:this.calculateInstanceSizes},instanceOffsets:{size:2,accessor:"getIcon",update:this.calculateInstanceOffsets},instanceIconFrames:{size:4,accessor:"getIcon",update:this.calculateInstanceIconFrames},instanceColorModes:{size:1,type:u.f.UNSIGNED_BYTE,accessor:"getIcon",update:this.calculateInstanceColorMode},instanceColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getColor",update:this.calculateInstanceColors},instanceAngles:{size:1,transition:!0,accessor:"getAngle",update:this.calculateInstanceAngles}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}}):r.remove(["instancePositions64xyLow"])}}},{key:"updateState",value:function(e){var n=this,r=e.oldProps,i=e.props,o=e.changeFlags;(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:i,oldProps:r,changeFlags:o});var a,s=i.iconAtlas,l=i.iconMapping;if(r.iconMapping!==l){var c=this.getAttributeManager();c.invalidate("instanceOffsets"),c.invalidate("instanceIconFrames"),c.invalidate("instanceColorModes")}r.iconAtlas!==s&&(s instanceof u.j?(s.setParameters((xr(a={},u.f.TEXTURE_MIN_FILTER,Mr),xr(a,u.f.TEXTURE_MAG_FILTER,Sr),a)),this.setState({iconsTexture:s})):"string"==typeof s&&Object(u.o)(this.context.gl,{urls:[s]}).then(function(e){var t,r=Ar(e,1)[0];r.setParameters((xr(t={},u.f.TEXTURE_MIN_FILTER,Mr),xr(t,u.f.TEXTURE_MAG_FILTER,Sr),t)),n.setState({iconsTexture:r})}));if(i.fp64!==r.fp64){var p=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(p)})}this.updateAttribute({props:i,oldProps:r,changeFlags:o})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.sizeScale,r=this.state.iconsTexture;r&&this.state.model.render(Object.assign({},t,{iconsTexture:r,iconsTextureDim:[r.width,r.height],sizeScale:n}))}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLE_FAN,attributes:{positions:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=p[0],i[o++]=p[1],i[o++]=p[2]||0}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=wr(p[0]),i[o++]=wr(p[1])}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceSizes",value:function(e){var t=this.props,n=t.data,r=t.getSize,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;i[o++]=r(p)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceAngles",value:function(e){var t=this.props,n=t.data,r=t.getAngle,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;i[o++]=r(p)}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=p[0],i[o++]=p[1],i[o++]=p[2],i[o++]=isNaN(p[3])?255:p[3]}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceOffsets",value:function(e){var t=this.props,n=t.data,r=t.iconMapping,i=t.getIcon,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r[i(c.value)]||{};o[a++]=f.width/2-f.anchorX||0,o[a++]=f.height/2-f.anchorY||0}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}},{key:"calculateInstanceColorMode",value:function(e){var t=this.props,n=t.data,r=t.iconMapping,i=t.getIcon,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=i(c.value),h=r[f]&&r[f].mask;o[a++]=h?1:0}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}},{key:"calculateInstanceIconFrames",value:function(e){var t=this.props,n=t.data,r=t.iconMapping,i=t.getIcon,o=e.value,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r[i(c.value)]||{};o[a++]=f.x||0,o[a++]=f.y||0,o[a++]=f.width||0,o[a++]=f.height||0}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}}]),t}(),Pr=Ir;Ir.layerName="IconLayer",Ir.defaultProps=Cr;var kr="#define SHADER_NAME line-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",Or=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Lr=cr.fp64LowPart,Rr=cr.enable64bitSupport,jr=[0,0,0,255],Nr={strokeWidth:1,fp64:!1,getSourcePosition:function(e){return e.sourcePosition},getTargetPosition:function(e){return e.targetPosition},getColor:function(e){return e.color||jr}},Br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),Or(t,[{key:"getShaders",value:function(){return Rr(this.props)?{vs:"#define SHADER_NAME line-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceSourceTargetPositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nvoid main(void) {\n  // Position\n  vec4 instanceSourcePositions64 = vec4(\n    instanceSourcePositions.x, instanceSourceTargetPositions64xyLow.x,\n    instanceSourcePositions.y, instanceSourceTargetPositions64xyLow.y);\n\n  vec4 instanceTargetPositions64 = vec4(\n    instanceTargetPositions.x, instanceSourceTargetPositions64xyLow.z,\n    instanceTargetPositions.y, instanceSourceTargetPositions64xyLow.w);\n\n  vec2 projected_source_coord[2];\n  vec2 projected_target_coord[2];\n\n  project_position_fp64(instanceSourcePositions64, projected_source_coord);\n  project_position_fp64(instanceTargetPositions64, projected_target_coord);\n\n  vec2 source_pos_modelspace[4];\n  source_pos_modelspace[0] =  projected_source_coord[0];\n  source_pos_modelspace[1] =  projected_source_coord[1];\n  source_pos_modelspace[2] = vec2(project_scale(instanceSourcePositions.z), 0.0);\n  source_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 source_pos_clipspace = project_to_clipspace_fp64(source_pos_modelspace);\n\n  vec2 target_pos_modelspace[4];\n  target_pos_modelspace[0] =  projected_target_coord[0];\n  target_pos_modelspace[1] =  projected_target_coord[1];\n  target_pos_modelspace[2] = vec2(project_scale(instanceTargetPositions.z), 0.0);\n  target_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 target_pos_clipspace = project_to_clipspace_fp64(target_pos_modelspace);\n\n  float segmentIndex = positions.x;\n  vec4 p = mix(source_pos_clipspace, target_pos_clipspace, segmentIndex);\n\n  vec2 offset = getExtrusionOffset(target_pos_clipspace.xy - source_pos_clipspace.xy, positions.y);\n\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:kr,modules:["project64","picking"]}:{vs:"#define SHADER_NAME line-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceTargetPositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float strokeWidth;\nuniform float opacity;\n\nvarying vec4 vColor;\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset_screenspace = dir_screenspace * offset_direction * strokeWidth / 2.0;\n  vec2 offset_clipspace = project_pixel_to_clipspace(offset_screenspace).xy;\n\n  return offset_clipspace;\n}\n\nvoid main(void) {\n  // Position\n  vec3 sourcePos = project_position(instanceSourcePositions);\n  vec3 targetPos = project_position(instanceTargetPositions);\n  vec4 source = project_to_clipspace(vec4(sourcePos, 1.0));\n  vec4 target = project_to_clipspace(vec4(targetPos, 1.0));\n\n  // linear interpolation of source & target to pick right coord\n  float segmentIndex = positions.x;\n  vec4 p = mix(source, target, segmentIndex);\n\n  // extrude\n  vec2 offset = getExtrusionOffset(target.xy - source.xy, positions.y);\n  gl_Position = p + vec4(offset, 0.0, 0.0);\n\n  // Color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:kr,modules:["picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,transition:!0,accessor:"getSourcePosition",update:this.calculateInstanceSourcePositions},instanceTargetPositions:{size:3,transition:!0,accessor:"getTargetPosition",update:this.calculateInstanceTargetPositions},instanceColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instanceSourceTargetPositions64xyLow:{size:4,accessor:["getSourcePosition","getTargetPosition"],update:this.calculateInstanceSourceTargetPositions64xyLow}}):r.remove(["instanceSourceTargetPositions64xyLow"])}}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props.strokeWidth;this.state.model.render(Object.assign({},t,{strokeWidth:n}))}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLE_STRIP,attributes:{positions:new Float32Array([0,-1,0,0,1,0,1,-1,0,1,1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstanceSourcePositions",value:function(e){var t=this.props,n=t.data,r=t.getSourcePosition,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value);i[a+0]=f[0],i[a+1]=f[1],i[a+2]=isNaN(f[2])?0:f[2],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}},{key:"calculateInstanceTargetPositions",value:function(e){var t=this.props,n=t.data,r=t.getTargetPosition,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value);i[a+0]=f[0],i[a+1]=f[1],i[a+2]=isNaN(f[2])?0:f[2],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}},{key:"calculateInstanceSourceTargetPositions64xyLow",value:function(e){var t=this.props,n=t.data,r=t.getSourcePosition,i=t.getTargetPosition,o=e.value,a=e.size,s=0,u=!0,l=!1,c=void 0;try{for(var p,f=n[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value,d=r(h),g=i(h);o[s+0]=Lr(d[0]),o[s+1]=Lr(d[1]),o[s+2]=Lr(g[0]),o[s+3]=Lr(g[1]),s+=a}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"calculateInstanceColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value);i[a+0]=f[0],i[a+1]=f[1],i[a+2]=f[2],i[a+3]=isNaN(f[3])?255:f[3],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}}]),t}(),Dr=Br;Br.layerName="LineLayer",Br.defaultProps=Nr;var Fr="#define SHADER_NAME point-cloud-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",zr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ur=cr.fp64LowPart,Gr=cr.enable64bitSupport,Vr=[0,0,0,255],Yr={radiusPixels:10,fp64:!1,getPosition:function(e){return e.position},getNormal:function(e){return e.normal},getColor:function(e){return e.color||Vr},lightSettings:{lightsPosition:[0,0,5e3,-1e3,1e3,8e3,5e3,-5e3,1e3],ambientRatio:.2,diffuseRatio:.6,specularRatio:.8,lightsStrength:[1,0,.8,0,.4,0],numberOfLights:3}},Hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),zr(t,[{key:"getShaders",value:function(e){var t=this.context.shaderCache;return Gr(this.props)?{vs:"#define SHADER_NAME point-cloud-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(project_scale(instancePositions.z), 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n  gl_Position += project_pixel_to_clipspace(positions.xy * radiusPixels);\n\n  vec4 position_worldspace = vec4(\n    projected_coord_xy[0].x, projected_coord_xy[1].x,\n    project_scale(instancePositions.z), 1.0);\n\n  // Apply lighting\n  float lightWeight = getLightWeight(position_worldspace.xyz, // the w component is always 1.0\n    instanceNormals);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightWeight * instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:Fr,modules:["project64","lighting","picking"],shaderCache:t}:{vs:"#define SHADER_NAME point-cloud-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instanceNormals;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusPixels;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\n\nvoid main(void) {\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n\n  // Find the center of the point and add the current vertex\n  vec4 position_worldspace = vec4(project_position(instancePositions), 1.0);\n  gl_Position = project_to_clipspace(position_worldspace) ;\n  gl_Position += project_pixel_to_clipspace(positions.xy * radiusPixels);\n\n  // Apply lighting\n  float lightWeight = getLightWeight(position_worldspace.xyz, // the w component is always 1.0\n    instanceNormals);\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(lightWeight * instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:Fr,modules:["lighting","picking"],shaderCache:t}}},{key:"initializeState",value:function(){this.state.attributeManager.addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition",update:this.calculateInstancePositions},instanceNormals:{size:3,transition:!0,accessor:"getNormal",defaultValue:1,update:this.calculateInstanceNormals},instanceColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}}):r.remove(["instancePositions64xyLow"])}}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.radiusPixels,i=n.lightSettings;this.state.model.render(Object.assign({},t,{radiusPixels:r},i))}},{key:"_getModel",value:function(e){for(var t=[],n=0;n<3;n++){var r=n/3*Math.PI*2;t.push(2*Math.cos(r),2*Math.sin(r),0)}return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLES,attributes:{positions:new Float32Array(t)}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=p[0],i[o++]=p[1],i[o++]=p[2]||0}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=Ur(p[0]),i[o++]=Ur(p[1])}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceNormals",value:function(e){var t=this.props,n=t.data,r=t.getNormal,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=p[0],i[o++]=p[1],i[o++]=p[2]}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=p[0],i[o++]=p[1],i[o++]=p[2],i[o++]=isNaN(p[3])?255:p[3]}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}}]),t}(),Wr=Hr;Hr.layerName="PointCloudLayer",Hr.defaultProps=Yr;var Qr="#define SHADER_NAME scatterplot-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n\n  float distToCenter = length(unitPosition);\n\n  if (distToCenter > 1.0 || distToCenter < innerUnitRadius) {\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",Xr=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Zr=cr.fp64LowPart,Jr=cr.enable64bitSupport,Kr=[0,0,0,255],qr={radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1,fp64:!1,getPosition:function(e){return e.position},getRadius:function(e){return e.radius||1},getColor:function(e){return e.color||Kr}},$r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),Xr(t,[{key:"getShaders",value:function(e){var t=this.context.shaderCache;return Jr(this.props)?{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Only one-dimensional arrays may be declared in GLSL ES 1.0. specs p.24\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = clamp(\n    project_scale(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n\n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_localspace[4];\n  vec4_fp64(vec4(positions * outerRadiusPixels, 0.0), vertex_pos_localspace);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = sum_fp64(vertex_pos_localspace[0], projected_coord_xy[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vertex_pos_localspace[1], projected_coord_xy[1]);\n  vertex_pos_modelspace[2] = sum_fp64(vertex_pos_localspace[2],\n    vec2(project_scale(instancePositions.z), 0.0));\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:Qr,modules:["project64","picking"],shaderCache:t}:{vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute float instanceRadius;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float outline;\nuniform float strokeWidth;\n\nvarying vec4 vColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\n\nvoid main(void) {\n  // Multiply out radius and clamp to limits\n  float outerRadiusPixels = clamp(\n    project_scale(radiusScale * instanceRadius),\n    radiusMinPixels, radiusMaxPixels\n  );\n  // outline is centered at the radius\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += outline * strokeWidth / 2.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = positions.xy;\n  // 0 - solid circle, 1 - stroke with lineWidth=0\n  innerUnitRadius = outline * (1.0 - strokeWidth / outerRadiusPixels);\n\n  // Find the center of the point and add the current vertex\n  vec3 center = project_position(instancePositions);\n  vec3 vertex = positions * outerRadiusPixels;\n  gl_Position = project_to_clipspace(vec4(center + vertex, 1.0));\n\n  // Apply opacity to instance color, or return instance picking color\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:Qr,modules:["picking"],shaderCache:t}}},{key:"initializeState",value:function(){this.state.attributeManager.addInstanced({instancePositions:{size:3,transition:!0,accessor:"getPosition",update:this.calculateInstancePositions},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1,update:this.calculateInstanceRadius},instanceColors:{size:4,transition:!0,type:u.f.UNSIGNED_BYTE,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}}):r.remove(["instancePositions64xyLow"])}}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.radiusScale,i=n.radiusMinPixels,o=n.radiusMaxPixels,a=n.outline,s=n.strokeWidth;this.state.model.render(Object.assign({},t,{outline:a?1:0,strokeWidth:s,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o}))}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign(this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLE_FAN,attributes:{positions:new Float32Array([-1,-1,0,-1,1,0,1,1,0,1,-1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=p[0],i[o++]=p[1],i[o++]=p[2]||0}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=Zr(p[0]),i[o++]=Zr(p[1])}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceRadius",value:function(e){var t=this.props,n=t.data,r=t.getRadius,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=isNaN(p)?1:p}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value)||Kr;i[o++]=p[0],i[o++]=p[1],i[o++]=p[2],i[o++]=isNaN(p[3])?255:p[3]}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}}]),t}(),ei=$r;$r.layerName="ScatterplotLayer",$r.defaultProps=qr;var ti=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ni=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),ti(t,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME screen-grid-layer-vertex-shader\n\nattribute vec3 vertices;\nattribute vec3 instancePositions;\nattribute float instanceCount;\nattribute vec3 instancePickingColors;\n\nuniform float maxCount;\nuniform float opacity;\nuniform vec4 minColor;\nuniform vec4 maxColor;\nuniform vec3 cellScale;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 color = mix(minColor, maxColor, instanceCount / maxCount) / 255.;\n\n  vColor = vec4(color.rgb, color.a * opacity);\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  gl_Position = vec4(instancePositions + vertices * cellScale, 1.);\n}\n",fs:"#define SHADER_NAME screen-grid-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",modules:["picking"]}}},{key:"initializeState",value:function(){var e=this.getAttributeManager(),t=this.context.gl;e.addInstanced({instancePositions:{size:3,update:this.calculateInstancePositions},instanceCount:{size:1,accessor:["getPosition","getWeight"],update:this.calculateInstanceCount}}),this.setState({model:this._getModel(t)})}},{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var n=e.oldProps,r=e.props,i=e.changeFlags;(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:r,oldProps:n,changeFlags:i}),(r.cellSizePixels!==n.cellSizePixels||i.viewportChanged)&&this.updateCell()}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.minColor,i=n.maxColor,o=n.parameters,a=void 0===o?{}:o,s=this.state,u=s.model,l=s.cellScale,c=s.maxCount;t=Object.assign({},t,{minColor:r,maxColor:i,cellScale:l,maxCount:c}),u.draw({uniforms:t,parameters:Object.assign({depthTest:!1,depthMask:!1},a)})}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLE_FAN,attributes:{vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"updateCell",value:function(){var e=this.context.viewport,t=e.width,n=e.height,r=this.props.cellSizePixels,i=new Float32Array([(r-2)/t*2,-(r-2)/n*2,1]),o=Math.ceil(t/r),a=Math.ceil(n/r);this.setState({cellScale:i,numCol:o,numRow:a,numInstances:o*a}),this.getAttributeManager().invalidateAll()}},{key:"calculateInstancePositions",value:function(e,t){for(var n=t.numInstances,r=this.context.viewport,i=r.width,o=r.height,a=this.props.cellSizePixels,s=this.state.numCol,u=e.value,l=e.size,c=0;c<n;c++){var p=c%s,f=Math.floor(c/s);u[c*l+0]=p*a/i*2-1,u[c*l+1]=1-f*a/o*2,u[c*l+2]=0}}},{key:"calculateInstanceCount",value:function(e){var t=this.props,n=t.data,r=t.cellSizePixels,i=t.getPosition,o=t.getWeight,a=this.state,s=a.numCol,u=a.numRow,l=e.value,c=0;l.fill(0);var p=!0,f=!1,h=void 0;try{for(var d,g=n[Symbol.iterator]();!(p=(d=g.next()).done);p=!0){var y=d.value,v=this.project(i(y)),m=Math.floor(v[0]/r),_=Math.floor(v[1]/r);if(m>=0&&m<s&&_>=0&&_<u){var A=m+_*s;l[A]+=o(y),l[A]>c&&(c=l[A])}}}catch(e){f=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(f)throw h}}this.setState({maxCount:c})}}]),t}(),ri=ni;ni.layerName="ScreenGridLayer",ni.defaultProps={cellSizePixels:100,minColor:[0,0,0,255],maxColor:[0,255,0,255],getPosition:function(e){return e.position},getWeight:function(e){return 1}};var ii="#define SHADER_NAME grid-cell-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",oi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ai=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var si=cr.fp64LowPart,ui=cr.enable64bitSupport,li=[255,0,255,255],ci=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),oi(t,[{key:"getShaders",value:function(){var e=this.context.shaderCache;return ui(this.props)?{vs:"#define SHADER_NAME grid-cell-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec4 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter\n#define ELEVATION_SCALE 0.8\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x,\n    instancePositions64xyLow.x,\n    instancePositions.y,\n    instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.w < 0.0);\n  float finalCellSize = cellSize * mix(1.0, 0.0, noRender);\n\n  projected_coord_xy[0] = sum_fp64(projected_coord_xy[0],\n    vec2((positions.x * coverage + 1.0) * finalCellSize / 2.0, 0.0));\n  projected_coord_xy[1] = sum_fp64(projected_coord_xy[1],\n    vec2((positions.y * coverage - 1.0) * finalCellSize / 2.0, 0.0));\n\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.w  * (positions.z + 1.0) *\n      ELEVATION_SCALE * elevationScale) + 1.0;\n  }\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(elevation, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 position_worldspace = vec4(\n    vertex_pos_modelspace[0].x, vertex_pos_modelspace[1].x,\n    vertex_pos_modelspace[2].x, vertex_pos_modelspace[3].x);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec4 color = vec4(lightWeightedColor, instanceColors.a * opacity) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:ii,modules:["project64","lighting","picking"],shaderCache:e}:{vs:"#define SHADER_NAME grid-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec4 instancePositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float extruded;\nuniform float cellSize;\nuniform float coverage;\nuniform float opacity;\nuniform float elevationScale;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter\n#define ELEVATION_SCALE 0.8\n\n// Result\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec2 topLeftPos = project_position(instancePositions.xy);\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.w < 0.0);\n  float finalCellSize = cellSize * mix(1.0, 0.0, noRender);\n\n  // cube gemoetry vertics are between -1 to 1, scale and transform it to between 0, 1\n  vec2 pos = topLeftPos + vec2(\n  (positions.x * coverage + 1.0) / 2.0 * finalCellSize,\n  (positions.y * coverage - 1.0) / 2.0 * finalCellSize);\n\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.w  * (positions.z + 1.0) *\n      ELEVATION_SCALE * elevationScale);\n  }\n\n  // extrude positions\n  vec3 extrudedPosition = vec3(pos.xy, elevation + 1.0);\n  vec4 position_worldspace = vec4(extrudedPosition, 1.0);\n  gl_Position = project_to_clipspace(position_worldspace);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n  vec4 color = vec4(lightWeightedColor, instanceColors.a * opacity) / 255.0;\n  vColor = color;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:ii,modules:["lighting","picking"],shaderCache:e}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:4,transition:!0,accessor:["getPosition","getElevation"],update:this.calculateInstancePositions},instanceColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instancePositions64xyLow:{size:2,accessor:"getPosition",update:this.calculateInstancePositions64xyLow}}):r.remove(["instancePositions64xyLow"])}}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(ai(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i}),this.updateUniforms()}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.c,isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"updateUniforms",value:function(){var e=this.props,t=e.opacity,n=e.extruded,r=e.elevationScale,i=e.coverage,o=e.lightSettings;this.state.model.setUniforms(Object.assign({},{extruded:n,elevationScale:r,opacity:t,coverage:i},o))}},{key:"draw",value:function(e){var n=e.uniforms,r=this.context.viewport.getDistanceScales().pixelsPerMeter;ai(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,{uniforms:Object.assign({cellSize:this.props.cellSize*r[0]},n)})}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=t.getElevation,o=e.value,a=e.size,s=0,u=!0,l=!1,c=void 0;try{for(var p,f=n[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value,d=r(h),g=i(h)||0;o[s+0]=d[0],o[s+1]=d[1],o[s+2]=0,o[s+3]=g,s+=a}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.props,n=t.data,r=t.getPosition,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=si(p[0]),i[o++]=si(p[1])}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value)||li;i[a+0]=f[0],i[a+1]=f[1],i[a+2]=f[2],i[a+3]=Number.isFinite(f[3])?f[3]:li[3],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}}]),t}(),pi=ci;ci.layerName="GridCellLayer",ci.defaultProps={cellSize:1e3,coverage:1,elevationScale:1,extruded:!0,fp64:!1,getPosition:function(e){return e.position},getElevation:function(e){return e.elevation},getColor:function(e){return e.color},lightSettings:{lightsPosition:[-122.45,37.65,8e3,-122.45,37.2,1e3],ambientRatio:.4,diffuseRatio:.6,specularRatio:.8,lightsStrength:[1,0,.8,0],numberOfLights:2}};var fi=6378e3;function hi(e,t,n){var r=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2],r=1/0,i=-1/0,o=void 0,a=0;a<e.length;a++)o=n(e[a])[1],Number.isFinite(o)&&(r=o<r?o:r,i=o>i?o:i);var s=function(e,t){var n=(a=e,a/fi*(180/Math.PI)),r=(i=t,o=e,o/fi*(180/Math.PI)/Math.cos(i*Math.PI/180));var i,o;var a;return{yOffset:n,xOffset:r}}(t,(r+i)/2);if(s.xOffset<=0||s.yOffset<=0)return{gridHash:{},gridOffset:s};return{gridHash:e.reduce(function(e,t){var r=n(t)[1],i=n(t)[0];if(!Number.isFinite(r)||!Number.isFinite(i))return e;var o=Math.floor((r+90)/s.yOffset),a=Math.floor((i+180)/s.xOffset),u=o+"-"+a;return e[u]=e[u]||{count:0,points:[]},e[u].count+=1,e[u].points.push(t),e},{}),gridOffset:s}}(e,t,n),i=r.gridHash,o=r.gridOffset;return{gridOffset:o,layerData:function(e,t){return Object.keys(e).reduce(function(n,r,i){var o=r.split("-"),a=parseInt(o[0],10),s=parseInt(o[1],10);return n.push(Object.assign({index:i,position:[t.xOffset*s-180,t.yOffset*a-90]},e[r])),n},[])}(i,o)}}var di=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gi=cr.BinSorter,yi=cr.getQuantizeScale,vi=cr.getLinearScale;function mi(){}var _i={colorDomain:null,colorRange:cr.defaultColorRange,getColorValue:function(e){return e.length},lowerPercentile:0,upperPercentile:100,onSetColorDomain:mi,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:function(e){return e.length},elevationLowerPercentile:0,elevationUpperPercentile:100,elevationScale:1,onSetElevationDomain:mi,cellSize:1e3,coverage:1,getPosition:function(e){return e.position},extruded:!1,fp64:!1,lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}},Ai=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ze),di(t,[{key:"initializeState",value:function(){this.state={layerData:[],sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:mi,elevationScaleFunc:mi,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function(e){var t=this,n=e.oldProps,r=e.props,i=e.changeFlags,o=this.getDimensionChanges(n,r);i.dataChanged||this.needsReProjectPoints(n,r)?this.getLayerData():o&&o.forEach(function(e){return"function"==typeof e&&e.apply(t)})}},{key:"needsReProjectPoints",value:function(e,t){return e.cellSize!==t.cellSize}},{key:"getDimensionUpdaters",value:function(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function(e,t){var n=this.state.dimensionUpdaters,r=[];for(var i in n){var o=n[i].find(function(n){return n.triggers.some(function(n){return e[n]!==t[n]})});o&&r.push(o.updater)}return r.length?r:null}},{key:"getPickingInfo",value:function(e){var t=e.info,n=this.state,r=n.sortedColorBins,i=n.sortedElevationBins,o=null;if(t.picked&&t.index>-1){var a=this.state.layerData[t.index],s=r.binMap[a.index]&&r.binMap[a.index].value,u=i.binMap[a.index]&&i.binMap[a.index].value;o=Object.assign({colorValue:s,elevationValue:u},a)}return Object.assign(t,{picked:Boolean(o),object:o})}},{key:"getUpdateTriggers",value:function(){var e=this,t=this.state.dimensionUpdaters,n={},r=function(r){n[r]={};var i=!0,o=!1,a=void 0;try{for(var s,u=t[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.triggers.forEach(function(t){n[r][t]=e.props[t]})}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}};for(var i in t)r(i);return n}},{key:"getLayerData",value:function(){var e=this.props,t=hi(e.data,e.cellSize,e.getPosition).layerData;this.setState({layerData:t}),this.getSortedBins()}},{key:"getValueDomain",value:function(){this.getColorValueDomain(),this.getElevationValueDomain()}},{key:"getSortedBins",value:function(){this.getSortedColorBins(),this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function(){var e=this.props.getColorValue,t=new gi(this.state.layerData||[],e);this.setState({sortedColorBins:t}),this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function(){var e=this.props.getElevationValue,t=new gi(this.state.layerData||[],e);this.setState({sortedElevationBins:t}),this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function(){var e=this.props,t=e.lowerPercentile,n=e.upperPercentile,r=e.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([t,n]),"function"==typeof r&&r(this.state.colorValueDomain),this.getColorScale()}},{key:"getElevationValueDomain",value:function(){var e=this.props,t=e.elevationLowerPercentile,n=e.elevationUpperPercentile,r=e.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([t,n]),"function"==typeof r&&r(this.state.elevationValueDomain),this.getElevationScale()}},{key:"getColorScale",value:function(){var e=this.props.colorRange,t=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=yi(t,e)}},{key:"getElevationScale",value:function(){var e=this.props.elevationRange,t=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=vi(t,e)}},{key:"_onGetSublayerColor",value:function(e){var t=this.state,n=t.sortedColorBins,r=t.colorScaleFunc,i=t.colorValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.colorDomain||i,s=o>=a[0]&&o<=a[a.length-1]?r(o):[0,0,0,0];return s[3]=Number.isFinite(s[3])?s[3]:255,s}},{key:"_onGetSublayerElevation",value:function(e){var t=this.state,n=t.sortedElevationBins,r=t.elevationScaleFunc,i=t.elevationValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.elevationDomain||i;return o>=a[0]&&o<=a[a.length-1]?r(o):-1}},{key:"getSubLayerProps",value:function(){var e=this.props,n=e.elevationScale,r=e.fp64,i=e.extruded,o=e.cellSize,a=e.coverage,s=e.lightSettings;return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getSubLayerProps",this).call(this,{id:"grid-cell",data:this.state.layerData,fp64:r,cellSize:o,coverage:a,lightSettings:s,elevationScale:n,extruded:i,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),updateTriggers:this.getUpdateTriggers()})}},{key:"getSubLayerClass",value:function(){return pi}},{key:"renderLayers",value:function(){return new(this.getSubLayerClass())(this.getSubLayerProps())}}]),t}(),bi=Ai;Ai.layerName="GridLayer",Ai.defaultProps=_i;var xi="#define SHADER_NAME hexagon-cell-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",wi=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ei=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ti=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};var Mi=cr.log,Si=cr.fp64LowPart,Ci=cr.enable64bitSupport,Ii=[255,0,255,255],Pi=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=!1;return e.hexagonVertices||e.radius&&Number.isFinite(e.angle)?e.hexagonVertices&&(!Array.isArray(e.hexagonVertices)||e.hexagonVertices.length<6)&&(Mi.once(0,"HexagonCellLayer: hexagonVertices needs to be an array of 6 points"),n=!0):(Mi.once(0,"HexagonCellLayer: Either hexagonVertices or radius and angle are needed to calculate primitive hexagon."),n=!0),n&&(Mi.once(0,"Now using 1000 meter as default radius, 0 as default angle"),e.radius=1e3,e.angle=0),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),Ei(t,[{key:"getShaders",value:function(){return Ci(this.props)?{vs:"#define SHADER_NAME hexagon-cell-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec2 instancePositions64xyLow;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform float extruded;\nuniform float coverage;\nuniform float elevationScale;\n\n// Result\nvarying vec4 vColor;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter.\n#define ELEVATION_SCALE 0.8\n\nvoid main(void) {\n\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n\n  vec2 rPos = rotationMatrix * positions.xz;\n  vec2 rNorm = rotationMatrix * normals.xz; // the hexagon cells has y axis as the vertical axis\n\n  vec3 rotatedPositions = vec3(rPos.x, positions.y, rPos.y);\n  vec3 rotatedNormals = vec3(rNorm.x, rNorm.y, normals.y);\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -0.5 to 0.5, transform it to between 0, 1\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.z * (positions.y + 0.5) *\n      ELEVATION_SCALE * elevationScale);\n  }\n\n  // if alpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.z < 0.0);\n  float dotRadius = radius * mix(coverage, 0.0, noRender);\n\n  // project center of hexagon\n\n  vec4 instancePositions64xy = vec4(\n    instancePositions.x, instancePositions64xyLow.x,\n    instancePositions.y, instancePositions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(instancePositions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_localspace[4];\n  vec4_fp64(vec4(rotatedPositions.xz * dotRadius, 0.0, 1.0), vertex_pos_localspace);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = sum_fp64(vertex_pos_localspace[0], projected_coord_xy[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vertex_pos_localspace[1], projected_coord_xy[1]);\n  vertex_pos_modelspace[2] = sum_fp64(vertex_pos_localspace[2], vec2(elevation, 0.0));\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  vec4 position_worldspace = vec4(\n    vertex_pos_modelspace[0].x, vertex_pos_modelspace[1].x,\n    vertex_pos_modelspace[2].x, vertex_pos_modelspace[3].x);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_worldspace = rotatedNormals;\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals_worldspace\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n\n  // Color: Either opacity-multiplied instance color, or picking color\n  vColor = vec4(lightWeightedColor, opacity * instanceColors.a) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:xi,modules:["project64","lighting","picking"]}:{vs:"\n#define SHADER_NAME hexagon-cell-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\n\nattribute vec3 instancePositions;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\n// Custom uniforms\nuniform float opacity;\nuniform float radius;\nuniform float angle;\nuniform float extruded;\nuniform float coverage;\nuniform float elevationScale;\n\n// Result\nvarying vec4 vColor;\n\n// A magic number to scale elevation so that 1 unit approximate to 1 meter.\n#define ELEVATION_SCALE 0.8\n\nvoid main(void) {\n\n  // rotate primitive position and normal\n  mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n\n  vec2 rPos = rotationMatrix * positions.xz;\n  vec2 rNorm = rotationMatrix * normals.xz; // the hexagon cells has y axis as the vertical axis\n\n  vec3 rotatedPositions = vec3(rPos.x, positions.y, rPos.y);\n  vec3 rotatedNormals = vec3(rNorm.x, rNorm.y, normals.y);\n\n  // calculate elevation, if 3d not enabled set to 0\n  // cylindar gemoetry height are between -0.5 to 0.5, transform it to between 0, 1\n  float elevation = 0.0;\n\n  if (extruded > 0.5) {\n    elevation = project_scale(instancePositions.z * (positions.y + 0.5) *\n      ELEVATION_SCALE * elevationScale);\n  }\n\n  // if ahpha == 0.0 or z < 0.0, do not render element\n  float noRender = float(instanceColors.a == 0.0 || instancePositions.z < 0.0);\n  float dotRadius = radius * mix(coverage, 0.0, noRender);\n\n  // project center of hexagon\n  vec4 centroidPosition = vec4(project_position(instancePositions.xy), elevation, 0.0);\n\n  vec4 position_worldspace = centroidPosition + vec4(vec2(rotatedPositions.xz * dotRadius), 0., 1.);\n\n  gl_Position = project_to_clipspace(position_worldspace);\n\n  // Light calculations\n  // Worldspace is the linear space after Mercator projection\n\n  vec3 normals_worldspace = rotatedNormals;\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      normals_worldspace\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * instanceColors.rgb;\n\n  // opacity-multiplied instance color\n  vColor = vec4(lightWeightedColor, opacity * instanceColors.a) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n}\n",fs:xi,modules:["lighting","picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instancePositions:{size:3,transition:!0,accessor:["getCentroid","getElevation"],update:this.calculateInstancePositions},instanceColors:{size:4,type:u.f.UNSIGNED_BYTE,transition:!0,accessor:"getColor",update:this.calculateInstanceColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instancePositions64xyLow:{size:2,accessor:"getCentroid",update:this.calculateInstancePositions64xyLow}}):r.remove(["instancePositions64xyLow"])}}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(Ti(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),n.fp64!==r.fp64){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i}),this.updateUniforms()}},{key:"updateRadiusAngle",value:function(){var e=void 0,t=void 0,n=this.props.hexagonVertices;if(Array.isArray(n)&&n.length>=6){var r=this.props.hexagonVertices,i=r[0],o=r[3],a=this.projectFlat(i),s=this.projectFlat(o),u=a[0]-s[0],l=a[1]-s[1],c=Math.sqrt(u*u+l*l);e=Math.acos(u/c)*-Math.sign(l)+Math.PI/2,t=c/2}else if(this.props.radius&&Number.isFinite(this.props.angle)){var p=this.context.viewport.getDistanceScales().pixelsPerMeter;e=this.props.angle,t=this.props.radius*p[0]}return{angle:e,radius:t}}},{key:"getCylinderGeometry",value:function(e){return new u.d({radius:e,topRadius:e,bottomRadius:e,topCap:!0,bottomCap:!0,height:1,nradial:6,nvertical:1})}},{key:"updateUniforms",value:function(){var e=this.props,t=e.opacity,n=e.elevationScale,r=e.extruded,i=e.coverage,o=e.lightSettings;this.state.model.setUniforms(Object.assign({},{extruded:r,opacity:t,coverage:i,elevationScale:n},o))}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:this.getCylinderGeometry(1),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"draw",value:function(e){var n=e.uniforms;Ti(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"draw",this).call(this,{uniforms:Object.assign(this.updateRadiusAngle(),n)})}},{key:"calculateInstancePositions",value:function(e){var t=this.props,n=t.data,r=t.getCentroid,i=t.getElevation,o=e.value,a=e.size,s=0,u=!0,l=!1,c=void 0;try{for(var p,f=n[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value,d=r(h),g=wi(d,2),y=g[0],v=g[1],m=i(h);o[s+0]=y,o[s+1]=v,o[s+2]=m||0,s+=a}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}},{key:"calculateInstancePositions64xyLow",value:function(e){var t=this.props,n=t.data,r=t.getCentroid,i=e.value,o=0,a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=r(l.value);i[o++]=Si(p[0]),i[o++]=Si(p[1])}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"calculateInstanceColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=e.value,o=e.size,a=0,s=!0,u=!1,l=void 0;try{for(var c,p=n[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var f=r(c.value)||Ii;i[a+0]=f[0],i[a+1]=f[1],i[a+2]=f[2],i[a+3]=Number.isFinite(f[3])?f[3]:Ii[3],a+=o}}catch(e){u=!0,l=e}finally{try{!s&&p.return&&p.return()}finally{if(u)throw l}}}}]),t}(),ki=Pi;Pi.layerName="HexagonCellLayer",Pi.defaultProps={hexagonVertices:null,radius:null,angle:null,coverage:1,elevationScale:1,extruded:!0,fp64:!1,getCentroid:function(e){return e.centroid},getColor:function(e){return e.color},getElevation:function(e){return e.elevation},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.4,diffuseRatio:.6,specularRatio:.8,lightsStrength:[1.2,0,.8,0],numberOfLights:2}};var Oi=Math.PI/3,Li=[0,Oi,2*Oi,3*Oi,4*Oi,5*Oi];function Ri(e){return e[0]}function ji(e){return e[1]}var Ni=function(){var e,t,n,r=0,i=0,o=1,a=1,s=Ri,u=ji;function l(e){var r,i={},o=[],a=e.length;for(r=0;r<a;++r)if(!isNaN(c=+s.call(null,l=e[r],r,e))&&!isNaN(p=+u.call(null,l,r,e))){var l,c,p,f=Math.round(p/=n),h=Math.round(c=c/t-(1&f)/2),d=p-f;if(3*Math.abs(d)>1){var g=c-h,y=h+(c<h?-1:1)/2,v=f+(p<f?-1:1),m=c-y,_=p-v;g*g+d*d>m*m+_*_&&(h=y+(1&f?1:-1)/2,f=v)}var A=h+"-"+f,b=i[A];b?b.push(l):(o.push(b=i[A]=[l]),b.x=(h+(1&f)/2)*t,b.y=f*n)}return o}function c(e){var t=0,n=0;return Li.map(function(r){var i=Math.sin(r)*e,o=-Math.cos(r)*e,a=i-t,s=o-n;return t=i,n=o,[a,s]})}return l.hexagon=function(t){return"m"+c(null==t?e:+t).join("l")+"z"},l.centers=function(){for(var s=[],u=Math.round(i/n),l=Math.round(r/t),c=u*n;c<a+e;c+=n,++u)for(var p=l*t+(1&u)*t/2;p<o+t/2;p+=t)s.push([p,c]);return s},l.mesh=function(){var t=c(e).slice(0,4).join("l");return l.centers().map(function(e){return"M"+e+"m"+t}).join("")},l.x=function(e){return arguments.length?(s=e,l):s},l.y=function(e){return arguments.length?(u=e,l):u},l.radius=function(r){return arguments.length?(t=2*(e=+r)*Math.sin(Oi),n=1.5*e,l):e},l.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],l):[o-r,a-i]},l.extent=function(e){return arguments.length?(r=+e[0][0],i=+e[0][1],o=+e[1][0],a=+e[1][1],l):[[r,i],[o,a]]},l.radius(1)};var Bi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Di=cr.log,Fi=cr.BinSorter,zi=cr.getQuantizeScale,Ui=cr.getLinearScale;function Gi(){}var Vi={colorDomain:null,colorRange:cr.defaultColorRange,getColorValue:function(e){return e.length},lowerPercentile:0,upperPercentile:100,onSetColorDomain:Gi,elevationDomain:null,elevationRange:[0,1e3],getElevationValue:function(e){return e.length},elevationLowerPercentile:0,elevationUpperPercentile:100,elevationScale:1,onSetElevationDomain:Gi,radius:1e3,coverage:1,extruded:!1,hexagonAggregator:function(e,t){var n=e.data,r=e.radius,i=e.getPosition,o=function(e,t){var n=t.getDistanceScales().pixelsPerMeter;return e*n[0]}(r,t),a=n.map(function(e){return Object.assign({screenCoord:t.projectFlat(i(e))},e)});return{hexagons:Ni().radius(o).x(function(e){return e.screenCoord[0]}).y(function(e){return e.screenCoord[1]})(a).map(function(e,n){return{centroid:t.unprojectFlat([e.x,e.y]),points:e,index:n}})}},getPosition:function(e){return e.position},fp64:!1,lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}},Yi=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.hexagonAggregator||e.radius||(Di.once(0,"HexagonLayer: Default hexagonAggregator requires radius prop to be set, Now using 1000 meter as default"),e.radius=Vi.radius),Number.isFinite(e.upperPercentile)&&(e.upperPercentile>100||e.upperPercentile<0)&&(Di.once(0,"HexagonLayer: upperPercentile should be between 0 and 100. Assign to 100 by default"),e.upperPercentile=Vi.upperPercentile),Number.isFinite(e.lowerPercentile)&&(e.lowerPercentile>100||e.lowerPercentile<0)&&(Di.once(0,"HexagonLayer: lowerPercentile should be between 0 and 100. Assign to 0 by default"),e.lowerPercentile=Vi.upperPercentile),e.lowerPercentile>=e.upperPercentile&&(Di.once(0,"HexagonLayer: lowerPercentile should not be bigger than upperPercentile. Assign to 0 by default"),e.lowerPercentile=Vi.lowerPercentile),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ze),Bi(t,[{key:"initializeState",value:function(){this.state={hexagons:[],hexagonVertices:null,sortedColorBins:null,sortedElevationBins:null,colorValueDomain:null,elevationValueDomain:null,colorScaleFunc:Gi,elevationScaleFunc:Gi,dimensionUpdaters:this.getDimensionUpdaters()}}},{key:"updateState",value:function(e){var t=this,n=e.oldProps,r=e.props,i=e.changeFlags,o=this.getDimensionChanges(n,r);i.dataChanged||this.needsReProjectPoints(n,r)?this.getHexagons():o&&o.forEach(function(e){return"function"==typeof e&&e.apply(t)})}},{key:"needsReProjectPoints",value:function(e,t){return e.radius!==t.radius||e.hexagonAggregator!==t.hexagonAggregator}},{key:"getDimensionUpdaters",value:function(){return{getColor:[{id:"value",triggers:["getColorValue"],updater:this.getSortedColorBins},{id:"domain",triggers:["lowerPercentile","upperPercentile"],updater:this.getColorValueDomain},{id:"scaleFunc",triggers:["colorDomain","colorRange"],updater:this.getColorScale}],getElevation:[{id:"value",triggers:["getElevationValue"],updater:this.getSortedElevationBins},{id:"domain",triggers:["elevationLowerPercentile","elevationUpperPercentile"],updater:this.getElevationValueDomain},{id:"scaleFunc",triggers:["elevationDomain","elevationRange"],updater:this.getElevationScale}]}}},{key:"getDimensionChanges",value:function(e,t){var n=this.state.dimensionUpdaters,r=[];for(var i in n){var o=n[i].find(function(n){return n.triggers.some(function(n){return e[n]!==t[n]})});o&&r.push(o.updater)}return r.length?r:null}},{key:"getHexagons",value:function(){var e=this.props.hexagonAggregator,t=this.context.viewport,n=e(this.props,t),r=n.hexagons,i=n.hexagonVertices;this.setState({hexagons:r,hexagonVertices:i}),this.getSortedBins()}},{key:"getPickingInfo",value:function(e){var t=e.info,n=this.state,r=n.sortedColorBins,i=n.sortedElevationBins,o=null;if(t.picked&&t.index>-1){var a=this.state.hexagons[t.index],s=r.binMap[a.index]&&r.binMap[a.index].value,u=i.binMap[a.index]&&i.binMap[a.index].value;o=Object.assign({colorValue:s,elevationValue:u},a)}return Object.assign(t,{picked:Boolean(o),object:o})}},{key:"getUpdateTriggers",value:function(){var e=this,t=this.state.dimensionUpdaters,n={},r=function(r){n[r]={};var i=!0,o=!1,a=void 0;try{for(var s,u=t[r][Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.triggers.forEach(function(t){n[r][t]=e.props[t]})}}catch(e){o=!0,a=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}};for(var i in t)r(i);return n}},{key:"getValueDomain",value:function(){this.getColorValueDomain(),this.getElevationValueDomain()}},{key:"getSortedBins",value:function(){this.getSortedColorBins(),this.getSortedElevationBins()}},{key:"getSortedColorBins",value:function(){var e=this.props.getColorValue,t=new Fi(this.state.hexagons||[],e);this.setState({sortedColorBins:t}),this.getColorValueDomain()}},{key:"getSortedElevationBins",value:function(){var e=this.props.getElevationValue,t=new Fi(this.state.hexagons||[],e);this.setState({sortedElevationBins:t}),this.getElevationValueDomain()}},{key:"getColorValueDomain",value:function(){var e=this.props,t=e.lowerPercentile,n=e.upperPercentile,r=e.onSetColorDomain;this.state.colorValueDomain=this.state.sortedColorBins.getValueRange([t,n]),"function"==typeof r&&r(this.state.colorValueDomain),this.getColorScale()}},{key:"getElevationValueDomain",value:function(){var e=this.props,t=e.elevationLowerPercentile,n=e.elevationUpperPercentile,r=e.onSetElevationDomain;this.state.elevationValueDomain=this.state.sortedElevationBins.getValueRange([t,n]),"function"==typeof r&&r(this.state.elevationValueDomain),this.getElevationScale()}},{key:"getColorScale",value:function(){var e=this.props.colorRange,t=this.props.colorDomain||this.state.colorValueDomain;this.state.colorScaleFunc=zi(t,e)}},{key:"getElevationScale",value:function(){var e=this.props.elevationRange,t=this.props.elevationDomain||this.state.elevationValueDomain;this.state.elevationScaleFunc=Ui(t,e)}},{key:"_onGetSublayerColor",value:function(e){var t=this.state,n=t.sortedColorBins,r=t.colorScaleFunc,i=t.colorValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.colorDomain||i,s=o>=a[0]&&o<=a[a.length-1]?r(o):[0,0,0,0];return s[3]=Number.isFinite(s[3])?s[3]:255,s}},{key:"_onGetSublayerElevation",value:function(e){var t=this.state,n=t.sortedElevationBins,r=t.elevationScaleFunc,i=t.elevationValueDomain,o=n.binMap[e.index]&&n.binMap[e.index].value,a=this.props.elevationDomain||i;return o>=a[0]&&o<=a[a.length-1]?r(o):-1}},{key:"getSubLayerProps",value:function(){var e=this.props,n=e.radius,r=e.elevationScale,i=e.extruded,o=e.coverage,a=e.lightSettings,s=e.fp64;return function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getSubLayerProps",this).call(this,{id:"hexagon-cell",data:this.state.hexagons,fp64:s,hexagonVertices:this.state.hexagonVertices,radius:n,elevationScale:r,angle:Math.PI,extruded:i,coverage:o,lightSettings:a,getColor:this._onGetSublayerColor.bind(this),getElevation:this._onGetSublayerElevation.bind(this),updateTriggers:this.getUpdateTriggers()})}},{key:"getSubLayerClass",value:function(){return ki}},{key:"renderLayers",value:function(){return new(this.getSubLayerClass())(this.getSubLayerProps())}}]),t}(),Hi=Yi;Yi.layerName="HexagonLayer",Yi.defaultProps=Vi;var Wi="#define SHADER_NAME path-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform float jointType;\nuniform float miterLimit;\nuniform float alignMode;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\n// mod doesn't work correctly for negative numbers\nfloat mod2(float a, float b) {\n  return a - floor(a / b) * b;\n}\n\nfloat round(float x) {\n  return floor(x + 0.5);\n}\n\n// if given position is in the gap part of the dashed line\n// dashArray.x: solid stroke length, relative to width\n// dashArray.y: gap length, relative to width\n// alignMode:\n// 0 - no adjustment\n// o----     ----     ----     ---- o----     -o----     ----     o\n// 1 - stretch to fit, draw half dash at each end for nicer joints\n// o--    ----    ----    ----    --o--      --o--     ----     --o\nbool dash_isFragInGap() {\n  float solidLength = vDashArray.x;\n  float gapLength = vDashArray.y;\n\n  float unitLength = solidLength + gapLength;\n\n  if (unitLength == 0.0) {\n    return false;\n  }\n\n  unitLength = mix(\n    unitLength,\n    vPathLength / round(vPathLength / unitLength),\n    alignMode\n  );\n\n  float offset = alignMode * solidLength / 2.0;\n\n  return gapLength > 0.0 &&\n    vPathPosition >= 0.0 &&\n    vPathPosition <= vPathLength &&\n    mod2(vPathPosition + offset, unitLength) > solidLength;\n}\n\nvoid main(void) {\n  // if joint is rounded, test distance from the corner\n  if (jointType > 0.0 && vMiterLength > 0.0 && length(vCornerOffset) > 1.0) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 0., 1.);\n    // return;\n    discard;\n  }\n  if (jointType == 0.0 && vMiterLength > miterLimit) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 0., 1., 1.);\n    // return;\n    discard;\n  }\n  if (vColor.a == 0.0 || dash_isFragInGap()) {\n    // Enable to debug joints\n    // gl_FragColor = vec4(0., 1., 1., 1.);\n    // return;\n    discard;\n  }\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",Qi=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Xi=cr.fp64LowPart,Zi=cr.enable64bitSupport,Ji=[0,0,0,255],Ki={widthScale:1,widthMinPixels:0,widthMaxPixels:Number.MAX_SAFE_INTEGER,rounded:!1,miterLimit:4,fp64:!1,dashJustified:!1,getPath:function(e){return e.path},getColor:function(e){return e.color||Ji},getWidth:function(e){return e.width||1},getDashArray:null},qi=function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]},$i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),Qi(t,[{key:"getShaders",value:function(){return Zi(this.props)?{vs:"\n#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec4 instanceStartEndPositions64xyLow;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst float PIXEL_EPSILON = 0.1;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\nvec3 lineJoin(vec2 prevPoint64[2], vec2 currPoint64[2], vec2 nextPoint64[2]) {\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  vec2 deltaA64[2];\n  vec2 deltaB64[2];\n\n  vec2_sub_fp64(currPoint64, prevPoint64, deltaA64);\n  vec2_sub_fp64(nextPoint64, currPoint64, deltaB64);\n\n  vec2 lengthA64 = vec2_length_fp64(deltaA64);\n  vec2 lengthB64 = vec2_length_fp64(deltaB64);\n\n  vec2 deltaA = vec2(deltaA64[0].x, deltaA64[1].x);\n  vec2 deltaB = vec2(deltaB64[0].x, deltaB64[1].x);\n\n  float lenA = lengthA64.x;\n  float lenB = lengthB64.x;\n\n  vec2 offsetVec;\n  float offsetScale;\n  float offsetDirection;\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA > PIXEL_EPSILON ? lenA : 0.0;\n  lenB = lenB > PIXEL_EPSILON ? lenB : 0.0;\n  vec2 dirA = lenA > 0. ? deltaA / lenA : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? deltaB / lenB : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = mix(perpB, perpA, positions.x);\n  float L = mix(lenB, lenA, positions.x);\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = mix(\n    flipIfTrue(turnsRight == (positions.y > 0.0)),\n    0.0,\n    positions.z\n  );\n\n  offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  // do not bevel if line segment is too short\n  cornerPosition *= float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n  // trim if inside corner extends further than the line segment\n  offsetScale = mix(\n    offsetScale,\n    min(offsetScale, L / width / max(cosHalfA, EPSILON)),\n    float(cornerPosition < 0.0)\n  );\n\n  vMiterLength = mix(\n    offsetScale * cornerPosition,\n    mix(offsetScale, 0.0, cornerPosition),\n    step(0.0, cornerPosition)\n  ) - sinHalfA * jointType;\n  offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n  offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // using a small number as the limit for determining if the lenA or lenB is 0\n  float isStartCap = step(lenA, 1.0e-5);\n  float isEndCap = step(lenB, 1.0e-5);\n  float isCap = max(isStartCap, isEndCap);\n\n  // 0: center, 1: side\n  cornerPosition = isCap * (1.0 - positions.z);\n\n  // start of path: use next - curr\n  offsetVec = mix(offsetVec, mix(dirB, perpB, cornerPosition), isStartCap);\n  // end of path: use curr - prev\n  offsetVec = mix(offsetVec, mix(dirA, perpA, cornerPosition), isEndCap);\n\n  // extend out a triangle to envelope the round cap\n  offsetScale = mix(\n    offsetScale,\n    mix(4.0 * jointType, 1.0, cornerPosition),\n    isCap\n  );\n  vMiterLength = mix(vMiterLength, 1.0 - cornerPosition, isCap);\n\n  offsetDirection = mix(\n    offsetDirection,\n    mix(flipIfTrue(isStartCap > 0.), positions.y, cornerPosition),\n    isCap\n  );\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  float isEnd = positions.x;\n  vec2 offsetFromStartOfPath = mix(vCornerOffset, vCornerOffset + deltaA / width, isEnd);\n  vec2 dir = mix(dirB, dirA, isEnd);\n  vPathPosition = dot(offsetFromStartOfPath, dir);\n\n  return vec3(vCornerOffset * width, 0.0);\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  // Calculate current position\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  currPosition = project_position(currPosition);\n\n  // Calculate current position 64bit\n\n  vec2 instanceStartPositions64[2];\n  instanceStartPositions64[0] = vec2(instanceStartPositions.x, instanceStartEndPositions64xyLow.x);\n  instanceStartPositions64[1] = vec2(instanceStartPositions.y, instanceStartEndPositions64xyLow.y);\n\n  vec2 instanceEndPositions64[2];\n  instanceEndPositions64[0] = vec2(instanceEndPositions.x, instanceStartEndPositions64xyLow.z);\n  instanceEndPositions64[1] = vec2(instanceEndPositions.y, instanceStartEndPositions64xyLow.w);\n\n  vec2 tempCurrPosition64[2];\n  vec2_mix_fp64(instanceStartPositions64, instanceEndPositions64, isEnd, tempCurrPosition64);\n\n  vec4 currPosition64 = vec4(tempCurrPosition64[0].xy, tempCurrPosition64[1].xy);\n\n  vec2 projected_curr_position[2];\n  project_position_fp64(currPosition64, projected_curr_position);\n  float projected_curr_position_z = project_scale(currPosition.z);\n\n  // Calculate previous position\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd);\n\n  // Calculate prev position 64bit\n\n  vec2 tempPrevPosition64[2];\n  tempPrevPosition64[0] = sum_fp64(vec2(prevPosition.x, 0.0), instanceStartPositions64[0]);\n  tempPrevPosition64[1] = sum_fp64(vec2(prevPosition.y, 0.0), instanceStartPositions64[1]);\n\n  vec4 prevPosition64 = vec4(tempPrevPosition64[0].xy, tempPrevPosition64[1].xy);\n\n  vec2 projected_prev_position[2];\n  project_position_fp64(prevPosition64, projected_prev_position);\n\n  // Calculate next positions\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd);\n\n  // Calculate next position 64bit\n\n  vec2 tempNextPosition64[2];\n  tempNextPosition64[0] = sum_fp64(vec2(nextPosition.x, 0.0), instanceEndPositions64[0]);\n  tempNextPosition64[1] = sum_fp64(vec2(nextPosition.y, 0.0), instanceEndPositions64[1]);\n\n  vec4 nextPosition64 = vec4(tempNextPosition64[0].xy, tempNextPosition64[1].xy);\n\n  vec2 projected_next_position[2];\n  project_position_fp64(nextPosition64, projected_next_position);\n\n  vec3 pos = lineJoin(projected_prev_position, projected_curr_position, projected_next_position);\n  vec2 vertex_pos_modelspace[4];\n\n  vertex_pos_modelspace[0] = sum_fp64(vec2(pos.x, 0.0), projected_curr_position[0]);\n  vertex_pos_modelspace[1] = sum_fp64(vec2(pos.y, 0.0), projected_curr_position[1]);\n  vertex_pos_modelspace[2] = vec2(pos.z + projected_curr_position_z, 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n}\n",fs:Wi,modules:["project64","picking"]}:{vs:"#define SHADER_NAME path-layer-vertex-shader-64\n\nattribute vec3 positions;\n\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftDeltas;\nattribute vec3 instanceRightDeltas;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec2 instanceDashArrays;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float miterLimit;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vDashArray;\nvarying float vPathPosition;\nvarying float vPathLength;\n\nconst float EPSILON = 0.001;\nconst float PIXEL_EPSILON = 0.1;\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  float relativePosition, bool isEnd, bool isJoint,\n  float width\n) {\n  vec2 deltaA = currPoint.xy - prevPoint.xy;\n  vec2 deltaB = nextPoint.xy - currPoint.xy;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  // when two points are closer than PIXEL_EPSILON in pixels,\n  // assume they are the same point to avoid precision issue\n  lenA = lenA > PIXEL_EPSILON ? lenA : 0.0;\n  lenB = lenB > PIXEL_EPSILON ? lenB : 0.0;\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = vec2(dirA + dirB);\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // width offset from current position\n  vec2 perp = isEnd ? perpA : perpB;\n  float L = isEnd ? lenA : lenB;\n\n  // cap super sharp angles\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  bool turnsRight = dirA.x * dirB.y > dirA.y * dirB.x;\n\n  float offsetScale = 1.0 / max(sinHalfA, EPSILON);\n\n  float cornerPosition = isJoint ?\n    0.0 :\n    flipIfTrue(turnsRight == (relativePosition > 0.0));\n\n  // do not bevel if line segment is too short\n  cornerPosition *=\n    float(cornerPosition <= 0.0 || sinHalfA < min(lenA, lenB) / width * cosHalfA);\n\n  // trim if inside corner extends further than the line segment\n  if (cornerPosition < 0.0) {\n    offsetScale = min(offsetScale, L / width / max(cosHalfA, EPSILON));\n  }\n\n  vMiterLength = cornerPosition >= 0.0 ?\n    mix(offsetScale, 0.0, cornerPosition) :\n    offsetScale * cornerPosition;\n  vMiterLength -= sinHalfA * jointType;\n\n  float offsetDirection = mix(\n    positions.y,\n    mix(\n      flipIfTrue(turnsRight),\n      positions.y * flipIfTrue(turnsRight == (positions.x == 1.)),\n      cornerPosition\n    ),\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec, -tangent, step(0.5, cornerPosition));\n  offsetScale = mix(offsetScale, 1.0 / max(cosHalfA, 0.001), step(0.5, cornerPosition));\n\n  // special treatment for start cap and end cap\n  // TODO - This has an issue. len is always positive because it is length.\n  // Step returns zero if -lenA<0, so practically this is a comparison of\n  // lenA with zero, with lots of problems because of the -lenA. Can we use EPSILON?\n  bool isStartCap = step(0.0, -lenA) > 0.5;\n  bool isEndCap = step(0.0, -lenB) > 0.5;\n  bool isCap = isStartCap || isEndCap;\n\n  // 0: center, 1: side\n  cornerPosition = isCap ? (1.0 - positions.z) : 0.;\n\n  // start of path: use next - curr\n  if (isStartCap) {\n    offsetVec = mix(dirB, perpB, cornerPosition);\n  }\n\n  // end of path: use curr - prev\n  if (isEndCap) {\n    offsetVec = mix(dirA, perpA, cornerPosition);\n  }\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetScale = mix(4.0 * jointType, 1.0, cornerPosition);\n    vMiterLength = 1.0 - cornerPosition;\n    offsetDirection = mix(flipIfTrue(isStartCap), positions.y, cornerPosition);\n  }\n\n  vCornerOffset = offsetVec * offsetDirection * offsetScale;\n\n  // Generate variables for dash calculation\n  vDashArray = instanceDashArrays;\n  vPathLength = L / width;\n  // vec2 offsetFromStartOfPath = isEnd ? vCornerOffset + deltaA / width : vCornerOffset;\n  vec2 offsetFromStartOfPath = vCornerOffset;\n  if (isEnd) {\n    offsetFromStartOfPath += deltaA / width;\n  }\n  vec2 dir = isEnd ? dirA : dirB;\n  vPathPosition = dot(offsetFromStartOfPath, dir);\n\n  return currPoint + vec3(vCornerOffset * width, 0.0);\n}\n\n// calculate line join positions\n// extract params from attributes and uniforms\nvec3 lineJoin(vec3 prevPoint, vec3 currPoint, vec3 nextPoint) {\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n\n  float relativePosition = positions.y;\n  bool isEnd = positions.x > EPSILON;\n  bool isJoint = positions.z > EPSILON;\n\n  float width = clamp(project_scale(instanceStrokeWidths * widthScale),\n    widthMinPixels, widthMaxPixels) / 2.0;\n\n  return lineJoin(\n    prevPoint, currPoint, nextPoint,\n    relativePosition, isEnd, isJoint,\n    width\n  );\n}\n\nvoid main() {\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity) / 255.;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(instancePickingColors);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(-instanceLeftDeltas, vec3(0.0), isEnd) + instanceStartPositions;\n  prevPosition = project_position(prevPosition);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  currPosition = project_position(currPosition);\n\n  vec3 nextPosition = mix(vec3(0.0), instanceRightDeltas, isEnd) + instanceEndPositions;\n  nextPosition = project_position(nextPosition);\n\n  vec3 pos = lineJoin(prevPosition, currPosition, nextPosition);\n\n  gl_Position = project_to_clipspace(vec4(pos, 1.0));\n}\n",fs:Wi,modules:["picking"]}}},{key:"initializeState",value:function(){this.getAttributeManager().addInstanced({instanceStartPositions:{size:3,update:this.calculateStartPositions},instanceEndPositions:{size:3,update:this.calculateEndPositions},instanceLeftDeltas:{size:3,update:this.calculateLeftDeltas},instanceRightDeltas:{size:3,update:this.calculateRightDeltas},instanceStrokeWidths:{size:1,accessor:"getWidth",update:this.calculateStrokeWidths},instanceDashArrays:{size:2,accessor:"getDashArray",update:this.calculateDashArrays},instanceColors:{size:4,type:u.f.UNSIGNED_BYTE,accessor:"getColor",update:this.calculateColors},instancePickingColors:{size:3,type:u.f.UNSIGNED_BYTE,update:this.calculatePickingColors}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.addInstanced({instanceStartEndPositions64xyLow:{size:4,update:this.calculateInstanceStartEndPositions64xyLow}}):r.remove(["instanceStartEndPositions64xyLow"])}}},{key:"updateState",value:function(e){var n=e.oldProps,r=e.props,i=e.changeFlags;(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:r,oldProps:n,changeFlags:i});var o=this.props.getPath,a=this.getAttributeManager();if(r.fp64!==n.fp64){var s=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(s)})}if(this.updateAttribute({props:r,oldProps:n,changeFlags:i}),i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPath)){var u=r.data.map(o),l=u.reduce(function(e,t){return e+t.length-1},0);this.setState({paths:u,numInstances:l}),a.invalidateAll()}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.rounded,i=n.miterLimit,o=n.widthScale,a=n.widthMinPixels,s=n.widthMaxPixels,u=n.dashJustified;this.state.model.render(Object.assign({},t,{jointType:Number(r),alignMode:Number(u),widthScale:o,miterLimit:i,widthMinPixels:a,widthMaxPixels:s}))}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:u.f.TRIANGLES,attributes:{indices:new Uint16Array([0,2,1,1,2,4,1,4,3,3,4,5]),positions:new Float32Array([0,0,1,0,-1,0,0,1,0,1,-1,0,1,1,0,1,0,1])}}),isInstanced:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateStartPositions",value:function(e){var t=this.state.paths,n=e.value,r=0;t.forEach(function(e){for(var t=e.length-1,i=0;i<t;i++){var o=e[i];n[r++]=o[0],n[r++]=o[1],n[r++]=o[2]||0}})}},{key:"calculateEndPositions",value:function(e){var t=this.state.paths,n=e.value,r=0;t.forEach(function(e){for(var t=1;t<e.length;t++){var i=e[t];n[r++]=i[0],n[r++]=i[1],n[r++]=i[2]||0}})}},{key:"calculateInstanceStartEndPositions64xyLow",value:function(e){var t=this.state.paths,n=e.value,r=0;t.forEach(function(e){for(var t=e.length-1,i=0;i<t;i++){var o=e[i],a=e[i+1];n[r++]=Xi(o[0]),n[r++]=Xi(o[1]),n[r++]=Xi(a[0]),n[r++]=Xi(a[1])}})}},{key:"calculateLeftDeltas",value:function(e){var t=this.state.paths,n=e.value,r=0;t.forEach(function(e){for(var t=e.length-1,i=qi(e)?e[e.length-2]:e[0],o=0;o<t;o++){var a=e[o];n[r++]=a[0]-i[0],n[r++]=a[1]-i[1],n[r++]=a[2]-i[2]||0,i=a}})}},{key:"calculateRightDeltas",value:function(e){var t=this.state.paths,n=e.value,r=0;t.forEach(function(e){for(var t=1;t<e.length;t++){var i=e[t],o=e[t+1];o||(o=qi(e)?e[1]:i),n[r++]=o[0]-i[0],n[r++]=o[1]-i[1],n[r++]=o[2]-i[2]||0}})}},{key:"calculateStrokeWidths",value:function(e){var t=this.props,n=t.data,r=t.getWidth,i=this.state.paths,o=e.value,a=0;i.forEach(function(e,t){for(var i=r(n[t],t),s=1;s<e.length;s++)o[a++]=i})}},{key:"calculateDashArrays",value:function(e){var t=this.props,n=t.data,r=t.getDashArray;if(r){var i=this.state.paths,o=e.value,a=0;i.forEach(function(e,t){for(var i=r(n[t],t),s=1;s<e.length;s++)o[a++]=i[0],o[a++]=i[1]})}}},{key:"calculateColors",value:function(e){var t=this.props,n=t.data,r=t.getColor,i=this.state.paths,o=e.value,a=0;i.forEach(function(e,t){var i=r(n[t],t);isNaN(i[3])&&(i[3]=255);for(var s=1;s<e.length;s++)o[a++]=i[0],o[a++]=i[1],o[a++]=i[2],o[a++]=i[3]})}},{key:"calculatePickingColors",value:function(e){var t=this,n=this.state.paths,r=e.value,i=0;n.forEach(function(e,n){for(var o=t.encodePickingColor(n),a=1;a<e.length;a++)r[i++]=o[0],r[i++]=o[1],r[i++]=o[2]})}}]),t}(),eo=$i;function to(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}function no(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dimensions;return to(e)?[e]:e}function ro(e){return to(e)?e.length:e.reduce(function(e,t){return e+t.length},0)}function io(e,t){if(to(e))e.forEach(t);else{var n=0;e.forEach(function(r){r.forEach(function(r,i,o){return t(r,n,e)}),n++})}}$i.layerName="PathLayer",$i.defaultProps=Ki;var oo=n(137),ao=n.n(oo),so=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var uo=cr.fp64LowPart,lo=cr.flattenVertices,co=cr.fillArray;var po=[0,0,0,255],fo=function(){function e(t){var n=t.polygons,r=t.fp64,i=void 0!==r&&r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.polygons=n.map(function(e){return no(e)}),this.pointCount=function(e){return e.reduce(function(e,t){return e+ro(t)},0)}(this.polygons),this.fp64=i}return so(e,[{key:"indices",value:function(){return function(e){var t=e.polygons,n=e.IndexType,r=void 0===n?Uint32Array:n,i=3*function(e){return e.reduce(function(e,t){return e+function(e){var t=0,n=!0,r=!0,i=!1,o=void 0;try{for(var a,s=no(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value.length;t+=n?u>=3?u-2:0:u+1,n=!1}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t}(t)},0)}(t),o=function(e){var t=new Array(e.length+1);t[0]=0;var n=0;return e.forEach(function(e,r){n+=ro(e),t[r+1]=n}),t}(t);if(r===Uint16Array&&i>65535)throw new Error("Vertex count exceeds browser's limit");var a=new r(i),s=0;return t.forEach(function(e,t){var n,r,i,u=!0,l=!1,c=void 0;try{for(var p,f=(n=e,r=void 0,i=void 0,r=function(e){var t=null;if(e.length>1){var n=0;t=[],e.forEach(function(e){n+=e.length,t.push(n)}),t.pop()}return t}(n),i=lo(n),ao()(i,r,3))[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value;a[s++]=h+o[t]}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}}),a}({polygons:this.polygons,indexCount:this.indexCount})}},{key:"positions",value:function(){return function(e){var t=e.polygons,n=e.pointCount,r=e.fp64,i=new Float32Array(3*n),o=void 0;r&&(o=new Float32Array(2*n));var a=0,s=0,u=!0,l=!1,c=void 0;try{for(var p,f=t[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var h=p.value;io(h,function(e){var t=e[0],n=e[1],u=e[2]||0;i[a++]=t,i[a++]=n,i[a++]=u,r&&(o[s++]=uo(t),o[s++]=uo(n))})}}catch(e){l=!0,c=e}finally{try{!u&&f.return&&f.return()}finally{if(l)throw c}}return{positions:i,positions64xyLow:o}}({polygons:this.polygons,pointCount:this.pointCount,fp64:this.fp64})}},{key:"normals",value:function(){return function(e){e.polygons;var t=e.pointCount;return new Float32Array(3*t)}({polygons:this.polygons,pointCount:this.pointCount})}},{key:"colors",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getColor,t=void 0===e?function(e){return po}:e;return function(e){var t=e.polygons,n=e.pointCount,r=e.getColor,i=new Uint8ClampedArray(4*n),o=0;return t.forEach(function(e,t){var n=r(t);n[3]=Number.isFinite(n[3])?n[3]:255;var a=ro(e);co({target:i,source:n,start:o,count:a}),o+=n.length*a}),i}({polygons:this.polygons,pointCount:this.pointCount,getColor:t})}},{key:"pickingColors",value:function(){return function(e){var t=e.polygons,n=e.pointCount,r=new Uint8ClampedArray(3*n),i=0;return t.forEach(function(e,t){var n,o=[((n=t)+1)%256,Math.floor((n+1)/256)%256,Math.floor((n+1)/256/256)%256],a=ro(e);co({target:r,source:o,start:i,count:a}),i+=o.length*a}),r}({polygons:this.polygons,pointCount:this.pointCount})}}]),e}();var ho=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var go=cr.fp64LowPart,yo=cr.fillArray;function vo(e,t){for(var n=t.length,r=e.length,i=0;i<n;i++)e[r++]=t[i];return e}function mo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t>1?e.forEach(function(e){return mo(e,t-1,n)}):vo(n,e),n}var _o=[0,0,0,255],Ao=function(){function e(t){var n=t.polygons,r=t.getHeight,i=void 0===r?function(e){return 1e3}:r,o=(t.getColor,t.wireframe),a=void 0!==o&&o,s=t.fp64,u=void 0!==s&&s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fp64=u;var l=n=n.map(function(e,t){var n=i(t)||0;return no(e).map(function(e){return e.map(function(e){return[e[0],e[1],n]})})});this.groupedVertices=n;var c=function(e){return e.reduce(function(e,t){return e+ro(t)},0)}(n);this.pointCount=c,this.wireframe=a,this.attributes={};var p=function(e){var t=e.groupedVertices,n=e.pointCount,r=e.wireframe,i=void 0!==r&&r,o=i?2:5,a=new Float32Array(3*n*o),s=0;return t.forEach(function(e){for(var t=mo(e,3),n=t.slice(0),r=t.length-1;r>0;)n[r]=0,r-=3;var u=t.length;i?(yo({target:a,source:t,start:s}),yo({target:a,source:n,start:s+u})):(yo({target:a,source:t,start:s,count:3}),yo({target:a,source:n,start:s+3*u,count:2})),s+=u*o}),a}({groupedVertices:l,pointCount:c,wireframe:a});Object.assign(this.attributes,{positions:function(e,t){var n=void 0;if(t){var r=e.length/3;n=new Float32Array(2*r);for(var i=0;i<r;i++)n[2*i+0]=go(e[3*i+0]),n[2*i+1]=go(e[3*i+1])}return{positions:e,positions64xyLow:n}}(p,this.fp64),indices:function(e){var t=e.groupedVertices,n=e.wireframe,r=void 0!==n&&n,i=r?2:5,o=[];t.reduce(function(e,t){return o.push(e),e+ro(t)*i},0);var a=t.map(function(e,t){return r?function(e,t){var n=ro(e),r=[];return e.forEach(function(e){r.push(t);for(var i=e.length,o=1;o<i-1;o++)r.push(o+t,o+t);r.push(t);for(var a=0;a<i-1;a++)r.push(a+t,a+n+t);t+=i}),r}(e,o[t]):function(e,t){var n=ro(e),r=null,i=e.length-1;if(i){r=[];for(var o=0,a=0;a<i;a++)o+=e[a].length,r[a]=o}var s=ao()(mo(e,3),r,3).map(function(e){return e+t});return e.forEach(function(e){for(var r=e.length,i=0;i<r-1;i++)bo(s,t+i,n);t+=r}),s}(e,o[t])});return new Uint32Array(mo(a,2))}({groupedVertices:l,wireframe:a}),normals:function(e){var t=e.groupedVertices,n=e.pointCount,r=e.wireframe,i=[0,0,1],o=r?2:5,a=new Float32Array(3*n*o),s=0;if(r)return yo({target:a,source:i,count:n*o});return t.map(function(e,t){var n=ro(e);yo({target:a,source:i,start:s,count:n}),s+=3*n;var r=[],o=[];e.forEach(function(e){var t=function(e){var t,n,r=[],i=null,o=!0,a=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;if(i){var p=(n=c,[(t=i)[1]-n[1],n[0]-t[0],0]);vo(r,p)}i=c}}catch(e){a=!0,s=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}return r}(e),n=t.slice(0,3);vo(r,t),vo(r,n),vo(o,n),vo(o,t)}),yo({target:a,start:s,count:2,source:r.concat(o)}),s+=3*n*4}),a}({groupedVertices:l,pointCount:c,wireframe:a}),pickingColors:function(e){var t=e.groupedVertices,n=e.pointCount,r=e.wireframe,i=void 0!==r&&r?2:5,o=new Uint8ClampedArray(3*n*i),a=0;return t.forEach(function(e,t){var n,r=ro(e),s=[(n=t)+1&255,n+1>>8&255,n+1>>8>>8&255];yo({target:o,source:s,start:a,count:r*i}),a+=s.length*r*i}),o}({groupedVertices:l,pointCount:c,wireframe:a})})}return ho(e,[{key:"indices",value:function(){return this.attributes.indices}},{key:"positions",value:function(){return this.attributes.positions}},{key:"normals",value:function(){return this.attributes.normals}},{key:"colors",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getColor,t=void 0===e?function(e){return _o}:e;return function(e){var t=e.groupedVertices,n=e.pointCount,r=e.getColor,i=e.wireframe,o=void 0!==i&&i?2:5,a=new Uint8ClampedArray(4*n*o),s=0;return t.forEach(function(e,t){var n=r(t);n[3]=Number.isFinite(n[3])?n[3]:255;var i=ro(e);yo({target:a,source:n,start:s,count:i*o}),s+=n.length*i*o}),a}({groupedVertices:this.groupedVertices,pointCount:this.pointCount,wireframe:this.wireframe,getColor:t})}},{key:"pickingColors",value:function(){return this.attributes.pickingColors}}]),e}();function bo(e,t,n){e.push(t+n,t+3*n,t+2*n+1,t+2*n+1,t+3*n,t+4*n+1)}var xo="#define SHADER_NAME solid-polygon-layer-fragment-shader\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  // use highlight color if this fragment belongs to the selected object.\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n\n  // use picking color if rendering to picking FBO.\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n}\n",wo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Eo=cr.enable64bitSupport,To=cr.get,Mo={extruded:!1,wireframe:!1,fp64:!1,elevationScale:1,getPolygon:function(e){return To(e,"polygon")||To(e,"geometry.coordinates")},getElevation:function(e){return To(e,"elevation")||To(e,"properties.height")||0},getColor:function(e){return To(e,"color")||To(e,"properties.color")},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}},So=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),wo(t,[{key:"getShaders",value:function(){return Eo(this.props)?{vs:"#define SHADER_NAME solid-polygon-layer-vertex-shader-64\n\nattribute vec3 positions;\nattribute vec2 positions64xyLow;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec3 pickingColors;\n\nuniform float extruded;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positions64xy = vec4(positions.x, positions64xyLow.x, positions.y, positions64xyLow.y);\n\n  vec2 projected_coord_xy[2];\n  project_position_fp64(positions64xy, projected_coord_xy);\n\n  vec2 vertex_pos_modelspace[4];\n  vertex_pos_modelspace[0] = projected_coord_xy[0];\n  vertex_pos_modelspace[1] = projected_coord_xy[1];\n  vertex_pos_modelspace[2] = vec2(project_scale(positions.z * elevationScale), 0.0);\n  vertex_pos_modelspace[3] = vec2(1.0, 0.0);\n\n  gl_Position = project_to_clipspace_fp64(vertex_pos_modelspace);\n\n  vec4 position_worldspace = vec4(\n    vertex_pos_modelspace[0].x, vertex_pos_modelspace[1].x,\n    vertex_pos_modelspace[2].x, vertex_pos_modelspace[3].x);\n\n  float lightWeight = 1.0;\n\n  if (extruded > 0.5) {\n    lightWeight = getLightWeight(\n      position_worldspace.xyz, // the w component is always 1.0\n      project_normal(normals)\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * colors.rgb;\n  vColor = vec4(lightWeightedColor, colors.a * opacity) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(pickingColors);\n}\n",fs:xo,modules:["project64","lighting","picking"]}:{vs:"#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 normals;\nattribute vec4 colors;\nattribute vec3 pickingColors;\n\nuniform float extruded;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  \n  vec4 position_worldspace = vec4(project_position(\n    vec3(positions.x, positions.y, positions.z * elevationScale)),\n    1.0\n  );\n  gl_Position = project_to_clipspace(position_worldspace);\n\n  float lightWeight = 1.0;\n  \n  if (extruded > 0.5) {\n    // Here, the input parameters should be\n    // position_worldspace.xyz / position_worldspace.w.\n    // However, this calculation generates all zeros on\n    // MacBook Pro with Intel Iris Pro GPUs for unclear reasons.\n    // (see https://github.com/uber/deck.gl/issues/559)\n    // Since the w component is always 1.0 in our shaders,\n    // we decided to just provide xyz component of position_worldspace\n    // to the getLightWeight() function\n    lightWeight = getLightWeight(\n      position_worldspace.xyz,\n      project_normal(normals)\n    );\n  }\n\n  vec3 lightWeightedColor = lightWeight * colors.rgb;\n  vColor = vec4(lightWeightedColor, colors.a * opacity) / 255.0;\n\n  // Set color to be rendered to picking fbo (also used to check for selection highlight).\n  picking_setPickingColor(pickingColors);\n}\n",fs:xo,modules:["lighting","picking"]}}},{key:"initializeState",value:function(){var e=this.context.gl;this.setState({numInstances:0,IndexType:e.getExtension("OES_element_index_uint")?Uint32Array:Uint16Array});this.getAttributeManager().add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:!0},positions:{size:3,accessor:"getElevation",update:this.calculatePositions,noAlloc:!0},normals:{size:3,update:this.calculateNormals,noAlloc:!0},colors:{size:4,type:u.f.UNSIGNED_BYTE,accessor:"getColor",update:this.calculateColors,noAlloc:!0},pickingColors:{size:3,type:u.f.UNSIGNED_BYTE,update:this.calculatePickingColors,noAlloc:!0}})}},{key:"updateAttribute",value:function(e){var t=e.props,n=e.oldProps;e.changeFlags;if(t.fp64!==n.fp64){var r=this.getAttributeManager();r.invalidateAll(),t.fp64&&t.coordinateSystem===o.a.LNGLAT?r.add({positions64xyLow:{size:2,update:this.calculatePositionsLow}}):r.remove(["positions64xyLow"])}}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,r=n.extruded,i=n.lightSettings,o=n.elevationScale;this.state.model.render(Object.assign({},t,{extruded:r?1:0,elevationScale:o},i))}},{key:"updateState",value:function(e){var n=e.props,r=e.oldProps,i=e.changeFlags;if(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateState",this).call(this,{props:n,oldProps:r,changeFlags:i}),this.updateGeometry({props:n,oldProps:r,changeFlags:i})){var o=this.context.gl;this.state.model&&this.state.model.delete(),this.setState({model:this._getModel(o)})}this.updateAttribute({props:n,oldProps:r,changeFlags:i})}},{key:"updateGeometry",value:function(e){var t=this,n=e.props,r=e.oldProps,i=e.changeFlags,o=n.extruded!==r.extruded||n.wireframe!==r.wireframe||n.fp64!==r.fp64||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getPolygon),a=i.updateTriggersChanged&&V({oldProps:r.updateTriggers.getElevation||{},newProps:n.updateTriggers.getElevation||{},triggerName:"getElevation"});if(i.dataChanged||o||a){var s=n.getPolygon,u=n.extruded,l=n.wireframe,c=n.getElevation,p=n.data.map(s);this.setState({polygonTesselator:u?new Ao({polygons:p,wireframe:l,getHeight:function(e){return c(t.props.data[e])},fp64:this.props.fp64}):new fo({polygons:p,fp64:this.props.fp64})}),this.state.attributeManager.invalidateAll()}return o}},{key:"_getModel",value:function(e){return new u.h(e,Object.assign({},this.getShaders(),{id:this.props.id,geometry:new u.g({drawMode:this.props.wireframe?u.f.LINES:u.f.TRIANGLES,attributes:{}}),vertexCount:0,isIndexed:!0,shaderCache:this.context.shaderCache}))}},{key:"calculateIndices",value:function(e){e.value=this.state.polygonTesselator.indices(),e.target=u.f.ELEMENT_ARRAY_BUFFER,this.state.model.setVertexCount(e.value.length/e.size)}},{key:"calculatePositions",value:function(e){e.value=this.state.polygonTesselator.positions().positions}},{key:"calculatePositionsLow",value:function(e){e.value=this.state.polygonTesselator.positions().positions64xyLow}},{key:"calculateNormals",value:function(e){e.value=this.state.polygonTesselator.normals()}},{key:"calculateColors",value:function(e){var t=this;e.value=this.state.polygonTesselator.colors({getColor:function(e){return t.props.getColor(t.props.data[e])}})}},{key:"calculatePickingColors",value:function(e){e.value=this.state.polygonTesselator.pickingColors()}}]),t}(),Co=So;So.layerName="SolidPolygonLayer",So.defaultProps=Mo;var Io=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Po=cr.get,ko=[0,0,0,255],Oo=[0,0,0,255],Lo={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,lineDashJustified:!1,fp64:!1,getPolygon:function(e){return Po(e,"polygon")},getFillColor:function(e){return Po(e,"fillColor")||Oo},getLineColor:function(e){return Po(e,"lineColor")||ko},getLineWidth:function(e){return Po(e,"lineWidth")||1},getLineDashArray:null,getElevation:function(e){return Po(e,"elevation")||1e3},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}},Ro=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ze),Io(t,[{key:"initializeState",value:function(){this.state={paths:[]}}},{key:"updateState",value:function(e){var t=this,n=(e.oldProps,e.props,e.changeFlags);if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){var r=this.props,i=r.data,o=r.getPolygon;this.state.paths=[],i.forEach(function(e){no(o(e)).forEach(function(n){return t.state.paths.push({path:n,object:e})})})}}},{key:"getPickingInfo",value:function(e){var t=e.info;return Object.assign(t,{object:t.object&&t.object.object||t.object})}},{key:"renderLayers",value:function(){var e=this.props,t=e.data,n=e.stroked,r=e.filled,i=e.extruded,o=e.wireframe,a=e.elevationScale,s=this.props,u=s.lineWidthScale,l=s.lineWidthMinPixels,c=s.lineWidthMaxPixels,p=s.lineJointRounded,f=s.lineMiterLimit,h=s.lineDashJustified,d=s.fp64,g=this.props,y=g.getFillColor,v=g.getLineColor,m=g.getLineWidth,_=g.getLineDashArray,A=g.getElevation,b=g.getPolygon,x=g.updateTriggers,w=g.lightSettings,E=this.state.paths,T=t&&t.length>0,M=r&&T&&new Co(this.getSubLayerProps({id:"fill",updateTriggers:{getElevation:x.getElevation,getColor:x.getFillColor}}),{data:t,extruded:i,elevationScale:a,fp64:d,wireframe:!1,getPolygon:b,getElevation:A,getColor:y,lightSettings:w}),S=i&&o&&T&&new Co(this.getSubLayerProps({id:"wireframe",updateTriggers:{getElevation:x.getElevation,getColor:x.getLineColor}}),{data:t,fp64:d,extruded:!0,elevationScale:a,wireframe:!0,getPolygon:b,getElevation:A,getColor:v}),C=!i&&n&&T&&new eo(this.getSubLayerProps({id:"stroke",updateTriggers:{getWidth:x.getLineWidth,getColor:x.getLineColor,getDashArray:x.getLineDashArray}}),{data:E,fp64:d,widthScale:u,widthMinPixels:l,widthMaxPixels:c,rounded:p,miterLimit:f,dashJustified:h,getPath:function(e){return e.path},getColor:function(e){return v(e.object)},getWidth:function(e){return m(e.object)},getDashArray:_&&function(e){return _(e.object)}});return[!i&&M,S,C,i&&M]}}]),t}(),jo=Ro;function No(e){var t=[],n=[],r=[],i=[];return e.forEach(function(e){s()(e&&e.geometry,"GeoJSON does not have geometry");var o=e.geometry,a=o.type,u=o.coordinates,l=e.properties;switch(function(e,t){var n=Bo[e];s()(n,"Unknown GeoJSON type "+e);for(;t&&--n>0;)t=t[0];s()(t&&Number.isFinite(t[0]),e+" coordinates are malformed")}(a,u),a){case"Point":t.push(e);break;case"MultiPoint":u.forEach(function(n){t.push({geometry:{coordinates:n},properties:l,feature:e})});break;case"LineString":n.push(e);break;case"MultiLineString":u.forEach(function(t){n.push({geometry:{coordinates:t},properties:l,feature:e})});break;case"Polygon":r.push(e),u.forEach(function(t){i.push({geometry:{coordinates:t},properties:l,feature:e})});break;case"MultiPolygon":u.forEach(function(t){r.push({geometry:{coordinates:t},properties:l,feature:e}),t.forEach(function(t){i.push({geometry:{coordinates:t},properties:l,feature:e})})})}}),{pointFeatures:t,lineFeatures:n,polygonFeatures:r,polygonOutlineFeatures:i}}Ro.layerName="PolygonLayer",Ro.defaultProps=Lo;var Bo={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};var Do=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Fo=cr.get,zo=[0,0,0,255],Uo=[0,0,0,255],Go={stroked:!0,filled:!0,extruded:!1,wireframe:!1,lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,elevationScale:1,pointRadiusScale:1,pointRadiusMinPixels:0,pointRadiusMaxPixels:Number.MAX_SAFE_INTEGER,fp64:!1,getLineColor:function(e){return Fo(e,"properties.lineColor")||zo},getFillColor:function(e){return Fo(e,"properties.fillColor")||Uo},getRadius:function(e){return Fo(e,"properties.radius")||Fo(e,"properties.size")||1},getLineWidth:function(e){return Fo(e,"properties.lineWidth")||1},getElevation:function(e){return Fo(e,"properties.elevation")||1e3},subLayers:{PointLayer:ei,LineLayer:eo,PolygonLayer:Co},lightSettings:{lightsPosition:[-122.45,37.75,8e3,-122,38,5e3],ambientRatio:.05,diffuseRatio:.6,specularRatio:.8,lightsStrength:[2,0,0,0],numberOfLights:2}},Vo=function(e){return e.geometry.coordinates},Yo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Ze),Do(t,[{key:"initializeState",value:function(){this.state={features:{}}}},{key:"updateState",value:function(e){e.oldProps,e.props;if(e.changeFlags.dataChanged){var t=function(e){if(Array.isArray(e))return e;switch(s()(e.type,"GeoJSON does not have type"),e.type){case"GeometryCollection":return s()(Array.isArray(e.geometries),"GeoJSON does not have geometries array"),e.geometries.map(function(e){return{geometry:e}});case"Feature":return[e];case"FeatureCollection":return s()(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(this.props.data);this.state.features=No(t)}}},{key:"getPickingInfo",value:function(e){var t=e.info;return Object.assign(t,{object:t.object&&t.object.feature||t.object})}},{key:"renderLayers",value:function(){var e=this.state.features,t=e.pointFeatures,n=e.lineFeatures,r=e.polygonFeatures,i=e.polygonOutlineFeatures,o=this.props,a=o.stroked,s=o.filled,u=o.extruded,l=o.wireframe,c=o.subLayers,p=o.lightSettings,f=this.props,h=f.lineWidthScale,d=f.lineWidthMinPixels,g=f.lineWidthMaxPixels,y=f.lineJointRounded,v=f.lineMiterLimit,m=f.pointRadiusScale,_=f.pointRadiusMinPixels,A=f.pointRadiusMaxPixels,b=f.elevationScale,x=f.fp64,w=this.props,E=w.getLineColor,T=w.getFillColor,M=w.getRadius,S=w.getLineWidth,C=w.getElevation,I=w.updateTriggers,P=t&&t.length>0,k=n&&n.length>0,O=i&&i.length>0,L=r&&r.length>0,R=s&&L&&new c.PolygonLayer(this.getSubLayerProps({id:"polygon-fill",updateTriggers:{getElevation:I.getElevation,getColor:I.getFillColor}}),{data:r,fp64:x,extruded:u,elevationScale:b,wireframe:!1,lightSettings:p,getPolygon:Vo,getElevation:C,getColor:T}),j=l&&u&&L&&new c.PolygonLayer(this.getSubLayerProps({id:"polygon-wireframe",updateTriggers:{getElevation:I.getElevation,getColor:I.getLineColor}}),{data:r,fp64:x,extruded:u,elevationScale:b,wireframe:!0,getPolygon:Vo,getElevation:C,getColor:E}),N=!u&&a&&O&&new c.LineLayer(this.getSubLayerProps({id:"polygon-outline",updateTriggers:{getColor:I.getLineColor,getWidth:I.getLineWidth}}),{data:i,fp64:x,widthScale:h,widthMinPixels:d,widthMaxPixels:g,rounded:y,miterLimit:v,getPath:Vo,getColor:E,getWidth:S}),B=k&&new c.LineLayer(this.getSubLayerProps({id:"line-paths",updateTriggers:{getColor:I.getLineColor,getWidth:I.getLineWidth}}),{data:n,fp64:x,widthScale:h,widthMinPixels:d,widthMaxPixels:g,rounded:y,miterLimit:v,getPath:Vo,getColor:E,getWidth:S}),D=P&&new c.PointLayer(this.getSubLayerProps({id:"points",updateTriggers:{getColor:I.getFillColor,getRadius:I.getRadius}}),{data:t,fp64:x,radiusScale:m,radiusMinPixels:_,radiusMaxPixels:A,getPosition:Vo,getColor:T,getRadius:M});return[!u&&R,j,N,B,D,u&&R]}}]),t}(),Ho=Yo;Yo.layerName="GeoJsonLayer",Yo.defaultProps=Go;var Wo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Qo=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.reflectivity=e,r.blur=n,r.framebuffer=null,r.setNeedsRedraw(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Tn),Wo(t,[{key:"getShaders",value:function(){return{vs:"#define SHADER_NAME reflection-effect-vs\n\nattribute vec3 vertices;\n\nvarying vec2 uv;\n\nvoid main(void) {\n  uv = vertices.xy;\n  gl_Position = vec4(2. * vertices.xy - vec2(1., 1.), 1., 1.);\n}\n",fs:'#define SHADER_NAME reflection-effect-fs\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D reflectionTexture;\nuniform int reflectionTextureWidth;\nuniform int reflectionTextureHeight;\n\nuniform float reflectivity;\nuniform float blur;\n\n\nvarying vec2 uv;\n\n#define KERNEL_SIZE 7\n\n/*\n * Samples from tex with a gaussian-shaped patch, centered at uv and\n * with standard deviation sigma.  The size of the texture in\n * pixels must be specified by dim\n */\nvec4 sample_gaussian(sampler2D tex, vec2 dim, vec2 uv, float sigma) {\n  if (sigma == 0.0) {\n    return texture2D(tex, uv);\n  }\n\n  vec2 delta = 1.0 / dim;\n  vec2 top_left = uv - delta * float(KERNEL_SIZE+1) / 2.0;\n\n  vec4 color = vec4(0);\n  float sum = 0.0;\n  for (int i = 0; i <  KERNEL_SIZE; ++i) {\n    for (int j = 0; j < KERNEL_SIZE; ++j) {\n      vec2 uv2 = top_left + vec2(i, j) * delta;\n      float d = length((uv2 - uv) * dim);\n      float f = exp(-(d*d) / (2.0*sigma * sigma));\n      color += f * texture2D(tex, uv2);\n      sum += f;\n    }\n  }\n  return color / sum;\n}\n\nvoid main(void) {\n  //map blur in [0, 1] to sigma in [0, inf]\n  //alpha will determine the "steepness" of our curve.\n  //this was picked just to make the scale feel "natural"\n  //if our image is 1000 pixels wide, a blur of 0.5 should correspond\n  //to a sigma of 1 pixels\n  float alpha = 1000.0;\n  float sigma = blur / (alpha * (1.0 - blur));\n  //let this be our standard deviation in terms of screen-widths.\n  //rewrite this in terms of pixels.\n  sigma *= float(reflectionTextureWidth);\n\n\n  gl_FragColor = sample_gaussian(reflectionTexture, vec2(reflectionTextureWidth,\n    reflectionTextureHeight), vec2(uv.x, 1. - uv.y), sigma);\n  //because our canvas expects alphas to be pre-multiplied, we multiply by whole\n  //color vector by reflectivity, not just the alpha channel\n  gl_FragColor *= reflectivity;\n}\n',modules:[],shaderCache:this.context.shaderCache}}},{key:"initialize",value:function(e){var t=e.gl;e.layerManager;this.unitQuad=new u.h(t,Object.assign({},this.getShaders(),{id:"reflection-effect",geometry:new u.g({drawMode:u.f.TRIANGLE_FAN,vertices:new Float32Array([0,0,0,1,0,0,1,1,0,0,1,0])})})),this.framebuffer=new u.e(t,{depth:!0})}},{key:"preDraw",value:function(e){var t=e.gl,n=e.layerManager,r=n.context.viewport,i="undefined"!=typeof window&&window.devicePixelRatio||1;this.framebuffer.resize({width:i*r.width,height:i*r.height});var o=r.pitch;this.framebuffer.bind(),n.setViewport(new Ue(Object.assign({},r,{pitch:-180-o}))),t.clear(u.f.COLOR_BUFFER_BIT|u.f.DEPTH_BUFFER_BIT),n.drawLayers({pass:"reflection"}),n.setViewport(r),this.framebuffer.unbind()}},{key:"draw",value:function(e){e.gl,e.layerManager;this.unitQuad.render({reflectionTexture:this.framebuffer.texture,reflectionTextureWidth:this.framebuffer.width,reflectionTextureHeight:this.framebuffer.height,reflectivity:this.reflectivity,blur:this.blur})}},{key:"finalize",value:function(e){e.gl,e.layerManager}}]),t}(),Xo=n(3),Zo=n.n(Xo),Jo=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"];var Ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function qo(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var $o=cr.DeckGLJS,ea=cr.log,ta=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.children=[],function(e){var t=Object.getPrototypeOf(e),n=Object.getOwnPropertyNames(t),r=!0,i=!1,o=void 0;try{for(var a,s=function(){var t=a.value;"function"==typeof e[t]&&(Jo.find(function(e){return t===e})||(e[t]=e[t].bind(e)))},u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)s()}catch(e){i=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}}(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Zo.a.Component),Ko(t,[{key:"componentDidMount",value:function(){this.deck=new $o(Object.assign({},this.props,{canvas:this.overlay})),this._updateFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this._updateFromProps(e)}},{key:"componentWillUnmount",value:function(){this.deck.finalize()}},{key:"queryObject",value:function(e){return ea.deprecated("queryObject","pickObject"),this.deck.pickObject(e)}},{key:"pickObject",value:function(e){var t=e.x,n=e.y,r=e.radius,i=void 0===r?0:r,o=e.layerIds,a=void 0===o?null:o;return this.deck.pickObject({x:t,y:n,radius:i,layerIds:a})}},{key:"queryVisibleObjects",value:function(e){return ea.deprecated("queryVisibleObjects","pickObjects"),this.pickObjects(e)}},{key:"pickObjects",value:function(e){var t=e.x,n=e.y,r=e.width,i=void 0===r?1:r,o=e.height,a=void 0===o?1:o,s=e.layerIds,u=void 0===s?null:s;return this.deck.pickObjects({x:t,y:n,width:i,height:a,layerIds:u})}},{key:"_updateFromProps",value:function(e){var t=this._extractJSXLayers(e.children),n=t.layers,r=t.children;this.deck&&this.deck.setProps(Object.assign({},e,{layers:n?[].concat(qo(n),qo(e.layers)):e.layers})),this.children=r}},{key:"_extractJSXLayers",value:function(e){var t=[],n=null;return Zo.a.Children.forEach(e,function(e){if(e){var r=e.type;if(function(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}(r,q)){var i=new r(e.props);(n=n||[]).push(i)}else t.push(e)}}),{layers:n,children:t}}},{key:"_renderChildrenUnderViewports",value:function(e){var t=this,n={};return(this.deck?this.deck.getViewports():[]).forEach(function(e){e.id&&(n[e.id]=e)}),e.map(function(e,r){return e.props.viewportId?t._positionChild({child:e,viewportMap:n,i:r}):e})}},{key:"_positionChild",value:function(e){var t=e.child,n=e.viewportMap,r=e.i,i=t.props.viewportId,o=i&&n[i];if(!o)return null;var a=o.x,s=o.y,u=o.width,l=o.height,c=Object.assign({},t.props,{width:u,height:l});Object.assign(c,o.getMercatorParams(),{visible:o.isMapSynched()});var p=Object(Xo.cloneElement)(t,c),f={position:"absolute",left:a,top:s,width:u,height:l},h="viewport-child-"+i+"-"+r;return Object(Xo.createElement)("div",{key:h,id:h,style:f},p)}},{key:"render",value:function(){var e=this,t=this._renderChildrenUnderViewports(this.children),n=this.props,r=n.id,i=n.width,o=n.height,a=n.style,s=Object(Xo.createElement)("canvas",{ref:function(t){return e.overlay=t},key:"overlay",id:r,style:Object.assign({},{position:"absolute",left:0,top:0,width:i,height:o},a)});return t.push(s),Object(Xo.createElement)("div",{id:"deckgl-wrapper"},t)}}]),t}(),na=ta;ta.propTypes=$o.propTypes,ta.defaultProps=$o.defaultProps;var ra={GRABBING:"-webkit-grabbing",GRAB:"-webkit-grab",POINTER:"pointer"},ia=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var oa=cr.ViewportControls,aa=cr.TransitionManager,sa={viewportState:Cn.a.func,state:Cn.a.object,width:Cn.a.number.isRequired,height:Cn.a.number.isRequired,longitude:Cn.a.number.isRequired,latitude:Cn.a.number.isRequired,zoom:Cn.a.number.isRequired,bearing:Cn.a.number,pitch:Cn.a.number,altitude:Cn.a.number,position:Cn.a.array,maxZoom:Cn.a.number,minZoom:Cn.a.number,maxPitch:Cn.a.number,minPitch:Cn.a.number,onViewportChange:Cn.a.func,transitionDuration:Cn.a.number,transitionInterpolator:Cn.a.object,transitionInterruption:Cn.a.number,transitionEasing:Cn.a.func,onTransitionStart:Cn.a.func,onTransitionInterrupt:Cn.a.func,onTransitionEnd:Cn.a.func,scrollZoom:Cn.a.bool,dragPan:Cn.a.bool,dragRotate:Cn.a.bool,doubleClickZoom:Cn.a.bool,touchZoomRotate:Cn.a.bool,getCursor:Cn.a.func,controls:Cn.a.shape({events:Cn.a.arrayOf(Cn.a.string),handleEvent:Cn.a.func})},ua=Object.assign({},aa.defaultProps,{onViewportChange:null,scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoomRotate:!0,getCursor:function(e){return e.isDragging?ra.GRABBING:ra.GRAB}}),la=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isDragging:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Xo["Component"]),ia(t,[{key:"componentDidMount",value:function(){this._eventManager=new Mn.EventManager(this.eventCanvas),this._controls=this.props.controls||new oa(this.props.viewportState),this._controls.setOptions(Object.assign({},this.props,{onStateChange:this._onInteractiveStateChange.bind(this),eventManager:this._eventManager})),this._transitionManger=new aa(this.props)}},{key:"shouldComponentUpdate",value:function(e,t){return!this._transitionManger||!this._transitionManger.processViewportChange(e)}},{key:"componentWillUpdate",value:function(e){this._controls&&this._controls.setOptions(e)}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_onInteractiveStateChange",value:function(e){var t=e.isDragging,n=void 0!==t&&t;n!==this.state.isDragging&&this.setState({isDragging:n})}},{key:"render",value:function(){var e=this,t=this.props,n={width:t.width,height:t.height,position:"relative",cursor:(0,t.getCursor)(this.state)};return Object(Xo.createElement)("div",{key:"map-controls",ref:function(t){return e.eventCanvas=t},style:n},this.props.children)}}]),t}(),ca=la;la.displayName="ViewportController",la.propTypes=sa,la.defaultProps=ua;var pa=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.controller=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Xo["PureComponent"]),pa(t,[{key:"componentDidMount",value:function(){this.controller=new zn(Object.assign({},this.props,{canvas:this.eventCanvas}))}},{key:"componentWillUpdate",value:function(e){this.controller.setProps(e)}},{key:"componentWillUnmount",value:function(){this.controller.finalize()}},{key:"render",value:function(){var e=this,t=this.props,n={width:t.width,height:t.height,position:"relative"};return Object(Xo.createElement)("div",{key:"map-controls",ref:function(t){return e.eventCanvas=t},style:n},this.props.children)}}]),t}(),ha=fa;fa.displayName="MapController",fa.propTypes=zn.propTypes,fa.defaultProps=zn.defaultProps;var da=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ga=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.controller=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Xo["PureComponent"]),da(t,null,[{key:"getViewport",value:function(e){return new Et(e)}}]),da(t,[{key:"componentDidMount",value:function(){this.controller=new Wn(Object.assign({},this.props,{canvas:this.eventCanvas}))}},{key:"componentWillUpdate",value:function(e){this.controller.setProps(e)}},{key:"componentWillUnmount",value:function(){this.controller.finalize()}},{key:"render",value:function(){var e=this,t=this.props,n={width:t.width,height:t.height,position:"relative"};return Object(Xo.createElement)("div",{key:"map-controls",ref:function(t){return e.eventCanvas=t},style:n},this.props.children)}}]),t}(),ya=ga;ga.displayName="OrbitController",ga.propTypes=Wn.propTypes,ga.defaultProps=Wn.defaultProps,n.d(t,"experimental",function(){return va}),n.d(t,"COORDINATE_SYSTEM",function(){return o.a}),n.d(t,"LayerManager",function(){return We}),n.d(t,"AttributeManager",function(){return S}),n.d(t,"Layer",function(){return q}),n.d(t,"CompositeLayer",function(){return Ze}),n.d(t,"Viewport",function(){return Le}),n.d(t,"WebMercatorViewport",function(){return Ue}),n.d(t,"PerspectiveViewport",function(){return $e}),n.d(t,"OrthographicViewport",function(){return nt}),n.d(t,"project",function(){return rt.a}),n.d(t,"project64",function(){return it.a}),n.d(t,"lighting",function(){return ot.a}),n.d(t,"ArcLayer",function(){return mr}),n.d(t,"IconLayer",function(){return Pr}),n.d(t,"LineLayer",function(){return Dr}),n.d(t,"PointCloudLayer",function(){return Wr}),n.d(t,"ScatterplotLayer",function(){return ei}),n.d(t,"ScreenGridLayer",function(){return ri}),n.d(t,"GridLayer",function(){return bi}),n.d(t,"GridCellLayer",function(){return pi}),n.d(t,"HexagonLayer",function(){return Hi}),n.d(t,"HexagonCellLayer",function(){return ki}),n.d(t,"PathLayer",function(){return eo}),n.d(t,"PolygonLayer",function(){return jo}),n.d(t,"GeoJsonLayer",function(){return Ho}),n.d(t,"default",function(){return na}),n.d(t,"DeckGL",function(){return na});var va={},ma=cr.ViewState,_a=cr.FirstPersonState,Aa=cr.OrbitState,ba=cr.MapState,xa=cr.Controller,wa=cr.FirstPersonController,Ea=cr.FirstPersonViewport,Ta=cr.OrbitViewport,Ma=cr.ThirdPersonViewport,Sa=cr.TRANSITION_EVENTS,Ca=cr.LinearInterpolator,Ia=cr.ViewportFlyToInterpolator,Pa=cr.DeckGLJS,ka=cr.MapControllerJS,Oa=cr.EffectManager,La=cr.Effect;Object.assign(va,{ViewState:ma,FirstPersonState:_a,OrbitState:Aa,MapState:ba,Controller:xa,FirstPersonController:wa,FirstPersonViewport:Ea,OrbitViewport:Ta,ThirdPersonViewport:Ma,TRANSITION_EVENTS:Sa,LinearInterpolator:Ca,ViewportFlyToInterpolator:Ia,DeckGLJS:Pa,MapControllerJS:ka,EffectManager:Oa,Effect:La});var Ra=cr.TransitionManager,ja=cr.extractViewportFrom,Na=cr.BinSorter,Ba=cr.linearScale,Da=cr.getLinearScale,Fa=cr.quantizeScale,za=cr.getQuantizeScale,Ua=cr.clamp,Ga=cr.defaultColorRange,Va=cr.log,Ya=cr.get,Ha=cr.count,Wa=cr.flatten,Qa=cr.countVertices,Xa=cr.flattenVertices,Za=cr.fillArray,Ja=cr.enable64bitSupport,Ka=cr.fp64ify,qa=cr.fp64LowPart;Object.assign(va,{TransitionManager:Ra,extractViewportFrom:ja,BinSorter:Na,linearScale:Ba,getLinearScale:Da,quantizeScale:Fa,getQuantizeScale:za,clamp:Ua,defaultColorRange:Ga,log:Va,get:Ya,count:Ha,flatten:Wa,countVertices:Qa,flattenVertices:Xa,fillArray:Za,enable64bitSupport:Ja,fp64ify:Ka,fp64LowPart:qa}),Object.assign(va,{ReflectionEffect:Qo}),Object.assign(va,{MapController:ha,OrbitController:ya,ViewportController:ca})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.START_PROGRESS="START_PROGRESS",i=t.END_PROGRESS="END_PROGRESS";t.startProgress=function(){return{type:r}},t.endProgress=function(){return{type:i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SET_WINDOW_DIMENSIONS="SET_WINDOW_DIMENSIONS";t.setWindowDimensions=function(e,t){return{type:r,payload:{width:e,height:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPathPrefix=function(e){i=e},t.loadFile=function(e,t){"string"==typeof e||t||(e=(t=e).url);return t.url=i?i+e:e,(0,r.requestFile)(t)},t.loadImage=function(e,t){return e=i?i+e:e,new Promise(function(n,r){try{var i=new Image;i.onload=function(){return n(i)},i.onerror=function(){return r(new Error("Could not load image "+e+"."))},i.crossOrigin=t&&t.crossOrigin||"anonymous",i.src=e}catch(e){r(e)}})};var r=n(301),i=""},function(e,t,n){"use strict";n.r(t),n.d(t,"initializeShaderModules",function(){return s});var r=n(4);n.d(t,"fp32",function(){return r.m}),n.d(t,"fp64",function(){return r.n}),n.d(t,"picking",function(){return r.p});var i=n(51);n.d(t,"project",function(){return i.a});var o=n(95);n.d(t,"project64",function(){return o.a});var a=n(94);function s(){Object(r.q)([r.m,r.n,i.a,o.a,a.a,r.p]),Object(r.r)([i.a])}n.d(t,"lighting",function(){return a.a}),s()},function(e,t,n){var r=n(196),i=n(152).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(119),i=n(330),o=n(152),a=n(154)("IE_PROTO"),s=function(){},u=function(){var e,t=n(197)("iframe"),r=o.length;for(t.style.display="none",n(329).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){e.exports=n(83)},function(e,t,n){"use strict";var r=n(149),i=n(84),o=n(190),a=n(83),s=n(72),u=n(148),l=n(331),c=n(147),p=n(328),f=n(80)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,g,y,v,m){l(n,t,g);var _,A,b,x=function(e){if(!h&&e in M)return M[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",E="values"==y,T=!1,M=e.prototype,S=M[f]||M["@@iterator"]||y&&M[y],C=!h&&S||x(y),I=y?E?x("entries"):C:void 0,P="Array"==t&&M.entries||S;if(P&&(b=p(P.call(new e)))!==Object.prototype&&b.next&&(c(b,w,!0),r||s(b,f)||a(b,f,d)),E&&S&&"values"!==S.name&&(T=!0,C=function(){return S.call(this)}),r&&!m||!h&&!T&&M[f]||a(M,f,C),u[t]=C,u[w]=d,y)if(_={values:E?C:x("values"),keys:v?C:x("keys"),entries:I},m)for(A in _)A in M||o(M,A,_[A]);else i(i.P+i.F*(h||T),t,_);return _}},function(e,t,n){"use strict";(function(t,r){var i,o=n(336),a=(i=o)&&i.__esModule?i:{default:i};var s="object"!==(void 0===t?"undefined":(0,a.default)(t))||"[object process]"!==String(t)||t.browser,u="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";e.exports={window:"undefined"!=typeof window?window:r,global:void 0!==r?r:window,document:"undefined"!=typeof document?document:{},isBrowser:s,userAgent:u}}).call(this,n(85),n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var r=n(192),i=n(312),o=void 0;r.isBrowser&&(o=n(311)),o&&((0,i.enhancePointerEventInput)(o.PointerEventInput),(0,i.enhanceMouseInput)(o.MouseInput));t.Manager=o?o.Manager:function(e){var t={},n=function(){return t};return t.get=function(){return null},t.set=n,t.on=n,t.off=n,t.destroy=n,t.emit=n,t};t.default=o},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(194);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(72),i=n(81),o=n(346)(!1),a=n(154)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(93),i=n(55).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(73)&&!n(82)(function(){return 7!=Object.defineProperty(n(197)("div"),"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o);return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SET_LOCATION_DISPLAY_TYPE="SET_LOCATION_DISPLAY_TYPE";t.setLocationDisplayType=function(e){return{type:r,payload:{displayType:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n.length)return i;var o,a=(o=n,Array.isArray(o)?o:Array.from(o)),s=a[0],u=a.slice(1),l=r(s,2),c=l[0],p=l[1];return("function"==typeof c?c(t):c===t)?p:e(t,u,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SET_ACCURACY_FILTER="SET_ACCURACY_FILTER";t.setAccuracyFilter=function(e){return{type:r,payload:{threshold:e}}}},function(e,t,n){(function(){var n=this,r=n.humanize,i={};void 0!==e&&e.exports&&(t=e.exports=i),t.humanize=i,i.noConflict=function(){return n.humanize=r,this},i.pad=function(e,t,n,r){if(e+="",n?n.length>1&&(n=n.charAt(0)):n=" ","right"===(r=void 0===r?"left":"right"))for(;e.length<t;)e+=n;else for(;e.length<t;)e=n+e;return e},i.time=function(){return(new Date).getTime()/1e3};var o=[0,0,31,59,90,120,151,181,212,243,273,304,334],a=[0,0,31,60,91,121,152,182,213,244,274,305,335];i.date=function(e,t){var n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),r=/\\?([a-z])/gi,s=function(e,t){return c[e]?c[e]():t},u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],c={d:function(){return i.pad(c.j(),2,"0")},D:function(){return c.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return u[c.w()]},N:function(){return c.w()||7},S:function(){var e=c.j();return e>4&&e<21?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th"},w:function(){return n.getDay()},z:function(){return(c.L()?a[c.n()]:o[c.n()])+c.j()-1},W:function(){var e=c.z()-c.N()+1.5;return i.pad(1+Math.floor(Math.abs(e)/7)+(e%7>3.5?1:0),2,"0")},F:function(){return l[n.getMonth()]},m:function(){return i.pad(c.n(),2,"0")},M:function(){return c.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(c.Y(),c.n(),0).getDate()},L:function(){return 1===new Date(c.Y(),1,29).getMonth()?1:0},o:function(){var e=c.n(),t=c.W();return c.Y()+(12===e&&t<9?-1:1===e&&t>9)},Y:function(){return n.getFullYear()},y:function(){return String(c.Y()).slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return c.a().toUpperCase()},B:function(){var e=n.getTime()/1e3,t=e%86400+3600;t<0&&(t+=86400);var r=t/86.4%1e3;return e<0?Math.ceil(r):Math.floor(r)},g:function(){return c.G()%12||12},G:function(){return n.getHours()},h:function(){return i.pad(c.g(),2,"0")},H:function(){return i.pad(c.G(),2,"0")},i:function(){return i.pad(n.getMinutes(),2,"0")},s:function(){return i.pad(n.getSeconds(),2,"0")},u:function(){return i.pad(1e3*n.getMilliseconds(),6,"0")},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+i.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var e=c.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(r,s)},r:function(){return"D, d M Y H:i:s O".replace(r,s)},U:function(){return n.getTime()/1e3||0}};return e.replace(r,s)},i.numberFormat=function(e,t,n,r){t=isNaN(t)?2:Math.abs(t),n=void 0===n?".":n,r=void 0===r?",":r;var i=e<0?"-":"";e=Math.abs(+e||0);var o=parseInt(e.toFixed(t),10)+"",a=o.length>3?o.length%3:0;return i+(a?o.substr(0,a)+r:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")},i.naturalDay=function(e,t){e=void 0===e?i.time():e,t=void 0===t?"Y-m-d":t;var n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime()/1e3;return e<r&&e>=r-86400?"yesterday":e>=r&&e<r+86400?"today":e>=r+86400&&e<r+172800?"tomorrow":i.date(t,e)},i.relativeTime=function(e){e=void 0===e?i.time():e;var t=i.time(),n=t-e;if(n<2&&n>-2)return(n>=0?"just ":"")+"now";if(n<60&&n>-60)return n>=0?Math.floor(n)+" seconds ago":"in "+Math.floor(-n)+" seconds";if(n<120&&n>-120)return n>=0?"about a minute ago":"in about a minute";if(n<3600&&n>-3600)return n>=0?Math.floor(n/60)+" minutes ago":"in "+Math.floor(-n/60)+" minutes";if(n<7200&&n>-7200)return n>=0?"about an hour ago":"in about an hour";if(n<86400&&n>-86400)return n>=0?Math.floor(n/3600)+" hours ago":"in "+Math.floor(-n/3600)+" hours";if(n<172800&&n>-172800)return n>=0?"1 day ago":"in 1 day";if(n<2505600&&n>-2505600)return n>=0?Math.floor(n/86400)+" days ago":"in "+Math.floor(-n/86400)+" days";if(n<5184e3&&n>-5184e3)return n>=0?"about a month ago":"in about a month";var r=parseInt(i.date("Y",t),10),o=parseInt(i.date("Y",e),10),a=12*r+parseInt(i.date("n",t),10)-(12*o+parseInt(i.date("n",e),10));if(a<12&&a>-12)return a>=0?a+" months ago":"in "+-a+" months";var s=r-o;return s<2&&s>-2?s>=0?"a year ago":"in a year":s>=0?s+" years ago":"in "+-s+" years"},i.ordinal=function(e){e=parseInt(e,10);var t=(e=isNaN(e)?0:e)<0?"-":"",n=(e=Math.abs(e))%100;return t+e+(n>4&&n<21?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th")},i.filesize=function(e,t,n,r,o,a){return t=void 0===t?1024:t,e<=0?"0 bytes":(e<t&&void 0===n&&(n=0),void 0===a&&(a=" "),i.intword(e,["bytes","KB","MB","GB","TB","PB"],t,n,r,o,a))},i.intword=function(e,t,n,r,o,a,s){var u,l;l=(t=t||["","K","M","B","T"]).length-1,n=n||1e3,r=isNaN(r)?2:Math.abs(r),o=o||".",a=a||",",s=s||"";for(var c=0;c<t.length;c++)if(e<Math.pow(n,c+1)){l=c;break}u=e/Math.pow(n,l);var p=t[l]?s+t[l]:"";return i.numberFormat(u,r,o,a)+p},i.linebreaks=function(e){return"<p>"+(e=(e=(e=(e=(e=e.replace(/^([\n|\r]*)/,"")).replace(/([\n|\r]*)$/,"")).replace(/(\r\n|\n|\r)/g,"\n")).replace(/(\n{2,})/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"},i.nl2br=function(e){return e.replace(/(\r\n|\n|\r)/g,"<br />")},i.truncatechars=function(e,t){return e.length<=t?e:e.substr(0,t)+""},i.truncatewords=function(e,t){var n=e.split(" ");return n.length<t?e:n.slice(0,t).join(" ")+""}}).call(this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SET_USER="SET_USER",i=t.SET_DEVICE="SET_DEVICE",o=t.SET_TIMESTAMP_START="SET_TIMESTAMP_START",a=t.SET_TIMESTAMP_END="SET_TIMESTAMP_END";t.setUser=function(e){return{type:r,payload:{user:e}}},t.setDevice=function(e){return{type:i,payload:{device:e}}},t.setTimestampStart=function(e){return{type:o,payload:{timestamp:e}}},t.setTimestampEnd=function(e){return{type:a,payload:{timestamp:e}}}},function(e,t,n){var r=n(207),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r=e[0],i=e[1],o=e[2],a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return n=0===s?0:u/s*1e3/10,s===a?t=0:r===s?t=(i-o)/u:i===s?t=2+(o-r)/u:o===s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var l=r[u],c=(o=e,a=l,Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));c<s&&(s=c,n=u)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,u=e[2]/100;if(0===s)return[o=255*u,o,o];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*o;return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,u=e[0]/360,l=e[1]/100,c=e[2]/100,p=l+c;switch(p>1&&(l/=p,c/=p),n=1-c,r=6*u-(t=Math.floor(6*u)),0!=(1&t)&&(r=1-r),i=l+r*(n-l),t){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r,i=e[0],o=e[1],a=e[2];t=o/500+(n=(i+16)/116),r=n-a/200;var s=Math.pow(n,3),u=Math.pow(t,3),l=Math.pow(r,3);return n=s>.008856?s:(n-16/116)/7.787,t=u>.008856?u:(t-16/116)/7.787,r=l>.008856?l:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.max(Math.max(r,i),o),s=Math.min(Math.min(r,i),o),u=a-s;return t=u<1?s/(1-u):0,n=u<=0?0:a===r?(i-o)/u%6:a===i?2+(o-r)/u:4+(r-i)/u+4,n/=6,[360*(n%=1),100*u,100*t]},a.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=1,i=0;return(r=n<.5?2*t*n:2*t*(1-n))<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},a.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];var i,o=[0,0,0],a=t%1*6,s=a%1,u=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=u,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=u,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=u}return i=(1-n)*r,[255*(n*o[0]+i),255*(n*o[1]+i),255*(n*o[2]+i)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,r=n-t,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EREQUESTDEDUPLICATION=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(393)),o=a(n(123));function a(e){return e&&e.__esModule?e:{default:e}}var s=Object({NODE_ENV:"production",MAPBOX_API_TOKEN:"pk.eyJ1Ijoic2t5bmV0LXJpY2UiLCJhIjoiY2phbzU2a3hkM2luZDMzcGxzejNhaWdxYiJ9.nC5BtNoLkeX4fBoF-nakxw",PIWIK_URL:"https://analytics.kevinlin.info",PIWIK_SITE_ID:"5",PIWIK_CLIENT_TRACKER_NAME:"client",PIWIK_SERVER_TRACKER_NAME:"server"}).ORION_SERVER_URL||"",u={},l=t.EREQUESTDEDUPLICATION="EREQUESTDEDUPLICATION";t.default=function(e){var t=e.id,n=void 0===t?"fetch":t,a=e.endpoint,c=e.method,p=e.data,f=void 0===p?{}:p,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},d=Date.now();u[n]=d,(0,i.default)(""+s+a,r({method:c,credentials:"include",headers:{"Content-Type":"application/json"}},Object.keys(f).length&&!["HEAD","GET"].includes(c)&&{body:JSON.stringify(f)})).then(function(e){return d!==u[n]?h({code:l,message:"Request superseded by more recent request of the same ID"}):e.json().then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;return o.default.captureBreadcrumb({message:"Network resource call complete",category:"resource",data:{request:{endpoint:a,method:c,data:f},response:{data:t,status:e.status}}}),h(null,t)})}).catch(function(e){return h(e)})}},function(e,t){t.__esModule=!0;t.ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"};var n=t.TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},r=(t.VALID_TAG_NAMES=Object.keys(n).map(function(e){return n[e]}),t.TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src"},t.REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"});t.HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},t.HTML_TAG_MAP=Object.keys(r).reduce(function(e,t){return e[r[t]]=t,e},{}),t.SELF_CLOSING_TAGS=[n.NOSCRIPT,n.SCRIPT,n.STYLE],t.HELMET_ATTRIBUTE="data-react-helmet"},function(e,t,n){var r=Array.prototype.slice,i=n(402),o=n(401),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var l,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(u(e)){if(!u(t))return!1;if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var p=i(e),f=i(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),l=p.length-1;l>=0;l--)if(p[l]!=f[l])return!1;for(l=p.length-1;l>=0;l--)if(c=p[l],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null===e||void 0===e}function u(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(3)),o=(a(n(16)),n(31));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.color,n=e.style,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","style"]);return i.default.createElement("svg",r({version:"1.1",x:"0px",y:"0px",viewBox:"0 0 692.57 172.419",enableBackground:"new 0 0 692.57 172.419",xmlSpace:"preserve",style:r({fill:t,stroke:t},n)},o),i.default.createElement("line",{fill:"none",strokeWidth:"4",strokeMiterlimit:"10",x1:"8.928",y1:"42.465",x2:"70.714",y2:"8.764"}),i.default.createElement("line",{fill:"none",strokeWidth:"4",strokeMiterlimit:"10",x1:"70.714",y1:"8.764",x2:"116.773",y2:"34.602"}),i.default.createElement("line",{fill:"none",strokeWidth:"4",strokeMiterlimit:"10",x1:"116.773",y1:"34.602",x2:"108.348",y2:"131.212"}),i.default.createElement("line",{fill:"none",strokeWidth:"4",strokeMiterlimit:"10",x1:"108.348",y1:"131.212",x2:"70.714",y2:"163.79"}),i.default.createElement("line",{fill:"none",strokeWidth:"4",strokeMiterlimit:"10",x1:"70.714",y1:"163.79",x2:"8.928",y2:"42.465"}),i.default.createElement("g",null,i.default.createElement("path",{d:"M248.799,119.337c-5.473,0-10.459-1.096-14.958-3.293c-4.5-2.195-8.37-5.111-11.61-8.748 c-3.24-3.635-5.743-7.793-7.506-12.475c-1.765-4.679-2.646-9.467-2.646-14.364c0-5.112,0.935-10.007,2.808-14.688 c1.872-4.68,4.445-8.819,7.722-12.42c3.275-3.599,7.164-6.461,11.664-8.586c4.499-2.123,9.413-3.186,14.742-3.186 c5.471,0,10.458,1.134,14.958,3.402c4.499,2.268,8.352,5.238,11.556,8.91c3.203,3.672,5.687,7.83,7.452,12.474 c1.763,4.644,2.646,9.379,2.646,14.202c0,5.113-0.918,10.008-2.754,14.688c-1.836,4.682-4.411,8.803-7.722,12.366 c-3.313,3.564-7.219,6.409-11.718,8.532C258.933,118.276,254.054,119.337,248.799,119.337z M224.391,80.458 c0,3.601,0.576,7.092,1.728,10.476c1.151,3.385,2.79,6.372,4.914,8.964c2.123,2.592,4.698,4.662,7.722,6.21 c3.024,1.549,6.407,2.321,10.152,2.321c3.888,0,7.326-0.81,10.314-2.43c2.987-1.619,5.525-3.762,7.614-6.426 c2.087-2.662,3.672-5.651,4.752-8.964c1.08-3.311,1.62-6.696,1.62-10.152c0-3.672-0.577-7.182-1.728-10.53 c-1.153-3.348-2.792-6.299-4.914-8.856c-2.125-2.555-4.681-4.607-7.668-6.156c-2.989-1.547-6.318-2.322-9.99-2.322 c-3.888,0-7.344,0.81-10.368,2.43c-3.024,1.62-5.581,3.726-7.668,6.318c-2.089,2.592-3.69,5.562-4.806,8.91 C224.948,73.599,224.391,77.001,224.391,80.458z"}),i.default.createElement("path",{d:"M334.875,118.798V42.117h33.372c3.456,0,6.642,0.721,9.558,2.16c2.916,1.441,5.417,3.331,7.506,5.67 c2.087,2.341,3.726,5.005,4.914,7.992c1.188,2.988,1.782,6.031,1.782,9.126c0,2.592-0.361,5.076-1.08,7.452 c-0.72,2.376-1.728,4.573-3.024,6.588c-1.296,2.017-2.88,3.763-4.752,5.238c-1.873,1.477-3.925,2.575-6.156,3.294l18.036,29.161 h-13.716l-16.632-26.676h-17.712v26.676H334.875z M346.971,81.429h21.168c1.728,0,3.294-0.378,4.698-1.134s2.609-1.799,3.618-3.132 c1.007-1.332,1.799-2.862,2.376-4.59c0.575-1.728,0.864-3.564,0.864-5.508s-0.342-3.78-1.026-5.508 c-0.685-1.728-1.584-3.24-2.7-4.536c-1.117-1.296-2.413-2.322-3.888-3.078c-1.477-0.756-3.007-1.134-4.59-1.134h-20.52V81.429z"}),i.default.createElement("path",{d:"M442.983,118.798V42.117h12.096v76.681H442.983z"}),i.default.createElement("path",{d:"M540.937,119.337c-5.473,0-10.459-1.096-14.958-3.293c-4.501-2.195-8.37-5.111-11.61-8.748 c-3.239-3.635-5.742-7.793-7.506-12.475c-1.765-4.679-2.646-9.467-2.646-14.364c0-5.112,0.935-10.007,2.808-14.688 c1.871-4.68,4.445-8.819,7.722-12.42c3.275-3.599,7.164-6.461,11.664-8.586c4.499-2.123,9.413-3.186,14.742-3.186 c5.471,0,10.458,1.134,14.958,3.402c4.499,2.268,8.352,5.238,11.557,8.91c3.202,3.672,5.687,7.83,7.451,12.474 c1.764,4.644,2.646,9.379,2.646,14.202c0,5.113-0.918,10.008-2.754,14.688c-1.836,4.682-4.411,8.803-7.723,12.366 c-3.313,3.564-7.219,6.409-11.718,8.532C551.071,118.276,546.192,119.337,540.937,119.337z M516.529,80.458 c0,3.601,0.575,7.092,1.729,10.476c1.15,3.385,2.789,6.372,4.914,8.964c2.122,2.592,4.697,4.662,7.722,6.21 c3.024,1.549,6.407,2.321,10.152,2.321c3.888,0,7.325-0.81,10.313-2.43c2.987-1.619,5.525-3.762,7.614-6.426 c2.087-2.662,3.672-5.651,4.752-8.964c1.08-3.311,1.62-6.696,1.62-10.152c0-3.672-0.577-7.182-1.729-10.53 c-1.152-3.348-2.791-6.299-4.914-8.856c-2.124-2.555-4.681-4.607-7.668-6.156c-2.988-1.547-6.317-2.322-9.989-2.322 c-3.889,0-7.345,0.81-10.368,2.43c-3.024,1.62-5.581,3.726-7.668,6.318c-2.09,2.592-3.69,5.562-4.807,8.91 C517.085,73.599,516.529,77.001,516.529,80.458z"}),i.default.createElement("path",{d:"M639.11,64.797v54h-12.097V42.117h9.504l43.849,55.296V42.226h12.204v76.572h-10.044L639.11,64.797z"})),i.default.createElement("polygon",{points:"8.928,42.465 8.928,42.465 8.928,42.465 8.928,42.465 8.928,42.465 8.928,42.465 "}),i.default.createElement("circle",{cx:"9",cy:"42.724",r:"9"}),i.default.createElement("circle",{cx:"71.123",cy:"9",r:"9"}),i.default.createElement("circle",{cx:"116.383",cy:"34.736",r:"9"}),i.default.createElement("circle",{cx:"108.396",cy:"131.471",r:"9"}),i.default.createElement("circle",{cx:"71.123",cy:"163.42",r:"9"}))};s.defaultProps={color:o.colors.gray75,style:{}},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KEY_CODE_ENTER=13,t.KEY_CODE_ESC=27,t.KEY_CODE_SPACE=32,t.KEY_CODE_UP=38,t.KEY_CODE_DOWN=40},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}},function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,o,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"url(data:application/x-font-ttf;base64,"+e+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=document.createElement("style");t.innerHTML=e,document.body.appendChild(t)}},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";e.exports={}},function(e,t){e.exports=function(e,t,n,r){var i,o,a,s,u,l=t[0],c=t[1],p=t[2],f=t[3],h=n[0],d=n[1],g=n[2],y=n[3];(o=l*h+c*d+p*g+f*y)<0&&(o=-o,h=-h,d=-d,g=-g,y=-y);1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r);return e[0]=s*l+u*h,e[1]=s*c+u*d,e[2]=s*p+u*g,e[3]=s*f+u*y,e}},function(e,t,n){e.exports=n(175)},function(e,t,n){e.exports=n(98)},function(e,t){e.exports=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=i*u-r*s,e[2]=o*u+a*s,e[3]=a*u-o*s,e}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-o*s,e[1]=i*u+a*s,e[2]=o*u+r*s,e[3]=a*u-i*s,e}},function(e,t){e.exports=function(e,t,n){n*=.5;var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=i*u+o*s,e[2]=o*u-i*s,e[3]=a*u-r*s,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+a*s+i*l-o*u,e[1]=i*c+a*u+o*s-r*l,e[2]=o*c+a*l+r*u-i*s,e[3]=a*c-r*s-i*u-o*l,e}},function(e,t,n){e.exports=n(171)},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=o*s,e}},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}},function(e,t,n){e.exports=n(174)},function(e,t,n){var r=n(199),i=n(176),o=n(170),a=n(200),s=n(169),u=n(168);e.exports=function(e,t,n){var f=r(t,n);return f<-.999999?(i(l,c,t),o(l)<1e-6&&i(l,p,t),a(l,l),u(e,l,Math.PI),e):f>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(i(l,t,n),e[0]=l[0],e[1]=l[1],e[2]=l[2],e[3]=1+f,s(e,e))};var l=[0,0,0],c=[1,0,0],p=[0,1,0]},function(e,t,n){e.exports=n(172)},function(e,t,n){e.exports=n(354)},function(e,t,n){e.exports=n(355)},function(e,t){e.exports=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}},function(e,t){e.exports=function(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*o+a]-t[3*a+o])*n,e[o]=(t[3*o+i]+t[3*i+o])*n,e[a]=(t[3*a+i]+t[3*i+a])*n}return e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}},function(e,t){e.exports=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}},function(e,t){e.exports=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},function(e,t){e.exports=function(e,t,n,r,i,o,a){var s=1/(n-t),u=1/(i-r),l=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*u,e[10]=(a+o)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*l,e[15]=0,e}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,p=r*s,f=i*a,h=i*s,d=i*u,g=o*a,y=o*s,v=o*u;return e[0]=1-p-d,e[1]=c+v,e[2]=f-y,e[3]=0,e[4]=c-v,e[5]=1-l-d,e[6]=h+g,e[7]=0,e[8]=f+y,e[9]=h-g,e[10]=1-l-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],p=e[10],f=e[11],h=e[12],d=e[13],g=e[14],y=e[15];return(t*a-n*o)*(p*y-f*g)-(t*s-r*o)*(c*y-f*d)+(t*u-i*o)*(c*g-p*d)+(n*s-r*a)*(l*y-f*h)-(n*u-i*a)*(l*g-p*h)+(r*u-i*s)*(l*d-c*h)}},function(e,t){e.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}},function(e,t){e.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)}},function(e,t){e.exports=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}},function(e,t){e.exports=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}},function(e,t){e.exports=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}},function(e,t,n){e.exports=function(e,t){var n=r(e[0],e[1],e[2]),a=r(t[0],t[1],t[2]);i(n,n),i(a,a);var s=o(n,a);return s>1?0:Math.acos(s)};var r=n(360),i=n(200),o=n(199)},function(e,t){e.exports=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}},function(e,t){e.exports=function(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}},function(e,t){e.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]}},function(e,t){e.exports=function(e,t){var n=t[0],r=t[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i);return e}},function(e,t){e.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}},function(e,t){e.exports=function(e,t,n){return e[0]=t,e[1]=n,e}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(32))},function(e,t,n){e.exports=function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,o=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function u(l,c,p){if("string"!=typeof c){if(s){var f=a(c);f&&f!==s&&u(l,f,p)}var h=r(c);i&&(h=h.concat(i(c)));for(var d=0;d<h.length;++d){var g=h[d];if(!(e[g]||t[g]||p&&p[g])){var y=o(c,g);try{n(l,g,y)}catch(e){}}}return l}return l}}()},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,c=l&&l(Object);e.exports=function e(t,n,p){if("string"!=typeof n){if(c){var f=l(n);f&&f!==c&&e(t,f,p)}var h=a(n);s&&(h=h.concat(s(n)));for(var d=0;d<h.length;++d){var g=h[d];if(!(r[g]||i[g]||p&&p[g])){var y=u(n,g);try{o(t,g,y)}catch(e){}}}return t}return t}},function(e,t,n){var r=n(435);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var p=n[0],f=n[1],h=n.index;if(s+=e.slice(a,h),a=h+p.length,f)s+=f[1];else{var d=e[a],g=n[2],y=n[3],v=n[4],m=n[5],_=n[6],A=n[7];s&&(r.push(s),s="");var b=null!=g&&null!=d&&d!==g,x="+"===_||"*"===_,w="?"===_||"*"===_,E=n[2]||c,T=v||m;r.push({name:y||o++,prefix:g||"",delimiter:E,optional:w,repeat:x,partial:b,asterisk:!!A,pattern:T?l(T):A?".*":"[^"+u(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},u=(i||{}).pretty?a:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!=typeof c){var p,f=s[c.name];if(null==f){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(p=u(f[h]),!t[l].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===h?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?encodeURI(f).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):u(f),!t[l].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)a+=u(l);else{var f=u(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+f+h+")*"),a+=h=l.optional?l.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var d=u(n.delimiter||"/"),g=a.slice(-d.length)===d;return i||(a=(g?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+d+"|$)",c(new RegExp("^"+a,p(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(13)),a=n(54),s=n(166),u=l(n(165));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,n){return Math.min(Math.max(e,t),n)};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,n=e.initialEntries,l=void 0===n?["/"]:n,p=e.initialIndex,f=void 0===p?0:p,h=e.keyLength,d=void 0===h?6:h,g=(0,u.default)(),y=function(e){i(x,e),x.length=x.entries.length,g.notifyListeners(x.location,x.action)},v=function(){return Math.random().toString(36).substr(2,d)},m=c(f,0,l.length-1),_=l.map(function(e){return"string"==typeof e?(0,s.createLocation)(e,void 0,v()):(0,s.createLocation)(e,void 0,e.key||v())}),A=a.createPath,b=function(e){var n=c(x.index+e,0,x.entries.length-1),r=x.entries[n];g.confirmTransitionTo(r,"POP",t,function(e){e?y({action:"POP",location:r,index:n}):y()})},x={length:_.length,action:"POP",location:_[m],index:m,entries:_,createHref:A,push:function(e,n){(0,o.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(e,n,v(),x.location);g.confirmTransitionTo(i,"PUSH",t,function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),y({action:"PUSH",location:i,index:t,entries:n})}})},replace:function(e,n){(0,o.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(e,n,v(),x.location);g.confirmTransitionTo(i,"REPLACE",t,function(e){e&&(x.entries[x.index]=i,y({action:"REPLACE",location:i}))})},go:b,goBack:function(){return b(-1)},goForward:function(){return b(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return g.setPrompt(e)},listen:function(e){return g.appendListener(e)}};return x}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(13)),o=c(n(19)),a=n(166),s=n(54),u=c(n(165)),l=n(217);function c(e){return e&&e.__esModule?e:{default:e}}var p={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+(0,s.stripLeadingSlash)(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:s.stripLeadingSlash,decodePath:s.addLeadingSlash},slash:{encodePath:s.addLeadingSlash,decodePath:s.addLeadingSlash}},f=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},h=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(l.canUseDOM,"Hash history needs a DOM");var t=window.history,n=(0,l.supportsGoWithoutReloadUsingHash)(),c=e.getUserConfirmation,d=void 0===c?l.getConfirmation:c,g=e.hashType,y=void 0===g?"slash":g,v=e.basename?(0,s.stripTrailingSlash)((0,s.addLeadingSlash)(e.basename)):"",m=p[y],_=m.encodePath,A=m.decodePath,b=function(){var e=A(f());return(0,i.default)(!v||(0,s.hasBasename)(e,v),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+v+'".'),v&&(e=(0,s.stripBasename)(e,v)),(0,a.createLocation)(e)},x=(0,u.default)(),w=function(e){r(B,e),B.length=t.length,x.notifyListeners(B.location,B.action)},E=!1,T=null,M=function(){var e=f(),t=_(e);if(e!==t)h(t);else{var n=b(),r=B.location;if(!E&&(0,a.locationsAreEqual)(r,n))return;if(T===(0,s.createPath)(n))return;T=null,S(n)}},S=function(e){E?(E=!1,w()):x.confirmTransitionTo(e,"POP",d,function(t){t?w({action:"POP",location:e}):C(e)})},C=function(e){var t=B.location,n=O.lastIndexOf((0,s.createPath)(t));-1===n&&(n=0);var r=O.lastIndexOf((0,s.createPath)(e));-1===r&&(r=0);var i=n-r;i&&(E=!0,L(i))},I=f(),P=_(I);I!==P&&h(P);var k=b(),O=[(0,s.createPath)(k)],L=function(e){(0,i.default)(n,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},R=0,j=function(e){1===(R+=e)?(0,l.addEventListener)(window,"hashchange",M):0===R&&(0,l.removeEventListener)(window,"hashchange",M)},N=!1,B={length:t.length,action:"POP",location:k,createHref:function(e){return"#"+_(v+(0,s.createPath)(e))},push:function(e,t){(0,i.default)(void 0===t,"Hash history cannot push state; it is ignored");var n=(0,a.createLocation)(e,void 0,void 0,B.location);x.confirmTransitionTo(n,"PUSH",d,function(e){if(e){var t=(0,s.createPath)(n),r=_(v+t);if(f()!==r){T=t,function(e){window.location.hash=e}(r);var o=O.lastIndexOf((0,s.createPath)(B.location)),a=O.slice(0,-1===o?0:o+1);a.push(t),O=a,w({action:"PUSH",location:n})}else(0,i.default)(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),w()}})},replace:function(e,t){(0,i.default)(void 0===t,"Hash history cannot replace state; it is ignored");var n=(0,a.createLocation)(e,void 0,void 0,B.location);x.confirmTransitionTo(n,"REPLACE",d,function(e){if(e){var t=(0,s.createPath)(n),r=_(v+t);f()!==r&&(T=t,h(r));var i=O.indexOf((0,s.createPath)(B.location));-1!==i&&(O[i]=t),w({action:"REPLACE",location:n})}})},go:L,goBack:function(){return L(-1)},goForward:function(){return L(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=x.setPrompt(e);return N||(j(1),N=!0),function(){return N&&(N=!1,j(-1)),t()}},listen:function(e){var t=x.appendListener(e);return j(1),function(){j(-1),t()}}};return B}},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(13)),a=p(n(19)),s=n(166),u=n(54),l=p(n(165)),c=n(217);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(){try{return window.history.state||{}}catch(e){return{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(c.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,c.supportsHistory)(),p=!(0,c.supportsPopStateOnHashChange)(),h=e.forceRefresh,d=void 0!==h&&h,g=e.getUserConfirmation,y=void 0===g?c.getConfirmation:g,v=e.keyLength,m=void 0===v?6:v,_=e.basename?(0,u.stripTrailingSlash)((0,u.addLeadingSlash)(e.basename)):"",A=function(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return(0,o.default)(!_||(0,u.hasBasename)(a,_),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+_+'".'),_&&(a=(0,u.stripBasename)(a,_)),(0,s.createLocation)(a,r,n)},b=function(){return Math.random().toString(36).substr(2,m)},x=(0,l.default)(),w=function(e){i(N,e),N.length=t.length,x.notifyListeners(N.location,N.action)},E=function(e){(0,c.isExtraneousPopstateEvent)(e)||S(A(e.state))},T=function(){S(A(f()))},M=!1,S=function(e){M?(M=!1,w()):x.confirmTransitionTo(e,"POP",y,function(t){t?w({action:"POP",location:e}):C(e)})},C=function(e){var t=N.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(M=!0,O(i))},I=A(f()),P=[I.key],k=function(e){return _+(0,u.createPath)(e)},O=function(e){t.go(e)},L=0,R=function(e){1===(L+=e)?((0,c.addEventListener)(window,"popstate",E),p&&(0,c.addEventListener)(window,"hashchange",T)):0===L&&((0,c.removeEventListener)(window,"popstate",E),p&&(0,c.removeEventListener)(window,"hashchange",T))},j=!1,N={length:t.length,action:"POP",location:I,createHref:k,push:function(e,i){(0,o.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==i),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(e,i,b(),N.location);x.confirmTransitionTo(a,"PUSH",y,function(e){if(e){var r=k(a),i=a.key,s=a.state;if(n)if(t.pushState({key:i,state:s},null,r),d)window.location.href=r;else{var u=P.indexOf(N.location.key),l=P.slice(0,-1===u?0:u+1);l.push(a.key),P=l,w({action:"PUSH",location:a})}else(0,o.default)(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},replace:function(e,i){(0,o.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==i),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(e,i,b(),N.location);x.confirmTransitionTo(a,"REPLACE",y,function(e){if(e){var r=k(a),i=a.key,s=a.state;if(n)if(t.replaceState({key:i,state:s},null,r),d)window.location.replace(r);else{var u=P.indexOf(N.location.key);-1!==u&&(P[u]=a.key),w({action:"REPLACE",location:a})}else(0,o.default)(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},go:O,goBack:function(){return O(-1)},goForward:function(){return O(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=x.setPrompt(e);return j||(R(1),j=!0),function(){return j&&(j=!1,R(-1)),t()}},listen:function(e){var t=x.appendListener(e);return R(1),function(){R(-1),t()}}};return N}},function(e,t,n){"use strict";function r(e){return+e}function i(e){return e*e}function o(e){return e*(2-e)}function a(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function s(e){return e*e*e}function u(e){return--e*e*e+1}function l(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.r(t);var c=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),p=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),f=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),h=Math.PI,d=h/2;function g(e){return 1-Math.cos(e*d)}function y(e){return Math.sin(e*d)}function v(e){return(1-Math.cos(h*e))/2}function m(e){return Math.pow(2,10*e-10)}function _(e){return 1-Math.pow(2,-10*e)}function A(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function b(e){return 1-Math.sqrt(1-e*e)}function x(e){return Math.sqrt(1- --e*e)}function w(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var E=4/11,T=6/11,M=8/11,S=.75,C=9/11,I=10/11,P=.9375,k=21/22,O=63/64,L=1/E/E;function R(e){return 1-j(1-e)}function j(e){return(e=+e)<E?L*e*e:e<M?L*(e-=T)*e+S:e<I?L*(e-=C)*e+P:L*(e-=k)*e+O}function N(e){return((e*=2)<=1?1-j(1-e):j(e-1)+1)/2}var B=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),D=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),F=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),z=2*Math.PI,U=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=z);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*z)},i.period=function(n){return e(t,n)},i}(1,.3),G=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=z);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*z)},i.period=function(n){return e(t,n)},i}(1,.3),V=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=z);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*z)},i.period=function(n){return e(t,n)},i}(1,.3);n.d(t,"easeLinear",function(){return r}),n.d(t,"easeQuad",function(){return a}),n.d(t,"easeQuadIn",function(){return i}),n.d(t,"easeQuadOut",function(){return o}),n.d(t,"easeQuadInOut",function(){return a}),n.d(t,"easeCubic",function(){return l}),n.d(t,"easeCubicIn",function(){return s}),n.d(t,"easeCubicOut",function(){return u}),n.d(t,"easeCubicInOut",function(){return l}),n.d(t,"easePoly",function(){return f}),n.d(t,"easePolyIn",function(){return c}),n.d(t,"easePolyOut",function(){return p}),n.d(t,"easePolyInOut",function(){return f}),n.d(t,"easeSin",function(){return v}),n.d(t,"easeSinIn",function(){return g}),n.d(t,"easeSinOut",function(){return y}),n.d(t,"easeSinInOut",function(){return v}),n.d(t,"easeExp",function(){return A}),n.d(t,"easeExpIn",function(){return m}),n.d(t,"easeExpOut",function(){return _}),n.d(t,"easeExpInOut",function(){return A}),n.d(t,"easeCircle",function(){return w}),n.d(t,"easeCircleIn",function(){return b}),n.d(t,"easeCircleOut",function(){return x}),n.d(t,"easeCircleInOut",function(){return w}),n.d(t,"easeBounce",function(){return j}),n.d(t,"easeBounceIn",function(){return R}),n.d(t,"easeBounceOut",function(){return j}),n.d(t,"easeBounceInOut",function(){return N}),n.d(t,"easeBack",function(){return F}),n.d(t,"easeBackIn",function(){return B}),n.d(t,"easeBackOut",function(){return D}),n.d(t,"easeBackInOut",function(){return F}),n.d(t,"easeElastic",function(){return G}),n.d(t,"easeElasticIn",function(){return U}),n.d(t,"easeElasticOut",function(){return G}),n.d(t,"easeElasticInOut",function(){return V})},function(e,t,n){"use strict";n.r(t);var r=n(13),i=n.n(r),o=n(3),a=n.n(o),s=n(15),u=n.n(s),l=n(274),c=n.n(l),p=n(65).a;function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(o))),r.history=c()(r.props),f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},t.prototype.render=function(){return a.a.createElement(p,{history:this.history,children:this.props.children})},t}(a.a.Component);h.propTypes={basename:u.a.string,forceRefresh:u.a.bool,getUserConfirmation:u.a.func,keyLength:u.a.number,children:u.a.node};var d=h,g=n(273),y=n.n(g);function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=v(this,e.call.apply(e,[this].concat(o))),r.history=y()(r.props),v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},t.prototype.render=function(){return a.a.createElement(p,{history:this.history,children:this.props.children})},t}(a.a.Component);m.propTypes={basename:u.a.string,getUserConfirmation:u.a.func,hashType:u.a.oneOf(["hashbang","noslash","slash"]),children:u.a.node};var _=m,A=n(19),b=n.n(A),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=w(this,e.call.apply(e,[this].concat(o))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!E(e)){e.preventDefault();var t=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?t.replace(o):t.push(o)}},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);b()(this.context.router,"You should not use <Link> outside a <Router>");var i=this.context.router.history.createHref("string"==typeof t?{pathname:t}:t);return a.a.createElement("a",x({},r,{onClick:this.handleClick,href:i,ref:n}))},t}(a.a.Component);T.propTypes={onClick:u.a.func,target:u.a.string,replace:u.a.bool,to:u.a.oneOfType([u.a.string,u.a.object]).isRequired,innerRef:u.a.oneOfType([u.a.string,u.a.func])},T.defaultProps={replace:!1},T.contextTypes={router:u.a.shape({history:u.a.shape({push:u.a.func.isRequired,replace:u.a.func.isRequired,createHref:u.a.func.isRequired}).isRequired}).isRequired};var M=T,S=n(136).a,C=n(88).a,I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var k=function(e){var t=e.to,n=e.exact,r=e.strict,i=e.location,o=e.activeClassName,s=e.className,u=e.activeStyle,l=e.style,c=e.isActive,p=e.ariaCurrent,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","ariaCurrent"]);return a.a.createElement(C,{path:"object"===(void 0===t?"undefined":P(t))?t.pathname:t,exact:n,strict:r,location:i,children:function(e){var n=e.location,r=e.match,i=!!(c?c(r,n):r);return a.a.createElement(M,I({to:t,className:i?[s,o].filter(function(e){return e}).join(" "):s,style:i?I({},l,u):l,"aria-current":i&&p},f))}})};k.propTypes={to:M.propTypes.to,exact:u.a.bool,strict:u.a.bool,location:u.a.object,activeClassName:u.a.string,className:u.a.string,activeStyle:u.a.object,style:u.a.object,isActive:u.a.func,ariaCurrent:u.a.oneOf(["page","step","location","true"])},k.defaultProps={activeClassName:"active",ariaCurrent:"true"};var O=k,L=n(135).a,R=n(134).a,j=n(133).a,N=n(132).a,B=n(64).a,D=n(131).a;n.d(t,"BrowserRouter",function(){return d}),n.d(t,"HashRouter",function(){return _}),n.d(t,"Link",function(){return M}),n.d(t,"MemoryRouter",function(){return S}),n.d(t,"NavLink",function(){return O}),n.d(t,"Prompt",function(){return L}),n.d(t,"Redirect",function(){return R}),n.d(t,"Route",function(){return C}),n.d(t,"Router",function(){return p}),n.d(t,"StaticRouter",function(){return j}),n.d(t,"Switch",function(){return N}),n.d(t,"matchPath",function(){return B}),n.d(t,"withRouter",function(){return D})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dsn:"https://7525e90438f84fe0a0892f8bff46a063@alerts.kevinlin.info/2"}},function(e,t,n){var r=function(){var e={},t=Math.PI/180,n=180/Math.PI,r=6378137,i=20037508.342789244;function o(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var n=this.size,r=e[this.size]={};r.Bc=[],r.Cc=[],r.zc=[],r.Ac=[];for(var i=0;i<30;i++)r.Bc.push(n/360),r.Cc.push(n/(2*Math.PI)),r.zc.push(n/2),r.Ac.push(n),n*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}return o.prototype.px=function(e,n){var r=this.zc[n],i=Math.min(Math.max(Math.sin(t*e[1]),-.9999),.9999),o=Math.round(r+e[0]*this.Bc[n]),a=Math.round(r+.5*Math.log((1+i)/(1-i))*-this.Cc[n]);return o>this.Ac[n]&&(o=this.Ac[n]),a>this.Ac[n]&&(a=this.Ac[n]),[o,a]},o.prototype.ll=function(e,t){var r=(e[1]-this.zc[t])/-this.Cc[t];return[(e[0]-this.zc[t])/this.Bc[t],n*(2*Math.atan(Math.exp(r))-.5*Math.PI)]},o.prototype.bbox=function(e,t,n,r,i){r&&(t=Math.pow(2,n)-1-t);var o=[e*this.size,(+t+1)*this.size],a=[(+e+1)*this.size,t*this.size],s=this.ll(o,n).concat(this.ll(a,n));return"900913"===i?this.convert(s,"900913"):s},o.prototype.xyz=function(e,t,n,r){"900913"===r&&(e=this.convert(e,"WGS84"));var i=[e[0],e[1]],o=[e[2],e[3]],a=this.px(i,t),s=this.px(o,t),u=[Math.floor(a[0]/this.size),Math.floor((s[0]-1)/this.size)],l=[Math.floor(s[1]/this.size),Math.floor((a[1]-1)/this.size)],c={minX:Math.min.apply(Math,u)<0?0:Math.min.apply(Math,u),minY:Math.min.apply(Math,l)<0?0:Math.min.apply(Math,l),maxX:Math.max.apply(Math,u),maxY:Math.max.apply(Math,l)};if(n){var p={minY:Math.pow(2,t)-1-c.maxY,maxY:Math.pow(2,t)-1-c.minY};c.minY=p.minY,c.maxY=p.maxY}return c},o.prototype.convert=function(e,t){return"900913"===t?this.forward(e.slice(0,2)).concat(this.forward(e.slice(2,4))):this.inverse(e.slice(0,2)).concat(this.inverse(e.slice(2,4)))},o.prototype.forward=function(e){var n=[r*e[0]*t,r*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return n[0]>i&&(n[0]=i),n[0]<-i&&(n[0]=-i),n[1]>i&&(n[1]=i),n[1]<-i&&(n[1]=-i),n},o.prototype.inverse=function(e){return[e[0]*n/r,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/r)))*n]},o}();e.exports=r},function(e,t,n){var r=n(278),i={};function o(e){return i[e=e||256]||(i[e]=new r({size:e})),i[e]}e.exports.viewport=function(e,t,n,r,i){n=void 0===n?0:n,r=void 0===r?20:r;var a=o(i),s=r,u=a.px([e[0],e[1]],s),l=a.px([e[2],e[3]],s),c=l[0]-u[0],p=u[1]-l[1],f=[c/t[0],p/t[1]],h=[(e[0]+e[2])/2,(e[1]+e[3])/2],d=Math.floor(Math.min(s-Math.log(f[0])/Math.log(2),s-Math.log(f[1])/Math.log(2))),g=Math.max(n,Math.min(r,d));return{center:h,zoom:g}},e.exports.bounds=function(e,t,n,r){void 0!==e.lon&&(e=[e.lon,e.lat]);var i=o(r),a=i.px(e,t),s=i.ll([a[0]-n[0]/2,a[1]-n[1]/2],t),u=i.ll([a[0]+n[0]/2,a[1]+n[1]/2],t);return[s[0],u[1],u[0],s[1]]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fitMapBounds=void 0;var r=n(279);t.fitMapBounds=function(e,t,n,i){var o=e.filter(function(e){return e.accuracy<t}).map(function(e){return e.longitude}).reduce(function(e,t){return Math.min(e,t)},1/0),a=e.filter(function(e){return e.accuracy<t}).map(function(e){return e.latitude}).reduce(function(e,t){return Math.max(e,t)},-1/0),s=e.filter(function(e){return e.accuracy<t}).map(function(e){return e.longitude}).reduce(function(e,t){return Math.max(e,t)},-1/0),u=e.filter(function(e){return e.accuracy<t}).map(function(e){return e.latitude}).reduce(function(e,t){return Math.min(e,t)},1/0);return(0,r.viewport)([o,u,s,a],[n,i])};t.default=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return function(n){return function(r){return(e[r.type]||function(){})(t,r),n(r)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(158),a=n(144),s=n(184),u=p(n(281)),l=p(n(208)),c=n(280);function p(e){return e&&e.__esModule?e:{default:e}}var f,h,d,g=(f={},h=o.FETCH_LOCATIONS,d=function(e){var t=e.getState(),n=t.context,u=n.width,p=n.height,f=t.dataSource,h=f.user,d=f.device,g=t.filters.accuracyThreshold,y=t.map.viewport;h&&d&&(e.dispatch((0,s.startProgress)()),(0,l.default)({endpoint:"api/locations",method:"GET",data:{}},function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter(function(e){return e.user===h});if(n.length){var l=(0,c.fitMapBounds)(n,g,u,p),f=i(l.center,2),d=f[0],v=f[1],m=l.zoom;e.dispatch((0,a.setViewport)(r({},y,{latitude:v,longitude:d,zoom:m-.5,transitionDuration:1500})))}e.dispatch((0,o.loadLocations)(n)),e.dispatch((0,s.endProgress)())}))},h in f?Object.defineProperty(f,h,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[h]=d,f);t.default=(0,u.default)(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(123),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(t){return function(n){try{var r=t(n);return o.default.captureBreadcrumb({message:"State reduction in response to dispatched action",category:"redux",data:{action:n,store:e.getState()}}),r}catch(t){throw o.default.captureException(t,{extra:{action:n,store:e.getState()}}),t}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(283)),i=o(n(282));function o(e){return e&&e.__esModule?e:{default:e}}var a=[r.default,i.default];t.default=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(184),s=n(75),u=(i=s)&&i.__esModule?i:{default:i};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(l(r={},a.START_PROGRESS,function(e){return o({},e,{isLoading:!0})}),l(r,a.END_PROGRESS,function(e){return o({},e,{isLoading:!1})}),r);t.default=(0,u.default)(c,{isLoading:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(144),a=n(75),s=(r=a)&&r.__esModule?r:{default:r};var u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o.SET_VIEWPORT,function(e,t){return i({},e,{viewport:t.payload.viewport})});t.default=(0,s.default)(u,{viewport:{longitude:0,latitude:0,zoom:0,minZoom:0,maxZoom:20}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(158),a=n(75),s=(r=a)&&r.__esModule?r:{default:r};var u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o.LOAD_LOCATIONS,function(e,t){return i({},e,{data:t.payload.locations||[]})});t.default=(0,s.default)(u,{data:[]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(203),a=n(75),s=(r=a)&&r.__esModule?r:{default:r};var u={accuracyThreshold:1/0},l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o.SET_ACCURACY_FILTER,function(e,t){return i({},e,{accuracyThreshold:t.payload.threshold})});t.default=(0,s.default)(l,u)},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(205),s=n(75),u=(i=s)&&i.__esModule?i:{default:i};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={user:null,device:null,timestamp:{start:(new Date).getTime()/1e3-2678400,end:(new Date).getTime()/1e3+86400}},p=(l(r={},a.SET_USER,function(e,t){return o({},e,{user:t.payload.user})}),l(r,a.SET_DEVICE,function(e,t){return o({},e,{device:t.payload.device})}),l(r,a.SET_TIMESTAMP_START,function(e,t){return o({},e,{timestamp:o({},e.timestamp,{start:t.payload.timestamp})})}),l(r,a.SET_TIMESTAMP_END,function(e,t){return o({},e,{timestamp:o({},e.timestamp,{end:t.payload.timestamp})})}),r);t.default=(0,u.default)(p,c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(185),a=n(75),s=(r=a)&&r.__esModule?r:{default:r};var u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},o.SET_WINDOW_DIMENSIONS,function(e,t){var n=t.payload,r=n.width,o=n.height;return i({},e,{width:r,height:o,isCompact:r<600||o<700})});t.default=(0,s.default)(u,{width:null,height:null,isCompact:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),i=p(n(290)),o=p(n(289)),a=p(n(288)),s=p(n(287)),u=p(n(286)),l=p(n(121)),c=p(n(285));function p(e){return e&&e.__esModule?e:{default:e}}var f=(0,r.combineReducers)({context:i.default,dataSource:o.default,filters:a.default,location:s.default,map:u.default,options:l.default,progress:c.default});t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),i=a(n(291)),o=a(n(284));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.compose;t.default=(0,r.createStore)(i.default,s(r.applyMiddleware.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.default))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),s=(r=a)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){return function(t){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=u(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.state={width:null,height:null},r.onResize=function(){return r.setState({width:window.innerWidth,height:window.innerHeight})},u(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.Component),o(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var t=this.state,n=t.width,r=t.height;return null===n||null===r?null:s.default.createElement(e,i({},this.props,{width:n,height:r}))}}]),n}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6CAQAAAAi5ZK2AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfhDBYEBiorpkFJAAAYuklEQVR42u2de5wU1ZXHv90MJCDDHWUgKESNu4uIUR5GMGxco3kZybrDoBAjAxLcIGKMilF3E8YluLvGFTBZCIsfeaMGjIBJMHGTKCyR/YABnBgRzSfK6miUh/YFX+Exs3/M7erHdHdVdVfVudX6/adqpmuqTtVvTvV9nHtOgipGd6E7it70pR8n0o9+9KWeOnrRg24kaeMw73KQtzjAXl7ndf7M6+zlAJr31DFp+8MiIW1AsOgEtZzEQIYwkvPpVdHJDrKZrbTwAq9xSLVL31twVIXoOkFvBjGKS7ggtIts4lG2sJsD8Zc/1qLrGk5mFGNpiPSy61jLFl5WR6Xvv1xiKro+kfOZyGhRIzawgs3qz9LPwj8xE13XMJjLmCltRw538BC74uT3sRFdd2UoU5gqbUdRFrGYp9URaTO8EAPRdYLBXM0N0nZ44h7uY5ftTT3LRdf1jGOBtBW+mc4atV/aiOJYK7pOcC7Nwk21StjA93jKTp+3UnTdg0aW0UXajoppYxJr1bvSZuRjnei6nml8T9qKQGlmoV0ve6tE1/25jeukrQiF+dypXpU2Io01ousB3M7V0laEyn3MUq3SRoAlouu+zKxSD89nPrPVXmkjxEXXPbmxyr7D3Whmnnpb0gBR0XUXrmClpAViNPGg3Hy9oOh6BI9RJ3d9Yd7iYrVN5tJJmcvqer2KrR9gyeF4tur7db3EpQU8XSe48gP6Ui9EE/dHPW4Xuej6E6xjSNRXtZoWxqiXorxgpK93ndBTefFDyfMYwot6qo7Q/SK8lB7ATxkW3fVixk4ujWroJjJP14288qHkJRjGK7oxmktFIrruoZfxcDQ3FGse1st0j/AvE8HrXQ/iufCvUkWcoXaHe4HQPV2P+1Bynzynx4V7gVBF1zV6LqvDvYGqZLWeq2vCO32Ir3d9Ar/+sOlWNjv5vHoznFOHJro+nZC/mYJkOxv5PfuAvpzFhQyXNqiDQer5ME4bkuj6Qh4P82kESStzaMn73RBmMEDaMICL1BPBnzSU73Q9IT6StzC9k+Qdv/29tGkAj+sJwZ80BNH1LfGZTmmlmUMFPznETKwIalupbwn6lAGLrhN6Dt+P6nlUztwikgMc4m5p8zr4vp4T7Mh8oKLrLizlpmifSCVs5+mSn7ewQ9rEDm5iqQ5wFUCAousa1jAp+idSPu5tpI3SJqaZxJrgeu6Bia67sp6IJgyC4hnXI6xozHXQyHrdNZhTBSS6rmFd/NaduS872SdtYjajWReMtwciuu7C6vhJ7gXxCPFcRrM6iO/2AETXCRbH7cXegXvyqT7SJubTyOLKW/JBePrd8Wq+dbCPuR5e3knekTY0n0mV9yQr/q/Rt8SpX97BezzCSt7zdGwvmmiwbdX0requSv68QtH1hPiMvnVwlF+ylLd8/c3H+XqICerKokmtKv+PKxI9TtMqHWxhYc7g6km8VdTjE2SHow9nGn8lbX42FUzFVCB6vCZP4VkW8Yesn+u4kgaeZWbBodhamvkjq8ikkUjyOb5Bb+nbyFD2xGvZousTOCB91955maVsyvr5ozTQRHeg8NTqUGbQH9jPCh6lreDfWUDv8sIsyhRd17AtLlEx+1jJL8gsEa3hYq7ihJxjdrCRZ9hLOogi+9b2sIitWT/3oYlLpBYB5rKTEeUkLSxX9HnxyOvWuZ3+aaaVER6xgwVkrzwayDQ7Furco270/0dlia7HxSHcsXM7fTBTOavMsx3jF3ln+zTX0l/6JmG8WuP3T8oQPR5x7Pnt9JOZXHG36z3W8CCHnZ9ruJivy6+39h0n71t03YO3bRuSzqdwOz2YAZZ93MevszpztVxBI91kb/g4f7nq/Iu+zO5B11Lt9KDYzcKcadkBTJEdvFmurvJzuE/RdaPNa9K8tNODoZ3/4V6yU70PZhpnyt36WLXW+8G+RNcDeEXuvkoTVDvdO0f4KcuyJmQS/B1T6Sf1AD7ufaGzD9F1gu129s2Dbaf74SAreCTr3fIRxjCBCBaedmYn53hNY+JH9Kn8l8TduBFGO90Pr7AkpxWhmMAYicGba9Qibwd6Fl2fSqR5UbzxLPfmNKmCbKf7YQcL+VPWz6dwDSOjfxyfUHu8HOZRdJ1gpx1DUBmiaKd7p41fcy/ZQ+HDuZbTojWihWFeXvFeRbds3nw/KyJqp/vhfdbnNCa78GUmc7zzcwTLJD3Ns3sSXdfbFBYafTvdD/tYmTMv151xXEG36JZJ9nHPLe9N9Pv5WtgPyxuF2unf4Gxps/J4gYU5AvfhC/ysyKz97KCtf0Bd6XaIB9H1iJyZRUGk2+mV2FqMWn4U9LTNSLecs66i6y7sl59TsKed7p2j/JIlpFyPG8K8YC+cor50hml30S1owtnVTvfDIR7kJ7jFOdwddJPOpTnnIrruWWItbyTY2U73w6ycf9hCfCX4pb61pcoIuK2NKiMuIzjsbqd75UXXI0JYJnkjs4t/WNLTdV/eCP2ZFCEe7XQvjHZdVtGdDcFf9mPFa8WU9vRQqxeXGqqIUzu9ckKJSZnJN8u4XpgTqaWGKuLXTi/NJNfHeApLw7hw0cnWUp5+e1iPoaVgep8WpvNNnoxpO704Z7uKHtIk8O38Y+EPinq67k9I2cdbme6pSxC/dnphdnCzyxFzwgpTGFC46mPxad/bwnoIcz1J/mmWcFMVSA7DXSQdEl5kShENi3h6eFMs2/m26zFxbacX43WmoYt8FsIwbDYFp1+Kefq0sKxwX2p5LvOrSnLoxyxqC35Sy+xwF0wU1LGgp+se4SVgcG/LnsyyMB+DEKWWSYZKgZj4wq33EDPIxCyjU2AMYB47eJDtAPTgorxlkqHRSKdx+AKvd51gueTjsXz5TAUM5zNm7yJuiiqweHnnxESFvtPPDTOU073OpHUZnQIkZbbHV3ISfyQ5t/OvOtMcpg3uTbQo4tWlSM8l1EV50U56dhJd14ebBvDCAI6IL2nRI/R0GJ1fxrezp4dcKUhwqMICUmYbqeidNM0TXSdYELYF30YV/azWdcgy3qQ9XVV0Ft8syG3M5Xv64PAtKD5U0TXsoQpxUmYb+fByjq75ok+JwoKzWVBwucyxqF97EXPYjHl1oWfUl87RNcftddes3Bqhk53R6QAdIV1f4J+ifhwRso/xAPTmoegv3k0dSe/mjsgNjdKK4VmxMk+YkK7f8DVOif6BRIRIhy3NUJ5K7+a+3iN5uRfisyYFZ5t8vHWIpMxW5EssS9ss0XUNU6UeR4KJZm+jh+jRuJJe0yoi+tRMVYhsT4+g5V6cz3A6AG2skDQjVFJmWydzeUffbNEvl3oYAAmazN7mnOX91UTKbIX6KI6+2aJ/V+xpADCKMwBor8r5dBAbmknj6OuIrk8UfR4AToK6J+OVU9wzKbOVivxLa5zx9PMlH0cHI5w5ONEJ/dBIN+TqpAwwGmdEn1jmiQIlbcRWdkmbEgLp4EixcUfzeI3ousaOumrDneHZZdKmBE67dOsdRnd029KefrLsA8nwdbP9XYGq5vHmbbNO/TjJ9MEnQ0b0UdKPJM1ZzuDsEmlTAkZ0aCbNKMiIPlbSklwmm+0zLoWu40bKbOskjRgLRnSdoEHSklzOdCL5FkubEigpsxX19AadSHu6RXWnAKaYGd9n+Z20KQEiOseWoXda9EGyduQzkPPM3mI8JjaOASmzFQ4UGZQW3ZpmXJqrjK8/b0sKuwCwxNNHpUW/RNaOzvyNsxZkadX4espshT39EkiCTtiYzuUq8//4R7ZImxIQlnj6BTqRhCKhqcJ8wpkMWJKVXjfOpMxWPPizNgmcJG1FYSYZX3+J30qbEghWDM4AnJQEBkpbUZhTnQVOy6rA1w+b+sw10Yc/5zMwCbZVbMgwySQS28NGaVMqJmW2dfJLsYckQaLYiDcG8Hmzt4xjFZ1JHkuacQAjk1gRPlGMSXQFoJXfSJtSISLrVQtzflJ3oZe0FcXpxxfN3oqY+7pFnt4raXs6xibj66/x39KmVEQ6asaGzHhJqdBMr/TlYrO3giMVnUkW4UjYHJK2zbB1pomPAPAGj0mbUgEps7XgO50kfaVNcKPemRpYGeWi2oCxZmgGSMqVAfbOlcbX9/GotCllkzLbOmlDiInoJ3Cp2bufv0gbUyYp517kSWLByhZ3vmY6GQf4mbQpZdHutN5t6B/HwtNB8Q9m7wHXiig2ctCEP/eUDH92iEFDroOvGl9P8Yi0KWVg0dAMseiyddDLyVL84xj6uk1DM5C0og/hifEm2uMga6VN8U26w2bD0AwkrWhZeKKn4+urebuiM0VPymzt8DDrx96zudz4+ts8LG2KTyyaYwOSZtwjFvRwkpz+RLoErE9SZlsnbQgAyTBzuwdPo/GVdyTS71VAymxtacjFKvysu5Mt52EPlcntwaY5NkjGbVyzwfj6e6yRNsUHtn2nx6zT+1GuMHvrc2ou241toh+UNsEvl5oqL+/zY2lTPPIX41ldOU7aFACSMXIXQzfH1x+JSTmvlNkq+fBnAJIckDbBP6PNLNFhVkub4gm7Xu6QZK+0Cf7p6vj6z2Ph6/aJ/rq0CeXwZRMGcJj7pU3xQMps7RH9z9ImlEMNV5q9R2PwX/uhpwfExQwA4GgMfD1ltnYMzcRY9CQTzN4vaJU2xgX7PD2GDbkOPm/SXLZZ7+t2xc3EtMuWNj2dPvhXvCxtTElSZmvHdAsknUieGPJZTgOgrXOJcKuwa7olhmPvucanS4A8bnG5nzYz0p2w5/WujsXZ1//OKe1lr68fNIuse5r1t+IcTEKc8/gknBIgm6wt95MyW1va7mxOQryTMqZLe7VbW9rLtg4bW5MQ92z6aV//Lc9Lm1KQlNna0oyjJQm8IG1FZZxnqsy1W1qyM+3ptnTYeCEJvCZtRaVcZbZbeE7alALY1mHjtSTELJq4AJ9yUuHZWNorZbbWePqhJKh2NknbUSnpsbltFjZQLBuE3aTaO6Le45vgwTDMKf1u3/d6ymzrpA3p4NF0vvcqyK6dLu21wzpft6zLtiUtehWUNv0k55g928r9WCb67rTosZ1py+ZqE2v6B3ZIm5LFX3gfgG70kDalgwNGdNXOOmlbKud0Rpi9pdKmZJHpsFkR/rxOtWeK8cVvnX8BJjulvbZJm+Jg2dDMWsiIXgVNORjolJ1aYk25H8s6bFsgI7rdoSeemWxu6AX+V9oUg2XNuJfBEV0dZYO0PUFwGn9r9mwp95My2zppQwA2qKNAVkoCW2cmfZL29Rd5UtoUwDLRjcYZ0TdLWxQMpzpF5pZa4etWvd6Nxo7oKpYrXQox2Sn3Y8OUQspsbRA9rXF2xpk7pI0KhgFcZPZs8HWLPN3RN1v0eOXuKcFE4+utPC5tik1xM46+2aLvkrYqKPo75X6WC5f7aTOhxlaEPzv6ZomujrJI2q6gmGjCjV/lV6J2aPMFU0uN9CNZ1NFdA/KyyNk2QVU2H+NLZm+5aLkfi77Rs7TNFf1pacuCo8lkVn9DtLRXymzrhJ8GOdrmiK6OME/atqDoI17uZztz+Hezv1d6uvcelfXCy5vv02fyB1nrguMAE0xmxG85dSGiopU5nSJ4hjDDJFIQ4JPq2cwP+Zlhd1kzPVUxvfl7s7cq4rSYLUwvELTVwnR+L/UwcnpmeaKrdq6Tsit4vmpSXB+IdDapleYiUeWHmMmrEg9iuspx5c45oOOUctWFExhj9h6I0NfnllhIcIi7JR5EnqadRFf7q2OStYPxpobBm5GV+9nu0gVqib5Jt0Htz/1FoWzv34vaqvBQjq8/GFH2hSdcj9gY9UPopGch0Z+yYJ4iML5KTwA06yO53jOuR0TcmDvGU/m/KiC6andW/1YB2eV+3o3gevtdj4g4selVqlN/rHAxj6qIjU1zuVPay45yPxGHQhfQsqDo6l2aJR5HOBzHZWZvTQQLdOtdj+gT5c03qwKvt2JlexZGaVnYXGbGvt+JwNfPdj3irChvvaCORURX+5kfpW3hkin381Do5X4uDOCIwJivCjYxihfoujM628JnjFPu5yehXueYa4dsCMOiu+0iGhYVXb3KfdFZFzYfZbzZWxti/ZL3+A4/L3lELTdHd9P3qSJjvqVK8c2Kzr7waXDK/YQVCriP613W0NUym/7R3XJR/UqIrlqr6Xu9m1Oyc52HvrR//sR0J33hidzlZMHJMJQfeWjmBcZ8VTQjeslOo+7LG9FZGTaHmWDkvoxrAz73NmY5w7yDmc3xwA428gx7gb6cxYVRfpcDfEwVTeruMlKgZ1bTSPwj/ACAbqzy0J/2zs/5gRN1ez7/bEPN4mY1u/iHbqL3jH/CsQxHmWgKWTRwfUDnbGdFViKzRq61o2JxrSpRYt7FQvW2k127CsiU+9kQUBWT92l2JE9yA9fZIXlTKck9DATrLuyzIYI3GI4yyZSn+go3VXy2N/mOk4+2OzM5T/r2OkhRr0qu8XD9x1THuFj6LoKjxnlx/bLi2mR7uM6RvJ4f2CI5fEm5LOvx8DZS23hA+j6C44t8HICjFZYF2Mn1zlfEaSzgr6VvLM0DyjXhjrevoG9J30lwZEp7PcYrZZ/lMW4j/bX5KX4Y7cxZaTxo5Ul0tb+amnOf4xSg/BIg7SznLmex1Gj+zZYMcQBNysPIk9fG5v3WZd8sm0xpr9/wf77/+gh3stwsDkgwiRnySxMztHgrUedRdNVOg/QdBcdnnXI/fhPtHOIWZx1sN75rW1zZGOVpqYrnbqXawzXS9xQUCcfXN/kq7fU61zsvvF78R5Qz4164Rr3k7UA/Ywn3slP6voIiXe6nzUdZgN1Md74O+jM/2ggYd3Zyr9dDfYiu2rlU+s6CIuG0TH/rsbTXZm50ZuLP5D/lliIW41Jvr3bw5+moVsZK31tQjOIMANpZ5uHoh5nlLIy6gDk2rDfPZazyUVra51CxWmtlmZSySDfCnnRJd9/GD1ngrP9oZKZJd2ARy5WvoHXfQdi6B+9I32NQ3GBWm4x0kgd05n3ucLIld+F6Z/mzVRynfK3j8D0ppN4178UqIN2G31p0MdIBbnAk786/2in5Gf4kL0N0ULudKMOYM9wJaircX3+J65xKhX34oVNEwCrGK9/FWMpcY6PncqP03QbBM85Q9Xm8yj7SoU3DgR3c7nyTncadgcbaBMY8VcYMcbmi17At6qCvcLi54HrxIZzLMtKJ187lX8w6d8vYyYhMdjjvlL2aTp9QHeV+0nFzxfkK3zJpR62jt3qznD8rO7pHvckg6XuunFaWlPw8wSRuslXyQeVJXoHooJ530i3Hlrkl4z6TzLRtSiXDRarsyuEVxfGpJ+I9z+6WH6aNXtImFqNJuec5KUqFwZtqFbdK33/5WJgfxhu3qopivSqO2FV3MVf6GZSLdflhvDFX3VXZCYII0745ruPx1uWH8cLyyhe+BiC6amdKdWWpyWBFqcxs1jLF+xRqMQJZkKGOMT6OKQctyw/jzgbGu8W0eyGgVTjqKGPiJ7tl+WHc2MCYcsbfOhPY0it1hIa4veStyg/jxloaVEBFKgJcb6eOMi5eTbrhLtMHkeaHKc1yxgXj5RCo6KCOMTleHbhvlyidFWl+mNLMZXIQ3+VpAl5Zq9rVjDgN1/RjlsknmU/E+WFKcauaUXmLPZtQ+iR6AiujeR5BUKj0xlBm2CJ5U2Wjb4UIqSOqL7Sg+KEPhPPDFOeiSsbYixHa6IM+Hd9hPB+Sx6DyZ9JKEVq2DPU8vatnRYwAO+kdjuQhig7qTUZwT3jnr2ruYUS5IRLuhD64rMexOuxrVB3jVajlkyKYUdCDeC78q1QN7Qz2H9TsjwgyYKndHBevkTpBltMzbMkjnDvUjZZU07CZsf7WpJVLhBPGegA/tacDbB07udTPytNKiDDBoWrlnOrJZhEw13BOVJILhIboU1lfIC/2B5kWGtSeKC8YeSpTtYdh8Q6cDpgmhkUruYDooNrVKvpUUxbKsnmAPmpVsDNoXhCM/NMjeMy+PB6RkeJL7gk9w0EwU7XaRv0H9kXfRL2U5KKigzqmVlFbTdUePdFMrVoVZCSMX6wI7NZ9mcl10lZEwnxmF6+tEhVWiA6gB3A7V0tbESr3MSu6vngprBEdQPfntir1+PncWaw0XvRYJTqArmdaNVWIAppZ6CUhd3RYJzqA7kEjy+2ogVMRbUxird+EX+Fj5YNV76pV1DAyfgulstjASGrUKvskt9TTM+h6xjHfdis7MZ01dr3Qc4nB49QJBjMlJnnr5rGYXdEPrPojBqJ3oLsylClMlbajKItYzNNBLTEMl9iI3oGuYTCX811pO3K4g4fYFdzywvCJmehp9Imcz0RGixqxgRVsVpXW9BMgpqJ3oGs4mVGMjbio0HoeZgsvx8m3c4m16Gl0gt4MYhSXcEFoF9nEo2xhNwdsb6a5UxWiZ9AJajmJgQxhJJ8psfjcCwfZzFZaeIHXOBR/qTP8P6MsoAKzgfLiAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE3LTEyLTIxVDIwOjA2OjQyLTA4OjAwmG89pQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0xMi0yMVQyMDowNjo0Mi0wODowMOkyhRkAAAAASUVORK5CYII="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,a,s,u,l,c,p,f=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(183),g=n(204),y=(p=g)&&p.__esModule?p:{default:p};function v(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var m=function(e){return function(t,n,r){var i=r.value;return r.value=function(){this._cache||(this._cache={});var t=this._cache[e];if(t)return t;for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=i.apply(this,r);return this._cache[e]=a,a},r}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n,r){var i=r.value;return r.value=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.data.length?i.apply(this,n):e},r}},A=(r=_(),i=_(),o=_(),a=m("minTimestamp"),s=m("dots"),u=m("path"),l=m("heatmap"),v((c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.accuracyThreshold=n,this.onPickHover=r}return h(e,[{key:"getScatterplotLayer",value:function(){var e=this;return new d.ScatterplotLayer({id:"location-scatterplot",data:this._getScatterplotLayerData(),fp64:!0,radiusMinPixels:3.5,radiusMaxPixels:3.5,pickable:!0,onHover:function(t){var n=t.x,r=t.y,i=t.object;if(!i)return e.onPickHover();var o=i.timestamp,a=i.accuracy,s=f(i.position,2),u=s[0],l=s[1];return e.onPickHover({x:n,y:r,annotations:[{heading:"Timestamp",value:y.default.date("F j, Y, g:i:s A",o)},{heading:"Coordinates",value:"("+l+", "+u+")"},{heading:"Accuracy",value:a+" m"}]})}})}},{key:"getLineLayer",value:function(){var e=this._getLineLayerData();return e?new d.LineLayer({id:"location-line",data:e,strokeWidth:3,fp64:!0}):null}},{key:"getScreenGridLayer",value:function(){return new d.ScreenGridLayer({id:"location-screen-grid",data:this._getScreenGridLayerData(),minColor:[0,0,0,0],maxColor:[90,189,250,245],cellSizePixels:20})}},{key:"_getMinTimestamp",value:function(){var e=this;return this.data.filter(function(t){return t.accuracy<e.accuracyThreshold}).map(function(e){return e.timestamp}).reduce(function(e,t){return Math.min(e,t)},1/0)}},{key:"_getScatterplotLayerData",value:function(){var e=this;return this.data.filter(function(t){return t.accuracy<=e.accuracyThreshold}).map(function(e){var t=e.timestamp,n=e.accuracy,r=e.latitude;return{position:[e.longitude,r],color:[59,149,204,180],timestamp:t,accuracy:n}})}},{key:"_getLineLayerData",value:function(){var e=this,t=this.data.sort(function(e,t){return e.timestamp-t.timestamp}).filter(function(t){return t.accuracy<e.accuracyThreshold});if(!t.length)return null;var n={sourcePosition:[t[0].longitude,t[0].latitude],targetPosition:[t[0].longitude,t[0].latitude]},r=t[t.length-1].timestamp;return t.reduce(function(t,n){var i=n.latitude,o=n.longitude,a=n.timestamp,s=t[t.length-1],u=(a-e._getMinTimestamp())/(r-e._getMinTimestamp()),l={sourcePosition:s.targetPosition,targetPosition:[o,i],color:[255*(1-u),160*u,255*u]};return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[l])},[n])}},{key:"_getScreenGridLayerData",value:function(){var e=this;return this.data.filter(function(t){return t.accuracy<=e.accuracyThreshold}).map(function(e){var t=e.latitude;return{position:[e.longitude,t]}})}}]),e}()).prototype,"getScatterplotLayer",[r],Object.getOwnPropertyDescriptor(c.prototype,"getScatterplotLayer"),c.prototype),v(c.prototype,"getLineLayer",[i],Object.getOwnPropertyDescriptor(c.prototype,"getLineLayer"),c.prototype),v(c.prototype,"getScreenGridLayer",[o],Object.getOwnPropertyDescriptor(c.prototype,"getScreenGridLayer"),c.prototype),v(c.prototype,"_getMinTimestamp",[a],Object.getOwnPropertyDescriptor(c.prototype,"_getMinTimestamp"),c.prototype),v(c.prototype,"_getScatterplotLayerData",[s],Object.getOwnPropertyDescriptor(c.prototype,"_getScatterplotLayerData"),c.prototype),v(c.prototype,"_getLineLayerData",[u],Object.getOwnPropertyDescriptor(c.prototype,"_getLineLayerData"),c.prototype),v(c.prototype,"_getScreenGridLayerData",[l],Object.getOwnPropertyDescriptor(c.prototype,"_getScreenGridLayerData"),c.prototype),c);t.default=A},function(e){e.exports={version:8,name:"Orion",metadata:{"mapbox:autocomposite":!0,"mapbox:type":"default","mapbox:origin":"dark-v9","mapbox:groups":{1444933322393.2852:{name:"POI labels  (scalerank 1)",collapsed:!1},1444855786460.0557:{name:"Roads",collapsed:!0},1444934295202.7542:{name:"Admin boundaries",collapsed:!0},1444856151690.9143:{name:"State labels",collapsed:!0},1444933721429.3076:{name:"Road labels",collapsed:!1},1444933358918.2366:{name:"POI labels (scalerank 2)",collapsed:!1},1444933808272.805:{name:"Water labels",collapsed:!1},1444933372896.5967:{name:"POI labels (scalerank 3)",collapsed:!1},1444855799204.86:{name:"Bridges",collapsed:!0},1444856087950.3635:{name:"Marine labels",collapsed:!1},1456969573402.7817:{name:"Hillshading",collapsed:!1},1444862510685.128:{name:"City labels",collapsed:!0},1444855769305.6016:{name:"Tunnels",collapsed:!0},1456970288113.8113:{name:"Landcover",collapsed:!1},1444856144497.7825:{name:"Country labels",collapsed:!0}}},center:[5.6413667081124,-1.1368683772161603e-13],zoom:.906890482241333,bearing:0,pitch:0,light:{intensity:.56},sources:{composite:{url:"mapbox://mapbox.mapbox-terrain-v2,mapbox.mapbox-streets-v7",type:"vector"}},sprite:"mapbox://sprites/linkiwi/cjdt2vsdj1iyi2sphfwyn3pno",glyphs:"mapbox://fonts/linkiwi/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",layout:{},paint:{"background-color":"hsl(203, 14%, 4%)"}},{id:"landcover_wood",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","wood"],layout:{},paint:{"fill-color":"hsl(218, 15%, 7%)","fill-opacity":.1,"fill-antialias":!1}},{id:"landcover_scrub",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","scrub"],layout:{},paint:{"fill-color":"hsl(218, 15%, 7%)","fill-opacity":.1,"fill-antialias":!1}},{id:"landcover_grass",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","grass"],layout:{},paint:{"fill-color":"hsl(218, 15%, 7%)","fill-opacity":.1,"fill-antialias":!1}},{id:"landcover_crop",type:"fill",metadata:{"mapbox:group":"1456970288113.8113"},source:"composite","source-layer":"landcover",maxzoom:14,filter:["==","class","crop"],layout:{},paint:{"fill-color":"hsl(218, 15%, 7%)","fill-opacity":.1,"fill-antialias":!1}},{id:"national_park",type:"fill",source:"composite","source-layer":"landuse_overlay",filter:["==","class","national_park"],layout:{},paint:{"fill-color":"hsl(132, 13%, 6%)","fill-opacity":{base:1,stops:[[5,0],[6,.5]]}}},{id:"parks",type:"fill",source:"composite","source-layer":"landuse",filter:["==","class","park"],layout:{},paint:{"fill-color":"hsl(188, 10%, 4%)","fill-opacity":{base:1,stops:[[5,0],[6,.75]]}}},{id:"industrial",type:"fill",source:"composite","source-layer":"landuse",filter:["==","class","industrial"],layout:{},paint:{"fill-color":"hsl(203, 14%, 7%)"}},{id:"hillshade_highlight_bright",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",94],layout:{},paint:{"fill-color":"hsl(0, 0%, 9%)","fill-opacity":{stops:[[14,.04],[16,0]]},"fill-antialias":!1}},{id:"hillshade_highlight_med",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",90],layout:{},paint:{"fill-color":"hsl(0, 0%, 9%)","fill-opacity":{stops:[[14,.04],[16,0]]},"fill-antialias":!1}},{id:"hillshade_shadow_faint",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",89],layout:{},paint:{"fill-color":"hsl(0, 0%, 9%)","fill-opacity":{stops:[[14,.033],[16,0]]},"fill-antialias":!1}},{id:"hillshade_shadow_med",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",78],layout:{},paint:{"fill-color":"hsl(0, 0%, 9%)","fill-opacity":{stops:[[14,.033],[16,0]]},"fill-antialias":!1}},{id:"hillshade_shadow_dark",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",67],layout:{},paint:{"fill-color":"hsl(0, 0%, 9%)","fill-opacity":{stops:[[14,.06],[16,0]]},"fill-antialias":!1}},{id:"hillshade_shadow_extreme",type:"fill",metadata:{"mapbox:group":"1456969573402.7817"},source:"composite","source-layer":"hillshade",maxzoom:16,filter:["==","level",56],layout:{},paint:{"fill-color":"hsl(0, 0%, 9%)","fill-opacity":{stops:[[14,.06],[16,0]]},"fill-antialias":!1}},{id:"waterway-river-canal",type:"line",source:"composite","source-layer":"waterway",minzoom:8,filter:["any",["==","class","canal"],["==","class","river"]],layout:{"line-cap":{base:1,stops:[[0,"butt"],[11,"round"]]},"line-join":"round"},paint:{"line-color":"hsl(185, 2%, 10%)","line-width":{base:1.3,stops:[[8.5,.1],[20,8]]},"line-opacity":{base:1,stops:[[8,0],[8.5,1]]}}},{id:"water shadow",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(194, 41%, 11%)","fill-translate":{base:1.2,stops:[[7,[0,0]],[16,[-1,-1]]]},"fill-translate-anchor":"viewport","fill-opacity":1}},{id:"water",type:"fill",source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(207, 31%, 8%)"}},{id:"barrier_line-land-line",type:"line",source:"composite","source-layer":"barrier_line",filter:["all",["==","$type","LineString"],["==","class","land"]],layout:{"line-cap":"round"},paint:{"line-width":{base:1.99,stops:[[14,.75],[20,40]]},"line-color":"hsl(207, 19%, 14%)"}},{id:"building",type:"fill",source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=","type","building:part"],["==","underground","false"]],layout:{},paint:{"fill-color":"hsl(203, 14%, 7%)","fill-opacity":{base:1,stops:[[15.5,0],[16,1]]},"fill-outline-color":"hsla(55, 1%, 15%, 0)"}},{id:"tunnel-street-low",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}}},{id:"tunnel-street_limited-low",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}}},{id:"tunnel-service-link-track-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","tunnel"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-dasharray":[3,3]}},{id:"tunnel-street_limited-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-dasharray":[3,3],"line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"tunnel-street-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-dasharray":[3,3],"line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"tunnel-secondary-tertiary-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.2,stops:[[10,.75],[18,2]]},"line-dasharray":[3,3],"line-gap-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"hsl(199, 6%, 13%)"}},{id:"tunnel-primary-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-dasharray":[3,3],"line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(199, 6%, 13%)"}},{id:"tunnel-trunk_link-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-dasharray":[3,3]}},{id:"tunnel-motorway_link-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-dasharray":[3,3]}},{id:"tunnel-trunk-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","trunk"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":1,"line-dasharray":[3,3]}},{id:"tunnel-motorway-case",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"hsl(199, 6%, 13%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":1,"line-dasharray":[3,3]}},{id:"tunnel-construction",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["==","class","construction"],["==","structure","tunnel"]]],layout:{"line-join":"miter"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-dasharray":{base:1,stops:[[14,[.4,.8]],[15,[.3,.6]],[16,[.2,.3]],[17,[.2,.25]],[18,[.15,.15]]]}}},{id:"tunnel-path",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!=","type","steps"],["==","class","path"],["==","structure","tunnel"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":{base:1,stops:[[14,0],[14.25,1]]}}},{id:"tunnel-steps",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","steps"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(199, 6%, 13%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[.3,.3]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}}},{id:"tunnel-trunk_link",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":1,"line-dasharray":[1,0]}},{id:"tunnel-motorway_link",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":1,"line-dasharray":[1,0]}},{id:"tunnel-pedestrian",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","tunnel"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":1,"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.5,.4]],[16,[1,.2]]]}}},{id:"tunnel-service-link-track",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","tunnel"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(199, 6%, 13%)","line-dasharray":[1,0]}},{id:"tunnel-street_limited",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"tunnel-street",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"tunnel-secondary-tertiary",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":1,"line-dasharray":[1,0],"line-blur":0}},{id:"tunnel-primary",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(199, 6%, 13%)","line-opacity":1,"line-dasharray":[1,0],"line-blur":0}},{id:"tunnel-trunk",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(199, 6%, 13%)"}},{id:"tunnel-motorway",type:"line",metadata:{"mapbox:group":"1444855769305.6016"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","tunnel"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-dasharray":[1,0],"line-opacity":1,"line-color":"hsl(199, 6%, 13%)","line-blur":0}},{id:"road-pedestrian-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","none"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,2],[18,14.5]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":0,"line-opacity":{base:1,stops:[[13.9,0],[14,1]]}}},{id:"road-street-low",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{stops:[[11,0],[11.25,1],[14,1],[14.01,0]]}}},{id:"road-street_limited-low",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{stops:[[11,0],[11.25,1],[14,1],[14.01,0]]}}},{id:"road-service-link-track-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["!in","structure","bridge","tunnel"],["in","class","link","service","track"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-opacity":{base:1,stops:[[13.9,0],[14,1]]}}},{id:"road-street_limited-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[13.9,0],[14,1]]}}},{id:"road-street-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[13.9,0],[14,1]]}}},{id:"road-main-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.2,stops:[[10,.75],[18,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}}},{id:"road-primary-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","primary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}}},{id:"road-motorway_link-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:10,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}}},{id:"road-trunk_link-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[6,0],[7,.4],[9,.5],[10,1]]}}},{id:"road-trunk-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:5,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","trunk"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.5],[9,1.4],[18,32]]},"line-opacity":{base:1,stops:[[6,0],[6.1,1]]}}},{id:"road-motorway-case",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-opacity":1}},{id:"road-construction",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["==","class","construction"],["==","structure","none"]]],layout:{"line-join":"miter"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-dasharray":{base:1,stops:[[14,[.4,.8]],[15,[.3,.6]],[16,[.2,.3]],[17,[.2,.25]],[18,[.15,.15]]]}}},{id:"road-sidewalks",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:16,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","type","crossing","sidewalk"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(212, 16%, 9%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-opacity":{base:1,stops:[[16,0],[16.25,1]]}}},{id:"road-path",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["!in","type","crossing","sidewalk","steps"],["==","class","path"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(212, 16%, 9%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}}},{id:"road-steps",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","type","steps"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(212, 16%, 9%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[.3,.3]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}}},{id:"road-trunk_link",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":1}},{id:"road-motorway_link",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:10,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":1}},{id:"road-pedestrian",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","none"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":1,"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.5,.4]],[16,[1,.2]]]}}},{id:"road-service-link-track",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["!in","structure","bridge","tunnel"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"road-street_limited",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"road-street",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","none"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"road-secondary-tertiary",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","class","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}}},{id:"road-primary",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","primary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}}},{id:"road-trunk",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:5,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","trunk"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.5],[9,1.4],[18,32]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":1}},{id:"road-motorway",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["==","class","motorway"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":1}},{id:"road-rail",type:"line",metadata:{"mapbox:group":"1444855786460.0557"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!in","structure","bridge","tunnel"],["in","class","major_rail","minor_rail"]]],layout:{"line-join":"round"},paint:{"line-color":"hsl(212, 16%, 9%)","line-width":{base:1,stops:[[14,.75],[20,1]]}}},{id:"bridge-pedestrian-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,2],[18,14.5]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":0,"line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"bridge-street-low",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}}},{id:"bridge-street_limited-low",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{stops:[[11.5,0],[12,1],[14,1],[14.01,0]]}}},{id:"bridge-service-link-track-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","bridge"],["in","class","link","service","track"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[14,.5],[18,12]]}}},{id:"bridge-street_limited-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]}}},{id:"bridge-street-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-gap-width":{base:1.5,stops:[[13,0],[14,2],[18,18]]}}},{id:"bridge-secondary-tertiary-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","class","secondary","tertiary"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.2,stops:[[10,.75],[18,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-translate":[0,0]}},{id:"bridge-primary-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","primary"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-translate":[0,0]}},{id:"bridge-trunk_link-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","trunk_link"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[10.99,0],[11,1]]}}},{id:"bridge-motorway_link-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["<=","layer",1],["==","class","motorway_link"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":1}},{id:"bridge-trunk-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[10,1],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}}},{id:"bridge-motorway-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}}},{id:"bridge-construction",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["==","class","construction"],["==","structure","bridge"]]],layout:{"line-join":"miter"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]},"line-dasharray":{base:1,stops:[[14,[.4,.8]],[15,[.3,.6]],[16,[.2,.3]],[17,[.2,.25]],[18,[.15,.15]]]}}},{id:"bridge-path",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!=","type","steps"],["==","class","path"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(212, 16%, 9%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[1,.5]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}}},{id:"bridge-steps",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","steps"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[15,1],[18,4]]},"line-color":"hsl(212, 16%, 9%)","line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.75,1]],[16,[1,.75]],[17,[.3,.3]]]},"line-opacity":{base:1,stops:[[14,0],[14.25,1]]}}},{id:"bridge-trunk_link",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","structure","bridge"],["==","type","trunk_link"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-motorway_link",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","class","motorway_link"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-pedestrian",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","pedestrian"],["==","structure","bridge"]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":1,"line-dasharray":{base:1,stops:[[14,[1,0]],[15,[1.5,.4]],[16,[1,.2]]]}}},{id:"bridge-service-link-track",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==","$type","LineString"],["all",["!=","type","trunk_link"],["==","structure","bridge"],["in","class","link","service","track"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[14,.5],[18,12]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-street_limited",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street_limited"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"bridge-street",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:11,filter:["all",["==","$type","LineString"],["all",["==","class","street"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12.5,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1,stops:[[13.99,0],[14,1]]}}},{id:"bridge-secondary-tertiary",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","type","secondary","tertiary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[8.5,.5],[10,.75],[18,26]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}}},{id:"bridge-primary",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","primary"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)","line-opacity":{base:1.2,stops:[[5,0],[5.5,1]]}}},{id:"bridge-trunk",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","class","trunk"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-motorway",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["!in","layer",2,3,4,5],["==","class","motorway"],["==","structure","bridge"]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-rail",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","class","major_rail","minor_rail"]]],layout:{"line-join":"round"},paint:{"line-color":"hsl(212, 16%, 9%)","line-width":{base:1,stops:[[14,.75],[20,1]]}}},{id:"bridge-trunk_link-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","trunk_link"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":{base:1,stops:[[10.99,0],[11,1]]}}},{id:"bridge-motorway_link-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.75],[20,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-opacity":1}},{id:"bridge-trunk-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[10,1],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}}},{id:"bridge-motorway-2-case",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-join":"round"},paint:{"line-width":{base:1.5,stops:[[7,.5],[10,1],[16,2]]},"line-color":"hsl(212, 16%, 9%)","line-gap-width":{base:1.5,stops:[[5,.75],[18,32]]}}},{id:"bridge-trunk_link-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["==","type","trunk_link"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-motorway_link-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==","$type","LineString"],["all",["==","class","motorway_link"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[12,.5],[14,2],[18,18]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-trunk-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","trunk"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"bridge-motorway-2",type:"line",metadata:{"mapbox:group":"1444855799204.86"},source:"composite","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","class","motorway"],["==","structure","bridge"],[">=","layer",2]]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":{base:1.5,stops:[[5,.75],[18,32]]},"line-color":"hsl(212, 16%, 9%)"}},{id:"admin-3-4-boundaries-bg",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",filter:["all",["==","maritime",0],[">=","admin_level",3]],layout:{"line-join":"bevel"},paint:{"line-color":"hsl(216, 10%, 13%)","line-width":{base:1,stops:[[3,3.5],[10,8]]},"line-opacity":{base:1,stops:[[4,0],[6,.75]]},"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":{base:1,stops:[[3,0],[8,3]]}}},{id:"admin-2-boundaries-bg",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==","admin_level",2],["==","maritime",0]],layout:{"line-join":"miter"},paint:{"line-width":{base:1,stops:[[3,3.5],[10,10]]},"line-color":"hsl(216, 10%, 13%)","line-opacity":{base:1,stops:[[3,0],[4,.5]]},"line-translate":[0,0],"line-blur":{base:1,stops:[[3,0],[10,2]]}}},{id:"admin-3-4-boundaries",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",filter:["all",["==","maritime",0],[">=","admin_level",3]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-dasharray":{base:1,stops:[[6,[2,0]],[7,[2,2,6,2]]]},"line-width":{base:1,stops:[[7,.75],[12,1.5]]},"line-opacity":{base:1,stops:[[2,0],[3,1]]},"line-color":"hsl(216, 10%, 13%)"}},{id:"admin-2-boundaries",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==","admin_level",2],["==","disputed",0],["==","maritime",0]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(216, 10%, 13%)","line-width":{base:1,stops:[[3,.5],[10,2]]}}},{id:"admin-2-boundaries-dispute",type:"line",metadata:{"mapbox:group":"1444934295202.7542"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==","admin_level",2],["==","disputed",1],["==","maritime",0]],layout:{"line-join":"round"},paint:{"line-dasharray":[1.5,1.5],"line-color":"hsl(216, 10%, 13%)","line-width":{base:1,stops:[[3,.5],[10,2]]}}},{id:"waterway-label",type:"symbol",source:"composite","source-layer":"waterway_label",minzoom:12,filter:["in","class","canal","river"],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-max-angle":30,"text-size":{base:1,stops:[[13,12],[18,16]]}},paint:{"text-halo-width":0,"text-halo-blur":0,"text-color":"hsl(0, 0%, 32%)"}},{id:"poi-scalerank3",type:"symbol",metadata:{"mapbox:group":"1444933372896.5967"},source:"composite","source-layer":"poi_label",filter:["all",["!in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"],["==","scalerank",3]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[16,11],[20,13]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":1,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"#212121","text-halo-width":1,"text-halo-blur":0}},{id:"poi-parks-scalerank3",type:"symbol",metadata:{"mapbox:group":"1444933372896.5967"},source:"composite","source-layer":"poi_label",filter:["all",["==","scalerank",3],["in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[16,11],[20,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-halo-blur":0,"text-halo-color":"#212121","text-halo-width":1,"text-color":"hsl(222, 11%, 43%)"}},{id:"road-label-small",type:"symbol",metadata:{"mapbox:group":"1444933721429.3076"},source:"composite","source-layer":"road_label",minzoom:15,filter:["all",["!in","class","ferry","golf","link","motorway","path","pedestrian","primary","secondary","street","street_limited","tertiary","track","trunk"],["==","$type","LineString"]],layout:{"text-size":{base:1,stops:[[15,10],[20,13]]},"text-max-angle":30,"symbol-spacing":500,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.01},paint:{"text-color":"hsl(227, 9%, 28%)","text-halo-color":"hsla(0, 0%, 13%, 0)","text-halo-width":1.25,"text-halo-blur":0}},{id:"road-label-medium",type:"symbol",metadata:{"mapbox:group":"1444933721429.3076"},source:"composite","source-layer":"road_label",minzoom:13,filter:["all",["==","$type","LineString"],["in","class","link","pedestrian","street","street_limited"]],layout:{"text-size":{base:1,stops:[[11,10],[20,14]]},"text-max-angle":30,"symbol-spacing":500,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.01},paint:{"text-color":"hsl(227, 9%, 28%)","text-halo-color":"hsla(0, 0%, 13%, 0)","text-halo-width":1,"text-halo-blur":0}},{id:"road-label-large",type:"symbol",metadata:{"mapbox:group":"1444933721429.3076"},source:"composite","source-layer":"road_label",minzoom:12,filter:["in","class","motorway","primary","secondary","tertiary","trunk"],layout:{"text-size":{base:1,stops:[[9,10],[20,16]]},"text-max-angle":30,"symbol-spacing":400,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.01},paint:{"text-color":"hsl(227, 9%, 28%)","text-halo-color":"hsla(0, 0%, 13%, 0)","text-halo-width":1,"text-halo-blur":0}},{id:"poi-scalerank2",type:"symbol",metadata:{"mapbox:group":"1444933358918.2366"},source:"composite","source-layer":"poi_label",filter:["all",["!in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"],["==","scalerank",2]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[14,11],[20,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"#212121","text-halo-width":1,"text-halo-blur":0}},{id:"poi-parks-scalerank2",type:"symbol",metadata:{"mapbox:group":"1444933358918.2366"},source:"composite","source-layer":"poi_label",filter:["all",["==","scalerank",2],["in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[14,11],[20,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"#212121","text-halo-width":1,"text-halo-blur":0}},{id:"water-label",type:"symbol",metadata:{"mapbox:group":"1444933808272.805"},source:"composite","source-layer":"water_label",minzoom:5,filter:[">","area",1e4],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Italic","Arial Unicode MS Regular"],"text-max-width":7,"text-size":{base:1,stops:[[13,13],[18,18]]}},paint:{"text-color":"hsl(0, 0%, 32%)","text-halo-blur":0}},{id:"poi-parks-scalerank1",type:"symbol",metadata:{"mapbox:group":"1444933322393.2852"},source:"composite","source-layer":"poi_label",filter:["all",["<=","scalerank",1],["in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[10,11],[18,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"#212121","text-halo-width":1,"text-halo-blur":0}},{id:"poi-scalerank1",type:"symbol",metadata:{"mapbox:group":"1444933322393.2852"},source:"composite","source-layer":"poi_label",filter:["all",["!in","maki","campsite","cemetery","dog-park","garden","golf","park","picnic-site","playground","zoo"],["<=","scalerank",1]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[10,11],[18,12]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":8},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"#212121","text-halo-width":1,"text-halo-blur":0}},{id:"airport-label",type:"symbol",source:"composite","source-layer":"airport_label",minzoom:10,filter:["<=","scalerank",2],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[10,12],[18,18]]},"icon-image":{stops:[[12,"{maki}-11"],[13,"{maki}-15"]]},"symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,.75],"text-anchor":"top","text-field":{stops:[[11,"{ref}"],[14,"{name_en}"]]},"text-letter-spacing":.01,"text-max-width":9},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":.5,"text-halo-blur":0,"icon-opacity":.6}},{id:"place-neighbourhood",type:"symbol",source:"composite","source-layer":"place_label",minzoom:12,maxzoom:16,filter:["==","type","neighbourhood"],layout:{"text-field":"{name_en}","text-transform":"uppercase","text-letter-spacing":.1,"text-max-width":7,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":3,"text-size":{base:1,stops:[[12,11],[16,16]]}},paint:{"text-halo-color":"hsla(0, 0%, 10%, 0.75)","text-halo-width":1,"text-color":"hsl(222, 11%, 43%)","text-halo-blur":0}},{id:"place-suburb",type:"symbol",source:"composite","source-layer":"place_label",minzoom:11,maxzoom:16,filter:["==","type","suburb"],layout:{"text-field":"{name_en}","text-transform":"uppercase","text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-letter-spacing":.15,"text-max-width":7,"text-padding":3,"text-size":{base:1,stops:[[11,11],[15,18]]}},paint:{"text-halo-color":"hsla(0, 0%, 10%, 0.75)","text-halo-width":1,"text-color":"hsl(222, 11%, 43%)","text-halo-blur":0}},{id:"place-hamlet",type:"symbol",source:"composite","source-layer":"place_label",minzoom:10,maxzoom:16,filter:["==","type","hamlet"],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[12,11.5],[15,16]]}},paint:{"text-halo-color":"hsla(0, 0%, 10%, 0.75)","text-halo-width":1.25,"text-color":"hsl(222, 11%, 43%)","text-halo-blur":0}},{id:"place-village",type:"symbol",source:"composite","source-layer":"place_label",minzoom:11,maxzoom:15,filter:["==","type","village"],layout:{"text-field":"{name_en}","text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-max-width":7,"text-size":{base:1,stops:[[10,11.5],[16,18]]}},paint:{"text-halo-color":"hsla(0, 0%, 10%, 0.75)","text-halo-width":1.25,"text-color":"hsl(222, 11%, 43%)","text-halo-blur":0}},{id:"place-town",type:"symbol",source:"composite","source-layer":"place_label",minzoom:7,maxzoom:15,filter:["==","type","town"],layout:{"text-size":{base:1,stops:[[7,11.5],[15,20]]},"text-font":{base:1,stops:[[11,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[12,["DIN Offc Pro Medium","Arial Unicode MS Regular"]]]},"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-max-width":7},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"hsla(0, 0%, 10%, 0.75)","text-halo-width":1.25,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0}},{id:"place-islands",type:"symbol",source:"composite","source-layer":"place_label",maxzoom:16,filter:["==","type","island"],layout:{"text-line-height":1.2,"text-size":{base:1,stops:[[10,11],[18,16]]},"text-max-angle":38,"symbol-spacing":250,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-padding":2,"text-offset":[0,0],"text-field":"{name_en}","text-letter-spacing":.01,"text-max-width":7},paint:{"text-color":"hsl(222, 11%, 43%)","text-halo-color":"hsla(0, 0%, 10%, 0.75)","text-halo-width":1,"text-halo-blur":0}},{id:"place-city-sm",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",maxzoom:14,filter:["all",["!in","scalerank",0,1,2,3,4,5],["==","type","city"]],layout:{"text-size":{base:1,stops:[[6,12],[14,22]]},"text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Regular","Arial Unicode MS Regular"]]]},"text-offset":[0,0],"text-field":"{name_en}","text-max-width":7},paint:{"text-color":"hsl(222, 7%, 63%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1.25,"icon-opacity":{base:1,stops:[[7.99,1],[8,0]]},"text-halo-blur":0}},{id:"place-city-md-s",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",maxzoom:14,filter:["all",["==","type","city"],["in","ldir","E","S","SE","SW"],["in","scalerank",3,4,5]],layout:{"text-field":"{name_en}","text-size":{base:.9,stops:[[5,12],[12,22]]},"text-anchor":"top","text-offset":{base:1,stops:[[7.99,[0,.1]],[8,[0,0]]]},"text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Regular","Arial Unicode MS Regular"]]]},"icon-image":"dot-10"},paint:{"text-halo-width":1,"text-halo-color":"hsla(0, 0%, 10%, 0)","text-color":"hsl(222, 7%, 63%)","text-halo-blur":0,"icon-opacity":{base:1,stops:[[7.99,.6],[8,0]]}}},{id:"place-city-md-n",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",maxzoom:14,filter:["all",["==","type","city"],["in","ldir","N","NE","NW","W"],["in","scalerank",3,4,5]],layout:{"text-size":{base:.9,stops:[[5,12],[12,22]]},"text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Regular","Arial Unicode MS Regular"]]]},"text-offset":{base:1,stops:[[7.99,[0,-.25]],[8,[0,0]]]},"text-anchor":"bottom","text-field":"{name_en}","text-max-width":7,"icon-image":"dot-10"},paint:{"text-color":"hsl(222, 7%, 63%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1,"icon-opacity":{base:1,stops:[[7.99,.6],[8,0]]},"text-halo-blur":0}},{id:"place-city-lg-s",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",minzoom:1,maxzoom:14,filter:["all",["<=","scalerank",2],["==","type","city"],["in","ldir","E","S","SE","SW"]],layout:{"icon-image":"dot-11","text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Regular","Arial Unicode MS Regular"]]]},"text-offset":{base:1,stops:[[7.99,[0,.15]],[8,[0,0]]]},"text-anchor":{base:1,stops:[[7,"top"],[8,"center"]]},"text-field":"{name_en}","text-max-width":7,"text-size":{base:.9,stops:[[4,12],[10,22]]}},paint:{"text-color":"hsl(222, 7%, 63%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1,"icon-opacity":{base:1,stops:[[7.99,.6],[8,0]]},"text-halo-blur":0}},{id:"place-city-lg-n",type:"symbol",metadata:{"mapbox:group":"1444862510685.128"},source:"composite","source-layer":"place_label",minzoom:1,maxzoom:14,filter:["all",["<=","scalerank",2],["==","type","city"],["in","ldir","N","NE","NW","W"]],layout:{"icon-image":"dot-11","text-font":{base:1,stops:[[7,["DIN Offc Pro Regular","Arial Unicode MS Regular"]],[8,["DIN Offc Pro Regular","Arial Unicode MS Regular"]]]},"text-offset":{base:1,stops:[[7.99,[0,-.25]],[8,[0,0]]]},"text-anchor":{base:1,stops:[[7,"bottom"],[8,"center"]]},"text-field":"{name_en}","text-max-width":7,"text-size":{base:.9,stops:[[4,12],[10,22]]}},paint:{"text-color":"hsl(222, 7%, 63%)","text-opacity":1,"text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1,"icon-opacity":{base:1,stops:[[7.99,.6],[8,0]]},"text-halo-blur":0}},{id:"marine-label-sm-ln",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:3,maxzoom:10,filter:["all",["==","$type","LineString"],[">=","labelrank",4]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[3,12],[6,16]]},"text-transform":"uppercase","symbol-spacing":{base:1,stops:[[4,100],[6,400]]},"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.1,"text-max-width":5},paint:{"text-color":"hsl(222, 10%, 17%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 10%, 0)"}},{id:"marine-label-sm-pt",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:3,maxzoom:10,filter:["all",["==","$type","Point"],[">=","labelrank",4]],layout:{"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.1,"text-line-height":1.5,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[3,12],[6,16]]},"text-transform":"uppercase"},paint:{"text-color":"hsl(222, 10%, 17%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 10%, 0)"}},{id:"marine-label-md-ln",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:2,maxzoom:8,filter:["all",["==","$type","LineString"],["in","labelrank",2,3]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[3,12],[6,16]]},"text-transform":"uppercase","symbol-spacing":250,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.15,"text-max-width":5},paint:{"text-color":"hsl(222, 10%, 17%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 10%, 0)"}},{id:"marine-label-md-pt",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:2,maxzoom:8,filter:["all",["==","$type","Point"],["in","labelrank",2,3]],layout:{"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.15,"text-line-height":1.5,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[3,12],[6,16]]},"text-transform":"uppercase"},paint:{"text-color":"hsl(222, 10%, 17%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 10%, 0)"}},{id:"marine-label-lg-ln",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:1,maxzoom:4,filter:["all",["==","$type","LineString"],["==","labelrank",1]],layout:{"text-line-height":1.1,"text-size":{base:1,stops:[[3,12],[6,16]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":"{name_en}","text-letter-spacing":.25,"text-max-width":4},paint:{"text-color":"hsl(222, 10%, 17%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 10%, 0)"}},{id:"marine-label-lg-pt",type:"symbol",metadata:{"mapbox:group":"1444856087950.3635"},source:"composite","source-layer":"marine_label",minzoom:1,maxzoom:4,filter:["all",["==","$type","Point"],["==","labelrank",1]],layout:{"text-field":"{name_en}","text-max-width":4,"text-letter-spacing":.25,"text-line-height":1.5,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[3,12],[6,16]]},"text-transform":"uppercase"},paint:{"text-color":"hsl(222, 10%, 17%)","text-halo-blur":0,"text-halo-color":"hsla(0, 0%, 10%, 0)"}},{id:"state-label-sm",type:"symbol",metadata:{"mapbox:group":"1444856151690.9143"},source:"composite","source-layer":"state_label",minzoom:3,maxzoom:9,filter:["<","area",2e4],layout:{"text-size":{base:1,stops:[[6,10],[9,14]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Bold","Arial Unicode MS Bold"],"text-field":{base:1,stops:[[0,"{abbr}"],[6,"{name_en}"]]},"text-letter-spacing":.15,"text-max-width":5},paint:{"text-opacity":1,"text-color":"hsl(222, 9%, 21%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1,"text-halo-blur":0}},{id:"state-label-md",type:"symbol",metadata:{"mapbox:group":"1444856151690.9143"},source:"composite","source-layer":"state_label",minzoom:3,maxzoom:8,filter:["all",["<","area",8e4],[">=","area",2e4]],layout:{"text-size":{base:1,stops:[[5,10],[8,16]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Bold","Arial Unicode MS Bold"],"text-field":{base:1,stops:[[0,"{abbr}"],[5,"{name_en}"]]},"text-letter-spacing":.15,"text-max-width":6},paint:{"text-opacity":1,"text-color":"hsl(222, 9%, 21%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1,"text-halo-blur":0}},{id:"state-label-lg",type:"symbol",metadata:{"mapbox:group":"1444856151690.9143"},source:"composite","source-layer":"state_label",minzoom:3,maxzoom:7,filter:[">=","area",8e4],layout:{"text-size":{base:1,stops:[[4,10],[7,18]]},"text-transform":"uppercase","text-font":["DIN Offc Pro Bold","Arial Unicode MS Bold"],"text-padding":1,"text-field":{base:1,stops:[[0,"{abbr}"],[4,"{name_en}"]]},"text-letter-spacing":.15,"text-max-width":6},paint:{"text-opacity":1,"text-color":"hsl(222, 9%, 21%)","text-halo-color":"hsla(0, 0%, 10%, 0)","text-halo-width":1,"text-halo-blur":0}},{id:"country-label-sm",type:"symbol",metadata:{"mapbox:group":"1444856144497.7825"},source:"composite","source-layer":"country_label",minzoom:1,maxzoom:10,filter:[">=","scalerank",5],layout:{"text-field":"{name_en}","text-max-width":6,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-size":{base:.9,stops:[[5,14],[9,22]]}},paint:{"text-halo-width":1.25,"text-halo-color":"hsla(0, 0%, 10%, 0)","text-color":"hsl(222, 10%, 35%)","text-halo-blur":0}},{id:"country-label-md",type:"symbol",metadata:{"mapbox:group":"1444856144497.7825"},source:"composite","source-layer":"country_label",minzoom:1,maxzoom:8,filter:["in","scalerank",3,4],layout:{"text-field":{base:1,stops:[[0,"{code}"],[2,"{name_en}"]]},"text-max-width":6,"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[3,10],[8,24]]}},paint:{"text-halo-width":1.25,"text-halo-color":"hsla(0, 0%, 10%, 0)","text-color":"hsl(222, 10%, 35%)","text-halo-blur":0}},{id:"country-label-lg",type:"symbol",metadata:{"mapbox:group":"1444856144497.7825"},source:"composite","source-layer":"country_label",minzoom:1,maxzoom:7,filter:["in","scalerank",1,2],layout:{"text-field":"{name_en}","text-max-width":{base:1,stops:[[0,5],[3,6]]},"text-font":["DIN Offc Pro Regular","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[1,10],[6,24]]}},paint:{"text-halo-width":1.25,"text-halo-color":"hsla(0, 0%, 10%, 0)","text-color":"hsl(222, 10%, 35%)","text-halo-blur":0}}],created:"2018-02-18T17:40:49.734Z",id:"cjdt2vsdj1iyi2sphfwyn3pno",modified:"2018-02-25T18:54:11.177Z",owner:"linkiwi",visibility:"public",draft:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),i=(s(n(16)),n(31)),o=s(n(28)),a=s(n(37));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.x,n=e.y,s=e.annotations;return r.default.createElement(o.default,{size:"18px",style:{backgroundColor:"rgba(0, 0, 0, 0.65)",left:t+10,position:"absolute",top:n+10},top:!0,left:!0,bottom:!0,right:!0,padding:!0},s.map(function(e,t){var n=e.heading,u=e.value;return r.default.createElement(o.default,{key:n,size:"small",bottom:t<s.length-1},r.default.createElement(o.default,{size:"micro",bottom:!0},r.default.createElement(a.default,{color:i.colors.primary,size:"lambda",uppercase:!0,bold:!0},n)),r.default.createElement(a.default,{size:"kilo",color:i.colors.gray40},u))}))}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(298);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.loadTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.urls,i=n.onProgress,o=void 0===i?p:i;return(0,a.default)("string"==typeof t,"loadTexture: url must be string"),h(Object.assign({urls:r,onProgress:o},n)).then(function(t){return t.map(function(t,i){return new u.Texture2D(e,Object.assign({id:r[i]},n,{data:t}))})})},t.loadFiles=f,t.loadImages=h,t.loadTextures=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.urls,r=t.onProgress,i=void 0===r?p:r;return(0,a.default)(n.every(function(e){return"string"==typeof e}),"loadTextures: {urls} must be array of strings"),h(Object.assign({urls:n,onProgress:i},t)).then(function(r){return r.map(function(r,i){var o=Array.isArray(t.parameters)?t.parameters[i]:t.parameters;return o=void 0===o?{}:o,new u.Texture2D(e,Object.assign({id:n[i]},o,{data:r}))})})},t.loadProgram=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vs,i=t.fs,o=t.onProgress,a=void 0===o?p:o;return f(Object.assign({urls:[n,i],onProgress:a},t)).then(function(n){var i=r(n,2),o=i[0],a=i[1];return new u.Program(e,Object.assign({vs:o,fs:a},t))})},t.loadModel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,i=t.onProgress,o=void 0===i?p:i;return f(Object.assign({urls:[n],onProgress:o},t)).then(function(n){var i=r(n,1),o=i[0];return d(e,Object.assign({file:o},t))})},t.parseModel=d;var i,o=n(1),a=(i=o)&&i.__esModule?i:{default:i},s=n(186),u=n(18),l=n(39),c=n(30);function p(){}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.urls,n=e.onProgress,r=void 0===n?p:n;(0,a.default)(t.every(function(e){return"string"==typeof e}),"loadImages: {urls} must be array of strings");var i=0;return Promise.all(t.map(function(n){var o=(0,s.loadFile)(Object.assign({url:n},e));return o.then(function(e){return r({progress:++i/t.length,count:i,total:t.length,url:n})}),o}))}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.urls,n=e.onProgress,r=void 0===n?p:n;(0,a.default)(t.every(function(e){return"string"==typeof e}),"loadImages: {urls} must be array of strings");var i=0;return Promise.all(t.map(function(n){var o=(0,s.loadImage)(n,e);return o.then(function(e){return r({progress:++i/t.length,count:i,total:t.length,url:n})}),o}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.file,r=t.program,i=void 0===r?new u.Program(e):r,o="string"==typeof n?function(e){try{return JSON.parse(e)}catch(e){throw new Error("Failed to parse JSON: "+e)}}(n):n,a={},s={};for(var p in o){var f=o[p];Array.isArray(f)?a[p]="indices"===p?new Uint16Array(f):new Float32Array(f):s[p]=f}return new l.Model(e,Object.assign({program:i,geometry:new c.Geometry({attributes:a})},s,t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(){}t.requestFile=function(e){return new a(e).sendAsync()};var o=4,a=function(){function e(t){var n=t.url,r=t.path,o=void 0===r?null:r,a=t.method,s=void 0===a?"GET":a,u=t.asynchronous,l=void 0===u||u,c=t.noCache,p=void 0!==c&&c,f=t.sendAsBinary,h=void 0!==f&&f,d=t.responseType,g=void 0!==d&&d,y=t.onProgress,v=void 0===y?i:y,m=t.onError,_=void 0===m?i:m,A=t.onAbort,b=void 0===A?i:A,x=t.onComplete,w=void 0===x?i:x;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=o?o.join(o,n):n,this.method=s,this.async=l,this.noCache=p,this.sendAsBinary=h,this.responseType=g,this.req=new XMLHttpRequest,this.req.onload=function(e){return w(e)},this.req.onerror=function(e){return _(e)},this.req.onabort=function(e){return b(e)},this.req.onprogress=function(e){e.lengthComputable?v(e,Math.round(e.loaded/e.total*100)):v(e,-1)}}return r(e,[{key:"setRequestHeader",value:function(e,t){return this.req.setRequestHeader(e,t),this}},{key:"sendAsync",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.body||null;return new Promise(function(n,r){try{var i=e.req,a=e.method,s=e.noCache,u=e.sendAsBinary,l=e.responseType,c=s?e.url+(e.url.indexOf("?")>=0?"&":"?")+Date.now():e.url;i.open(a,c,e.async),l&&(i.responseType=l),e.async&&(i.onreadystatechange=function(e){i.readyState===o&&(200===i.status?n(i.responseType?i.response:i.responseText):r(new Error(i.status+": "+c)))}),u?i.sendAsBinary(t):i.send(t),e.async||(200===i.status?n(i.responseType?i.response:i.responseText):r(new Error(i.status+": "+c)))}catch(e){r(e)}})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(3)),o=(p(n(16)),p(n(28))),a=p(n(183)),s=n(182),u=p(s),l=p(n(297)),c=p(n(296));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.annotation,n=e.layersThunk,p=e.viewport,f=e.onViewportChange;return i.default.createElement(u.default,r({mapStyle:c.default,mapboxApiAccessToken:"pk.eyJ1Ijoic2t5bmV0LXJpY2UiLCJhIjoiY2phbzU2a3hkM2luZDMzcGxzejNhaWdxYiJ9.nC5BtNoLkeX4fBoF-nakxw",onViewportChange:f},p),i.default.createElement("div",{style:{bottom:0,position:"absolute",right:0,zIndex:2}},i.default.createElement(o.default,{right:!0},i.default.createElement(o.default,{size:"large",bottom:!0},i.default.createElement(s.NavigationControl,{onViewportChange:f})))),i.default.createElement(a.default,r({layers:n()},p)),t&&i.default.createElement(l.default,{x:t.x,y:t.y,annotations:t.annotations}))};f.defaultProps={annotation:null},t.default=f},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var r=n(84),i=n(55).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){n(304),e.exports=n(60).Number.isFinite},function(e,t,n){e.exports={default:n(305),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(306),o=(r=i)&&r.__esModule?r:{default:r};t.whichButtons=function(e){var t=l[e.srcEvent.type];if(!t)return null;var n=e.srcEvent,r=n.buttons,i=n.button,_=n.which,A=!1,b=!1,x=!1;t===u||t===s&&!(0,o.default)(r)?(A=_===c,b=_===p,x=_===f):t===s?(A=Boolean(r&y),b=Boolean(r&m),x=Boolean(r&v)):t===a&&(A=i===h,b=i===d,x=i===g);return{leftButton:A,middleButton:b,rightButton:x}},t.getOffsetPosition=function(e,t){var n=e.srcEvent;if(!e.center&&!(0,o.default)(n.clientX))return null;var r=e.center||{x:n.clientX,y:n.clientY},i=t.getBoundingClientRect(),a=i.width/t.offsetWidth,s=i.height/t.offsetHeight,u={x:(r.x-i.left-t.clientLeft)/a,y:(r.y-i.top-t.clientTop)/s};return{center:r,offsetCenter:u}};var a=1,s=2,u=4,l={pointerdown:a,pointermove:s,pointerup:u,mousedown:a,mousemove:s,mouseup:u},c=1,p=2,f=3,h=0,d=1,g=2,y=1,v=2,m=4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(120)),i=a(n(115)),o=a(n(114));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(113).INPUT_EVENT_TYPES.KEY_EVENTS,u=function(){function e(t,n){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(this,e),this.element=t,this.callback=n,this.options=(0,r.default)({enable:!0},a),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=s.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),t.tabIndex=1,t.style.outline="none",this.events.forEach(function(e){return t.addEventListener(e,o.handleEvent)})}return(0,o.default)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function(e,t){"keydown"===e&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}},{key:"handleEvent",value:function(e){var t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:"keydown",srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:"keyup",srcEvent:e,key:e.key,target:e.target}))}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(120)),i=a(n(115)),o=a(n(114));function a(e){return e&&e.__esModule?e:{default:e}}var s=n(113).INPUT_EVENT_TYPES.MOUSE_EVENTS,u=function(){function e(t,n){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(this,e),this.element=t,this.callback=n,this.pressed=!1,this.options=(0,r.default)({enable:!0},a),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.events=s.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(e){return t.addEventListener(e,o.handleEvent)})}return(0,o.default)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function(e,t){"pointermove"===e&&(this.enableMoveEvent=t),"pointerleave"===e&&(this.enableLeaveEvent=t)}},{key:"handleEvent",value:function(e){if(this.enableLeaveEvent&&"mouseleave"===e.type&&this.callback({type:"pointerleave",srcEvent:e,pointerType:"mouse",target:e.target}),this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:e,pointerType:"mouse",target:e.target});break;case"mouseup":this.pressed=!1}}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(120)),i=u(n(115)),o=u(n(114)),a=n(113),s=n(192);function u(e){return e&&e.__esModule?e:{default:e}}var l=-1!==s.userAgent.indexOf("firefox"),c=a.INPUT_EVENT_TYPES.WHEEL_EVENTS,p=function(){function e(t,n){var o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(this,e),this.element=t,this.callback=n,this.options=(0,r.default)({enable:!0},a),this.time=0,this.wheelPosition=null,this.type=null,this.timeout=null,this.lastValue=0,this.events=c.concat(a.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach(function(e){return t.addEventListener(e,o.handleEvent)})}return(0,o.default)(e,[{key:"destroy",value:function(){var e=this;this.events.forEach(function(t){return e.element.removeEventListener(t,e.handleEvent)})}},{key:"enableEventType",value:function(e,t){"wheel"===e&&(this.options.enable=t)}},{key:"handleEvent",value:function(e){if(this.options.enable){e.preventDefault();var t=e.deltaY;s.window.WheelEvent&&(l&&e.deltaMode===s.window.WheelEvent.DOM_DELTA_PIXEL&&(t/=s.window.devicePixelRatio),e.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE&&(t*=40));var n=this.type,r=this.timeout,i=this.lastValue,o=this.time,a=(s.window&&s.window.performance||Date).now(),u=a-(o||0);this.wheelPosition={x:e.clientX,y:e.clientY},o=a,0!==t&&t%4.000244140625==0?(n="wheel",t=Math.floor(t/4.000244140625)):0!==t&&Math.abs(t)<4?n="trackpad":u>400?(n=null,i=t,r=s.window.setTimeout(function(){this._onWheel(e,-i,this.wheelPosition),n="wheel"}.bind(this),40)):n||(n=Math.abs(u*t)<200?"trackpad":"wheel",r&&(s.window.clearTimeout(r),r=null,t+=i)),e.shiftKey&&t&&(t*=.25),n&&this._onWheel(e,-t,this.wheelPosition)}}},{key:"_onWheel",value:function(e,t,n){this.callback({type:"wheel",center:n,delta:t,srcEvent:e,pointerType:"mouse",target:e.target})}}]),e}();t.default=p},function(e,t,n){var r;!function(i,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),p="function",f=Math.round,h=Math.abs,d=Date.now;function g(e,t,n){return setTimeout(x(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(v(e,n[t],n),!0)}function v(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function m(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var _=m(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),A=m(function(e,t){return _(e,t,!0)},"merge","Use `assign`.");function b(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return typeof e==p?e.apply(t&&t[0]||s,t):e}function E(e,t){return e===s?t:e}function T(e,t,n){v(I(t),function(t){e.addEventListener(t,n,!1)})}function M(e,t,n){v(I(t),function(t){e.removeEventListener(t,n,!1)})}function S(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function C(e,t){return e.indexOf(t)>-1}function I(e){return e.trim().split(/\s+/g)}function P(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function k(e){return Array.prototype.slice.call(e,0)}function O(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];P(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}function L(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return s}var R=1;function j(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,B=L(i,"PointerEvent")!==s,D=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=25,z=1,U=2,G=4,V=8,Y=1,H=2,W=4,Q=8,X=16,Z=H|W,J=Q|X,K=Z|J,q=["x","y"],$=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&z&&r-i==0,a=t&(G|V)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t));i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,u=a?a.center:o.center,l=t.center=re(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=se(u,l),t.distance=ae(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==z&&o.eventType!==G||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=oe(t.deltaX,t.deltaY);var c=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=a?(p=a.pointers,f=r,ae(f[0],f[1],$)/ae(p[0],p[1],$)):1,t.rotation=a?function(e,t){return se(t[1],t[0],$)+se(e[1],e[0],$)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=V&&(u>F||a.velocity===s)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,p=ie(u,l,c);r=p.x,i=p.y,n=h(p.x)>h(p.y)?p.x:p.y,o=oe(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var p,f;var g=e.element;S(t.srcEvent.target,g)&&(g=t.srcEvent.target);t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function oe(e,t){return e===t?Y:h(e)>=h(t)?e<0?H:W:t<0?Q:X}function ae(e,t,n){n||(n=q);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function se(e,t,n){n||(n=q);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(j(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(j(this.element),this.evWin,this.domHandler)}};var ue={mousedown:z,mousemove:U,mouseup:G},le="mousedown",ce="mousemove mouseup";function pe(){this.evEl=le,this.evWin=ce,this.pressed=!1,ee.apply(this,arguments)}b(pe,ee,{handler:function(e){var t=ue[e.type];t&z&&0===e.button&&(this.pressed=!0),t&U&&1!==e.which&&(t=G),this.pressed&&(t&G&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var fe={pointerdown:z,pointermove:U,pointerup:G,pointercancel:V,pointerout:V},he={2:"touch",3:"pen",4:"mouse",5:"kinect"},de="pointerdown",ge="pointermove pointerup pointercancel";function ye(){this.evEl=de,this.evWin=ge,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(de="MSPointerDown",ge="MSPointerMove MSPointerUp MSPointerCancel"),b(ye,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=fe[r],o=he[e.pointerType]||e.pointerType,a="touch"==o,s=P(t,e.pointerId,"pointerId");i&z&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(G|V)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ve={touchstart:z,touchmove:U,touchend:G,touchcancel:V},me="touchstart",_e="touchstart touchmove touchend touchcancel";function Ae(){this.evTarget=me,this.evWin=_e,this.started=!1,ee.apply(this,arguments)}b(Ae,ee,{handler:function(e){var t=ve[e.type];if(t===z&&(this.started=!0),this.started){var n=function(e,t){var n=k(e.touches),r=k(e.changedTouches);t&(G|V)&&(n=O(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(G|V)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var be={touchstart:z,touchmove:U,touchend:G,touchcancel:V},xe="touchstart touchmove touchend touchcancel";function we(){this.evTarget=xe,this.targetIds={},ee.apply(this,arguments)}b(we,ee,{handler:function(e){var t=be[e.type],n=function(e,t){var n=k(e.touches),r=this.targetIds;if(t&(z|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=k(e.changedTouches),s=[],u=this.target;if(o=n.filter(function(e){return S(e.target,u)}),t===z)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(G|V)&&delete r[a[i].identifier],i++;if(!s.length)return;return[O(o.concat(s),"identifier",!0),s]}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Ee=2500,Te=25;function Me(){ee.apply(this,arguments);var e=x(this.handler,this);this.touch=new we(this.manager,e),this.mouse=new pe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Se(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},Ee)}}b(Me,ee,{handler:function(e,t,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&z?(this.primaryTouch=t.changedPointers[0].identifier,Se.call(this,t)):e&(G|V)&&Se.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=Te&&a<=Te)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ce=L(c.style,"touchAction"),Ie=Ce!==s,Pe="auto",ke="manipulation",Oe="none",Le="pan-x",Re="pan-y",je=function(){if(!Ie)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||i.CSS.supports("touch-action",n)}),e}();function Ne(e,t){this.manager=e,this.set(t)}Ne.prototype={set:function(e){"compute"==e&&(e=this.compute()),Ie&&this.manager.element.style&&je[e]&&(this.manager.element.style[Ce]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return v(this.manager.recognizers,function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(C(e,Oe))return Oe;var t=C(e,Le),n=C(e,Re);if(t&&n)return Oe;if(t||n)return t?Le:Re;if(C(e,ke))return ke;return Pe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=C(r,Oe)&&!je[Oe],o=C(r,Re)&&!je[Re],a=C(r,Le)&&!je[Le];if(i){var s=1===e.pointers.length,u=e.distance<2,l=e.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return i||o&&n&Z||a&&n&J?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Be=1,De=2,Fe=4,ze=8,Ue=ze,Ge=16;function Ve(e){this.options=u({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=Be,this.simultaneous={},this.requireFail=[]}function Ye(e){return e&Ge?"cancel":e&ze?"end":e&Fe?"move":e&De?"start":""}function He(e){return e==X?"down":e==Q?"up":e==H?"left":e==W?"right":""}function We(e,t){var n=t.manager;return n?n.get(e):e}function Qe(){Ve.apply(this,arguments)}function Xe(){Qe.apply(this,arguments),this.pX=null,this.pY=null}function Ze(){Qe.apply(this,arguments)}function Je(){Ve.apply(this,arguments),this._timer=null,this._input=null}function Ke(){Qe.apply(this,arguments)}function qe(){Qe.apply(this,arguments)}function $e(){Ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(e,t){return(t=t||{}).recognizers=E(t.recognizers,et.defaults.preset),new tt(e,t)}Ve.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=We(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)?this:(e=We(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===P(t,e=We(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=We(e,this);var t=P(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<ze&&r(t.options.event+Ye(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=ze&&r(t.options.event+Ye(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Be)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Ue|Ge|32)&&(this.state=Be),this.state=this.process(t),this.state&(De|Fe|ze|Ge)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},b(Qe,Ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(De|Fe),i=this.attrTest(e);return r&&(n&V||!i)?t|Ge:r||i?n&G?t|ze:t&De?t|Fe:De:32}}),b(Xe,Qe,{defaults:{event:"pan",threshold:10,pointers:1,direction:K},getTouchAction:function(){var e=this.options.direction,t=[];return e&Z&&t.push(Re),e&J&&t.push(Le),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Z?(i=0===o?Y:o<0?H:W,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?Y:a<0?Q:X,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Qe.prototype.attrTest.call(this,e)&&(this.state&De||!(this.state&De)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=He(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),b(Ze,Qe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Oe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&De)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),b(Je,Ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Pe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(G|V)&&!i)this.reset();else if(e.eventType&z)this.reset(),this._timer=g(function(){this.state=Ue,this.tryEmit()},t.time,this);else if(e.eventType&G)return Ue;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Ue&&(e&&e.eventType&G?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),b(Ke,Qe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Oe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&De)}}),b(qe,Qe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Z|J,pointers:1},getTouchAction:function(){return Xe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Z|J)?t=e.overallVelocity:n&Z?t=e.overallVelocityX:n&J&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&G},emit:function(e){var t=He(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),b($e,Ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ke]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&z&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=G)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Ue,this.tryEmit()},t.interval,this),De):Ue}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ue&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.7",et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ke,{enable:!1}],[Ze,{enable:!1},["rotate"]],[qe,{direction:Z}],[Xe,{direction:Z},["swipe"]],[$e],[$e,{event:"doubletap",taps:2},["tap"]],[Je]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function tt(e,t){var n;this.options=u({},et.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(B?ye:D?we:N?Me:pe))(n,te),this.touchAction=new Ne(this,this.options.touchAction),nt(this,!0),v(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function nt(e,t){var n,r=e.element;r.style&&(v(e.options.cssProps,function(i,o){n=L(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}tt.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&Ue)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(De|Fe|ze)&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ve)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=P(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return v(I(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==s){var n=this.handlers;return v(I(e),function(e){t?n[e]&&n[e].splice(P(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(et,{INPUT_START:z,INPUT_MOVE:U,INPUT_END:G,INPUT_CANCEL:V,STATE_POSSIBLE:Be,STATE_BEGAN:De,STATE_CHANGED:Fe,STATE_ENDED:ze,STATE_RECOGNIZED:Ue,STATE_CANCELLED:Ge,STATE_FAILED:32,DIRECTION_NONE:Y,DIRECTION_LEFT:H,DIRECTION_RIGHT:W,DIRECTION_UP:Q,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:Z,DIRECTION_VERTICAL:J,DIRECTION_ALL:K,Manager:tt,Input:ee,TouchAction:Ne,TouchInput:we,MouseInput:pe,PointerEventInput:ye,TouchMouseInput:Me,SingleTouchInput:Ae,Recognizer:Ve,AttrRecognizer:Qe,Tap:$e,Pan:Xe,Swipe:qe,Pinch:Ze,Rotate:Ke,Press:Je,on:T,off:M,each:v,merge:A,extend:_,assign:u,inherit:b,bindFn:x,prefixed:L}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=et,(r=function(){return et}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enhancePointerEventInput=function(e){var t=e.prototype.handler;e.prototype.handler=function(e){var n=this.store;e.button>0&&(function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,function(t){return t.pointerId===e.pointerId})||n.push(e)),t.call(this,e)}},t.enhanceMouseInput=function(e){e.prototype.handler=function(e){var t=a[e.type];t&r&&e.button>=0&&(this.pressed=!0),t&i&&0===e.which&&(t=o),this.pressed&&(t&o&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}};var r=1,i=2,o=4,a={mousedown:r,mousemove:i,mouseup:o}},function(e,t,n){n(145)("observable")},function(e,t,n){n(145)("asyncIterator")},function(e,t){},function(e,t,n){var r=n(116),i=n(118),o=n(81),a=n(157),s=n(72),u=n(198),l=Object.getOwnPropertyDescriptor;t.f=n(73)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(81),i=n(188).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(194);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(92),i=n(151),o=n(116);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(117)("meta"),i=n(93),o=n(72),a=n(74).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(82)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&p.NEED&&u(e)&&!o(e,r)&&c(e),e}}},function(e,t,n){"use strict";var r=n(55),i=n(72),o=n(73),a=n(84),s=n(190),u=n(320).KEY,l=n(82),c=n(153),p=n(147),f=n(117),h=n(80),d=n(146),g=n(145),y=n(319),v=n(318),m=n(119),_=n(93),A=n(81),b=n(157),x=n(118),w=n(189),E=n(317),T=n(316),M=n(74),S=n(92),C=T.f,I=M.f,P=E.f,k=r.Symbol,O=r.JSON,L=O&&O.stringify,R=h("_hidden"),j=h("toPrimitive"),N={}.propertyIsEnumerable,B=c("symbol-registry"),D=c("symbols"),F=c("op-symbols"),z=Object.prototype,U="function"==typeof k,G=r.QObject,V=!G||!G.prototype||!G.prototype.findChild,Y=o&&l(function(){return 7!=w(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(z,t);r&&delete z[t],I(e,t,n),r&&e!==z&&I(z,t,r)}:I,H=function(e){var t=D[e]=w(k.prototype);return t._k=e,t},W=U&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},Q=function(e,t,n){return e===z&&Q(F,t,n),m(e),t=b(t,!0),m(n),i(D,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=w(n,{enumerable:x(0,!1)})):(i(e,R)||I(e,R,x(1,{})),e[R][t]=!0),Y(e,t,n)):I(e,t,n)},X=function(e,t){m(e);for(var n,r=y(t=A(t)),i=0,o=r.length;o>i;)Q(e,n=r[i++],t[n]);return e},Z=function(e){var t=N.call(this,e=b(e,!0));return!(this===z&&i(D,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(D,e)||i(this,R)&&this[R][e])||t)},J=function(e,t){if(e=A(e),t=b(t,!0),e!==z||!i(D,t)||i(F,t)){var n=C(e,t);return!n||!i(D,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},K=function(e){for(var t,n=P(A(e)),r=[],o=0;n.length>o;)i(D,t=n[o++])||t==R||t==u||r.push(t);return r},q=function(e){for(var t,n=e===z,r=P(n?F:A(e)),o=[],a=0;r.length>a;)!i(D,t=r[a++])||n&&!i(z,t)||o.push(D[t]);return o};U||(s((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===z&&t.call(F,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),Y(this,e,x(1,n))};return o&&V&&Y(z,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),T.f=J,M.f=Q,n(188).f=E.f=K,n(116).f=Z,n(151).f=q,o&&!n(149)&&s(z,"propertyIsEnumerable",Z,!0),d.f=function(e){return H(h(e))}),a(a.G+a.W+a.F*!U,{Symbol:k});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)h($[ee++]);for(var te=S(h.store),ne=0;te.length>ne;)g(te[ne++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=k(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?w(e):X(w(e),t)},defineProperty:Q,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:K,getOwnPropertySymbols:q}),O&&a(a.S+a.F*(!U||l(function(){var e=k();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!W(t))return t}),r[1]=t,L.apply(O,r)}}),k.prototype[j]||n(83)(k.prototype,j,k.prototype.valueOf),p(k,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(e,t,n){n(321),n(315),n(314),n(313),e.exports=n(60).Symbol},function(e,t,n){e.exports={default:n(322),__esModule:!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(325),i=n(324),o=n(148),a=n(81);e.exports=n(191)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(326);for(var r=n(55),i=n(83),o=n(148),a=n(80)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],p=c&&c.prototype;p&&!p[a]&&i(p,a,l),o[l]=o.Array}},function(e,t,n){var r=n(72),i=n(150),o=n(154)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(55).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(74),i=n(119),o=n(92);e.exports=n(73)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(189),i=n(118),o=n(147),a={};n(83)(a,n(80)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(155),i=n(156);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(332)(!0);n(191)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){n(333),n(327),e.exports=n(146).f("iterator")},function(e,t,n){e.exports={default:n(334),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(335)),i=a(n(323)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){var r=n(84);r(r.S+r.F*!n(73),"Object",{defineProperty:n(74).f})},function(e,t,n){n(337);var r=n(60).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={default:n(338),__esModule:!0}},function(e,t,n){var r=n(84),i=n(60),o=n(82);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(150),i=n(92);n(340)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(341),e.exports=n(60).Object.keys},function(e,t,n){e.exports={default:n(342),__esModule:!0}},function(e,t,n){var r=n(155),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(155),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(81),i=n(345),o=n(344);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(92),i=n(151),o=n(116),a=n(150),s=n(195),u=Object.assign;e.exports=!u||n(82)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=i.f,p=o.f;u>l;)for(var f,h=s(arguments[l++]),d=c?r(h).concat(c(h)):r(h),g=d.length,y=0;g>y;)p.call(h,f=d[y++])&&(n[f]=h[f]);return n}:u},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(348);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(84);r(r.S+r.F,"Object",{assign:n(347)})},function(e,t,n){n(350),e.exports=n(60).Object.assign},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(120)),i=h(n(343)),o=h(n(115)),a=h(n(114)),s=n(193),u=h(n(310)),l=h(n(309)),c=h(n(308)),p=n(113),f=n(307);function h(e){return e&&e.__esModule?e:{default:e}}function d(e){e.preventDefault()}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this.options=n,this.eventHandlers=[],this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(t);var r=n.events;r&&this.on(r)}return(0,a.default)(e,[{key:"setElement",value:function(e){var t=this;if(this.element&&this.destroy(),this.element=e,e){var n=this.options,r=n.Manager||s.Manager;this.manager=new r(e,{recognizers:n.recognizers||p.RECOGNIZERS}).on("hammer.input",this._onBasicInput),n.recognizers||(0,i.default)(p.RECOGNIZER_COMPATIBLE_MAP).forEach(function(e){var n=t.manager.get(e);n&&p.RECOGNIZER_COMPATIBLE_MAP[e].forEach(function(e){n.recognizeWith(e)})}),this.wheelInput=new u.default(e,this._onOtherEvent,{enable:!1}),this.moveInput=new l.default(e,this._onOtherEvent,{enable:!1}),this.keyInput=new c.default(e,this._onOtherEvent,{enable:!1}),n.rightButton&&e.addEventListener("contextmenu",d),this.eventHandlers.forEach(function(e){var n=e.recognizerName,r=e.eventAlias,i=e.wrappedHandler;t._toggleRecognizer(n,!0),t.manager.on(r,i)})}}},{key:"destroy",value:function(){this.element&&(this.element.removeEventListener("contextmenu",d),this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(e,t,n){if("string"==typeof e)this._addEventHandler(e,t,n);else for(var r in n=t,e)this._addEventHandler(r,e[r],n)}},{key:"off",value:function(e,t){if("string"==typeof e)this._removeEventHandler(e,t);else for(var n in e)this._removeEventHandler(n,e[n])}},{key:"_toggleRecognizer",value:function(e,t){var n=this.manager;if(n){var r=n.get(e);if(r){r.set({enable:t});var i=p.RECOGNIZER_FALLBACK_MAP[e];i&&!this.options.recognizers&&i.forEach(function(r){var i=n.get(r);t?i.requireFailure(e):i.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t)}}},{key:"_addEventHandler",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.manager,i=this.eventHandlers,o=this._wrapEventHandler(e,t,n),a=p.GESTURE_EVENT_ALIASES[e]||e,s=p.EVENT_RECOGNIZER_MAP[a]||a;this._toggleRecognizer(s,!0);var u=i.filter(function(e){return e.eventAlias===a&&e.srcElement!==n&&(!e.srcElement||e.srcElement.contains(n))});i.push({event:e,eventAlias:a,recognizerName:s,srcElement:n,handler:t,wrappedHandler:o}),u.forEach(function(e){return r.off(a,e.wrappedHandler)}),r&&r.on(a,o),u.forEach(function(e){return r.on(a,e.wrappedHandler)})}},{key:"_removeEventHandler",value:function(e,t){for(var n=this.manager,r=this.eventHandlers,i=!1,o=r.length;o--;){var a=r[o];a.event===e&&a.handler===t&&(n&&n.off(a.eventAlias,a.wrappedHandler),r.splice(o,1),i=!0)}if(i){var s=p.GESTURE_EVENT_ALIASES[e]||e,u=p.EVENT_RECOGNIZER_MAP[s]||s;r.find(function(e){return e.recognizerName===u})||this._toggleRecognizer(u,!1)}}},{key:"_wrapEventHandler",value:function(e,t,n){var i=this;return function(o){var a=o.mjolnirEvent;(a||(a=i._normalizeEvent(o),o.mjolnirEvent=a),a.handled&&a.handled!==n)||(!n||n.contains(o.srcEvent.target))&&t((0,r.default)({},a,{type:e,stopPropagation:function(){a.handled||(a.handled=n)}}))}}},{key:"_normalizeEvent",value:function(e){var t=this.element;return(0,r.default)({},e,(0,f.whichButtons)(e),(0,f.getOffsetPosition)(e,t),{handled:!1,rootElement:t})}},{key:"_onBasicInput",value:function(e){var t=e.srcEvent,n=p.BASIC_EVENT_ALIASES[t.type];n&&this.manager.emit(n,e)}},{key:"_onOtherEvent",value:function(e){this.manager.emit(e.type,e)}}]),e}();t.default=g},function(e,t){!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).mapboxgl=n()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){function r(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(i(e[n]))}return t}function i(e){var t,n,r,i,s,u,l=0,c=e.length;if(c>2){for(u=0;u<c;u++)u===c-2?(r=c-2,i=c-1,s=0):u===c-1?(r=c-1,i=0,s=1):(r=u,i=u+1,s=u+2),t=e[r],n=e[i],l+=(o(e[s][0])-o(t[0]))*Math.sin(o(n[1]));l=l*a.RADIUS*a.RADIUS/2}return l}function o(e){return e*Math.PI/180}var a=e("wgs84");t.exports.geometry=function e(t){var n,i=0;switch(t.type){case"Polygon":return r(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)i+=r(t.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)i+=e(t.geometries[n]);return i}},t.exports.ring=i},{wgs84:37}],2:[function(e,t,n){var r,i;r=this,i=function(){"use strict";return function(){var e=new Float32Array(3);e[0]=0,e[1]=0,e[2]=0}(),function(){var e=new Float32Array(4);e[0]=0,e[1]=0,e[2]=0,e[3]=0}(),{vec3:{transformMat3:function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}},vec4:{transformMat4:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}},mat2:{create:function(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e},rotate:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=i*u+a*s,e[2]=r*-s+o*u,e[3]=i*-s+a*u,e},scale:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=i*s,e[2]=o*u,e[3]=a*u,e}},mat3:{create:function(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromRotation:function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}},mat4:{create:function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},translate:function(e,t,n){var r,i,o,a,s,u,l,c,p,f,h,d,g=n[0],y=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*y+t[8]*v+t[12],e[13]=t[1]*g+t[5]*y+t[9]*v+t[13],e[14]=t[2]*g+t[6]*y+t[10]*v+t[14],e[15]=t[3]*g+t[7]*y+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=p,e[9]=f,e[10]=h,e[11]=d,e[12]=r*g+s*y+p*v+t[12],e[13]=i*g+u*y+f*v+t[13],e[14]=o*g+l*y+h*v+t[14],e[15]=a*g+c*y+d*v+t[15]),e},scale:function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},multiply:function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=t[9],h=t[10],d=t[11],g=t[12],y=t[13],v=t[14],m=t[15],_=n[0],A=n[1],b=n[2],x=n[3];return e[0]=_*r+A*s+b*p+x*g,e[1]=_*i+A*u+b*f+x*y,e[2]=_*o+A*l+b*h+x*v,e[3]=_*a+A*c+b*d+x*m,_=n[4],A=n[5],b=n[6],x=n[7],e[4]=_*r+A*s+b*p+x*g,e[5]=_*i+A*u+b*f+x*y,e[6]=_*o+A*l+b*h+x*v,e[7]=_*a+A*c+b*d+x*m,_=n[8],A=n[9],b=n[10],x=n[11],e[8]=_*r+A*s+b*p+x*g,e[9]=_*i+A*u+b*f+x*y,e[10]=_*o+A*l+b*h+x*v,e[11]=_*a+A*c+b*d+x*m,_=n[12],A=n[13],b=n[14],x=n[15],e[12]=_*r+A*s+b*p+x*g,e[13]=_*i+A*u+b*f+x*y,e[14]=_*o+A*l+b*h+x*v,e[15]=_*a+A*c+b*d+x*m,e},perspective:function(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e},rotateX:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],p=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+l*r,e[5]=a*i+c*r,e[6]=s*i+p*r,e[7]=u*i+f*r,e[8]=l*i-o*r,e[9]=c*i-a*r,e[10]=p*i-s*r,e[11]=f*i-u*r,e},rotateZ:function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],u=t[3],l=t[4],c=t[5],p=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+l*r,e[1]=a*i+c*r,e[2]=s*i+p*r,e[3]=u*i+f*r,e[4]=l*i-o*r,e[5]=c*i-a*r,e[6]=p*i-s*r,e[7]=f*i-u*r,e},invert:function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],p=t[9],f=t[10],h=t[11],d=t[12],g=t[13],y=t[14],v=t[15],m=n*s-r*a,_=n*u-i*a,A=n*l-o*a,b=r*u-i*s,x=r*l-o*s,w=i*l-o*u,E=c*g-p*d,T=c*y-f*d,M=c*v-h*d,S=p*y-f*g,C=p*v-h*g,I=f*v-h*y,P=m*I-_*C+A*S+b*M-x*T+w*E;return P?(P=1/P,e[0]=(s*I-u*C+l*S)*P,e[1]=(i*C-r*I-o*S)*P,e[2]=(g*w-y*x+v*b)*P,e[3]=(f*x-p*w-h*b)*P,e[4]=(u*M-a*I-l*T)*P,e[5]=(n*I-i*M+o*T)*P,e[6]=(y*A-d*w-v*_)*P,e[7]=(c*w-f*A+h*_)*P,e[8]=(a*C-s*M+l*E)*P,e[9]=(r*M-n*C-o*E)*P,e[10]=(d*x-g*A+v*m)*P,e[11]=(p*A-c*x-h*m)*P,e[12]=(s*T-a*S-u*E)*P,e[13]=(n*S-r*T+i*E)*P,e[14]=(g*_-d*b-y*m)*P,e[15]=(c*b-p*_+f*m)*P,e):null},ortho:function(e,t,n,r,i,o,a){var s=1/(t-n),u=1/(r-i),l=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*u,e[14]=(a+o)*l,e[15]=1,e}}}},"object"==typeof n&&void 0!==t?t.exports=i():r.glMatrix=i()},{}],3:[function(e,t,n){"use strict";function r(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()&&"Uint8ClampedArray"in window&&function(e){return void 0===i[e]&&(i[e]=function(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.probablySupportsContext?t.probablySupportsContext("webgl",n)||t.probablySupportsContext("experimental-webgl",n):t.supportsContext?t.supportsContext("webgl",n)||t.supportsContext("experimental-webgl",n):t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e)),i[e]}(e&&e.failIfMajorPerformanceCaveat))}void 0!==t&&t.exports?t.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var i={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],4:[function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},{}],5:[function(e,t,n){var r,i;r=this,i=function(){function e(e,t,n){n=n||{},this.w=e||64,this.h=t||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function t(e,t,n){this.x=0,this.y=e,this.w=this.free=t,this.h=n}return e.prototype.pack=function(e,t){e=[].concat(e),t=t||{};for(var n,r,i,o,a=[],s=0;s<e.length;s++)if(n=e[s].w||e[s].width,r=e[s].h||e[s].height,i=e[s].id,n&&r){if(!(o=this.packOne(n,r,i)))continue;t.inPlace&&(e[s].x=o.x,e[s].y=o.y,e[s].id=o.id),a.push(o)}return this.shrink(),a},e.prototype.packOne=function(e,n,r){var i,o,a,s,u,l,c,p,f={freebin:-1,shelf:-1,waste:1/0},h=0;if("string"==typeof r||"number"==typeof r){if(i=this.getBin(r))return this.ref(i),i;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(n===(i=this.freebins[s]).maxh&&e===i.maxw)return this.allocFreebin(s,e,n,r);n>i.maxh||e>i.maxw||n<=i.maxh&&e<=i.maxw&&(a=i.maxw*i.maxh-e*n)<f.waste&&(f.waste=a,f.freebin=s)}for(s=0;s<this.shelves.length;s++)if(h+=(o=this.shelves[s]).h,!(e>o.free)){if(n===o.h)return this.allocShelf(s,e,n,r);n>o.h||n<o.h&&(a=(o.h-n)*e)<f.waste&&(f.freebin=-1,f.waste=a,f.shelf=s)}return-1!==f.freebin?this.allocFreebin(f.freebin,e,n,r):-1!==f.shelf?this.allocShelf(f.shelf,e,n,r):n<=this.h-h&&e<=this.w?(o=new t(h,this.w,n),this.allocShelf(this.shelves.push(o)-1,e,n,r)):this.autoResize?(u=l=this.h,((c=p=this.w)<=u||e>c)&&(p=2*Math.max(e,c)),(u<c||n>u)&&(l=2*Math.max(n,u)),this.resize(p,l),this.packOne(e,n,r)):null},e.prototype.allocFreebin=function(e,t,n,r){var i=this.freebins.splice(e,1)[0];return i.id=r,i.w=t,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},e.prototype.allocShelf=function(e,t,n,r){var i=this.shelves[e].alloc(t,n,r);return this.bins[r]=i,this.ref(i),i},e.prototype.shrink=function(){if(this.shelves.length>0){for(var e=0,t=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];t+=r.h,e=Math.max(r.w-r.free,e)}this.resize(e,t)}},e.prototype.getBin=function(e){return this.bins[e]},e.prototype.ref=function(e){if(1==++e.refcount){var t=e.h;this.stats[t]=1+(0|this.stats[t])}return e.refcount},e.prototype.unref=function(e){return 0===e.refcount?0:(0==--e.refcount&&(this.stats[e.h]--,delete this.bins[e.id],this.freebins.push(e)),e.refcount)},e.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},e.prototype.resize=function(e,t){this.w=e,this.h=t;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(e);return!0},t.prototype.alloc=function(e,t,n){if(e>this.free||t>this.h)return null;var r=this.x;return this.x+=e,this.free-=e,new function(e,t,n,r,i,o,a){this.id=e,this.x=t,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}(n,r,this.y,e,t,e,this.h)},t.prototype.resize=function(e){return this.free+=e-this.w,this.w=e,!0},e},"object"==typeof n&&void 0!==t?t.exports=i():r.ShelfPack=i()},{}],6:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function i(e,t,n,r,i,a,s){for(var u=0;u<t;u++){for(var l=0;l<n;l++)r[l]=e[l*t+u];for(o(r,i,a,s,n),l=0;l<n;l++)e[l*t+u]=i[l]}for(l=0;l<n;l++){for(u=0;u<t;u++)r[u]=e[l*t+u];for(o(r,i,a,s,t),u=0;u<t;u++)e[l*t+u]=Math.sqrt(i[u])}}function o(e,t,n,r,i){n[0]=0,r[0]=-a,r[1]=+a;for(var o=1,s=0;o<i;o++){for(var u=(e[o]+o*o-(e[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);u<=r[s];)s--,u=(e[o]+o*o-(e[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);n[++s]=o,r[s]=u,r[s+1]=+a}for(o=0,s=0;o<i;o++){for(;r[s+1]<o;)s++;t[o]=(o-n[s])*(o-n[s])+e[n[s]]}}t.exports=r;var a=1e20;r.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var o=t.data[4*r+3]/255;this.gridOuter[r]=1===o?0:0===o?a:Math.pow(Math.max(0,.5-o),2),this.gridInner[r]=1===o?a:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(i(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),i(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var s=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},{}],7:[function(e,t,n){function r(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}t.exports=r,r.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},r.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},r.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},r.prototype.solveCurveX=function(e,t){var n,r,i,o,a;for(void 0===t&&(t=1e-6),i=e,a=0;a<8;a++){if(o=this.sampleCurveX(i)-e,Math.abs(o)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if(r=1,(i=e)<(n=0))return n;if(i>r)return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-e)<t)return i;e>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},{}],8:[function(e,t,n){t.exports.VectorTile=e("./lib/vectortile.js"),t.exports.VectorTileFeature=e("./lib/vectortilefeature.js"),t.exports.VectorTileLayer=e("./lib/vectortilelayer.js")},{"./lib/vectortile.js":9,"./lib/vectortilefeature.js":10,"./lib/vectortilelayer.js":11}],9:[function(e,t,n){"use strict";function r(e,t,n){if(3===e){var r=new i(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var i=e("./vectortilelayer");t.exports=function(e,t){this.layers=e.readFields(r,{},t)}},{"./vectortilelayer":11}],10:[function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],r+=((n=e[a]).x-t.x)*(t.y+n.y);return r}var a=e("@mapbox/point-geometry");t.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,s=0,u=[];e.pos<n;){if(!i){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=e.readSVarint(),s+=e.readSVarint(),1===r&&(t&&u.push(t),t=[]),t.push(new a(o,s));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&u.push(t),u},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(!r){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/u;e[t]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var a,s,u=this.extent*Math.pow(2,n),l=this.extent*e,c=this.extent*t,p=this.loadGeometry(),f=r.types[this.type];switch(this.type){case 1:var h=[];for(a=0;a<p.length;a++)h[a]=p[a][0];i(p=h);break;case 2:for(a=0;a<p.length;a++)i(p[a]);break;case 3:for(p=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],a=0;a<t;a++){var s=o(e[a]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}return n&&i.push(n),i}(p),a=0;a<p.length;a++)for(s=0;s<p[a].length;s++)i(p[a][s])}1===p.length?p=p[0]:f="Multi"+f;var d={type:"Feature",geometry:{type:f,coordinates:p},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"@mapbox/point-geometry":4}],11:[function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}var o=e("./vectortilefeature.js");t.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new o(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":10}],12:[function(e,t,n){var r;r=this,function(e){function t(e,t,r){var i=n(256*e,256*(t=Math.pow(2,r)-t-1),r),o=n(256*(e+1),256*(t+1),r);return i[0]+","+i[1]+","+o[0]+","+o[1]}function n(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}e.getURL=function(e,n,r,i,o,a){return a=a||{},e+"?"+["bbox="+t(r,i,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+n].join("&")},e.getTileBBox=t,e.getMercCoords=n,Object.defineProperty(e,"__esModule",{value:!0})}("object"==typeof n&&void 0!==t?n:r.WhooTS=r.WhooTS||{})},{}],13:[function(e,t,n){function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return r("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function o(e){return function(e){return e<0?0:e>1?1:e}("%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))}function a(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var s={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in s)return s[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=n.indexOf("("),l=n.indexOf(")");if(-1!==u&&l+1===n.length){var c=n.substr(0,u),p=n.substr(u+1,l-(u+1)).split(","),f=1;switch(c){case"rgba":if(4!==p.length)return null;f=o(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),f];case"hsla":if(4!==p.length)return null;f=o(p.pop());case"hsl":if(3!==p.length)return null;var h=(parseFloat(p[0])%360+360)%360/360,d=o(p[1]),g=o(p[2]),y=g<=.5?g*(d+1):g+d-g*d,v=2*g-y;return[r(255*a(v,y,h+1/3)),r(255*a(v,y,h)),r(255*a(v,y,h-1/3)),f];default:return null}}return null}}catch(e){}},{}],14:[function(e,t,n){"use strict";function r(e,t,n){n=n||2;var r,s,u,l,c,h,g,y=t&&t.length,v=y?t[0]*n:e.length,m=i(e,0,v,n,!0),_=[];if(!m)return _;if(y&&(m=function(e,t,n,r){var a,s,u,l,c,h=[];for(a=0,s=t.length;a<s;a++)u=t[a]*r,l=a<s-1?t[a+1]*r:e.length,(c=i(e,u,l,r,!1))===c.next&&(c.steiner=!0),h.push(d(c));for(h.sort(p),a=0;a<h.length;a++)f(h[a],n),n=o(n,n.next);return n}(e,t,m,n)),e.length>80*n){r=u=e[0],s=l=e[1];for(var A=n;A<v;A+=n)c=e[A],h=e[A+1],c<r&&(r=c),h<s&&(s=h),c>u&&(u=c),h>l&&(l=h);g=0!==(g=Math.max(u-r,l-s))?1/g:0}return a(m,_,n,r,s,g),_}function i(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=x(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=x(o,e[o],e[o+1],a);return a&&m(a,a.next)&&(w(a),a=a.next),a}function o(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(w(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,p,f){if(e){!f&&p&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=h(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(e,r,i,p);for(var d,g,y=e;e.prev!==e.next;)if(d=e.prev,g=e.next,p?u(e,r,i,p):s(e))t.push(d.i/n),t.push(e.i/n),t.push(g.i/n),w(e),e=g.next,y=g.next;else if((e=g)===y){f?1===f?a(e=l(e,t,n),t,n,r,i,p,2):2===f&&c(e,t,n,r,i,p):a(o(e),t,n,r,i,p,1);break}}}function s(e){var t=e.prev,n=e,r=e.next;if(v(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(g(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(e,t,n,r){var i=e.prev,o=e,a=e.next;if(v(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=h(s,u,t,n,r),f=h(l,c,t,n,r),d=e.prevZ,y=e.nextZ;d&&d.z>=p&&y&&y.z<=f;){if(d!==e.prev&&d!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,y!==e.prev&&y!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;d&&d.z>=p;){if(d!==e.prev&&d!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;y&&y.z<=f;){if(y!==e.prev&&y!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function l(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!m(i,o)&&_(i,r,r.next,o)&&A(i,o)&&A(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),w(r),w(r.next),r=e=o),r=r.next}while(r!==e);return r}function c(e,t,n,r,i,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var c=b(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,t,n,r,i,s),void a(c,t,n,r,i,s)}l=l.next}u=u.next}while(u!==e)}function p(e,t){return e.x-t.x}function f(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,p=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&g(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&A(r,e)&&(n=r,f=u),r=r.next;return n}(e,t)){var n=b(t,e);o(n,n.next)}}function h(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function g(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&_(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&A(e,t)&&A(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function v(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function m(e,t){return e.x===t.x&&e.y===t.y}function _(e,t,n,r){return!!(m(e,t)&&m(n,r)||m(e,r)&&m(n,t))||v(e,t,n)>0!=v(e,t,r)>0&&v(n,r,e)>0!=v(n,r,t)>0}function A(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function b(e,t){var n=new E(e.i,e.x,e.y),r=new E(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function x(e,t,n,r){var i=new E(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function w(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function E(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(T(e,l,c,n))}var p=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((e[f]-e[d])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[d+1]-e[f+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},r.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},{}],15:[function(e,t,n){function r(e,t){return function(n){return e(n,t)}}function i(e,t){t=!!t,e[0]=o(e[0],t);for(var n=1;n<e.length;n++)e[n]=o(e[n],!t);return e}function o(e,t){return function(e){return a.ring(e)>=0}(e)===t?e:e.reverse()}var a=e("@mapbox/geojson-area");t.exports=function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(r(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=i(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(r(i,t))),e}(t,n);default:return t}}},{"@mapbox/geojson-area":1}],16:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function i(e,t,n,r,i,o){for(var l=[],c=0===i?s:u,p=0;p<e.length-3;p+=3){var f=e[p],h=e[p+1],d=e[p+2],g=e[p+3],y=e[p+4],v=0===i?f:h,m=0===i?g:y,_=!1;v<n?m>=n&&c(l,f,h,g,y,n):v>r?m<=r&&c(l,f,h,g,y,r):a(l,f,h,d),m<n&&v>=n&&(c(l,f,h,g,y,n),_=!0),m>r&&v<=r&&(c(l,f,h,g,y,r),_=!0),!o&&_&&(l.size=e.size,t.push(l),l=[])}var A=e.length-3;f=e[A],h=e[A+1],d=e[A+2],(v=0===i?f:h)>=n&&v<=r&&a(l,f,h,d),A=l.length-3,o&&A>=3&&(l[A]!==l[0]||l[A+1]!==l[1])&&a(l,l[0],l[1],l[2]),l.length&&(l.size=e.size,t.push(l))}function o(e,t,n,r,o,a){for(var s=0;s<e.length;s++)i(e[s],t,n,r,o,a)}function a(e,t,n,r){e.push(t),e.push(n),e.push(r)}function s(e,t,n,r,i,o){e.push(o),e.push(n+(o-t)*(i-n)/(r-t)),e.push(1)}function u(e,t,n,r,i,o){e.push(t+(o-n)*(r-t)/(i-n)),e.push(o),e.push(1)}t.exports=function(e,t,n,a,s,u,c){if(a/=t,u>=(n/=t)&&c<=a)return e;if(u>a||c<n)return null;for(var p=[],f=0;f<e.length;f++){var h=e[f],d=h.geometry,g=h.type,y=0===s?h.minX:h.minY,v=0===s?h.maxX:h.maxY;if(y>=n&&v<=a)p.push(h);else if(!(y>a||v<n)){var m=[];if("Point"===g||"MultiPoint"===g)r(d,m,n,a,s);else if("LineString"===g)i(d,m,n,a,s,!1);else if("MultiLineString"===g)o(d,m,n,a,s,!1);else if("Polygon"===g)o(d,m,n,a,s,!0);else if("MultiPolygon"===g)for(var _=0;_<d.length;_++){var A=[];o(d[_],A,n,a,s,!0),A.length&&m.push(A)}m.length&&("LineString"!==g&&"MultiLineString"!==g||(1===m.length?(g="LineString",m=m[0]):g="MultiLineString"),"Point"!==g&&"MultiPoint"!==g||(g=3===m.length?"Point":"MultiPoint"),p.push(l(h.id,g,m,h.tags)))}}return p.length?p:null};var l=e("./feature")},{"./feature":18}],17:[function(e,t,n){"use strict";function r(e,t,n){if(t.geometry){var s=t.geometry.coordinates,u=t.geometry.type,l=n*n,p=[];if("Point"===u)i(s,p);else if("MultiPoint"===u)for(var f=0;f<s.length;f++)i(s[f],p);else if("LineString"===u)o(s,p,l,!1);else if("MultiLineString"===u)a(s,p,l,!1);else if("Polygon"===u)a(s,p,l,!0);else{if("MultiPolygon"!==u){if("GeometryCollection"===u){for(f=0;f<t.geometry.geometries.length;f++)r(e,{geometry:t.geometry.geometries[f],properties:t.properties},n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(f=0;f<s.length;f++){var h=[];a(s[f],h,l,!0),p.push(h)}}e.push(c(t.id,u,p,t.properties))}}function i(e,t){t.push(s(e[0])),t.push(u(e[1])),t.push(0)}function o(e,t,n,r){for(var i,o,a=0,c=0;c<e.length;c++){var p=s(e[c][0]),f=u(e[c][1]);t.push(p),t.push(f),t.push(0),c>0&&(a+=r?(i*f-p*o)/2:Math.sqrt(Math.pow(p-i,2)+Math.pow(f-o,2))),i=p,o=f}var h=t.length-3;t[2]=1,l(t,0,h,n),t[h+2]=1,t.size=Math.abs(a)}function a(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];o(e[i],a,n,r),t.push(a)}}function s(e){return e/360+.5}function u(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}t.exports=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)r(n,e.features[i],t);else"Feature"===e.type?r(n,e,t):r(n,{geometry:e},t);return n};var l=e("./simplify"),c=e("./feature")},{"./feature":18,"./simplify":20}],18:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}t.exports=function(e,t,n,i){var o={id:e||null,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)r(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)r(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++)r(e,t[i][o])}(o),o}},{}],19:[function(e,t,n){"use strict";function r(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var r=1<<t.maxZoom,i=o(e,t.tolerance/(r*t.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=u(i,t.buffer/t.extent)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function i(e,t,n){return 32*((1<<e)*n+t)+e}t.exports=function(e,t){return new r(e,t)};var o=e("./convert"),a=e("./transform"),s=e("./clip"),u=e("./wrap"),l=e("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(e,t,n,r,o,a,u){for(var c=[e,t,n,r],p=this.options,f=p.debug;c.length;){r=c.pop(),n=c.pop(),t=c.pop(),e=c.pop();var h=1<<t,d=i(t,n,r),g=this.tiles[d],y=t===p.maxZoom?0:p.tolerance/(h*p.extent);if(!g&&(f>1&&console.time("creation"),g=this.tiles[d]=l(e,h,n,r,y,t===p.maxZoom),this.tileCoords.push({z:t,x:n,y:r}),f)){f>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,g.numFeatures,g.numPoints,g.numSimplified),console.timeEnd("creation"));var v="z"+t;this.stats[v]=(this.stats[v]||0)+1,this.total++}if(g.source=e,o){if(t===p.maxZoom||t===o)continue;var m=1<<o-t;if(n!==Math.floor(a/m)||r!==Math.floor(u/m))continue}else if(t===p.indexMaxZoom||g.numPoints<=p.indexMaxPoints)continue;if(g.source=null,0!==e.length){f>1&&console.time("clipping");var _,A,b,x,w,E,T=.5*p.buffer/p.extent,M=.5-T,S=.5+T,C=1+T;_=A=b=x=null,w=s(e,h,n-T,n+S,0,g.minX,g.maxX),E=s(e,h,n+M,n+C,0,g.minX,g.maxX),e=null,w&&(_=s(w,h,r-T,r+S,1,g.minY,g.maxY),A=s(w,h,r+M,r+C,1,g.minY,g.maxY),w=null),E&&(b=s(E,h,r-T,r+S,1,g.minY,g.maxY),x=s(E,h,r+M,r+C,1,g.minY,g.maxY),E=null),f>1&&console.timeEnd("clipping"),c.push(_||[],t+1,2*n,2*r),c.push(A||[],t+1,2*n,2*r+1),c.push(b||[],t+1,2*n+1,2*r),c.push(x||[],t+1,2*n+1,2*r+1)}}},r.prototype.getTile=function(e,t,n){var r=this.options,o=r.extent,s=r.debug;if(e<0||e>24)return null;var u=1<<e,l=i(e,t=(t%u+u)%u,n);if(this.tiles[l])return a.tile(this.tiles[l],o);s>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var c,p=e,f=t,h=n;!c&&p>0;)p--,f=Math.floor(f/2),h=Math.floor(h/2),c=this.tiles[i(p,f,h)];return c&&c.source?(s>1&&console.log("found parent tile z%d-%d-%d",p,f,h),s>1&&console.time("drilling down"),this.splitTile(c.source,p,f,h,e,t,n),s>1&&console.timeEnd("drilling down"),this.tiles[l]?a.tile(this.tiles[l],o):null):null}},{"./clip":16,"./convert":17,"./tile":21,"./transform":22,"./wrap":23}],20:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((e-n)*a+(t-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=e-n)*a+(s=t-r)*s}t.exports=function e(t,n,i,o){for(var a,s=o,u=t[n],l=t[n+1],c=t[i],p=t[i+1],f=n+3;f<i;f+=3){var h=r(t[f],t[f+1],u,l,c,p);h>s&&(a=f,s=h)}s>o&&(a-n>3&&e(t,n,a,o),t[a+2]=s,i-a>3&&e(t,a,i,o))}},{}],21:[function(e,t,n){"use strict";function r(e,t,n,r){var o=t.geometry,a=t.type,s=[];if("Point"===a||"MultiPoint"===a)for(var u=0;u<o.length;u+=3)s.push(o[u]),s.push(o[u+1]),e.numPoints++,e.numSimplified++;else if("LineString"===a)i(s,o,e,n,r,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(u=0;u<o.length;u++)i(s,o[u],e,n,r,"Polygon"===a,0===u);else if("MultiPolygon"===a)for(var l=0;l<o.length;l++){var c=o[l];for(u=0;u<c.length;u++)i(s,c[u],e,n,r,!0,0===u)}if(s.length){var p={geometry:s,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:t.tags||null};null!==t.id&&(p.id=t.id),e.features.push(p)}}function i(e,t,n,r,i,o,a){var s=r*r;if(!i&&t.size<(o?s:r))n.numPoints+=t.length/3;else{for(var u=[],l=0;l<t.length;l+=3)(i||t[l+2]>s)&&(n.numSimplified++,u.push(t[l]),u.push(t[l+1])),n.numPoints++;o&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(u,a),e.push(u)}}t.exports=function(e,t,n,i,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z2:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},u=0;u<e.length;u++){s.numFeatures++,r(s,e[u],o,a);var l=e[u].minX,c=e[u].minY,p=e[u].maxX,f=e[u].maxY;l<s.minX&&(s.minX=l),c<s.minY&&(s.minY=c),p>s.maxX&&(s.maxX=p),f>s.maxY&&(s.maxY=f)}return s}},{}],22:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}n.tile=function(e,t){if(e.transformed)return e;var n,i,o,a=e.z2,s=e.x,u=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,p=l.type;if(l.geometry=[],1===p)for(i=0;i<c.length;i+=2)l.geometry.push(r(c[i],c[i+1],t,a,s,u));else for(i=0;i<c.length;i++){var f=[];for(o=0;o<c[i].length;o+=2)f.push(r(c[i][o],c[i][o+1],t,a,s,u));l.geometry.push(f)}}return e.transformed=!0,e},n.point=r},{}],23:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<e.length;r++){var o,s=e[r],u=s.type;if("Point"===u||"MultiPoint"===u||"LineString"===u)o=i(s.geometry,t);else if("MultiLineString"===u||"Polygon"===u){o=[];for(var l=0;l<s.geometry.length;l++)o.push(i(s.geometry[l],t))}else if("MultiPolygon"===u)for(o=[],l=0;l<s.geometry.length;l++){for(var c=[],p=0;p<s.geometry[l].length;p++)c.push(i(s.geometry[l][p],t));o.push(c)}n.push(a(s.id,u,o,s.tags))}return n}function i(e,t){var n=[];n.size=e.size;for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}var o=e("./clip"),a=e("./feature");t.exports=function(e,t){var n=e,i=o(e,1,-1-t,t,0,-1,2),a=o(e,1,1-t,2+t,0,-1,2);return(i||a)&&(n=o(e,1,-t,1+t,0,-1,2)||[],i&&(n=r(i,1).concat(n)),a&&(n=n.concat(r(a,-1)))),n}},{"./clip":16,"./feature":18}],24:[function(e,t,n){"use strict";function r(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],t=o[1],n=o[2],this.d=t+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[i+a],u=o[i+a+1];r.push(s===u?null:o.subarray(s,u))}var l=o[i+r.length],c=o[i+r.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var p=0;p<this.d*this.d;p++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var f=n/t*e;this.min=-f,this.max=e+f}t.exports=r;var i=3;r.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},r.prototype._insertCell=function(e,t,n,r,i,o){this.cells[i].push(o)},r.prototype.query=function(e,t,n,r){var i=this.min,o=this.max;if(e<=i&&t<=i&&o<=n&&o<=r)return Array.prototype.slice.call(this.keys);var a=[];return this._forEachCell(e,t,n,r,this._queryCell,a,{}),a},r.prototype._queryCell=function(e,t,n,r,i,o,a){var s=this.cells[i];if(null!==s)for(var u=this.keys,l=this.bboxes,c=0;c<s.length;c++){var p=s[c];if(void 0===a[p]){var f=4*p;e<=l[f+2]&&t<=l[f+3]&&n>=l[f+0]&&r>=l[f+1]?(a[p]=!0,o.push(u[p])):a[p]=!1}}},r.prototype._forEachCell=function(e,t,n,r,i,o,a){for(var s=this._convertToCellCoord(e),u=this._convertToCellCoord(t),l=this._convertToCellCoord(n),c=this._convertToCellCoord(r),p=s;p<=l;p++)for(var f=u;f<=c;f++){var h=this.d*f+p;if(i.call(this,e,t,n,r,h,o,a))return}},r.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},r.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=i+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var o=new Int32Array(t+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=t,s=0;s<e.length;s++){var u=e[s];o[i+s]=a,o.set(u,a),a+=u.length}return o[i+e.length]=a,o.set(this.keys,a),a+=this.keys.length,o[i+e.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],25:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?i-1:0,f=n?-1:1,h=e[t+p];for(p+=f,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+p],p+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=d,a/=256,l-=8);e[n+h-d]|=128*g}},{}],26:[function(e,t,n){"use strict";function r(e,t,n,r,s){t=t||i,n=n||o,s=s||Array,this.nodeSize=r||64,this.points=e,this.ids=new s(e.length),this.coords=new s(2*e.length);for(var u=0;u<e.length;u++)this.ids[u]=u,this.coords[2*u]=t(e[u]),this.coords[2*u+1]=n(e[u]);a(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function i(e){return e[0]}function o(e){return e[1]}var a=e("./sort"),s=e("./range"),u=e("./within");t.exports=function(e,t,n,i,o){return new r(e,t,n,i,o)},r.prototype={range:function(e,t,n,r){return s(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return u(this.ids,this.coords,e,t,n,this.nodeSize)}}},{"./range":27,"./sort":28,"./within":29}],27:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var p=l.pop(),f=l.pop(),h=l.pop();if(f-h<=a)for(var d=h;d<=f;d++)s=t[2*d],u=t[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(e[d]);else{var g=Math.floor((h+f)/2);s=t[2*g],u=t[2*g+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(e[g]);var y=(p+1)%2;(0===p?n<=s:r<=u)&&(l.push(h),l.push(g-1),l.push(y)),(0===p?i>=s:o>=u)&&(l.push(g+1),l.push(f),l.push(y))}}return c}},{}],28:[function(e,t,n){"use strict";function r(e,t,n,r){i(e,n,r),i(t,2*n,2*r),i(t,2*n+1,2*r+1)}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}t.exports=function e(t,n,i,o,a,s){if(!(a-o<=i)){var u=Math.floor((o+a)/2);(function e(t,n,i,o,a,s){for(;a>o;){if(a-o>600){var u=a-o+1,l=i-o+1,c=Math.log(u),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(u-p)/u)*(l-u/2<0?-1:1);e(t,n,i,Math.max(o,Math.floor(i-l*p/u+f)),Math.min(a,Math.floor(i+(u-l)*p/u+f)),s)}var h=n[2*i+s],d=o,g=a;for(r(t,n,o,i),n[2*a+s]>h&&r(t,n,o,a);d<g;){for(r(t,n,d,g),d++,g--;n[2*d+s]<h;)d++;for(;n[2*g+s]>h;)g--}n[2*o+s]===h?r(t,n,o,g):r(t,n,++g,a),g<=i&&(o=g+1),i<=g&&(a=g-1)}})(t,n,u,o,a,s%2),e(t,n,i,o,u-1,s+1),e(t,n,i,u+1,a,s+1)}}},{}],29:[function(e,t,n){"use strict";function r(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}t.exports=function(e,t,n,i,o,a){for(var s=[0,e.length-1,0],u=[],l=o*o;s.length;){var c=s.pop(),p=s.pop(),f=s.pop();if(p-f<=a)for(var h=f;h<=p;h++)r(t[2*h],t[2*h+1],n,i)<=l&&u.push(e[h]);else{var d=Math.floor((f+p)/2),g=t[2*d],y=t[2*d+1];r(g,y,n,i)<=l&&u.push(e[d]);var v=(c+1)%2;(0===c?n-o<=g:i-o<=y)&&(s.push(f),s.push(d-1),s.push(v)),(0===c?n+o>=g:i+o>=y)&&(s.push(d+1),s.push(p),s.push(v))}}return u}},{}],30:[function(e,t,n){"use strict";function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function o(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function a(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function s(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function l(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function v(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function m(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}t.exports=r;var _=e("ieee754");r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=m(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=y(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=y(this.buf,this.pos)+4294967296*m(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=_.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=_.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,a=n.buf;if(r=(112&(i=a[n.pos++]))>>4,i<128)return o(e,r,t);if(r|=(127&(i=a[n.pos++]))<<3,i<128)return o(e,r,t);if(r|=(127&(i=a[n.pos++]))<<10,i<128)return o(e,r,t);if(r|=(127&(i=a[n.pos++]))<<17,i<128)return o(e,r,t);if(r|=(127&(i=a[n.pos++]))<<24,i<128)return o(e,r,t);if(r|=(1&(i=a[n.pos++]))<<31,i<128)return o(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,u=e[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var n=i(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),v(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),v(this.buf,-1&e,this.pos),v(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&a(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),_.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),_.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,s,t)},writePackedSVarint:function(e,t){this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){this.writeMessage(e,p,t)},writePackedFloat:function(e,t){this.writeMessage(e,l,t)},writePackedDouble:function(e,t){this.writeMessage(e,c,t)},writePackedFixed32:function(e,t){this.writeMessage(e,f,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedFixed64:function(e,t){this.writeMessage(e,d,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,g,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},{ieee754:25}],31:[function(e,t,n){"use strict";function r(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function i(e,t){return e<t?-1:e>t?1:0}t.exports=function e(t,n,o,a,s){for(o=o||0,a=a||t.length-1,s=s||i;a>o;){if(a-o>600){var u=a-o+1,l=n-o+1,c=Math.log(u),p=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*p*(u-p)/u)*(l-u/2<0?-1:1);e(t,n,Math.max(o,Math.floor(n-l*p/u+f)),Math.min(a,Math.floor(n+(u-l)*p/u+f)),s)}var h=t[n],d=o,g=a;for(r(t,o,n),s(t[a],h)>0&&r(t,o,a);d<g;){for(r(t,d,g),d++,g--;s(t[d],h)<0;)d++;for(;s(t[g],h)>0;)g--}0===s(t[o],h)?r(t,o,g):r(t,++g,a),g<=n&&(o=g+1),n<=g&&(a=g-1)}}},{}],32:[function(e,t,n){"use strict";function r(e){this.options=c(Object.create(this.options),e),this.trees=new Array(this.options.maxZoom+1)}function i(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:r,properties:i,parentId:-1,numPoints:n}}function o(e,t){var n=e.geometry.coordinates;return{x:u(n[0]),y:l(n[1]),zoom:1/0,id:t,parentId:-1}}function a(e){return{type:"Feature",properties:s(e),geometry:{type:"Point",coordinates:[function(e){return 360*(e-.5)}(e.x),function(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}(e.y)]}}}function s(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return c(c({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function u(e){return e/360+.5}function l(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function c(e,t){for(var n in t)e[n]=t[n];return e}function p(e){return e.x}function f(e){return e.y}var h=e("kdbush");t.exports=function(e){return new r(e)},r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(e){return e}},load:function(e){var t=this.options.log;t&&console.time("total time");var n="prepare "+e.length+" points";t&&console.time(n),this.points=e;var r=e.map(o);t&&console.timeEnd(n);for(var i=this.options.maxZoom;i>=this.options.minZoom;i--){var a=+Date.now();this.trees[i+1]=h(r,p,f,this.options.nodeSize,Float32Array),r=this._cluster(r,i),t&&console.log("z%d: %d clusters in %dms",i,r.length,+Date.now()-a)}return this.trees[this.options.minZoom]=h(r,p,f,this.options.nodeSize,Float32Array),t&&console.timeEnd("total time"),this},getClusters:function(e,t){for(var n=this.trees[this._limitZoom(t)],r=n.range(u(e[0]),l(e[3]),u(e[2]),l(e[1])),i=[],o=0;o<r.length;o++){var s=n.points[r[o]];i.push(s.numPoints?a(s):this.points[s.id])}return i},getChildren:function(e,t){for(var n=this.trees[t+1].points[e],r=this.options.radius/(this.options.extent*Math.pow(2,t)),i=this.trees[t+1].within(n.x,n.y,r),o=[],s=0;s<i.length;s++){var u=this.trees[t+1].points[i[s]];u.parentId===e&&o.push(u.numPoints?a(u):this.points[u.id])}return o},getLeaves:function(e,t,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,t,n,r,0),i},getTile:function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),o=this.options.extent,a=this.options.radius/o,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((t-a)/i,s,(t+1+a)/i,u),r.points,t,n,i,l),0===t&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),t===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},getClusterExpansionZoom:function(e,t){for(;t<this.options.maxZoom;){var n=this.getChildren(e,t);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},_appendLeaves:function(e,t,n,r,i,o){for(var a=this.getChildren(t,n),s=0;s<a.length;s++){var u=a[s].properties;if(u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(e,u.cluster_id,n+1,r,i,o):o<i?o++:e.push(a[s]),e.length===r)break}return o},_addTileFeatures:function(e,t,n,r,i,o){for(var a=0;a<e.length;a++){var u=t[e[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:u.numPoints?s(u):this.points[u.id].properties})}},_limitZoom:function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},_cluster:function(e,t){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,t)),o=0;o<e.length;o++){var a=e[o];if(!(a.zoom<=t)){a.zoom=t;var s=this.trees[t+1],u=s.within(a.x,a.y,r),l=a.numPoints||1,c=a.x*l,p=a.y*l,f=null;this.options.reduce&&(f=this.options.initial(),this._accumulate(f,a));for(var h=0;h<u.length;h++){var d=s.points[u[h]];if(t<d.zoom){var g=d.numPoints||1;d.zoom=t,c+=d.x*g,p+=d.y*g,l+=g,d.parentId=o,this.options.reduce&&this._accumulate(f,d)}}1===l?n.push(a):(a.parentId=o,n.push(i(c/l,p/l,l,o,f)))}}return n},_accumulate:function(e,t){var n=t.numPoints?t.properties:this.options.map(this.points[t.id].properties);this.options.reduce(e,n)}}},{kdbush:26}],33:[function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||i,this.length>0)for(var n=this.length>>1;n>=0;n--)this._down(n)}function i(e,t){return e<t?-1:e>t?1:0}t.exports=r,r.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},_down:function(e){for(var t=this.data,n=this.compare,r=this.length,i=r>>1,o=t[e];e<i;){var a=1+(e<<1),s=a+1,u=t[a];if(s<r&&n(t[s],u)<0&&(a=s,u=t[s]),n(u,o)>=0)break;t[e]=u,e=a}t[e]=o}}},{}],34:[function(e,t,n){function r(e){var t=new p;return function(e,t){for(var n in e.layers)t.writeMessage(3,i,e.layers[n])}(e,t),t.finish()}function i(e,t){t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n,r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,o,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,c,a[n])}function o(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,a,e),t.writeVarintField(3,n.type),t.writeMessage(4,l,n)}function a(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),u=r.length-1,o[s]=u),t.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var p=c+":"+l,f=a[p];void 0===f&&(i.push(l),f=i.length-1,a[p]=f),t.writeVarint(f)}}function s(e,t){return(t<<3)+(7&e)}function u(e){return e<<1^e>>31}function l(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,l=0;l<a;l++){var c=n[l],p=1;1===r&&(p=c.length),t.writeVarint(s(1,p));for(var f=0;f<c.length;f++){1===f&&1!==r&&t.writeVarint(s(2,c.length-1));var h=c[f].x-i,d=c[f].y-o;t.writeVarint(u(h)),t.writeVarint(u(d)),i+=h,o+=d}}}function c(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}var p=e("pbf"),f=e("./lib/geojson_wrapper");t.exports=r,t.exports.fromVectorTileJs=r,t.exports.fromGeojsonVt=function(e){var t={};for(var n in e)t[n]=new f(e[n].features),t[n].name=n;return r({layers:t})},t.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":35,pbf:30}],35:[function(e,t,n){"use strict";function r(e){this.features=e,this.length=e.length}function i(e){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=4096}var o=e("@mapbox/point-geometry"),a=e("@mapbox/vector-tile").VectorTileFeature;t.exports=r,r.prototype.feature=function(e){return new i(this.features[e])},i.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new o(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},i.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var u=a[s];t=Math.min(t,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[t,r,n,i]},i.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],36:[function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;t.exports=function(e,t){for(var n,s=Object.keys(o),u=0,l=s.length;u<l;u++){var c=s[u],p=o[c].exports;if(p===e||p&&p.default===e){n=c;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var f={};for(u=0,l=s.length;u<l;u++){f[c=s[u]]=c}i[n]=["function(require,module,exports){"+e+"(self); }",f]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};d[n]=n,i[h]=["function(require,module,exports){var f = require("+a(n)+");(f.default ? f.default : f)(self);}",d];var g={};!function e(t){for(var n in g[t]=!0,i[t][1]){var r=i[t][1][n];g[r]||e(r)}}(h);var y="("+r+")({"+Object.keys(g).map(function(e){return a(e)+":["+i[e][0]+","+a(i[e][1])+"]"}).join(",")+"},{},["+a(h)+"])",v=window.URL||window.webkitURL||window.mozURL||window.msURL,m=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return m;var _=v.createObjectURL(m),A=new Worker(_);return A.objectURL=_,A}},{}],37:[function(e,t,n){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},{}],38:[function(e,t,n){t.exports={version:"0.44.1"}},{}],39:[function(e,t,n){"use strict";var r=e("../util/struct_array").StructArray,i=e("../util/struct_array").Struct,o=e("../util/web_worker_transfer").register,a=e("@mapbox/point-geometry"),s=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;this.resize(n+1);var r=2*n;return this.int16[r+0]=e,this.int16[r+1]=t,n},t}(r);s.prototype.bytesPerElement=4,o("StructArrayLayout2i4",s);var u=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.int16[o+0]=e,this.int16[o+1]=t,this.int16[o+2]=n,this.int16[o+3]=r,i},t}(r);u.prototype.bytesPerElement=8,o("StructArrayLayout4i8",u);var l=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=e,this.int16[s+1]=t,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},t}(r);l.prototype.bytesPerElement=12,o("StructArrayLayout2i4i12",l);var c=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=6*u,c=12*u;return this.int16[l+0]=e,this.int16[l+1]=t,this.int16[l+2]=n,this.int16[l+3]=r,this.uint8[c+8]=i,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,u},t}(r);c.prototype.bytesPerElement=12,o("StructArrayLayout4i4ub12",c);var p=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=8*u;return this.int16[l+0]=e,this.int16[l+1]=t,this.int16[l+2]=n,this.int16[l+3]=r,this.uint16[l+4]=i,this.uint16[l+5]=o,this.uint16[l+6]=a,this.uint16[l+7]=s,u},t}(r);p.prototype.bytesPerElement=16,o("StructArrayLayout4i4ui16",p);var f=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;this.resize(r+1);var i=3*r;return this.float32[i+0]=e,this.float32[i+1]=t,this.float32[i+2]=n,r},t}(r);f.prototype.bytesPerElement=12,o("StructArrayLayout3f12",f);var h=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var n=1*t;return this.uint32[n+0]=e,t},t}(r);h.prototype.bytesPerElement=4,o("StructArrayLayout1ul4",h);var d=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c){var p=this.length;this.resize(p+1);var f=12*p,h=6*p;return this.int16[f+0]=e,this.int16[f+1]=t,this.int16[f+2]=n,this.int16[f+3]=r,this.int16[f+4]=i,this.int16[f+5]=o,this.uint32[h+3]=a,this.uint16[f+8]=s,this.uint16[f+9]=u,this.int16[f+10]=l,this.int16[f+11]=c,p},t}(r);d.prototype.bytesPerElement=24,o("StructArrayLayout6i1ul2ui2i24",d);var g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=e,this.int16[s+1]=t,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a},t}(r);g.prototype.bytesPerElement=12,o("StructArrayLayout2i2i2i12",g);var y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;this.resize(n+1);var r=4*n;return this.uint8[r+0]=e,this.uint8[r+1]=t,n},t}(r);y.prototype.bytesPerElement=4,o("StructArrayLayout2ub4",y);var v=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,o,a,s,u,l,c,p,f,h){var d=this.length;this.resize(d+1);var g=20*d,y=10*d,v=40*d;return this.int16[g+0]=e,this.int16[g+1]=t,this.uint16[g+2]=n,this.uint16[g+3]=r,this.uint32[y+2]=i,this.uint32[y+3]=o,this.uint32[y+4]=a,this.uint16[g+10]=s,this.uint16[g+11]=u,this.uint16[g+12]=l,this.float32[y+7]=c,this.float32[y+8]=p,this.uint8[v+36]=f,this.uint8[v+37]=h,d},t}(r);v.prototype.bytesPerElement=40,o("StructArrayLayout2i2ui3ul3ui2f2ub40",v);var m=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;this.resize(t+1);var n=1*t;return this.float32[n+0]=e,t},t}(r);m.prototype.bytesPerElement=4,o("StructArrayLayout1f4",m);var _=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;this.resize(r+1);var i=3*r;return this.int16[i+0]=e,this.int16[i+1]=t,this.int16[i+2]=n,r},t}(r);_.prototype.bytesPerElement=6,o("StructArrayLayout3i6",_);var A=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;this.resize(r+1);var i=2*r,o=4*r;return this.uint32[i+0]=e,this.uint16[o+2]=t,this.uint16[o+3]=n,r},t}(r);A.prototype.bytesPerElement=8,o("StructArrayLayout1ul2ui8",A);var b=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;this.resize(r+1);var i=3*r;return this.uint16[i+0]=e,this.uint16[i+1]=t,this.uint16[i+2]=n,r},t}(r);b.prototype.bytesPerElement=6,o("StructArrayLayout3ui6",b);var x=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;this.resize(n+1);var r=2*n;return this.uint16[r+0]=e,this.uint16[r+1]=t,n},t}(r);x.prototype.bytesPerElement=4,o("StructArrayLayout2ui4",x);var w=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;this.resize(n+1);var r=2*n;return this.float32[r+0]=e,this.float32[r+1]=t,n},t}(r);w.prototype.bytesPerElement=8,o("StructArrayLayout2f8",w);var E=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.float32[o+0]=e,this.float32[o+1]=t,this.float32[o+2]=n,this.float32[o+3]=r,i},t}(r);E.prototype.bytesPerElement=16,o("StructArrayLayout4f16",E);var T=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorPointX:{},anchorPointY:{},x1:{},y1:{},x2:{},y2:{},featureIndex:{},sourceLayerIndex:{},bucketIndex:{},radius:{},signedDistanceFromAnchor:{},anchorPoint:{}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},n.anchorPoint.get=function(){return new a(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(i);T.prototype.size=24;var M=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new T(this,e)},t}(d);o("CollisionBoxArray",M);var S=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{},anchorY:{},glyphStartIndex:{},numGlyphs:{},vertexStartIndex:{},lineStartIndex:{},lineLength:{},segment:{},lowerSize:{},upperSize:{},lineOffsetX:{},lineOffsetY:{},writingMode:{},hidden:{}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},Object.defineProperties(t.prototype,n),t}(i);S.prototype.size=40;var C=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new S(this,e)},t}(v);o("PlacedSymbolArray",C);var I=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={offsetX:{}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,n),t}(i);I.prototype.size=4;var P=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new I(this,e)},t}(m);o("GlyphOffsetArray",P);var k=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={x:{},y:{},tileUnitDistanceFromAnchor:{}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(e){this._structArray.int16[this._pos2+0]=e},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(e){this._structArray.int16[this._pos2+1]=e},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,n),t}(i);k.prototype.size=6;var O=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new k(this,e)},t}(_);o("SymbolLineVertexArray",O);var L=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={featureIndex:{},sourceLayerIndex:{},bucketIndex:{}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,n),t}(i);L.prototype.size=8;var R=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new L(this,e)},t}(A);o("FeatureIndexArray",R),t.exports={StructArrayLayout2i4:s,StructArrayLayout4i8:u,StructArrayLayout2i4i12:l,StructArrayLayout4i4ub12:c,StructArrayLayout4i4ui16:p,StructArrayLayout3f12:f,StructArrayLayout1ul4:h,StructArrayLayout6i1ul2ui2i24:d,StructArrayLayout2i2i2i12:g,StructArrayLayout2ub4:y,StructArrayLayout2i2ui3ul3ui2f2ub40:v,StructArrayLayout1f4:m,StructArrayLayout3i6:_,StructArrayLayout1ul2ui8:A,StructArrayLayout3ui6:b,StructArrayLayout2ui4:x,StructArrayLayout2f8:w,StructArrayLayout4f16:E,PosArray:s,RasterBoundsArray:u,CircleLayoutArray:s,FillLayoutArray:s,FillExtrusionLayoutArray:l,HeatmapLayoutArray:s,LineLayoutArray:c,SymbolLayoutArray:p,SymbolDynamicLayoutArray:f,SymbolOpacityArray:h,CollisionBoxLayoutArray:g,CollisionCircleLayoutArray:g,CollisionVertexArray:y,TriangleIndexArray:b,LineIndexArray:x,CollisionBoxArray:M,PlacedSymbolArray:C,GlyphOffsetArray:P,SymbolLineVertexArray:O,FeatureIndexArray:R}},{"../util/struct_array":271,"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],40:[function(e,t,n){"use strict";t.exports={deserialize:function(e,t){var n={};if(!t)return n;for(var r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==a.length){o.layers=a;for(var s=0,u=a;s<u.length;s+=1)n[u[s].id]=o}}return n}}},{}],41:[function(e,t,n){"use strict";var r=e("../../util/struct_array").createLayout;t.exports=r([{name:"a_pos",components:2,type:"Int16"}],4)},{"../../util/struct_array":271}],42:[function(e,t,n){"use strict";function r(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}var i=e("../array_types").CircleLayoutArray,o=e("./circle_attributes").members,a=e("../segment").SegmentVector,s=e("../program_configuration").ProgramConfigurationSet,u=e("../index_array_type").TriangleIndexArray,l=e("../load_geometry"),c=e("../extent"),p=e("../../util/web_worker_transfer").register,f=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new u,this.segments=new a,this.programConfigurations=new s(o,e.layers,e.zoom)};f.prototype.populate=function(e,t){for(var n=this,r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var c=l(a);n.addFeature(a,c),t.featureIndex.insert(a,c,s,u,n.index)}}},f.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},f.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},f.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},f.prototype.addFeature=function(e,t){for(var n=this,i=0,o=t;i<o.length;i+=1)for(var a=0,s=o[i];a<s.length;a+=1){var u=s[a],l=u.x,p=u.y;if(!(l<0||l>=c||p<0||p>=c)){var f=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),h=f.vertexLength;r(n.layoutVertexArray,l,p,-1,-1),r(n.layoutVertexArray,l,p,1,-1),r(n.layoutVertexArray,l,p,1,1),r(n.layoutVertexArray,l,p,-1,1),n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h,h+3,h+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},p("CircleBucket",f,{omit:["layers"]}),t.exports=f},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./circle_attributes":41}],43:[function(e,t,n){arguments[4][41][0].apply(n,arguments)},{"../../util/struct_array":271,dup:41}],44:[function(e,t,n){"use strict";var r=e("../array_types").FillLayoutArray,i=e("./fill_attributes").members,o=e("../segment").SegmentVector,a=e("../program_configuration").ProgramConfigurationSet,s=e("../index_array_type"),u=s.LineIndexArray,l=s.TriangleIndexArray,c=e("../load_geometry"),p=e("earcut"),f=e("../../util/classify_rings"),h=e("../../util/web_worker_transfer").register,d=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new r,this.indexArray=new l,this.indexArray2=new u,this.programConfigurations=new a(i,e.layers,e.zoom),this.segments=new o,this.segments2=new o};d.prototype.populate=function(e,t){for(var n=this,r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var l=c(a);n.addFeature(a,l),t.featureIndex.insert(a,l,s,u,n.index)}}},d.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},d.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,i),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(e)},d.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},d.prototype.addFeature=function(e,t){for(var n=this,r=0,i=f(t,500);r<i.length;r+=1){for(var o=i[r],a=0,s=0,u=o;s<u.length;s+=1)a+=u[s].length;for(var l=n.segments.prepareSegment(a,n.layoutVertexArray,n.indexArray),c=l.vertexLength,h=[],d=[],g=0,y=o;g<y.length;g+=1){var v=y[g];if(0!==v.length){v!==o[0]&&d.push(h.length/2);var m=n.segments2.prepareSegment(v.length,n.layoutVertexArray,n.indexArray2),_=m.vertexLength;n.layoutVertexArray.emplaceBack(v[0].x,v[0].y),n.indexArray2.emplaceBack(_+v.length-1,_),h.push(v[0].x),h.push(v[0].y);for(var A=1;A<v.length;A++)n.layoutVertexArray.emplaceBack(v[A].x,v[A].y),n.indexArray2.emplaceBack(_+A-1,_+A),h.push(v[A].x),h.push(v[A].y);m.vertexLength+=v.length,m.primitiveLength+=v.length}}for(var b=p(h,d),x=0;x<b.length;x+=3)n.indexArray.emplaceBack(c+b[x],c+b[x+1],c+b[x+2]);l.vertexLength+=a,l.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},h("FillBucket",d,{omit:["layers"]}),t.exports=d},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_attributes":43,earcut:14}],45:[function(e,t,n){"use strict";var r=e("../../util/struct_array").createLayout;t.exports=r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},{"../../util/struct_array":271}],46:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*m)+a,i*m*2,o*m*2,Math.round(s))}function i(e,t){return e.x===t.x&&(e.x<0||e.x>d)||e.y===t.y&&(e.y<0||e.y>d)}function o(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>d})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>d})}var a=e("../array_types").FillExtrusionLayoutArray,s=e("./fill_extrusion_attributes").members,u=e("../segment"),l=u.SegmentVector,c=u.MAX_VERTEX_ARRAY_LENGTH,p=e("../program_configuration").ProgramConfigurationSet,f=e("../index_array_type").TriangleIndexArray,h=e("../load_geometry"),d=e("../extent"),g=e("earcut"),y=e("../../util/classify_rings"),v=e("../../util/web_worker_transfer").register,m=Math.pow(2,13),_=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new a,this.indexArray=new f,this.programConfigurations=new p(s,e.layers,e.zoom),this.segments=new l};_.prototype.populate=function(e,t){for(var n=this,r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var l=h(a);n.addFeature(a,l),t.featureIndex.insert(a,l,s,u,n.index)}}},_.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},_.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,s),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},_.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},_.prototype.addFeature=function(e,t){for(var n=this,a=0,s=y(t,500);a<s.length;a+=1){for(var u=s[a],l=0,p=0,f=u;p<f.length;p+=1)l+=f[p].length;for(var h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),d=0,v=u;d<v.length;d+=1){var m=v[d];if(0!==m.length&&!o(m))for(var _=0,A=0;A<m.length;A++){var b=m[A];if(A>=1){var x=m[A-1];if(!i(b,x)){h.vertexLength+4>c&&(h=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray));var w=b.sub(x)._perp()._unit(),E=x.dist(b);_+E>32768&&(_=0),r(n.layoutVertexArray,b.x,b.y,w.x,w.y,0,0,_),r(n.layoutVertexArray,b.x,b.y,w.x,w.y,0,1,_),_+=E,r(n.layoutVertexArray,x.x,x.y,w.x,w.y,0,0,_),r(n.layoutVertexArray,x.x,x.y,w.x,w.y,0,1,_);var T=h.vertexLength;n.indexArray.emplaceBack(T,T+1,T+2),n.indexArray.emplaceBack(T+1,T+2,T+3),h.vertexLength+=4,h.primitiveLength+=2}}}}h.vertexLength+l>c&&(h=n.segments.prepareSegment(l,n.layoutVertexArray,n.indexArray));for(var M=[],S=[],C=h.vertexLength,I=0,P=u;I<P.length;I+=1){var k=P[I];if(0!==k.length){k!==u[0]&&S.push(M.length/2);for(var O=0;O<k.length;O++){var L=k[O];r(n.layoutVertexArray,L.x,L.y,0,0,1,1,0),M.push(L.x),M.push(L.y)}}}for(var R=g(M,S),j=0;j<R.length;j+=3)n.indexArray.emplaceBack(C+R[j],C+R[j+1],C+R[j+2]);h.primitiveLength+=R.length/3,h.vertexLength+=l}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)},v("FillExtrusionBucket",_,{omit:["layers"]}),t.exports=_},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_extrusion_attributes":45,earcut:14}],47:[function(e,t,n){"use strict";var r=e("./circle_bucket"),i=e("../../util/web_worker_transfer").register,o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(r);i("HeatmapBucket",o,{omit:["layers"]}),t.exports=o},{"../../util/web_worker_transfer":278,"./circle_bucket":42}],48:[function(e,t,n){"use strict";var r=e("../../util/struct_array").createLayout;t.exports=r([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},{"../../util/struct_array":271}],49:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){e.emplaceBack(t.x,t.y,r?1:0,i?1:-1,Math.round(h*n.x)+128,Math.round(h*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*g&63)<<2,a*g>>6)}var i=e("../array_types").LineLayoutArray,o=e("./line_attributes").members,a=e("../segment").SegmentVector,s=e("../program_configuration").ProgramConfigurationSet,u=e("../index_array_type").TriangleIndexArray,l=e("../load_geometry"),c=e("../extent"),p=e("@mapbox/vector-tile").VectorTileFeature.types,f=e("../../util/web_worker_transfer").register,h=63,d=Math.cos(Math.PI/180*37.5),g=.5,y=Math.pow(2,14)/g,v=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new u,this.programConfigurations=new s(o,e.layers,e.zoom),this.segments=new a};v.prototype.populate=function(e,t){for(var n=this,r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.feature,s=o.index,u=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var c=l(a);n.addFeature(a,c),t.featureIndex.insert(a,c,s,u,n.index)}}},v.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},v.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.programConfigurations.upload(e)},v.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},v.prototype.addFeature=function(e,t){for(var n=this.layers[0].layout,r=n.get("line-join").evaluate(e),i=n.get("line-cap"),o=n.get("line-miter-limit"),a=n.get("line-round-limit"),s=0,u=t;s<u.length;s+=1){var l=u[s];this.addLine(l,e,r,i,o,a)}},v.prototype.addLine=function(e,t,n,r,i,o){for(var a=this,s="Polygon"===p[t.type],u=e.length;u>=2&&e[u-1].equals(e[u-2]);)u--;for(var l=0;l<u-1&&e[l].equals(e[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(i=1.05);var f=c/(512*this.overscaling)*15,h=e[l],g=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray);this.distance=0;var y,v,m,_=r,A=s?"butt":r,b=!0,x=void 0,w=void 0,E=void 0,T=void 0;this.e1=this.e2=this.e3=-1,s&&(y=e[u-2],T=h.sub(y)._unit()._perp());for(var M=l;M<u;M++)if(!(w=s&&M===u-1?e[l+1]:e[M+1])||!e[M].equals(w)){T&&(E=T),y&&(x=y),y=e[M],T=w?w.sub(y)._unit()._perp():E;var S=(E=E||T).add(T);0===S.x&&0===S.y||S._unit();var C=S.x*T.x+S.y*T.y,I=0!==C?1/C:1/0,P=C<d&&x&&w;if(P&&M>l){var k=y.dist(x);if(k>2*f){var O=y.sub(y.sub(x)._mult(f/k)._round());a.distance+=O.dist(x),a.addCurrentVertex(O,a.distance,E.mult(1),0,0,!1,g),x=O}}var L=x&&w,R=L?n:w?_:A;if(L&&"round"===R&&(I<o?R="miter":I<=2&&(R="fakeround")),"miter"===R&&I>i&&(R="bevel"),"bevel"===R&&(I>2&&(R="flipbevel"),I<i&&(R="miter")),x&&(a.distance+=y.dist(x)),"miter"===R)S._mult(I),a.addCurrentVertex(y,a.distance,S,0,0,!1,g);else if("flipbevel"===R){if(I>100)S=T.clone().mult(-1);else{var j=E.x*T.y-E.y*T.x>0?-1:1,N=I*E.add(T).mag()/E.sub(T).mag();S._perp()._mult(N*j)}a.addCurrentVertex(y,a.distance,S,0,0,!1,g),a.addCurrentVertex(y,a.distance,S.mult(-1),0,0,!1,g)}else if("bevel"===R||"fakeround"===R){var B=E.x*T.y-E.y*T.x>0,D=-Math.sqrt(I*I-1);if(B?(m=0,v=D):(v=0,m=D),b||a.addCurrentVertex(y,a.distance,E,v,m,!1,g),"fakeround"===R){for(var F=Math.floor(8*(.5-(C-.5))),z=void 0,U=0;U<F;U++)z=T.mult((U+1)/(F+1))._add(E)._unit(),a.addPieSliceVertex(y,a.distance,z,B,g);a.addPieSliceVertex(y,a.distance,S,B,g);for(var G=F-1;G>=0;G--)z=E.mult((G+1)/(F+1))._add(T)._unit(),a.addPieSliceVertex(y,a.distance,z,B,g)}w&&a.addCurrentVertex(y,a.distance,T,-v,-m,!1,g)}else"butt"===R?(b||a.addCurrentVertex(y,a.distance,E,0,0,!1,g),w&&a.addCurrentVertex(y,a.distance,T,0,0,!1,g)):"square"===R?(b||(a.addCurrentVertex(y,a.distance,E,1,1,!1,g),a.e1=a.e2=-1),w&&a.addCurrentVertex(y,a.distance,T,-1,-1,!1,g)):"round"===R&&(b||(a.addCurrentVertex(y,a.distance,E,0,0,!1,g),a.addCurrentVertex(y,a.distance,E,1,1,!0,g),a.e1=a.e2=-1),w&&(a.addCurrentVertex(y,a.distance,T,-1,-1,!0,g),a.addCurrentVertex(y,a.distance,T,0,0,!1,g)));if(P&&M<u-1){var V=y.dist(w);if(V>2*f){var Y=y.add(w.sub(y)._mult(f/V)._round());a.distance+=Y.dist(y),a.addCurrentVertex(Y,a.distance,T.mult(1),0,0,!1,g),y=Y}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)}},v.prototype.addCurrentVertex=function(e,t,n,i,o,a,s){var u,l=this.layoutVertexArray,c=this.indexArray;u=n.clone(),i&&u._sub(n.perp()._mult(i)),r(l,e,u,a,!1,i,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),o&&u._sub(n.perp()._mult(o)),r(l,e,u,a,!0,-o,t),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>y/2&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,i,o,a,s))},v.prototype.addPieSliceVertex=function(e,t,n,i,o){n=n.mult(i?-1:1);var a=this.layoutVertexArray,s=this.indexArray;r(a,e,n,!1,i,0,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},f("LineBucket",v,{omit:["layers"]}),t.exports=v},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./line_attributes":48,"@mapbox/vector-tile":8}],50:[function(e,t,n){"use strict";var r=e("../../util/struct_array").createLayout,i={symbolLayoutAttributes:r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),dynamicLayoutAttributes:r([{name:"a_projected_pos",components:3,type:"Float32"}],4),placementOpacityAttributes:r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),collisionVertexAttributes:r([{name:"a_placed",components:2,type:"Uint8"}],4),collisionBox:r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:r([{type:"Float32",name:"offsetX"}]),lineVertex:r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};t.exports=i},{"../../util/struct_array":271}],51:[function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,Math.round(64*r),Math.round(64*i),o,a,s?s[0]:0,s?s[1]:0)}function i(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}var o=e("./symbol_attributes"),a=o.symbolLayoutAttributes,s=o.collisionVertexAttributes,u=o.collisionBoxLayout,l=o.collisionCircleLayout,c=o.dynamicLayoutAttributes,p=e("../array_types"),f=p.SymbolLayoutArray,h=p.SymbolDynamicLayoutArray,d=p.SymbolOpacityArray,g=p.CollisionBoxLayoutArray,y=p.CollisionCircleLayoutArray,v=p.CollisionVertexArray,m=p.PlacedSymbolArray,_=p.GlyphOffsetArray,A=p.SymbolLineVertexArray,b=e("@mapbox/point-geometry"),x=e("../segment").SegmentVector,w=e("../program_configuration").ProgramConfigurationSet,E=e("../index_array_type"),T=E.TriangleIndexArray,M=E.LineIndexArray,S=e("../../symbol/transform_text"),C=e("../../symbol/mergelines"),I=e("../../util/script_detection"),P=e("../load_geometry"),k=e("@mapbox/vector-tile").VectorTileFeature.types,O=e("../../util/verticalize_punctuation"),L=(e("../../symbol/anchor"),e("../../symbol/symbol_size").getSizeData),R=e("../../util/web_worker_transfer").register,j=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],N=function(e){this.layoutVertexArray=new f,this.indexArray=new T,this.programConfigurations=e,this.segments=new x,this.dynamicLayoutVertexArray=new h,this.opacityVertexArray=new d,this.placedSymbolArray=new m};N.prototype.upload=function(e,t){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,a.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.programConfigurations.upload(e),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,c.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,j,!0),this.opacityVertexBuffer.itemSize=1},N.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},R("SymbolBuffers",N);var B=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new x,this.collisionVertexArray=new v};B.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,s.members,!0)},B.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},R("CollisionBuffers",B);var D=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=L(this.zoom,t["text-size"]),this.iconSizeData=L(this.zoom,t["icon-size"]);var n=this.layers[0].layout;this.sortFeaturesByY=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")};D.prototype.createArrays=function(){this.text=new N(new w(a.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new N(new w(a.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new B(g,u.members,M),this.collisionCircle=new B(y,l.members,T),this.glyphOffsetArray=new _,this.lineVertexArray=new A},D.prototype.populate=function(e,t){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.length>0)&&("constant"!==i.value.kind||i.value.value.length>0),u="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||u){for(var l=t.iconDependencies,c=t.glyphDependencies,p={zoom:this.zoom},f=0,h=e;f<h.length;f+=1){var d=h[f],g=d.feature,y=d.index,v=d.sourceLayerIndex;if(n._featureFilter(p,g)){var m=void 0;s&&(m=n.getValueAndResolveTokens("text-field",g),m=S(m,n,g));var _=void 0;if(u&&(_=n.getValueAndResolveTokens("icon-image",g)),m||_){var A={text:m,icon:_,index:y,sourceLayerIndex:v,geometry:P(g),properties:g.properties,type:k[g.type]};if(void 0!==g.id&&(A.id=g.id),this.features.push(A),_&&(l[_]=!0),m)for(var b=i.evaluate(g).join(","),x=c[b]=c[b]||{},w="map"===r.get("text-rotation-alignment")&&"line"===r.get("symbol-placement"),E=I.allowsVerticalWritingMode(m),T=0;T<m.length;T++)if(x[m.charCodeAt(T)]=!0,w&&E){var M=O.lookup[m.charAt(T)];M&&(x[M.charCodeAt(0)]=!0)}}}}"line"===r.get("symbol-placement")&&(this.features=C(this.features))}},D.prototype.isEmpty=function(){return 0===this.symbolInstances.length},D.prototype.upload=function(e){this.text.upload(e,this.sortFeaturesByY),this.icon.upload(e,this.sortFeaturesByY),this.collisionBox.upload(e),this.collisionCircle.upload(e)},D.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},D.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:r},a<t.length-1&&(r+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var u=0;u<t.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},D.prototype.addSymbols=function(e,t,n,o,a,s,u,l,c,p){for(var f=e.indexArray,h=e.layoutVertexArray,d=e.dynamicLayoutVertexArray,g=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray),y=this.glyphOffsetArray.length,v=g.vertexLength,m=0,_=t;m<_.length;m+=1){var A=_[m],b=A.tl,x=A.tr,w=A.bl,E=A.br,T=A.tex,M=g.vertexLength,S=A.glyphOffset[1];r(h,l.x,l.y,b.x,S+b.y,T.x,T.y,n),r(h,l.x,l.y,x.x,S+x.y,T.x+T.w,T.y,n),r(h,l.x,l.y,w.x,S+w.y,T.x,T.y+T.h,n),r(h,l.x,l.y,E.x,S+E.y,T.x+T.w,T.y+T.h,n),i(d,l,0),f.emplaceBack(M,M+1,M+2),f.emplaceBack(M+1,M+2,M+3),g.vertexLength+=4,g.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A.glyphOffset[0])}e.placedSymbolArray.emplaceBack(l.x,l.y,y,this.glyphOffsetArray.length-y,v,c,p,l.segment,n?n[0]:0,n?n[1]:0,o[0],o[1],u,!1),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,s)},D.prototype._addCollisionDebugVertex=function(e,t,n,r,i){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r.x,r.y,Math.round(i.x),Math.round(i.y))},D.prototype.addCollisionDebugVertices=function(e,t,n,r,i,o,a,s){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=u.vertexLength,c=i.layoutVertexArray,p=i.collisionVertexArray;if(this._addCollisionDebugVertex(c,p,o,a.anchor,new b(e,t)),this._addCollisionDebugVertex(c,p,o,a.anchor,new b(n,t)),this._addCollisionDebugVertex(c,p,o,a.anchor,new b(n,r)),this._addCollisionDebugVertex(c,p,o,a.anchor,new b(e,r)),u.vertexLength+=4,s){var f=i.indexArray;f.emplaceBack(l,l+1,l+2),f.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var h=i.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),u.primitiveLength+=4}},D.prototype.generateCollisionDebugBuffers=function(){for(var e=this,t=0,n=e.symbolInstances;t<n.length;t+=1){var r=n[t];r.textCollisionFeature={boxStartIndex:r.textBoxStartIndex,boxEndIndex:r.textBoxEndIndex},r.iconCollisionFeature={boxStartIndex:r.iconBoxStartIndex,boxEndIndex:r.iconBoxEndIndex};for(var i=0;i<2;i++){var o=r[0===i?"textCollisionFeature":"iconCollisionFeature"];if(o)for(var a=o.boxStartIndex;a<o.boxEndIndex;a++){var s=e.collisionBoxArray.get(a),u=s.x1,l=s.y1,c=s.x2,p=s.y2,f=s.radius>0;e.addCollisionDebugVertices(u,l,c,p,f?e.collisionCircle:e.collisionBox,s.anchorPoint,r,f)}}}},D.prototype.deserializeCollisionBoxes=function(e,t,n,r,i){for(var o={},a=t;a<n;a++){var s=e.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}o.textCircles||(o.textCircles=[]),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=r;u<i;u++){var l=e.get(u);if(0===l.radius){o.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY};break}}return o},D.prototype.hasTextData=function(){return this.text.segments.get().length>0},D.prototype.hasIconData=function(){return this.icon.segments.get().length>0},D.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},D.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},D.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);var i=Math.sin(e),o=Math.cos(e);n.sort(function(e,n){var r=t.symbolInstances[e],a=t.symbolInstances[n];return(i*r.anchor.x+o*r.anchor.y|0)-(i*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-r.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=n;a<s.length;a+=1){for(var u=s[a],l=0,c=t.symbolInstances[u].placedTextSymbolIndices;l<c.length;l+=1)for(var p=c[l],f=t.text.placedSymbolArray.get(p),h=f.vertexStartIndex+4*f.numGlyphs,d=f.vertexStartIndex;d<h;d+=4)t.text.indexArray.emplaceBack(d,d+1,d+2),t.text.indexArray.emplaceBack(d+1,d+2,d+3);var g=t.icon.placedSymbolArray.get(u);if(g.numGlyphs){var y=g.vertexStartIndex;t.icon.indexArray.emplaceBack(y,y+1,y+2),t.icon.indexArray.emplaceBack(y+1,y+2,y+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},R("SymbolBucket",D,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),D.MAX_GLYPHS=65535,D.addDynamicAttributes=i,t.exports=D},{"../../symbol/anchor":213,"../../symbol/mergelines":221,"../../symbol/symbol_size":228,"../../symbol/transform_text":229,"../../util/script_detection":269,"../../util/verticalize_punctuation":277,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./symbol_attributes":50,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],52:[function(e,t,n){"use strict";var r=e("../util/image").RGBAImage,i=e("../util/util"),o=e("../util/web_worker_transfer").register,a=function(e,t,n){if(e<=0)throw new RangeError("Level must have positive dimension");this.dim=e,this.border=t,this.stride=this.dim+2*this.border,this.data=n||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};a.prototype.set=function(e,t,n){this.data[this._idx(e,t)]=n+65536},a.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},a.prototype._idx=function(e,t){if(e<-this.border||e>=this.dim+this.border||t<-this.border||t>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(t+this.border)*this.stride+(e+this.border)},o("Level",a);var s=function(e,t,n){this.uid=e,this.scale=t||1,this.level=n||new a(256,512),this.loaded=!!n};s.prototype.loadFromImage=function(e){if(e.height!==e.width)throw new RangeError("DEM tiles must be square");for(var t=this.level=new a(e.width,e.width/2),n=e.data,r=0;r<t.dim;r++)for(var i=0;i<t.dim;i++){var o=4*(r*t.dim+i);t.set(i,r,this.scale*((256*n[o]*256+256*n[o+1]+n[o+2])/10-1e4))}for(var s=0;s<t.dim;s++)t.set(-1,s,t.get(0,s)),t.set(t.dim,s,t.get(t.dim-1,s)),t.set(s,-1,t.get(s,0)),t.set(s,t.dim,t.get(s,t.dim-1));t.set(-1,-1,t.get(0,0)),t.set(t.dim,-1,t.get(t.dim-1,0)),t.set(-1,t.dim,t.get(0,t.dim-1)),t.set(t.dim,t.dim,t.get(t.dim-1,t.dim-1)),this.loaded=!0},s.prototype.getPixels=function(){return new r({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},s.prototype.backfillBorder=function(e,t,n){var r=this.level,o=e.level;if(r.dim!==o.dim)throw new Error("level mismatch (dem dimension)");var a=t*r.dim,s=t*r.dim+r.dim,u=n*r.dim,l=n*r.dim+r.dim;switch(t){case-1:a=s-1;break;case 1:s=a+1}switch(n){case-1:u=l-1;break;case 1:l=u+1}for(var c=i.clamp(a,-r.border,r.dim+r.border),p=i.clamp(s,-r.border,r.dim+r.border),f=i.clamp(u,-r.border,r.dim+r.border),h=i.clamp(l,-r.border,r.dim+r.border),d=-t*r.dim,g=-n*r.dim,y=f;y<h;y++)for(var v=c;v<p;v++)r.set(v,y,o.get(v+d,y+g))},o("DEMData",s),t.exports={DEMData:s,Level:a}},{"../util/image":263,"../util/util":275,"../util/web_worker_transfer":278}],53:[function(e,t,n){"use strict";t.exports=8192},{}],54:[function(e,t,n){"use strict";function r(e,t){return t-e}e("@mapbox/point-geometry");var i=e("./load_geometry"),o=e("./extent"),a=e("../style-spec/feature_filter"),s=e("grid-index"),u=e("../util/dictionary_coder"),l=e("@mapbox/vector-tile"),c=e("pbf"),p=e("../util/vectortile_to_geojson"),f=e("../util/util").arraysIntersect,h=(e("../source/tile_id").OverscaledTileID,e("../util/web_worker_transfer").register),d=e("./array_types").FeatureIndexArray,g=function(e,t,n,r){this.tileID=e,this.overscaling=t,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=n||new s(o,16,0),this.featureIndexArray=r||new d};g.prototype.insert=function(e,t,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=0;a<t.length;a++){for(var s=t[a],u=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var c=s[l];u[0]=Math.min(u[0],c.x),u[1]=Math.min(u[1],c.y),u[2]=Math.max(u[2],c.x),u[3]=Math.max(u[3],c.y)}this.grid.insert(o,u[0],u[1],u[2],u[3])}},g.prototype.query=function(e,t){this.vtLayers||(this.vtLayers=new l.VectorTile(new c(this.rawTileData)).layers,this.sourceLayerCoder=new u(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var n={},i=e.params||{},s=o/e.tileSize/e.scale,p=a(i.filter),f=e.queryGeometry,h=e.additionalRadius*s,d=1/0,g=1/0,y=-1/0,v=-1/0,m=0;m<f.length;m++)for(var _=f[m],A=0;A<_.length;A++){var b=_[A];d=Math.min(d,b.x),g=Math.min(g,b.y),y=Math.max(y,b.x),v=Math.max(v,b.y)}var x=this.grid.query(d-h,g-h,y+h,v+h);x.sort(r),this.filterMatching(n,x,this.featureIndexArray,f,p,i.layers,t,e.bearing,s);var w=e.collisionIndex?e.collisionIndex.queryRenderedSymbols(f,this.tileID,o/e.tileSize,e.collisionBoxArray,e.sourceID,e.bucketInstanceIds):[];return w.sort(),this.filterMatching(n,w,e.collisionBoxArray,f,p,i.layers,t,e.bearing,s),n},g.prototype.filterMatching=function(e,t,n,r,o,a,s,u,l){for(var c,h=this,d=0;d<t.length;d++){var g=t[d];if(g!==c){c=g;var y=n.get(g),v=h.bucketLayerIDs[y.bucketIndex];if(!a||f(a,v)){var m=h.sourceLayerCoder.decode(y.sourceLayerIndex),_=h.vtLayers[m].feature(y.featureIndex);if(o({zoom:h.tileID.overscaledZ},_))for(var A=null,b=0;b<v.length;b++){var x=v[b];if(!(a&&a.indexOf(x)<0)){var w=s[x];if(w&&("symbol"===w.type||(A||(A=i(_)),w.queryIntersectsFeature(r,_,A,h.z,u,l)))){var E=new p(_,h.z,h.x,h.y);E.layer=w.serialize();var T=e[x];void 0===T&&(T=e[x]=[]),T.push({featureIndex:g,feature:E})}}}}}}},g.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=0,i=n[t];r<i.length;r+=1){if(e===i[r])return!0}return!1},h("FeatureIndex",g,{omit:["rawTileData","sourceLayerCoder"]}),t.exports=g},{"../source/tile_id":114,"../style-spec/feature_filter":148,"../util/dictionary_coder":257,"../util/util":275,"../util/vectortile_to_geojson":276,"../util/web_worker_transfer":278,"./array_types":39,"./extent":53,"./load_geometry":56,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,"grid-index":24,pbf:30}],55:[function(e,t,n){"use strict";t.exports={LineIndexArray:e("./array_types").LineIndexArray,TriangleIndexArray:e("./array_types").TriangleIndexArray}},{"./array_types":39}],56:[function(e,t,n){"use strict";var r,i=e("../util/util"),o=e("./extent"),a=(r=16,{min:-1*Math.pow(2,r-1),max:Math.pow(2,r-1)-1});t.exports=function(e){for(var t=o/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var s=n[r],u=0;u<s.length;u++){var l=s[u];l.x=Math.round(l.x*t),l.y=Math.round(l.y*t),(l.x<a.min||l.x>a.max||l.y<a.min||l.y>a.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}},{"../util/util":275,"./extent":53}],57:[function(e,t,n){"use strict";var r=e("../util/struct_array").createLayout;t.exports=r([{name:"a_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],58:[function(e,t,n){"use strict";function r(e){return[o(255*e.r,255*e.g),o(255*e.b,255*e.a)]}function i(e,t){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[e]||e.replace(t+"-","").replace(/-/g,"_")}var o=e("../shaders/encode_attribute").packUint8ToFloat,a=(e("../style-spec/util/color"),e("../util/web_worker_transfer").register),s=e("../style/properties").PossiblyEvaluatedPropertyValue,u=e("./array_types"),l=u.StructArrayLayout1f4,c=u.StructArrayLayout2f8,p=u.StructArrayLayout4f16,f=function(e,t,n){this.value=e,this.name=t,this.type=n,this.statistics={max:-1/0}};f.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},f.prototype.populatePaintArray=function(){},f.prototype.upload=function(){},f.prototype.destroy=function(){},f.prototype.setUniforms=function(e,t,n,r){var i=r.constantOr(this.value),o=e.gl;"color"===this.type?o.uniform4f(t.uniforms["u_"+this.name],i.r,i.g,i.b,i.a):o.uniform1f(t.uniforms["u_"+this.name],i)};var h=function(e,t,n){this.expression=e,this.name=t,this.type=n,this.statistics={max:-1/0};var r="color"===n?c:l;this.paintVertexAttributes=[{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}],this.paintVertexArray=new r};h.prototype.defines=function(){return[]},h.prototype.populatePaintArray=function(e,t){var n=this.paintVertexArray,i=n.length;n.reserve(e);var o=this.expression.evaluate({zoom:0},t);if("color"===this.type)for(var a=r(o),s=i;s<e;s++)n.emplaceBack(a[0],a[1]);else{for(var u=i;u<e;u++)n.emplaceBack(o);this.statistics.max=Math.max(this.statistics.max,o)}},h.prototype.upload=function(e){this.paintVertexArray&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},h.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},h.prototype.setUniforms=function(e,t){e.gl.uniform1f(t.uniforms["a_"+this.name+"_t"],0)};var d=function(e,t,n,r,i){this.expression=e,this.name=t,this.type=n,this.useIntegerZoom=r,this.zoom=i,this.statistics={max:-1/0};var o="color"===n?p:c;this.paintVertexAttributes=[{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}],this.paintVertexArray=new o};d.prototype.defines=function(){return[]},d.prototype.populatePaintArray=function(e,t){var n=this.paintVertexArray,i=n.length;n.reserve(e);var o=this.expression.evaluate({zoom:this.zoom},t),a=this.expression.evaluate({zoom:this.zoom+1},t);if("color"===this.type)for(var s=r(o),u=r(a),l=i;l<e;l++)n.emplaceBack(s[0],s[1],u[0],u[1]);else{for(var c=i;c<e;c++)n.emplaceBack(o,a);this.statistics.max=Math.max(this.statistics.max,o,a)}},d.prototype.upload=function(e){this.paintVertexArray&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},d.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},d.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},d.prototype.setUniforms=function(e,t,n){e.gl.uniform1f(t.uniforms["a_"+this.name+"_t"],this.interpolationFactor(n.zoom))};var g=function(){this.binders={},this.cacheKey="",this._buffers=[]};g.createDynamic=function(e,t,n){var r=new g,o=[];for(var a in e.paint._values)if(n(a)){var u=e.paint.get(a);if(u instanceof s&&u.property.specification["property-function"]){var l=i(a,e.type),c=u.property.specification.type,p=u.property.useIntegerZoom;"constant"===u.value.kind?(r.binders[a]=new f(u.value,l,c),o.push("/u_"+l)):"source"===u.value.kind?(r.binders[a]=new h(u.value,l,c),o.push("/a_"+l)):(r.binders[a]=new d(u.value,l,c,p,t),o.push("/z_"+l))}}return r.cacheKey=o.sort().join(""),r},g.prototype.populatePaintArrays=function(e,t){for(var n in this.binders)this.binders[n].populatePaintArray(e,t)},g.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},g.prototype.setUniforms=function(e,t,n,r){for(var i in this.binders)this.binders[i].setUniforms(e,t,r,n.get(i))},g.prototype.getPaintVertexBuffers=function(){return this._buffers},g.prototype.upload=function(e){var t=this;for(var n in t.binders)t.binders[n].upload(e);var r=[];for(var i in t.binders){var o=t.binders[i];(o instanceof h||o instanceof d)&&o.paintVertexBuffer&&r.push(o.paintVertexBuffer)}this._buffers=r},g.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var y=function(e,t,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,o=t;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=g.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=e}};y.prototype.populatePaintArrays=function(e,t){for(var n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t)},y.prototype.get=function(e){return this.programConfigurations[e]},y.prototype.upload=function(e){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e)},y.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},a("ConstantBinder",f),a("SourceExpressionBinder",h),a("CompositeExpressionBinder",d),a("ProgramConfiguration",g,{omit:["_buffers"]}),a("ProgramConfigurationSet",y),t.exports={ProgramConfiguration:g,ProgramConfigurationSet:y}},{"../shaders/encode_attribute":96,"../style-spec/util/color":153,"../style/properties":188,"../util/web_worker_transfer":278,"./array_types":39}],59:[function(e,t,n){"use strict";var r=e("../util/struct_array").createLayout;t.exports=r([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],60:[function(e,t,n){"use strict";var r=e("../util/util").warnOnce,i=e("../util/web_worker_transfer").register,o=Math.pow(2,16)-1,a=function(e){void 0===e&&(e=[]),this.segments=e};a.prototype.prepareSegment=function(e,n,i){var a=this.segments[this.segments.length-1];return e>o&&r("Max vertices per segment is "+o+": bucket requested "+e),(!a||a.vertexLength+e>t.exports.MAX_VERTEX_ARRAY_LENGTH)&&(a={vertexOffset:n.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},this.segments.push(a)),a},a.prototype.get=function(){return this.segments},a.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},i("SegmentVector",a),t.exports={SegmentVector:a,MAX_VERTEX_ARRAY_LENGTH:o}},{"../util/util":275,"../util/web_worker_transfer":278}],61:[function(e,t,n){"use strict";var r=function(e,t,n){this.column=e,this.row=t,this.zoom=n};r.prototype.clone=function(){return new r(this.column,this.row,this.zoom)},r.prototype.zoomTo=function(e){return this.clone()._zoomTo(e)},r.prototype.sub=function(e){return this.clone()._sub(e)},r.prototype._zoomTo=function(e){var t=Math.pow(2,e-this.zoom);return this.column*=t,this.row*=t,this.zoom=e,this},r.prototype._sub=function(e){return e=e.zoomTo(this.zoom),this.column-=e.column,this.row-=e.row,this},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=e("../util/util").wrap,i=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};i.prototype.wrap=function(){return new i(r(this.lng,-180,180),this.lat)},i.prototype.toArray=function(){return[this.lng,this.lat]},i.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},i.prototype.toBounds=function(t){var n=360*t/40075017,r=n/Math.cos(Math.PI/180*this.lat);return new(e("./lng_lat_bounds"))(new i(this.lng-r,this.lat-n),new i(this.lng+r,this.lat+n))},i.convert=function(e){if(e instanceof i)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new i(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new i(Number(e.lng),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t.exports=i},{"../util/util":275,"./lng_lat_bounds":63}],63:[function(e,t,n){"use strict";var r=e("./lng_lat"),i=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};i.prototype.setNorthEast=function(e){return this._ne=e instanceof r?new r(e.lng,e.lat):r.convert(e),this},i.prototype.setSouthWest=function(e){return this._sw=e instanceof r?new r(e.lng,e.lat):r.convert(e),this},i.prototype.extend=function(e){var t,n,o=this._sw,a=this._ne;if(e instanceof r)t=e,n=e;else{if(!(e instanceof i))return Array.isArray(e)?e.every(Array.isArray)?this.extend(i.convert(e)):this.extend(r.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return o||a?(o.lng=Math.min(t.lng,o.lng),o.lat=Math.min(t.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new r(t.lng,t.lat),this._ne=new r(n.lng,n.lat)),this},i.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},i.prototype.getSouthWest=function(){return this._sw},i.prototype.getNorthEast=function(){return this._ne},i.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},i.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},i.prototype.getWest=function(){return this._sw.lng},i.prototype.getSouth=function(){return this._sw.lat},i.prototype.getEast=function(){return this._ne.lng},i.prototype.getNorth=function(){return this._ne.lat},i.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},i.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},i.prototype.isEmpty=function(){return!(this._sw&&this._ne)},i.convert=function(e){return!e||e instanceof i?e:new i(e)},t.exports=i},{"./lng_lat":62}],64:[function(e,t,n){"use strict";var r=e("./lng_lat"),i=e("@mapbox/point-geometry"),o=e("./coordinate"),a=e("../util/util"),s=e("../style-spec/util/interpolate").number,u=e("../util/tile_cover"),l=e("../source/tile_id"),c=(l.CanonicalTileID,l.UnwrappedTileID),p=e("../data/extent"),f=e("@mapbox/gl-matrix"),h=f.vec4,d=f.mat4,g=f.mat2,y=function(e,t,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=e||0,this._maxZoom=t||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new r(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};y.prototype.clone=function(){var e=new y(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new i(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(e){var t=-a.wrap(e,-180,180)*Math.PI/180;this.angle!==t&&(this._unmodified=!1,this.angle=t,this._calcMatrices(),this.rotationMatrix=g.create(),g.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(e){var t=a.clamp(e,0,60)/180*Math.PI;this._pitch!==t&&(this._unmodified=!1,this._pitch=t,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},y.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},y.prototype.getVisibleUnwrappedCoordinates=function(e){var t=this.pointCoordinate(new i(0,0),0),n=this.pointCoordinate(new i(this.width,0),0),r=Math.floor(t.column),o=Math.floor(n.column),a=[new c(0,e)];if(this._renderWorldCopies)for(var s=r;s<=o;s++)0!==s&&a.push(new c(s,e));return a},y.prototype.coveringTiles=function(e){var t=this.coveringZoomLevel(e),n=t;if(void 0!==e.minzoom&&t<e.minzoom)return[];void 0!==e.maxzoom&&t>e.maxzoom&&(t=e.maxzoom);var r=this.pointCoordinate(this.centerPoint,t),o=new i(r.column-.5,r.row-.5),a=[this.pointCoordinate(new i(0,0),t),this.pointCoordinate(new i(this.width,0),t),this.pointCoordinate(new i(this.width,this.height),t),this.pointCoordinate(new i(0,this.height),t)];return u(t,a,e.reparseOverscaled?n:t,this._renderWorldCopies).sort(function(e,t){return o.dist(e.canonical)-o.dist(t.canonical)})},y.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},y.prototype.zoomScale=function(e){return Math.pow(2,e)},y.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},y.prototype.project=function(e){return new i(this.lngX(e.lng),this.latY(e.lat))},y.prototype.unproject=function(e){return new r(this.xLng(e.x),this.yLat(e.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new i(this.x,this.y)},y.prototype.lngX=function(e){return(180+e)*this.worldSize/360},y.prototype.latY=function(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*this.worldSize/360},y.prototype.xLng=function(e){return 360*e/this.worldSize-180},y.prototype.yLat=function(e){var t=180-360*e/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90},y.prototype.setLocationAtPoint=function(e,t){var n=this.pointCoordinate(t)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(e)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},y.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},y.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},y.prototype.locationCoordinate=function(e){return new o(this.lngX(e.lng)/this.tileSize,this.latY(e.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},y.prototype.coordinateLocation=function(e){var t=e.zoomTo(this.zoom);return new r(this.xLng(t.column*this.tileSize),this.yLat(t.row*this.tileSize))},y.prototype.pointCoordinate=function(e,t){void 0===t&&(t=this.tileZoom);var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];h.transformMat4(n,n,this.pixelMatrixInverse),h.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],a=r[3],u=n[1]/i,l=r[1]/a,c=n[2]/i,p=r[2]/a,f=c===p?0:(0-c)/(p-c);return new o(s(n[0]/i,r[0]/a,f)/this.tileSize,s(u,l,f)/this.tileSize,this.zoom)._zoomTo(t)},y.prototype.coordinatePoint=function(e){var t=e.zoomTo(this.zoom),n=[t.column*this.tileSize,t.row*this.tileSize,0,1];return h.transformMat4(n,n,this.pixelMatrix),new i(n[0]/n[3],n[1]/n[3])},y.prototype.calculatePosMatrix=function(e,t){void 0===t&&(t=!1);var n=e.key,r=t?this._alignedPosMatrixCache:this._posMatrixCache;if(r[n])return r[n];var i=e.canonical,o=this.worldSize/this.zoomScale(i.z),a=i.x+Math.pow(2,i.z)*e.wrap,s=d.identity(new Float64Array(16));return d.translate(s,s,[a*o,i.y*o,0]),d.scale(s,s,[o/p,o/p,1]),d.multiply(s,t?this.alignedProjMatrix:this.projMatrix,s),r[n]=new Float32Array(s),r[n]},y.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,t,n,r,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=this.latY(p[1]),e=(a=this.latY(p[0]))-o<l.y?l.y/(a-o):0}if(this.lngRange){var f=this.lngRange;s=this.lngX(f[0]),t=(u=this.lngX(f[1]))-s<l.x?l.x/(u-s):0}var h=Math.max(t||0,e||0);if(h)return this.center=this.unproject(new i(t?(u+s)/2:this.x,e?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var d=this.y,g=l.y/2;d-g<o&&(r=o+g),d+g>a&&(r=a-g)}if(this.lngRange){var y=this.x,v=l.x/2;y-v<s&&(n=s+v),y+v>u&&(n=u-v)}void 0===n&&void 0===r||(this.center=this.unproject(new i(void 0!==n?n:this.x,void 0!==r?r:this.y))),this._unmodified=c,this._constraining=!1}},y.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,t=Math.PI/2+this._pitch,n=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-t-e),r=this.x,i=this.y,o=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),a=new Float64Array(16);d.perspective(a,this._fov,this.width/this.height,1,o),d.scale(a,a,[1,-1,1]),d.translate(a,a,[0,0,-this.cameraToCenterDistance]),d.rotateX(a,a,this._pitch),d.rotateZ(a,a,this.angle),d.translate(a,a,[-r,-i,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));d.scale(a,a,[1,1,s,1]),this.projMatrix=a;var u=this.width%2/2,l=this.height%2/2,c=Math.cos(this.angle),p=Math.sin(this.angle),f=r-Math.round(r)+c*u+p*l,h=i-Math.round(i)+c*l+p*u,g=new Float64Array(a);if(d.translate(g,g,[f>.5?f-1:f,h>.5?h-1:h,0]),this.alignedProjMatrix=g,a=d.create(),d.scale(a,a,[this.width/2,-this.height/2,1]),d.translate(a,a,[1,-1,0]),this.pixelMatrix=d.multiply(new Float64Array(16),a,this.projMatrix),!(a=d.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Object.defineProperties(y.prototype,v),t.exports=y},{"../data/extent":53,"../source/tile_id":114,"../style-spec/util/interpolate":158,"../util/tile_cover":273,"../util/util":275,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],65:[function(e,t,n){"use strict";var r=e("../style-spec/util/color"),i=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};i.disabled=new i(i.Replace=[1,0],r.transparent,[!1,!1,!1,!1]),i.unblended=new i(i.Replace,r.transparent,[!0,!0,!0,!0]),i.alphaBlended=new i([1,771],r.transparent,[!0,!0,!0,!0]),t.exports=i},{"../style-spec/util/color":153}],66:[function(e,t,n){"use strict";var r=e("./index_buffer"),i=e("./vertex_buffer"),o=e("./framebuffer"),a=(e("./depth_mode"),e("./stencil_mode"),e("./color_mode")),s=e("../util/util"),u=e("./value"),l=u.ClearColor,c=u.ClearDepth,p=u.ClearStencil,f=u.ColorMask,h=u.DepthMask,d=u.StencilMask,g=u.StencilFunc,y=u.StencilOp,v=u.StencilTest,m=u.DepthRange,_=u.DepthTest,A=u.DepthFunc,b=u.Blend,x=u.BlendFunc,w=u.BlendColor,E=u.Program,T=u.LineWidth,M=u.ActiveTextureUnit,S=u.Viewport,C=u.BindFramebuffer,I=u.BindRenderbuffer,P=u.BindTexture,k=u.BindVertexBuffer,O=u.BindElementBuffer,L=u.BindVertexArrayOES,R=u.PixelStoreUnpack,j=u.PixelStoreUnpackPremultiplyAlpha,N=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=e.getParameter(e.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new l(this),this.clearDepth=new c(this),this.clearStencil=new p(this),this.colorMask=new f(this),this.depthMask=new h(this),this.stencilMask=new d(this),this.stencilFunc=new g(this),this.stencilOp=new y(this),this.stencilTest=new v(this),this.depthRange=new m(this),this.depthTest=new _(this),this.depthFunc=new A(this),this.blend=new b(this),this.blendFunc=new x(this),this.blendColor=new w(this),this.program=new E(this),this.lineWidth=new T(this),this.activeTexture=new M(this),this.viewport=new S(this),this.bindFramebuffer=new C(this),this.bindRenderbuffer=new I(this),this.bindTexture=new P(this),this.bindVertexBuffer=new k(this),this.bindElementBuffer=new O(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new L(this),this.pixelStoreUnpack=new R(this),this.pixelStoreUnpackPremultiplyAlpha=new j(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};N.prototype.createIndexBuffer=function(e,t){return new r(this,e,t)},N.prototype.createVertexBuffer=function(e,t,n){return new i(this,e,t,n)},N.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},N.prototype.createFramebuffer=function(e,t){return new o(this,e,t)},N.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},N.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},N.prototype.setStencilMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},N.prototype.setColorMode=function(e){s.deepEqual(e.blendFunction,a.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},t.exports=N},{"../util/util":275,"./color_mode":65,"./depth_mode":67,"./framebuffer":68,"./index_buffer":69,"./stencil_mode":70,"./value":71,"./vertex_buffer":72}],67:[function(e,t,n){"use strict";var r=function(e,t,n){this.func=e,this.mask=t,this.range=n};r.ReadOnly=!1,r.ReadWrite=!0,r.disabled=new r(519,r.ReadOnly,[0,1]),t.exports=r},{}],68:[function(e,t,n){"use strict";var r=e("./value"),i=r.ColorAttachment,o=r.DepthAttachment,a=function(e,t,n){this.context=e,this.width=t,this.height=n;var r=e.gl,a=this.framebuffer=r.createFramebuffer();this.colorAttachment=new i(e,a),this.depthAttachment=new o(e,a)};a.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n),e.deleteFramebuffer(this.framebuffer)},t.exports=a},{"./value":71}],69:[function(e,t,n){"use strict";var r=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};r.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},r.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},r.prototype.updateData=function(e){var t=this.context.gl;this.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},r.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)},t.exports=r},{}],70:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};r.disabled=new r({func:519,mask:0},0,0,7680,7680,7680),t.exports=r},{}],71:[function(e,t,n){"use strict";var r=e("../style-spec/util/color"),i=e("../util/util"),o=function(e){this.context=e,this.current=r.transparent};o.prototype.get=function(){return this.current},o.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a||(this.context.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e)};var a=function(e){this.context=e,this.current=1};a.prototype.get=function(){return this.current},a.prototype.set=function(e){this.current!==e&&(this.context.gl.clearDepth(e),this.current=e)};var s=function(e){this.context=e,this.current=0};s.prototype.get=function(){return this.current},s.prototype.set=function(e){this.current!==e&&(this.context.gl.clearStencil(e),this.current=e)};var u=function(e){this.context=e,this.current=[!0,!0,!0,!0]};u.prototype.get=function(){return this.current},u.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(this.context.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e)};var l=function(e){this.context=e,this.current=!0};l.prototype.get=function(){return this.current},l.prototype.set=function(e){this.current!==e&&(this.context.gl.depthMask(e),this.current=e)};var c=function(e){this.context=e,this.current=255};c.prototype.get=function(){return this.current},c.prototype.set=function(e){this.current!==e&&(this.context.gl.stencilMask(e),this.current=e)};var p=function(e){this.context=e,this.current={func:e.gl.ALWAYS,ref:0,mask:255}};p.prototype.get=function(){return this.current},p.prototype.set=function(e){var t=this.current;e.func===t.func&&e.ref===t.ref&&e.mask===t.mask||(this.context.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e)};var f=function(e){this.context=e;var t=this.context.gl;this.current=[t.KEEP,t.KEEP,t.KEEP]};f.prototype.get=function(){return this.current},f.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]||(this.context.gl.stencilOp(e[0],e[1],e[2]),this.current=e)};var h=function(e){this.context=e,this.current=!1};h.prototype.get=function(){return this.current},h.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e}};var d=function(e){this.context=e,this.current=[0,1]};d.prototype.get=function(){return this.current},d.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]||(this.context.gl.depthRange(e[0],e[1]),this.current=e)};var g=function(e){this.context=e,this.current=!1};g.prototype.get=function(){return this.current},g.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e}};var y=function(e){this.context=e,this.current=e.gl.LESS};y.prototype.get=function(){return this.current},y.prototype.set=function(e){this.current!==e&&(this.context.gl.depthFunc(e),this.current=e)};var v=function(e){this.context=e,this.current=!1};v.prototype.get=function(){return this.current},v.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e}};var m=function(e){this.context=e;var t=this.context.gl;this.current=[t.ONE,t.ZERO]};m.prototype.get=function(){return this.current},m.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]||(this.context.gl.blendFunc(e[0],e[1]),this.current=e)};var _=function(e){this.context=e,this.current=r.transparent};_.prototype.get=function(){return this.current},_.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a||(this.context.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e)};var A=function(e){this.context=e,this.current=null};A.prototype.get=function(){return this.current},A.prototype.set=function(e){this.current!==e&&(this.context.gl.useProgram(e),this.current=e)};var b=function(e){this.context=e,this.current=1};b.prototype.get=function(){return this.current},b.prototype.set=function(e){var t=this.context.lineWidthRange,n=i.clamp(e,t[0],t[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=e)};var x=function(e){this.context=e,this.current=e.gl.TEXTURE0};x.prototype.get=function(){return this.current},x.prototype.set=function(e){this.current!==e&&(this.context.gl.activeTexture(e),this.current=e)};var w=function(e){this.context=e;var t=this.context.gl;this.current=[0,0,t.drawingBufferWidth,t.drawingBufferHeight]};w.prototype.get=function(){return this.current},w.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(this.context.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e)};var E=function(e){this.context=e,this.current=null};E.prototype.get=function(){return this.current},E.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e}};var T=function(e){this.context=e,this.current=null};T.prototype.get=function(){return this.current},T.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e}};var M=function(e){this.context=e,this.current=null};M.prototype.get=function(){return this.current},M.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e}};var S=function(e){this.context=e,this.current=null};S.prototype.get=function(){return this.current},S.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e}};var C=function(e){this.context=e,this.current=null};C.prototype.get=function(){return this.current},C.prototype.set=function(e){var t=this.context.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e};var I=function(e){this.context=e,this.current=null};I.prototype.get=function(){return this.current},I.prototype.set=function(e){this.current!==e&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(e),this.current=e)};var P=function(e){this.context=e,this.current=4};P.prototype.get=function(){return this.current},P.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e}};var k=function(e){this.context=e,this.current=!1};k.prototype.get=function(){return this.current},k.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e}};var O=function(e,t){this.context=e,this.current=null,this.parent=t};O.prototype.get=function(){return this.current};var L=function(e){function t(t,n){e.call(this,t,n),this.dirty=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(this.dirty||this.current!==e){var t=this.context.gl;this.context.bindFramebuffer.set(this.parent),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t.prototype.setDirty=function(){this.dirty=!0},t}(O),R=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(this.current!==e){var t=this.context.gl;this.context.bindFramebuffer.set(this.parent),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e}},t}(O);t.exports={ClearColor:o,ClearDepth:a,ClearStencil:s,ColorMask:u,DepthMask:l,StencilMask:c,StencilFunc:p,StencilOp:f,StencilTest:h,DepthRange:d,DepthTest:g,DepthFunc:y,Blend:v,BlendFunc:m,BlendColor:_,Program:A,LineWidth:b,ActiveTextureUnit:x,Viewport:w,BindFramebuffer:E,BindRenderbuffer:T,BindTexture:M,BindVertexBuffer:S,BindElementBuffer:C,BindVertexArrayOES:I,PixelStoreUnpack:P,PixelStoreUnpackPremultiplyAlpha:k,ColorAttachment:L,DepthAttachment:R}},{"../style-spec/util/color":153,"../util/util":275}],72:[function(e,t,n){"use strict";var r={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},i=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};i.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},i.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},i.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=t.attributes[r.name];void 0!==i&&e.enableVertexAttribArray(i)}},i.prototype.setVertexAttribPointers=function(e,t,n){for(var i=this,o=0;o<this.attributes.length;o++){var a=i.attributes[o],s=t.attributes[a.name];void 0!==s&&e.vertexAttribPointer(s,a.components,e[r[a.type]],!1,i.itemSize,a.offset+i.itemSize*(n||0))}},i.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)},t.exports=i},{}],73:[function(e,t,n){"use strict";var r=e("@mapbox/mapbox-gl-supported"),i=e("./util/browser"),o=e("../package.json").version,a=e("./ui/map"),s=e("./ui/control/navigation_control"),u=e("./ui/control/geolocate_control"),l=e("./ui/control/attribution_control"),c=e("./ui/control/scale_control"),p=e("./ui/control/fullscreen_control"),f=e("./ui/popup"),h=e("./ui/marker"),d=e("./style/style"),g=e("./geo/lng_lat"),y=e("./geo/lng_lat_bounds"),v=e("@mapbox/point-geometry"),m=e("./util/evented"),_=e("./util/config"),A=e("./source/rtl_text_plugin");t.exports={version:o,supported:r,workerCount:Math.max(Math.floor(i.hardwareConcurrency/2),1),setRTLTextPlugin:A.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:u,AttributionControl:l,ScaleControl:c,FullscreenControl:p,Popup:f,Marker:h,Style:d,LngLat:g,LngLatBounds:y,Point:v,Evented:m,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(e){_.ACCESS_TOKEN=e}}},{"../package.json":38,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":109,"./style/style":190,"./ui/control/attribution_control":232,"./ui/control/fullscreen_control":233,"./ui/control/geolocate_control":234,"./ui/control/navigation_control":236,"./ui/control/scale_control":237,"./ui/map":247,"./ui/marker":248,"./ui/popup":249,"./util/browser":252,"./util/config":256,"./util/evented":260,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],74:[function(e,t,n){"use strict";var r=e("./pattern"),i=e("../gl/stencil_mode"),o=e("../gl/depth_mode");t.exports=function(e,t,n){var a=n.paint.get("background-color"),s=n.paint.get("background-opacity");if(0!==s){var u=e.context,l=u.gl,c=e.transform,p=c.tileSize,f=n.paint.get("background-pattern"),h=f||1!==a.a||1!==s?"translucent":"opaque";if(e.renderPass===h){var d;if(u.setStencilMode(i.disabled),u.setDepthMode(e.depthModeForSublayer(0,"opaque"===h?o.ReadWrite:o.ReadOnly)),u.setColorMode(e.colorModeForRenderPass()),f){if(r.isPatternMissing(f,e))return;d=e.useProgram("backgroundPattern"),r.prepare(f,e,d),e.tileExtentPatternVAO.bind(u,d,e.tileExtentBuffer,[])}else d=e.useProgram("background"),l.uniform4fv(d.uniforms.u_color,[a.r,a.g,a.b,a.a]),e.tileExtentVAO.bind(u,d,e.tileExtentBuffer,[]);l.uniform1f(d.uniforms.u_opacity,s);for(var g=0,y=c.coveringTiles({tileSize:p});g<y.length;g+=1){var v=y[g];f&&r.setTile({tileID:v,tileSize:p},e,d),l.uniformMatrix4fv(d.uniforms.u_matrix,!1,e.transform.calculatePosMatrix(v.toUnwrapped())),l.drawArrays(l.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}}}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"./pattern":91}],75:[function(e,t,n){"use strict";var r=e("../source/pixels_to_tile_units"),i=e("../gl/stencil_mode"),o=e("../gl/depth_mode");t.exports=function(e,t,n,a){if("translucent"===e.renderPass){var s=n.paint.get("circle-opacity"),u=n.paint.get("circle-stroke-width"),l=n.paint.get("circle-stroke-opacity");if(0!==s.constantOr(1)||0!==u.constantOr(1)&&0!==l.constantOr(1)){var c=e.context,p=c.gl;c.setDepthMode(e.depthModeForSublayer(0,o.ReadOnly)),c.setStencilMode(i.disabled),c.setColorMode(e.colorModeForRenderPass());for(var f=!0,h=0;h<a.length;h++){var d=a[h],g=t.getTile(d),y=g.getBucket(n);if(y){var v=e.context.program.get(),m=y.programConfigurations.get(n.id),_=e.useProgram("circle",m);if((f||_.program!==v)&&(m.setUniforms(c,_,n.paint,{zoom:e.transform.zoom}),f=!1),p.uniform1f(_.uniforms.u_camera_to_center_distance,e.transform.cameraToCenterDistance),p.uniform1i(_.uniforms.u_scale_with_map,"map"===n.paint.get("circle-pitch-scale")?1:0),"map"===n.paint.get("circle-pitch-alignment")){p.uniform1i(_.uniforms.u_pitch_with_map,1);var A=r(g,1,e.transform.zoom);p.uniform2f(_.uniforms.u_extrude_scale,A,A)}else p.uniform1i(_.uniforms.u_pitch_with_map,0),p.uniform2fv(_.uniforms.u_extrude_scale,e.transform.pixelsToGLUnits);p.uniformMatrix4fv(_.uniforms.u_matrix,!1,e.translatePosMatrix(d.posMatrix,g,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor"))),_.draw(c,p.TRIANGLES,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,m)}}}}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],76:[function(e,t,n){"use strict";function r(e,t,n,r,s){var u=e.context,l=u.gl,c=s?e.useProgram("collisionCircle"):e.useProgram("collisionBox");u.setDepthMode(o.disabled),u.setStencilMode(a.disabled),u.setColorMode(e.colorModeForRenderPass());for(var p=0;p<r.length;p++){var f=r[p],h=t.getTile(f),d=h.getBucket(n);if(d){var g=s?d.collisionCircle:d.collisionBox;if(g){l.uniformMatrix4fv(c.uniforms.u_matrix,!1,f.posMatrix),s||u.lineWidth.set(1),l.uniform1f(c.uniforms.u_camera_to_center_distance,e.transform.cameraToCenterDistance);var y=i(h,1,e.transform.zoom),v=Math.pow(2,e.transform.zoom-h.tileID.overscaledZ);l.uniform1f(c.uniforms.u_pixels_to_tile_units,y),l.uniform2f(c.uniforms.u_extrude_scale,e.transform.pixelsToGLUnits[0]/(y*v),e.transform.pixelsToGLUnits[1]/(y*v)),c.draw(u,s?l.TRIANGLES:l.LINES,n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,g.collisionVertexBuffer,null)}}}}var i=e("../source/pixels_to_tile_units"),o=e("../gl/depth_mode"),a=e("../gl/stencil_mode");t.exports=function(e,t,n,i){r(e,t,n,i,!1),r(e,t,n,i,!0)}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],77:[function(e,t,n){"use strict";function r(e,t,n){var r=e.context,h=r.gl;r.lineWidth.set(1*i.devicePixelRatio);var d=n.posMatrix,g=e.useProgram("debug");r.setDepthMode(c.disabled),r.setStencilMode(p.disabled),r.setColorMode(e.colorModeForRenderPass()),h.uniformMatrix4fv(g.uniforms.u_matrix,!1,d),h.uniform4f(g.uniforms.u_color,1,0,0,1),e.debugVAO.bind(r,g,e.debugBuffer,[]),h.drawArrays(h.LINE_STRIP,0,e.debugBuffer.length);for(var y=function(e,t,n,r){r=r||1;var i,o,a,s,u,l,c,p,h=[];for(i=0,o=e.length;i<o;i++)if(u=f[e[i]]){for(p=null,a=0,s=u[1].length;a<s;a+=2)-1===u[1][a]&&-1===u[1][a+1]?p=null:(l=t+u[1][a]*r,c=n-u[1][a+1]*r,p&&h.push(p.x,p.y,l,c),p={x:l,y:c});t+=u[0]*r}return h}(n.toString(),50,200,5),v=new u,m=0;m<y.length;m+=2)v.emplaceBack(y[m],y[m+1]);var _=r.createVertexBuffer(v,l.members);(new s).bind(r,g,_,[]),h.uniform4f(g.uniforms.u_color,1,1,1,1);for(var A=t.getTile(n).tileSize,b=a/(Math.pow(2,e.transform.zoom-n.overscaledZ)*A),x=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<x.length;w++){var E=x[w];h.uniformMatrix4fv(g.uniforms.u_matrix,!1,o.translate([],d,[b*E[0],b*E[1],0])),h.drawArrays(h.LINES,0,_.length)}h.uniform4f(g.uniforms.u_color,0,0,0,1),h.uniformMatrix4fv(g.uniforms.u_matrix,!1,d),h.drawArrays(h.LINES,0,_.length)}var i=e("../util/browser"),o=e("@mapbox/gl-matrix").mat4,a=e("../data/extent"),s=e("./vertex_array_object"),u=e("../data/array_types").PosArray,l=e("../data/pos_attributes"),c=e("../gl/depth_mode"),p=e("../gl/stencil_mode");t.exports=function(e,t,n){for(var i=0;i<n.length;i++)r(e,t,n[i])};var f={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../util/browser":252,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],78:[function(e,t,n){"use strict";function r(e,t,n,r,i){if(!s.isPatternMissing(n.paint.get("fill-pattern"),e))for(var o=!0,a=0,u=r;a<u.length;a+=1){var l=u[a],c=t.getTile(l),p=c.getBucket(n);p&&(e.context.setStencilMode(e.stencilModeForClipping(l)),i(e,t,n,c,l,p,o),o=!1)}}function i(e,t,n,r,i,o,s){var u=e.context.gl,l=o.programConfigurations.get(n.id);a("fill",n.paint.get("fill-pattern"),e,l,n,r,i,s).draw(e.context,u.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,l)}function o(e,t,n,r,i,o,s){var u=e.context.gl,l=o.programConfigurations.get(n.id),c=a("fillOutline",n.getPaintProperty("fill-outline-color")?null:n.paint.get("fill-pattern"),e,l,n,r,i,s);u.uniform2f(c.uniforms.u_world,u.drawingBufferWidth,u.drawingBufferHeight),c.draw(e.context,u.LINES,n.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,l)}function a(e,t,n,r,i,o,a,u){var l,c=n.context.program.get();return t?(l=n.useProgram(e+"Pattern",r),(u||l.program!==c)&&(r.setUniforms(n.context,l,i.paint,{zoom:n.transform.zoom}),s.prepare(t,n,l)),s.setTile(o,n,l)):(l=n.useProgram(e,r),(u||l.program!==c)&&r.setUniforms(n.context,l,i.paint,{zoom:n.transform.zoom})),n.context.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"))),l}var s=e("./pattern"),u=e("../style-spec/util/color"),l=e("../gl/depth_mode");t.exports=function(e,t,n,a){var s=n.paint.get("fill-color"),c=n.paint.get("fill-opacity");if(0!==c.constantOr(1)){var p=e.context;p.setColorMode(e.colorModeForRenderPass());var f=n.paint.get("fill-pattern")||1!==s.constantOr(u.transparent).a||1!==c.constantOr(0)?"translucent":"opaque";e.renderPass===f&&(p.setDepthMode(e.depthModeForSublayer(1,"opaque"===e.renderPass?l.ReadWrite:l.ReadOnly)),r(e,t,n,a,i)),"translucent"===e.renderPass&&n.paint.get("fill-antialias")&&(p.lineWidth.set(2),p.setDepthMode(e.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,l.ReadOnly)),r(e,t,n,a,o))}}},{"../gl/depth_mode":67,"../style-spec/util/color":153,"./pattern":91}],79:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s){var u=e.context,c=u.gl,f=n.paint.get("fill-extrusion-pattern"),h=e.context.program.get(),d=a.programConfigurations.get(n.id),g=e.useProgram(f?"fillExtrusionPattern":"fillExtrusion",d);if((s||g.program!==h)&&d.setUniforms(u,g,n.paint,{zoom:e.transform.zoom}),f){if(o.isPatternMissing(f,e))return;o.prepare(f,e,g),o.setTile(r,e,g),c.uniform1f(g.uniforms.u_height_factor,-Math.pow(2,i.overscaledZ)/r.tileSize/8)}e.context.gl.uniformMatrix4fv(g.uniforms.u_matrix,!1,e.translatePosMatrix(i.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor"))),function(e,t){var n=t.context.gl,r=t.style.light,i=r.properties.get("position"),o=[i.x,i.y,i.z],a=l.create();"viewport"===r.properties.get("anchor")&&l.fromRotation(a,-t.transform.angle),p.transformMat3(o,o,a);var s=r.properties.get("color");n.uniform3fv(e.uniforms.u_lightpos,o),n.uniform1f(e.uniforms.u_lightintensity,r.properties.get("intensity")),n.uniform3f(e.uniforms.u_lightcolor,s.r,s.g,s.b)}(g,e),g.draw(u,c.TRIANGLES,n.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,d)}var i=e("@mapbox/gl-matrix"),o=e("./pattern"),a=e("./texture"),s=e("../style-spec/util/color"),u=e("../gl/depth_mode"),l=i.mat3,c=i.mat4,p=i.vec3,f=e("../gl/stencil_mode");t.exports=function(e,t,n,i){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===e.renderPass){!function(e,t){var n=e.context,r=n.gl,i=t.viewportFrame;if(e.depthRboNeedsClear&&e.setupOffscreenDepthRenderbuffer(),!i){var o=new a(n,{width:e.width,height:e.height,data:null},r.RGBA);o.bind(r.LINEAR,r.CLAMP_TO_EDGE),(i=t.viewportFrame=n.createFramebuffer(e.width,e.height)).colorAttachment.set(o.texture)}n.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(e.depthRbo),e.depthRboNeedsClear&&(n.clear({depth:1}),e.depthRboNeedsClear=!1),n.clear({color:s.transparent}),n.setStencilMode(f.disabled),n.setDepthMode(new u(r.LEQUAL,u.ReadWrite,[0,1])),n.setColorMode(e.colorModeForRenderPass())}(e,n);for(var o=!0,l=0,p=i;l<p.length;l+=1){var h=p[l],d=t.getTile(h),g=d.getBucket(n);g&&(r(e,0,n,d,h,g,o),o=!1)}}else"translucent"===e.renderPass&&function(e,t){var n=t.viewportFrame;if(n){var r=e.context,i=r.gl,o=e.useProgram("extrusionTexture");r.setStencilMode(f.disabled),r.setDepthMode(u.disabled),r.setColorMode(e.colorModeForRenderPass()),r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),i.uniform1f(o.uniforms.u_opacity,t.paint.get("fill-extrusion-opacity")),i.uniform1i(o.uniforms.u_image,0);var a=c.create();c.ortho(a,0,e.width,e.height,0,0,1),i.uniformMatrix4fv(o.uniforms.u_matrix,!1,a),i.uniform2f(o.uniforms.u_world,i.drawingBufferWidth,i.drawingBufferHeight),e.viewportVAO.bind(r,o,e.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}(e,n)}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../style-spec/util/color":153,"./pattern":91,"./texture":93,"@mapbox/gl-matrix":2}],80:[function(e,t,n){"use strict";var r=e("@mapbox/gl-matrix").mat4,i=e("./texture"),o=e("../source/pixels_to_tile_units"),a=e("../style-spec/util/color"),s=e("../gl/depth_mode"),u=e("../gl/stencil_mode"),l=e("../gl/color_mode");t.exports=function(e,t,n,c){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var p=e.context,f=p.gl;p.setDepthMode(e.depthModeForSublayer(0,s.ReadOnly)),p.setStencilMode(u.disabled),function(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,n,r,i){var o=t.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),t.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,i.colorAttachment.setDirty(),e(t,n,r,i))}(e,t,o,i)}}(p,e,n),p.clear({color:a.transparent}),p.setColorMode(new l([f.ONE,f.ONE],a.transparent,[!0,!0,!0,!0]));for(var h=!0,d=0;d<c.length;d++){var g=c[d];if(!t.hasRenderableParent(g)){var y=t.getTile(g),v=y.getBucket(n);if(v){var m=e.context.program.get(),_=v.programConfigurations.get(n.id),A=e.useProgram("heatmap",_),b=e.transform.zoom;(h||A.program!==m)&&(_.setUniforms(e.context,A,n.paint,{zoom:b}),h=!1),f.uniform1f(A.uniforms.u_extrude_scale,o(y,1,b)),f.uniform1f(A.uniforms.u_intensity,n.paint.get("heatmap-intensity")),f.uniformMatrix4fv(A.uniforms.u_matrix,!1,g.posMatrix),A.draw(p,f.TRIANGLES,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,_)}}}p.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,t){var n=e.context,o=n.gl,a=t.heatmapFbo;if(a){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,a.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var u=t.colorRampTexture;u||(u=t.colorRampTexture=new i(n,t.colorRamp,o.RGBA)),u.bind(o.LINEAR,o.CLAMP_TO_EDGE),n.setDepthMode(s.disabled);var l=e.useProgram("heatmapTexture"),c=t.paint.get("heatmap-opacity");o.uniform1f(l.uniforms.u_opacity,c),o.uniform1i(l.uniforms.u_image,0),o.uniform1i(l.uniforms.u_color_ramp,1);var p=r.create();r.ortho(p,0,e.width,e.height,0,0,1),o.uniformMatrix4fv(l.uniforms.u_matrix,!1,p),o.uniform2f(l.uniforms.u_world,o.drawingBufferWidth,o.drawingBufferHeight),e.viewportVAO.bind(e.context,l,e.viewportBuffer,[]),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}(e,n))}},{"../gl/color_mode":65,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style-spec/util/color":153,"./texture":93,"@mapbox/gl-matrix":2}],81:[function(e,t,n){"use strict";function r(e,t,n){var r=e.context,i=r.gl,a=t.fbo;if(a){var s=e.useProgram("hillshade"),u=e.transform.calculatePosMatrix(t.tileID.toUnwrapped());!function(e,t,n){var r=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(r-=t.transform.angle),t.context.gl.uniform2f(e.uniforms.u_light,n.paint.get("hillshade-exaggeration"),r)}(s,e,n);var l=function(e,t){var n=t.toCoordinate(),r=new o(n.column,n.row+1,n.zoom);return[e.transform.coordinateLocation(n).lat,e.transform.coordinateLocation(r).lat]}(e,t.tileID);r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),i.uniformMatrix4fv(s.uniforms.u_matrix,!1,u),i.uniform2fv(s.uniforms.u_latrange,l),i.uniform1i(s.uniforms.u_image,0);var c=n.paint.get("hillshade-shadow-color");i.uniform4f(s.uniforms.u_shadow,c.r,c.g,c.b,c.a);var p=n.paint.get("hillshade-highlight-color");i.uniform4f(s.uniforms.u_highlight,p.r,p.g,p.b,p.a);var f=n.paint.get("hillshade-accent-color");if(i.uniform4f(s.uniforms.u_accent,f.r,f.g,f.b,f.a),t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments)s.draw(r,i.TRIANGLES,n.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments);else{var h=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(r,s,h,[]),i.drawArrays(i.TRIANGLE_STRIP,0,h.length)}}}function i(e,t){var n=e.context,r=n.gl;if(t.dem&&t.dem.level){var i=t.dem.level.dim,o=t.dem.getPixels();if(n.activeTexture.set(r.TEXTURE1),n.pixelStoreUnpackPremultiplyAlpha.set(!1),t.demTexture=t.demTexture||e.getTileTexture(t.tileSize),t.demTexture){var l=t.demTexture;l.update(o,!1),l.bind(r.NEAREST,r.CLAMP_TO_EDGE)}else t.demTexture=new a(n,o,r.RGBA,!1),t.demTexture.bind(r.NEAREST,r.CLAMP_TO_EDGE);n.activeTexture.set(r.TEXTURE0);var c=t.fbo;if(!c){var p=new a(n,{width:i,height:i,data:null},r.RGBA);p.bind(r.LINEAR,r.CLAMP_TO_EDGE),(c=t.fbo=n.createFramebuffer(i,i)).colorAttachment.set(p.texture)}n.bindFramebuffer.set(c.framebuffer),n.viewport.set([0,0,i,i]);var f=u.create();u.ortho(f,0,s,-s,0,0,1),u.translate(f,f,[0,-s,0]);var h=e.useProgram("hillshadePrepare");r.uniformMatrix4fv(h.uniforms.u_matrix,!1,f),r.uniform1f(h.uniforms.u_zoom,t.tileID.overscaledZ),r.uniform2fv(h.uniforms.u_dimension,[2*i,2*i]),r.uniform1i(h.uniforms.u_image,1);var d=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(n,h,d,[]),r.drawArrays(r.TRIANGLE_STRIP,0,d.length),t.needsHillshadePrepare=!1}}var o=e("../geo/coordinate"),a=e("./texture"),s=e("../data/extent"),u=e("@mapbox/gl-matrix").mat4,l=e("../gl/stencil_mode"),c=e("../gl/depth_mode");t.exports=function(e,t,n,o){if("offscreen"===e.renderPass||"translucent"===e.renderPass){var a=e.context;a.setDepthMode(e.depthModeForSublayer(0,c.ReadOnly)),a.setStencilMode(l.disabled),a.setColorMode(e.colorModeForRenderPass());for(var s=0,u=o;s<u.length;s+=1){var p=u[s],f=t.getTile(p);f.needsHillshadePrepare&&"offscreen"===e.renderPass?i(e,f):"translucent"===e.renderPass&&r(e,f,n)}a.viewport.set([0,0,e.width,e.height])}}},{"../data/extent":53,"../geo/coordinate":61,"../gl/depth_mode":67,"../gl/stencil_mode":70,"./texture":93,"@mapbox/gl-matrix":2}],82:[function(e,t,n){"use strict";function r(e,t,n,r,a,s,u,l,c){var p,f,h,d,g=t.context,y=g.gl,v=a.paint.get("line-dasharray"),m=a.paint.get("line-pattern");if(l||c){var _=1/o(n,1,t.transform.tileZoom);if(v){p=t.lineAtlas.getDash(v.from,"round"===a.layout.get("line-cap")),f=t.lineAtlas.getDash(v.to,"round"===a.layout.get("line-cap"));var A=p.width*v.fromScale,b=f.width*v.toScale;y.uniform2f(e.uniforms.u_patternscale_a,_/A,-p.height/2),y.uniform2f(e.uniforms.u_patternscale_b,_/b,-f.height/2),y.uniform1f(e.uniforms.u_sdfgamma,t.lineAtlas.width/(256*Math.min(A,b)*i.devicePixelRatio)/2)}else if(m){if(h=t.imageManager.getPattern(m.from),d=t.imageManager.getPattern(m.to),!h||!d)return;y.uniform2f(e.uniforms.u_pattern_size_a,h.displaySize[0]*m.fromScale/_,d.displaySize[1]),y.uniform2f(e.uniforms.u_pattern_size_b,d.displaySize[0]*m.toScale/_,d.displaySize[1]);var x=t.imageManager.getPixelSize(),w=x.width,E=x.height;y.uniform2fv(e.uniforms.u_texsize,[w,E])}y.uniform2f(e.uniforms.u_gl_units_to_pixels,1/t.transform.pixelsToGLUnits[0],1/t.transform.pixelsToGLUnits[1])}l&&(v?(y.uniform1i(e.uniforms.u_image,0),g.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(g),y.uniform1f(e.uniforms.u_tex_y_a,p.y),y.uniform1f(e.uniforms.u_tex_y_b,f.y),y.uniform1f(e.uniforms.u_mix,v.t)):m&&(y.uniform1i(e.uniforms.u_image,0),g.activeTexture.set(y.TEXTURE0),t.imageManager.bind(g),y.uniform2fv(e.uniforms.u_pattern_tl_a,h.tl),y.uniform2fv(e.uniforms.u_pattern_br_a,h.br),y.uniform2fv(e.uniforms.u_pattern_tl_b,d.tl),y.uniform2fv(e.uniforms.u_pattern_br_b,d.br),y.uniform1f(e.uniforms.u_fade,m.t))),g.setStencilMode(t.stencilModeForClipping(s));var T=t.translatePosMatrix(s.posMatrix,n,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"));y.uniformMatrix4fv(e.uniforms.u_matrix,!1,T),y.uniform1f(e.uniforms.u_ratio,1/o(n,1,t.transform.zoom)),e.draw(g,y.TRIANGLES,a.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,u)}var i=e("../util/browser"),o=e("../source/pixels_to_tile_units"),a=e("../gl/depth_mode");t.exports=function(e,t,n,i){if("translucent"===e.renderPass&&0!==n.paint.get("line-opacity").constantOr(1)){var o=e.context;o.setDepthMode(e.depthModeForSublayer(0,a.ReadOnly)),o.setColorMode(e.colorModeForRenderPass());for(var s,u=n.paint.get("line-dasharray")?"lineSDF":n.paint.get("line-pattern")?"linePattern":"line",l=!0,c=0,p=i;c<p.length;c+=1){var f=p[c],h=t.getTile(f),d=h.getBucket(n);if(d){var g=d.programConfigurations.get(n.id),y=e.context.program.get(),v=e.useProgram(u,g),m=l||v.program!==y,_=s!==h.tileID.overscaledZ;m&&g.setUniforms(e.context,v,n.paint,{zoom:e.transform.zoom}),r(v,e,h,d,n,f,g,m,_),s=h.tileID.overscaledZ,l=!1}}}}},{"../gl/depth_mode":67,"../source/pixels_to_tile_units":104,"../util/browser":252}],83:[function(e,t,n){"use strict";function r(e,t,n,r,o){var s=r.paint.get("raster-fade-duration");if(s>0){var u=a.now(),l=(u-e.timeAdded)/s,c=t?(u-t.timeAdded)/s:-1,p=n.getSource(),f=o.coveringZoomLevel({tileSize:p.tileSize,roundZoom:p.roundZoom}),h=!t||Math.abs(t.tileID.overscaledZ-f)>Math.abs(e.tileID.overscaledZ-f),d=h&&e.refreshedUponExpiration?1:i.clamp(h?l:1-c,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),t?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var i=e("../util/util"),o=e("../source/image_source"),a=e("../util/browser"),s=e("../gl/stencil_mode"),u=e("../gl/depth_mode");t.exports=function(e,t,n,i){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity")){var a=e.context,l=a.gl,c=t.getSource(),p=e.useProgram("raster");a.setStencilMode(s.disabled),a.setColorMode(e.colorModeForRenderPass()),l.uniform1f(p.uniforms.u_brightness_low,n.paint.get("raster-brightness-min")),l.uniform1f(p.uniforms.u_brightness_high,n.paint.get("raster-brightness-max")),l.uniform1f(p.uniforms.u_saturation_factor,function(e){return e>0?1-1/(1.001-e):-e}(n.paint.get("raster-saturation"))),l.uniform1f(p.uniforms.u_contrast_factor,function(e){return e>0?1/(1-e):1+e}(n.paint.get("raster-contrast"))),l.uniform3fv(p.uniforms.u_spin_weights,function(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}(n.paint.get("raster-hue-rotate"))),l.uniform1f(p.uniforms.u_buffer_scale,1),l.uniform1i(p.uniforms.u_image0,0),l.uniform1i(p.uniforms.u_image1,1);for(var f=i.length&&i[0].overscaledZ,h=0,d=i;h<d.length;h+=1){var g=d[h];a.setDepthMode(e.depthModeForSublayer(g.overscaledZ-f,1===n.paint.get("raster-opacity")?u.ReadWrite:u.ReadOnly,l.LESS));var y=t.getTile(g),v=e.transform.calculatePosMatrix(g.toUnwrapped(),!0);y.registerFadeDuration(n.paint.get("raster-fade-duration")),l.uniformMatrix4fv(p.uniforms.u_matrix,!1,v);var m=t.findLoadedParent(g,0,{}),_=r(y,m,t,n,e.transform),A=void 0,b=void 0;if(a.activeTexture.set(l.TEXTURE0),y.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),a.activeTexture.set(l.TEXTURE1),m?(m.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),A=Math.pow(2,m.tileID.overscaledZ-y.tileID.overscaledZ),b=[y.tileID.canonical.x*A%1,y.tileID.canonical.y*A%1]):y.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE,l.LINEAR_MIPMAP_NEAREST),l.uniform2fv(p.uniforms.u_tl_parent,b||[0,0]),l.uniform1f(p.uniforms.u_scale_parent,A||1),l.uniform1f(p.uniforms.u_fade_t,_.mix),l.uniform1f(p.uniforms.u_opacity,_.opacity*n.paint.get("raster-opacity")),c instanceof o){var x=c.boundsBuffer;c.boundsVAO.bind(a,p,x,[]),l.drawArrays(l.TRIANGLE_STRIP,0,x.length)}else if(y.maskedBoundsBuffer&&y.maskedIndexBuffer&&y.segments)p.draw(a,l.TRIANGLES,n.id,y.maskedBoundsBuffer,y.maskedIndexBuffer,y.segments);else{var w=e.rasterBoundsBuffer;e.rasterBoundsVAO.bind(a,p,w,[]),l.drawArrays(l.TRIANGLE_STRIP,0,w.length)}}}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/image_source":102,"../util/browser":252,"../util/util":275}],84:[function(e,t,n){"use strict";function r(e,t,n,r,a,s,c,f,h,g){var y=e.context,v=y.gl,m=e.transform,_="map"===f,A="map"===h,b=_&&"line"===n.layout.get("symbol-placement"),x=_&&!A&&!b,w=A;y.setDepthMode(w?e.depthModeForSublayer(0,d.ReadOnly):d.disabled);for(var E,T=0,M=r;T<M.length;T+=1){var S=M[T],C=t.getTile(S),I=C.getBucket(n);if(I){var P=a?I.text:I.icon;if(P&&P.segments.get().length){var k=P.programConfigurations.get(n.id),O=a||I.sdfIcons,L=a?I.textSizeData:I.iconSizeData;if(E||(E=e.useProgram(O?"symbolSDF":"symbolIcon",k),k.setUniforms(e.context,E,n.paint,{zoom:e.transform.zoom}),i(E,e,n,a,x,A,L)),y.activeTexture.set(v.TEXTURE0),v.uniform1i(E.uniforms.u_texture,0),a)C.glyphAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),v.uniform2fv(E.uniforms.u_texsize,C.glyphAtlasTexture.size);else{var R=1!==n.layout.get("icon-size").constantOr(0)||I.iconsNeedLinear,j=A||0!==m.pitch;C.iconAtlasTexture.bind(O||e.options.rotating||e.options.zooming||R||j?v.LINEAR:v.NEAREST,v.CLAMP_TO_EDGE),v.uniform2fv(E.uniforms.u_texsize,C.iconAtlasTexture.size)}v.uniformMatrix4fv(E.uniforms.u_matrix,!1,e.translatePosMatrix(S.posMatrix,C,s,c));var N=u(C,1,e.transform.zoom),B=l.getLabelPlaneMatrix(S.posMatrix,A,_,e.transform,N),D=l.getGlCoordMatrix(S.posMatrix,A,_,e.transform,N);v.uniformMatrix4fv(E.uniforms.u_gl_coord_matrix,!1,e.translatePosMatrix(D,C,s,c,!0)),b?(v.uniformMatrix4fv(E.uniforms.u_label_plane_matrix,!1,p),l.updateLineLabels(I,S.posMatrix,e,a,B,D,A,g)):v.uniformMatrix4fv(E.uniforms.u_label_plane_matrix,!1,B),v.uniform1f(E.uniforms.u_fade_change,e.options.fadeDuration?e.symbolFadeChange:1),o(E,k,e,n,C,P,a,O,A)}}}}function i(e,t,n,r,i,o,a){var s=t.context.gl,u=t.transform;s.uniform1i(e.uniforms.u_pitch_with_map,o?1:0),s.uniform1f(e.uniforms.u_is_text,r?1:0),s.uniform1f(e.uniforms.u_pitch,u.pitch/360*2*Math.PI);var l="constant"===a.functionType||"source"===a.functionType,p="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(e.uniforms.u_is_size_zoom_constant,l?1:0),s.uniform1i(e.uniforms.u_is_size_feature_constant,p?1:0),s.uniform1f(e.uniforms.u_camera_to_center_distance,u.cameraToCenterDistance);var h=c.evaluateSizeForZoom(a,u.zoom,f.properties[r?"text-size":"icon-size"]);void 0!==h.uSizeT&&s.uniform1f(e.uniforms.u_size_t,h.uSizeT),void 0!==h.uSize&&s.uniform1f(e.uniforms.u_size,h.uSize),s.uniform1f(e.uniforms.u_aspect_ratio,u.width/u.height),s.uniform1i(e.uniforms.u_rotate_symbol,i?1:0)}function o(e,t,n,r,i,o,s,u,l){var c=n.context,p=c.gl,f=n.transform;if(u){var h=0!==r.paint.get(s?"text-halo-width":"icon-halo-width").constantOr(1),d=l?Math.cos(f._pitch)*f.cameraToCenterDistance:1;p.uniform1f(e.uniforms.u_gamma_scale,d),h&&(p.uniform1f(e.uniforms.u_is_halo,1),a(o,r,c,e)),p.uniform1f(e.uniforms.u_is_halo,0)}a(o,r,c,e)}function a(e,t,n,r){r.draw(n,n.gl.TRIANGLES,t.id,e.layoutVertexBuffer,e.indexBuffer,e.segments,e.programConfigurations.get(t.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}var s=e("./draw_collision_debug"),u=e("../source/pixels_to_tile_units"),l=e("../symbol/projection"),c=e("../symbol/symbol_size"),p=e("@mapbox/gl-matrix").mat4.identity(new Float32Array(16)),f=e("../style/style_layer/symbol_style_layer_properties").layout,h=e("../gl/stencil_mode"),d=e("../gl/depth_mode");t.exports=function(e,t,n,i){if("translucent"===e.renderPass){var o=e.context;o.setStencilMode(h.disabled),o.setColorMode(e.colorModeForRenderPass()),0!==n.paint.get("icon-opacity").constantOr(1)&&r(e,t,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright")),0!==n.paint.get("text-opacity").constantOr(1)&&r(e,t,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright")),t.map.showCollisionBoxes&&s(e,t,n,i)}}},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/projection":224,"../symbol/symbol_size":228,"./draw_collision_debug":76,"@mapbox/gl-matrix":2}],85:[function(e,t,n){"use strict";var r=e("@mapbox/shelf-pack"),i=e("../util/image").AlphaImage,o=1;t.exports={makeGlyphAtlas:function(e){var t=new i({width:0,height:0}),n={},a=new r(0,0,{autoResize:!0});for(var s in e){var u=e[s],l=n[s]={};for(var c in u){var p=u[+c];if(p&&0!==p.bitmap.width&&0!==p.bitmap.height){var f=a.packOne(p.bitmap.width+2*o,p.bitmap.height+2*o);t.resize({width:a.w,height:a.h}),i.copy(p.bitmap,t,{x:0,y:0},{x:f.x+o,y:f.y+o},p.bitmap),l[c]={rect:f,metrics:p.metrics}}}}return a.shrink(),t.resize({width:a.w,height:a.h}),{image:t,positions:n}}}},{"../util/image":263,"@mapbox/shelf-pack":5}],86:[function(e,t,n){"use strict";var r=e("../style/load_glyph_range"),i=e("@mapbox/tiny-sdf"),o=e("../util/is_char_in_unicode_block"),a=e("../util/util").asyncAll,s=e("../util/image").AlphaImage,u=function(e,t){this.requestTransform=e,this.localIdeographFontFamily=t,this.entries={}};u.prototype.setURL=function(e){this.url=e},u.prototype.getGlyphs=function(e,t){var n=this,i=[];for(var o in e)for(var s=0,u=e[o];s<u.length;s+=1){var l=u[s];i.push({stack:o,id:l})}a(i,function(e,t){var i=e.stack,o=e.id,a=n.entries[i];a||(a=n.entries[i]={glyphs:{},requests:{}});var s=a.glyphs[o];if(void 0===s)if(s=n._tinySDF(a,i,o))t(null,{stack:i,id:o,glyph:s});else{var u=Math.floor(o/256);if(256*u>65535)t(new Error("glyphs > 65535 not supported"));else{var l=a.requests[u];l||(l=a.requests[u]=[],r(i,u,n.url,n.requestTransform,function(e,t){if(t)for(var n in t)a.glyphs[+n]=t[+n];for(var r=0,i=l;r<i.length;r+=1)(0,i[r])(e,t);delete a.requests[u]})),l.push(function(e,n){e?t(e):n&&t(null,{stack:i,id:o,glyph:n[o]||null})})}}else t(null,{stack:i,id:o,glyph:s})},function(e,n){if(e)t(e);else if(n){for(var r={},i=0,o=n;i<o.length;i+=1){var a=o[i],s=a.stack,u=a.id,l=a.glyph;(r[s]||(r[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}t(null,r)}})},u.prototype._tinySDF=function(e,t,n){var r=this.localIdeographFontFamily;if(r&&(o["CJK Unified Ideographs"](n)||o["Hangul Syllables"](n))){var a=e.tinySDF;if(!a){var u="400";/bold/i.test(t)?u="900":/medium/i.test(t)?u="500":/light/i.test(t)&&(u="200"),a=e.tinySDF=new i(24,3,8,.25,r,u)}return{id:n,bitmap:new s({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},t.exports=u},{"../style/load_glyph_range":184,"../util/image":263,"../util/is_char_in_unicode_block":265,"../util/util":275,"@mapbox/tiny-sdf":6}],87:[function(e,t,n){"use strict";function r(e,t){var n=t.pixelRatio,r={x:e.x+a,y:e.y+a,w:e.w-2*a,h:e.h-2*a};return{pixelRatio:n,textureRect:r,tl:[r.x,r.y],br:[r.x+r.w,r.y+r.h],displaySize:[r.w/n,r.h/n]}}var i=e("@mapbox/shelf-pack"),o=e("../util/image").RGBAImage,a=1;t.exports={imagePosition:r,makeImageAtlas:function(e){var t=new o({width:0,height:0}),n={},s=new i(0,0,{autoResize:!0});for(var u in e){var l=e[u],c=s.packOne(l.data.width+2*a,l.data.height+2*a);t.resize({width:s.w,height:s.h}),o.copy(l.data,t,{x:0,y:0},{x:c.x+a,y:c.y+a},l.data),n[u]=r(c,l)}return s.shrink(),t.resize({width:s.w,height:s.h}),{image:t,positions:n}}}},{"../util/image":263,"@mapbox/shelf-pack":5}],88:[function(e,t,n){"use strict";var r=e("@mapbox/shelf-pack"),i=e("../util/image").RGBAImage,o=e("./image_atlas").imagePosition,a=e("./texture"),s=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new r(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new i({width:64,height:64}),this.dirty=!0};s.prototype.isLoaded=function(){return this.loaded},s.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t],i=r.ids,o=r.callback;this._notify(i,o)}this.requestors=[]}},s.prototype.getImage=function(e){return this.images[e]},s.prototype.addImage=function(e,t){this.images[e]=t},s.prototype.removeImage=function(e){delete this.images[e];var t=this.patterns[e];t&&(this.shelfPack.unref(t.bin),delete this.patterns[e])},s.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1){var o=i[r];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},s.prototype._notify=function(e,t){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=this.images[o];a&&(n[o]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}t(null,n)},s.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},s.prototype.getPattern=function(e){var t=this.patterns[e];if(t)return t.position;var n=this.getImage(e);if(!n)return null;var r=n.data.width+2,a=n.data.height+2,s=this.shelfPack.packOne(r,a);if(!s)return null;this.atlasImage.resize(this.getPixelSize());var u=n.data,l=this.atlasImage,c=s.x+1,p=s.y+1,f=u.width,h=u.height;i.copy(u,l,{x:0,y:0},{x:c,y:p},{width:f,height:h}),i.copy(u,l,{x:0,y:h-1},{x:c,y:p-1},{width:f,height:1}),i.copy(u,l,{x:0,y:0},{x:c,y:p+h},{width:f,height:1}),i.copy(u,l,{x:f-1,y:0},{x:c-1,y:p},{width:1,height:h}),i.copy(u,l,{x:0,y:0},{x:c+f,y:p},{width:1,height:h}),this.dirty=!0;var d=o(s,n);return this.patterns[e]={bin:s,position:d},d},s.prototype.bind=function(e){var t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)},t.exports=s},{"../util/image":263,"./image_atlas":87,"./texture":93,"@mapbox/shelf-pack":5}],89:[function(e,t,n){"use strict";var r=e("../util/util"),i=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};i.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},i.prototype.addDash=function(e,t){var n=this,i=t?7:0,o=2*i+1;if(this.nextRow+o>this.height)return r.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<e.length;s++)a+=e[s];for(var u=this.width/a,l=u/2,c=e.length%2==1,p=-i;p<=i;p++)for(var f=n.nextRow+i+p,h=n.width*f,d=c?-e[e.length-1]:0,g=e[0],y=1,v=0;v<this.width;v++){for(;g<v/u;)d=g,g+=e[y],c&&y===e.length-1&&(g+=e[0]),y++;var m=Math.abs(v-d*u),_=Math.abs(v-g*u),A=Math.min(m,_),b=y%2==1,x=void 0;if(t){var w=i?p/i*(l+1):0;if(b){var E=l-Math.abs(w);x=Math.sqrt(A*A+E*E)}else x=l-Math.sqrt(A*A+w*w)}else x=(b?1:-1)*A;n.data[3+4*(h+v)]=Math.max(0,Math.min(255,x+128))}var T={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:a};return this.nextRow+=o,this.dirty=!0,T},i.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},t.exports=i},{"../util/util":275}],90:[function(e,t,n){"use strict";var r=e("../util/browser"),i=e("@mapbox/gl-matrix").mat4,o=e("../source/source_cache"),a=e("../data/extent"),s=e("../source/pixels_to_tile_units"),u=e("../util/util"),l=e("./vertex_array_object"),c=e("../data/array_types"),p=c.RasterBoundsArray,f=c.PosArray,h=e("../data/raster_bounds_attributes"),d=e("../data/pos_attributes"),g=e("../data/program_configuration").ProgramConfiguration,y=e("../symbol/cross_tile_symbol_index"),v=e("../shaders"),m=e("./program"),_=e("../gl/context"),A=e("../gl/depth_mode"),b=e("../gl/stencil_mode"),x=e("../gl/color_mode"),w=(e("./texture"),e("./tile_mask")),E=e("../style-spec/util/color"),T={symbol:e("./draw_symbol"),circle:e("./draw_circle"),heatmap:e("./draw_heatmap"),line:e("./draw_line"),fill:e("./draw_fill"),"fill-extrusion":e("./draw_fill_extrusion"),hillshade:e("./draw_hillshade"),raster:e("./draw_raster"),background:e("./draw_background"),debug:e("./draw_debug")},M=function(e,t){this.context=new _(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=o.maxUnderzooming+o.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new g,this.crossTileSymbolIndex=new y};M.prototype.resize=function(e,t){var n=this.context.gl;if(this.width=e*r.devicePixelRatio,this.height=t*r.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,o=this.style._order;i<o.length;i+=1){var a=o[i];this.style._layers[a].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},M.prototype.setup=function(){var e=this.context,t=new f;t.emplaceBack(0,0),t.emplaceBack(a,0),t.emplaceBack(0,a),t.emplaceBack(a,a),this.tileExtentBuffer=e.createVertexBuffer(t,d.members),this.tileExtentVAO=new l,this.tileExtentPatternVAO=new l;var n=new f;n.emplaceBack(0,0),n.emplaceBack(a,0),n.emplaceBack(a,a),n.emplaceBack(0,a),n.emplaceBack(0,0),this.debugBuffer=e.createVertexBuffer(n,d.members),this.debugVAO=new l;var r=new p;r.emplaceBack(0,0,0,0),r.emplaceBack(a,0,a,0),r.emplaceBack(0,a,0,a),r.emplaceBack(a,a,a,a),this.rasterBoundsBuffer=e.createVertexBuffer(r,h.members),this.rasterBoundsVAO=new l;var i=new f;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(i,d.members),this.viewportVAO=new l},M.prototype.clearStencil=function(){var e=this.context,t=e.gl;e.setColorMode(x.disabled),e.setDepthMode(A.disabled),e.setStencilMode(new b({func:t.ALWAYS,mask:0},0,255,t.ZERO,t.ZERO,t.ZERO));var n=i.create();i.ortho(n,0,this.width,this.height,0,0,1),i.scale(n,n,[t.drawingBufferWidth,t.drawingBufferHeight,0]);var r=this.useProgram("clippingMask");t.uniformMatrix4fv(r.uniforms.u_matrix,!1,n),this.viewportVAO.bind(e,r,this.viewportBuffer,[]),t.drawArrays(t.TRIANGLE_STRIP,0,4)},M.prototype._renderTileClippingMasks=function(e){var t=this,n=this.context,r=n.gl;n.setColorMode(x.disabled),n.setDepthMode(A.disabled);var i=1;this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],u=t._tileClippingMaskIDs[s.key]=i++;n.setStencilMode(new b({func:r.ALWAYS,mask:0},u,255,r.KEEP,r.KEEP,r.REPLACE));var l=t.useProgram("clippingMask");r.uniformMatrix4fv(l.uniforms.u_matrix,!1,s.posMatrix),t.tileExtentVAO.bind(t.context,l,t.tileExtentBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}},M.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new b({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},M.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new x([e.CONSTANT_COLOR,e.ONE],new E(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?x.unblended:x.alphaBlended},M.prototype.depthModeForSublayer=function(e,t,n){var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon,i=r-1+this.depthRange;return new A(n||this.context.gl.LEQUAL,t,[i,r])},M.prototype.render=function(e,t){var n=this;for(var i in this.style=e,this.options=t,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(r.now()),e.sourceCaches){var o=n.style.sourceCaches[i];o.used&&o.prepare(n.context)}var a=this.style._order,s=u.filterObject(this.style.sourceCaches,function(e){return"raster"===e.getSource().type||"raster-dem"===e.getSource().type});for(var l in s)!function(e){var t=s[l],r=t.getVisibleCoordinates().map(function(e){return t.getTile(e)});w(r,n.context)}();this.renderPass="offscreen";var c,p=[];this.depthRboNeedsClear=!0;for(var f=0;f<a.length;f++){var h=n.style._layers[a[f]];h.hasOffscreenPass()&&!h.isHidden(n.transform.zoom)&&(h.source!==(c&&c.id)&&(p=[],(c=n.style.sourceCaches[h.source])&&(p=c.getVisibleCoordinates()).reverse()),p.length&&n.renderLayer(n,c,h,p))}this.context.bindFramebuffer.set(null),this.context.clear({color:t.showOverdrawInspector?E.black:E.transparent,depth:1}),this._showOverdrawInspector=t.showOverdrawInspector,this.depthRange=(e._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var d,g=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var y=n.style._layers[a[n.currentLayer]];y.source!==(d&&d.id)&&(g=[],(d=n.style.sourceCaches[y.source])&&(n.clearStencil(),g=d.getVisibleCoordinates(),d.getSource().isTileClipped&&n._renderTileClippingMasks(g))),n.renderLayer(n,d,y,g)}this.renderPass="translucent";var v,m=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var _=n.style._layers[a[n.currentLayer]];_.source!==(v&&v.id)&&(m=[],(v=n.style.sourceCaches[_.source])&&(n.clearStencil(),m=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(m)),m.reverse()),n.renderLayer(n,v,_,m)}if(this.options.showTileBoundaries){var A=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];A&&T.debug(this,A,A.getVisibleCoordinates())}},M.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},M.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||r.length)&&(this.id=n.id,T[n.type](e,t,n,r))},M.prototype.translatePosMatrix=function(e,t,n,r,o){if(!n[0]&&!n[1])return e;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var u=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*u,n[0]*u+n[1]*l]}var c=[o?n[0]:s(t,n[0],this.transform.zoom),o?n[1]:s(t,n[1],this.transform.zoom),0],p=new Float32Array(16);return i.translate(p,e,c),p},M.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},M.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},M.prototype._createProgramCached=function(e,t){this.cache=this.cache||{};var n=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new m(this.context,v[e],t,this._showOverdrawInspector)),this.cache[n]},M.prototype.useProgram=function(e,t){var n=this._createProgramCached(e,t||this.emptyProgramConfiguration);return this.context.program.set(n.program),n},t.exports=M},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../data/program_configuration":58,"../data/raster_bounds_attributes":59,"../gl/color_mode":65,"../gl/context":66,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../shaders":97,"../source/pixels_to_tile_units":104,"../source/source_cache":111,"../style-spec/util/color":153,"../symbol/cross_tile_symbol_index":218,"../util/browser":252,"../util/util":275,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_hillshade":81,"./draw_line":82,"./draw_raster":83,"./draw_symbol":84,"./program":92,"./texture":93,"./tile_mask":94,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],91:[function(e,t,n){"use strict";var r=e("../source/pixels_to_tile_units");n.isPatternMissing=function(e,t){if(!e)return!1;var n=t.imageManager.getPattern(e.from),r=t.imageManager.getPattern(e.to);return!n||!r},n.prepare=function(e,t,n){var r=t.context,i=r.gl,o=t.imageManager.getPattern(e.from),a=t.imageManager.getPattern(e.to);i.uniform1i(n.uniforms.u_image,0),i.uniform2fv(n.uniforms.u_pattern_tl_a,o.tl),i.uniform2fv(n.uniforms.u_pattern_br_a,o.br),i.uniform2fv(n.uniforms.u_pattern_tl_b,a.tl),i.uniform2fv(n.uniforms.u_pattern_br_b,a.br);var s=t.imageManager.getPixelSize(),u=s.width,l=s.height;i.uniform2fv(n.uniforms.u_texsize,[u,l]),i.uniform1f(n.uniforms.u_mix,e.t),i.uniform2fv(n.uniforms.u_pattern_size_a,o.displaySize),i.uniform2fv(n.uniforms.u_pattern_size_b,a.displaySize),i.uniform1f(n.uniforms.u_scale_a,e.fromScale),i.uniform1f(n.uniforms.u_scale_b,e.toScale),r.activeTexture.set(i.TEXTURE0),t.imageManager.bind(t.context)},n.setTile=function(e,t,n){var i=t.context.gl;i.uniform1f(n.uniforms.u_tile_units_to_pixels,1/r(e,1,t.transform.tileZoom));var o=Math.pow(2,e.tileID.overscaledZ),a=e.tileSize*Math.pow(2,t.transform.tileZoom)/o,s=a*(e.tileID.canonical.x+e.tileID.wrap*o),u=a*e.tileID.canonical.y;i.uniform2f(n.uniforms.u_pixel_coord_upper,s>>16,u>>16),i.uniform2f(n.uniforms.u_pixel_coord_lower,65535&s,65535&u)}},{"../source/pixels_to_tile_units":104}],92:[function(e,t,n){"use strict";var r=e("../util/browser"),i=e("../shaders"),o=(e("../data/program_configuration").ProgramConfiguration,e("./vertex_array_object")),a=(e("../gl/context"),function(e,t,n,o){var a=this,s=e.gl;this.program=s.createProgram();var u=n.defines().concat("#define DEVICE_PIXEL_RATIO "+r.devicePixelRatio.toFixed(1));o&&u.push("#define OVERDRAW_INSPECTOR;");var l=u.concat(i.prelude.fragmentSource,t.fragmentSource).join("\n"),c=u.concat(i.prelude.vertexSource,t.vertexSource).join("\n"),p=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(p,l),s.compileShader(p),s.attachShader(this.program,p);var f=s.createShader(s.VERTEX_SHADER);s.shaderSource(f,c),s.compileShader(f),s.attachShader(this.program,f);for(var h=n.layoutAttributes||[],d=0;d<h.length;d++)s.bindAttribLocation(a.program,d,h[d].name);s.linkProgram(this.program),this.numAttributes=s.getProgramParameter(this.program,s.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var g=0;g<this.numAttributes;g++){var y=s.getActiveAttrib(a.program,g);y&&(a.attributes[y.name]=s.getAttribLocation(a.program,y.name))}for(var v=s.getProgramParameter(this.program,s.ACTIVE_UNIFORMS),m=0;m<v;m++){var _=s.getActiveUniform(a.program,m);_&&(a.uniforms[_.name]=s.getUniformLocation(a.program,_.name))}});a.prototype.draw=function(e,t,n,r,i,a,s,u,l){for(var c,p=e.gl,f=(c={},c[p.LINES]=2,c[p.TRIANGLES]=3,c)[t],h=0,d=a.get();h<d.length;h+=1){var g=d[h],y=g.vaos||(g.vaos={});(y[n]||(y[n]=new o)).bind(e,this,r,s?s.getPaintVertexBuffers():[],i,g.vertexOffset,u,l),p.drawElements(t,g.primitiveLength*f,p.UNSIGNED_SHORT,g.primitiveOffset*f*2)}},t.exports=a},{"../data/program_configuration":58,"../gl/context":66,"../shaders":97,"../util/browser":252,"./vertex_array_object":95}],93:[function(e,t,n){"use strict";var r=e("../util/window"),i=r.HTMLImageElement,o=r.HTMLCanvasElement,a=r.HTMLVideoElement,s=r.ImageData,u=function(e,t,n,r){this.context=e;var i=t.width,o=t.height;this.size=[i,o],this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};u.prototype.update=function(e,t){var n=e.width,r=e.height;this.size=[n,r];var u=this.context,l=u.gl;l.bindTexture(l.TEXTURE_2D,this.texture),u.pixelStoreUnpack.set(1),this.format===l.RGBA&&!1!==t&&u.pixelStoreUnpackPremultiplyAlpha.set(!0),e instanceof i||e instanceof o||e instanceof a||e instanceof s?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,e):l.texImage2D(l.TEXTURE_2D,0,this.format,n,r,0,this.format,l.UNSIGNED_BYTE,e.data)},u.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},u.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},t.exports=u},{"../util/window":254}],94:[function(e,t,n){"use strict";function r(e,t,n,i,o){for(var s=0;s<n.length;s++){var u=n[s];if(i.isLessThan(u.tileID))break;if(t.key===u.tileID.key)return;if(u.tileID.isChildOf(t)){for(var l=t.children(1/0),c=0;c<l.length;c++)r(e,l[c],n.slice(s),i,o);return}}var p=t.overscaledZ-e.overscaledZ,f=new a(p,t.canonical.x-(e.canonical.x<<p),t.canonical.y-(e.canonical.y<<p));o[f.key]=o[f.key]||f}var i=e("../source/tile_id"),o=i.OverscaledTileID,a=i.CanonicalTileID;t.exports=function(e,t){for(var n=e.sort(function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0}),i=0;i<n.length;i++){var a={},s=n[i],u=n.slice(i+1);r(s.tileID.wrapped(),s.tileID,u,new o(0,s.tileID.wrap+1,0,0,0),a),s.setMask(a,t)}}},{"../source/tile_id":114}],95:[function(e,t,n){"use strict";var r=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};r.prototype.bind=function(e,t,n,r,i,o,a,s){this.context=e;for(var u=this.boundPaintVertexBuffers.length!==r.length,l=0;!u&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(u=!0);var c=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||c?this.freshBind(t,n,r,i,o,a,s):(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},r.prototype.freshBind=function(e,t,n,r,i,o,a){var s,u=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var p=u;p<s;p++)c.disableVertexAttribArray(p)}t.enableAttributes(c,e);for(var f=0,h=n;f<h.length;f+=1)h[f].enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(var d=0,g=n;d<g.length;d+=1){var y=g[d];y.bind(),y.setVertexAttribPointers(c,e,i)}o&&(o.bind(),o.setVertexAttribPointers(c,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,i)),l.currentNumAttributes=u},r.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},t.exports=r},{}],96:[function(e,t,n){"use strict";var r=e("../util/util");n.packUint8ToFloat=function(e,t){return 256*(e=r.clamp(Math.floor(e),0,255))+(t=r.clamp(Math.floor(t),0,255))}},{"../util/util":275}],97:[function(e,t,n){"use strict";var r={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=function(e){var t=r[e],n={};t.fragmentSource=t.fragmentSource.replace(i,function(e,t,r,i,o){return n[o]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"}),t.vertexSource=t.vertexSource.replace(i,function(e,t,r,i,o){var a="float"===i?"vec2":"vec4";return n[o]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\nvarying "+r+" "+i+" "+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+r+" "+a+" a_"+o+";\n#else\nuniform "+r+" "+i+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+r+" "+i+" "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+r+" "+i+" "+o+" = u_"+o+";\n#endif\n"})};for(var a in r)o(a);t.exports=r},{}],98:[function(e,t,n){"use strict";var r=e("./image_source"),i=e("../util/window"),o=e("../data/raster_bounds_attributes"),a=e("../render/vertex_array_object"),s=e("../render/texture"),u=function(e){function t(t,n,r,i){e.call(this,t,n,r,i),this.options=n,this.animate=void 0===n.animate||n.animate}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){this.canvas=this.canvas||i.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero.")):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},t.prototype.getCanvas=function(){return this.canvas},t.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},t.prototype.onRemove=function(){this.pause()},t.prototype.prepare=function(){var e=this,t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?t?this.texture.update(this.canvas):this._playing&&(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.canvas)):(this.texture=new s(n,this.canvas,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),e.tiles){var u=e.tiles[i];"loaded"!==u.state&&(u.state="loaded",u.texture=e.texture)}}},t.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this._playing},t.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},t}(r);t.exports=u},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/window":254,"./image_source":102}],99:[function(e,t,n){"use strict";var r=e("../util/evented"),i=e("../util/util"),o=e("../util/window"),a=e("../data/extent"),s=e("../util/ajax").ResourceType,u=e("../util/browser"),l=function(e){function t(t,n,r,o){e.call(this),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=r,this.setEventedParent(o),this._data=n.data,this._options=i.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var s=a/this.tileSize;this.workerOptions=i.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*s,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*s,extent:a,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a,radius:(n.clusterRadius||50)*s,log:!1}},n.workerOptions)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)e.fire("error",{error:t});else{var n={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire("data",n)}})},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.setData=function(e){var t=this;return this._data=e,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return t.fire("error",{error:e});var n={dataType:"source",sourceDataType:"content"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire("data",n)}),this},t.prototype._updateWorkerData=function(e){var t=this,n=i.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._transformRequest(function(e){var t=o.document.createElement("a");return t.href=e,t.href}(r),s.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n,r){t._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[t.id]&&(t._resourceTiming=r.resourceTiming[t.id].slice(0)),e(n)},this.workerID)},t.prototype.loadTile=function(e,t){var n=this,r=void 0===e.workerID||"expired"===e.state?"loadTile":"reloadTile",i={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:e.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(r,i,function(i,o){return e.unloadVectorData(),e.aborted?t(null):i?t(i):(e.loadVectorData(o,n.map.painter,"reloadTile"===r),t(null))},this.workerID)},t.prototype.abortTile=function(e){e.aborted=!0},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},t.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},t.prototype.serialize=function(){return i.extend({},this._options,{type:this.type,data:this._data})},t.prototype.hasTransition=function(){return!1},t}(r);t.exports=l},{"../data/extent":53,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"../util/window":254}],100:[function(e,t,n){"use strict";function r(e,t){var n=e.source,r=e.tileID.canonical;if(!this._geoJSONIndexes[n])return t(null,null);var i=this._geoJSONIndexes[n].getTile(r.z,r.x,r.y);if(!i)return t(null,null);var o=new s(i.features),a=u(o);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),t(null,{vectorTile:o,rawData:a.buffer})}var i=e("../util/ajax"),o=e("../util/performance"),a=e("geojson-rewind"),s=e("./geojson_wrapper"),u=e("vt-pbf"),l=e("supercluster"),c=e("geojson-vt"),p=function(e){function t(t,n,i){e.call(this,t,n,r),i&&(this.loadGeoJSON=i),this._geoJSONIndexes={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadData=function(e,t){var n=this;this.loadGeoJSON(e,function(r,i){if(r||!i)return t(r);if("object"!=typeof i)return t(new Error("Input data is not a valid GeoJSON object."));a(i,!0);try{n._geoJSONIndexes[e.source]=e.cluster?l(e.superclusterOptions).load(i.features):c(i,e.geojsonVtOptions)}catch(r){return t(r)}n.loaded[e.source]={};var s={};if(e.request&&e.request.collectResourceTiming){var u=o.getEntriesByName(e.request.url);u&&(s.resourceTiming={},s.resourceTiming[e.source]=JSON.parse(JSON.stringify(u)))}t(null,s)})},t.prototype.reloadTile=function(t,n){var r=this.loaded[t.source],i=t.uid;return r&&r[i]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},t.prototype.loadGeoJSON=function(e,t){if(e.request)i.getJSON(e.request,t);else{if("string"!=typeof e.data)return t(new Error("Input data is not a valid GeoJSON object."));try{return t(null,JSON.parse(e.data))}catch(e){return t(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype.removeSource=function(e,t){this._geoJSONIndexes[e.source]&&delete this._geoJSONIndexes[e.source],t()},t}(e("./vector_tile_worker_source"));t.exports=p},{"../util/ajax":251,"../util/performance":268,"./geojson_wrapper":101,"./vector_tile_worker_source":116,"geojson-rewind":15,"geojson-vt":19,supercluster:32,"vt-pbf":34}],101:[function(e,t,n){"use strict";var r=e("@mapbox/point-geometry"),i=e("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,o=e("../data/extent"),a=function(e){this._feature=e,this.extent=o,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};a.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],t=0,n=this._feature.geometry;t<n.length;t+=1){var i=n[t];e.push([new r(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var p=c[l];u.push(new r(p[0],p[1]))}o.push(u)}return o},a.prototype.toGeoJSON=function(e,t,n){return i.call(this,e,t,n)};var s=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=e.length,this._features=e};s.prototype.feature=function(e){return new a(this._features[e])},t.exports=s},{"../data/extent":53,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],102:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("./tile_id").CanonicalTileID,o=e("../geo/lng_lat"),a=e("@mapbox/point-geometry"),s=e("../util/evented"),u=e("../util/ajax"),l=e("../util/browser"),c=e("../data/extent"),p=e("../data/array_types").RasterBoundsArray,f=e("../data/raster_bounds_attributes"),h=e("../render/vertex_array_object"),d=e("../render/texture"),g=function(e){function t(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,u.getImage(this.map._transformRequest(this.url,u.ResourceType.Image),function(t,n){t?e.fire("error",{error:t}):n&&(e.image=l.getImageData(n),e._finishLoading())})},t.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.setCoordinates=function(e){this.coordinates=e;var t=this.map,n=e.map(function(e){return t.transform.locationCoordinate(o.convert(e)).zoomTo(0)}),s=this.centerCoord=r.getCoordinatesCenter(n);s.column=Math.floor(s.column),s.row=Math.floor(s.row),this.tileID=new i(s.zoom,s.column,s.row),this.minzoom=this.maxzoom=s.zoom;var u=n.map(function(e){var t=e.zoomTo(s.zoom);return new a(Math.round((t.column-s.column)*c),Math.round((t.row-s.row)*c))});return this._boundsArray=new p,this._boundsArray.emplaceBack(u[0].x,u[0].y,0,0),this._boundsArray.emplaceBack(u[1].x,u[1].y,c,0),this._boundsArray.emplaceBack(u[3].x,u[3].y,0,c),this._boundsArray.emplaceBack(u[2].x,u[2].y,c,c),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},t.prototype.prepare=function(){var e=this;if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,f.members)),this.boundsVAO||(this.boundsVAO=new h),this.texture||(this.texture=new d(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),e.tiles){var i=e.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=e.texture)}}},t.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},t.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return!1},t}(s);t.exports=g},{"../data/array_types":39,"../data/extent":53,"../data/raster_bounds_attributes":59,"../geo/lng_lat":62,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"./tile_id":114,"@mapbox/point-geometry":4}],103:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/ajax"),o=e("../util/browser"),a=e("../util/mapbox").normalizeSourceURL;t.exports=function(e,t,n){var s=function(e,t){if(e)return n(e);if(t){var i=r.pick(t,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);t.vector_layers&&(i.vectorLayers=t.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(e){return e.id})),n(null,i)}};e.url?i.getJSON(t(a(e.url),i.ResourceType.Source),s):o.frame(function(){return s(null,e)})}},{"../util/ajax":251,"../util/browser":252,"../util/mapbox":267,"../util/util":275}],104:[function(e,t,n){"use strict";var r=e("../data/extent");t.exports=function(e,t,n){return t*(r/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}},{"../data/extent":53}],105:[function(e,t,n){"use strict";function r(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}n.rendered=function(e,t,n,i,o,a,s){var u=e.tilesIn(n);u.sort(r);for(var l=[],c=0,p=u;c<p.length;c+=1){var f=p[c];l.push({wrappedTileID:f.tileID.wrapped().key,queryResults:f.tile.queryRenderedFeatures(t,f.queryGeometry,f.scale,i,a,e.id,s)})}return function(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],p=u[l]=u[l]||{},f=t[l]=t[l]||[],h=0,d=c;h<d.length;h+=1){var g=d[h];p[g.featureIndex]||(p[g.featureIndex]=!0,f.push(g.feature))}}return t}(l)},n.source=function(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,t))}return r}},{}],106:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("../util/util"),o=(e("../util/evented"),e("../util/mapbox").normalizeTileURL),a=e("../util/browser"),s=e("./tile_id").OverscaledTileID,u=function(e){function t(t,n,r,o){e.call(this,t,n,r,o),this.type="raster-dem",this.maxzoom=22,this._options=i.extend({},n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},t.prototype.loadTile=function(e,t){var n=o(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=r.getImage(this.map._transformRequest(n,r.ResourceType.Tile),function(n,r){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(n)e.state="errored",t(n);else if(r){this.map._refreshExpiredTiles&&e.setExpiryData(r),delete r.cacheControl,delete r.expires;var i=a.getImageData(r),o={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:i};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",o,function(n,r){n&&(e.state="errored",t(n)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",t(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},t.prototype._getNeighboringTiles=function(e){var t=e.canonical,n=Math.pow(2,t.z),r=(t.x-1+n)%n,i=0===t.x?e.wrap-1:e.wrap,o=(t.x+1+n)%n,a=t.x+1===n?e.wrap+1:e.wrap,u={};return u[new s(e.overscaledZ,i,t.z,r,t.y).key]={backfilled:!1},u[new s(e.overscaledZ,a,t.z,o,t.y).key]={backfilled:!1},t.y>0&&(u[new s(e.overscaledZ,i,t.z,r,t.y-1).key]={backfilled:!1},u[new s(e.overscaledZ,e.wrap,t.z,t.x,t.y-1).key]={backfilled:!1},u[new s(e.overscaledZ,a,t.z,o,t.y-1).key]={backfilled:!1}),t.y+1<n&&(u[new s(e.overscaledZ,i,t.z,r,t.y+1).key]={backfilled:!1},u[new s(e.overscaledZ,e.wrap,t.z,t.x,t.y+1).key]={backfilled:!1},u[new s(e.overscaledZ,a,t.z,o,t.y+1).key]={backfilled:!1}),u},t.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},t}(e("./raster_tile_source"));t.exports=u},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./raster_tile_source":108,"./tile_id":114}],107:[function(e,t,n){"use strict";var r=e("../data/dem_data").DEMData,i=function(){this.loading={},this.loaded={}};i.prototype.loadTile=function(e,t){var n=e.source,i=e.uid;this.loading[n]||(this.loading[n]={});var o=new r(i);this.loading[n][i]=o,o.loadFromImage(e.rawImageData),delete this.loading[n][i],this.loaded[n]=this.loaded[n]||{},this.loaded[n][i]=o,t(null,o)},i.prototype.removeTile=function(e){var t=this.loaded[e.source],n=e.uid;t&&t[n]&&delete t[n]},t.exports=i},{"../data/dem_data":52}],108:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/ajax"),o=e("../util/evented"),a=e("./load_tilejson"),s=e("../util/mapbox").normalizeTileURL,u=e("./tile_bounds"),l=e("../render/texture"),c=function(e){function t(t,n,i,o){e.call(this),this.id=t,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({},n),r.extend(this,r.pick(n,["url","scheme","tileSize"]))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(t,n){t?e.fire("error",t):n&&(r.extend(e,n),n.bounds&&(e.tileBounds=new u(n.bounds,e.minzoom,e.maxzoom)),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.serialize=function(){return r.extend({},this._options)},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},t.prototype.loadTile=function(e,t){var n=this,r=s(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=i.getImage(this.map._transformRequest(r,i.ResourceType.Tile),function(r,i){if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(r)e.state="errored",t(r);else if(i){n.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=n.map.painter.context,a=o.gl;e.texture=n.map.painter.getTileTexture(i.width),e.texture?(e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,i)):(e.texture=new l(o,i,a.RGBA),e.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),e.state="loaded",t(null)}})},t.prototype.abortTile=function(e,t){e.request&&(e.request.abort(),delete e.request),t()},t.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},t.prototype.hasTransition=function(){return!1},t}(o);t.exports=c},{"../render/texture":93,"../util/ajax":251,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],109:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("../util/evented"),o=e("../util/window"),a=!1,s=null;t.exports.evented=new i,t.exports.registerForPluginAvailability=function(e){return s?e({pluginBlobURL:s,errorCallback:t.exports.errorCallback}):t.exports.evented.once("pluginAvailable",e),e},t.exports.createBlobURL=function(e){return o.URL.createObjectURL(new o.Blob([e.data],{type:"text/javascript"}))},t.exports.clearRTLTextPlugin=function(){a=!1,s=null},t.exports.setRTLTextPlugin=function(e,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,t.exports.errorCallback=n,r.getArrayBuffer({url:e},function(e,r){e?n(e):r&&(s=t.exports.createBlobURL(r),t.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})},t.exports.applyArabicShaping=null,t.exports.processBidirectionalText=null},{"../util/ajax":251,"../util/evented":260,"../util/window":254}],110:[function(e,t,n){"use strict";var r=e("../util/util"),i={vector:e("../source/vector_tile_source"),raster:e("../source/raster_tile_source"),"raster-dem":e("../source/raster_dem_tile_source"),geojson:e("../source/geojson_source"),video:e("../source/video_source"),image:e("../source/image_source"),canvas:e("../source/canvas_source")};n.create=function(e,t,n,o){var a=new i[t.type](e,t,n,o);if(a.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+a.id);return r.bindAll(["load","abort","unload","serialize","prepare"],a),a},n.getType=function(e){return i[e]},n.setType=function(e,t){i[e]=t}},{"../source/canvas_source":98,"../source/geojson_source":99,"../source/image_source":102,"../source/raster_dem_tile_source":106,"../source/raster_tile_source":108,"../source/vector_tile_source":115,"../source/video_source":117,"../util/util":275}],111:[function(e,t,n){"use strict";function r(e,t){var n=t.zoomTo(e.canonical.z);return new f((n.column-(e.canonical.x+e.wrap*Math.pow(2,e.canonical.z)))*p,(n.row-e.canonical.y)*p)}function i(e){return"raster"===e||"image"===e||"video"===e}var o=e("./source").create,a=e("./tile"),s=e("../util/evented"),u=e("../util/lru_cache"),l=e("../geo/coordinate"),c=e("../util/util"),p=e("../data/extent"),f=(e("../gl/context"),e("@mapbox/point-geometry")),h=e("../util/browser"),d=e("./tile_id").OverscaledTileID,g=function(e){function t(t,n,r){var i=this;e.call(this),this.id=t,this.dispatcher=r,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=o(t,n,r,this),this._tiles={},this._cache=new u(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},t.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},t.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},t.prototype.getSource=function(){return this._source},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},t.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},t.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},t.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},t.prototype.serialize=function(){return this._source.serialize()},t.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[t].upload(e)},t.prototype.getIds=function(){var e=this;return Object.keys(this._tiles).map(Number).sort(function(t,n){var r=e._tiles[t].tileID,i=e._tiles[n].tileID,o=new f(r.canonical.x,r.canonical.y).rotate(e.transform.angle),a=new f(i.canonical.x,i.canonical.y).rotate(e.transform.angle);return r.overscaledZ-i.overscaledZ||a.y-o.y||a.x-o.x})},t.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},t.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0,{});return!!t&&this._isIdRenderable(t.tileID.key)},t.prototype._isIdRenderable=function(e){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]},t.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._resetCache(),this._tiles)this._reloadTile(e,"reloading")},t.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},t.prototype._tileLoaded=function(e,t,n,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire("error",{tile:e,error:r}):this.update(this.transform));e.timeAdded=h.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._source.fire("data",{dataType:"source",tile:e,coord:e.tileID}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},t.prototype._backfillDEM=function(e){function t(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}for(var n=this.getRenderableIds(),r=0;r<n.length;r++){var i=n[r];if(e.neighboringTiles&&e.neighboringTiles[i]){var o=this.getTileByID(i);t(e,o),t(o,e)}}},t.prototype.getTile=function(e){return this.getTileByID(e.key)},t.prototype.getTileByID=function(e){return this._tiles[e]},t.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},t.prototype._findLoadedChildren=function(e,t,n){var r=this,i=!1;for(var o in r._tiles){var a=r._tiles[o];if(!(n[o]||!a.hasData()||a.tileID.overscaledZ<=e.overscaledZ||a.tileID.overscaledZ>t)){var s=Math.pow(2,a.tileID.canonical.z-e.canonical.z);if(Math.floor(a.tileID.canonical.x/s)===e.canonical.x&&Math.floor(a.tileID.canonical.y/s)===e.canonical.y)for(n[o]=a.tileID,i=!0;a&&a.tileID.overscaledZ-1>e.overscaledZ;){var u=a.tileID.scaledTo(a.tileID.overscaledZ-1);if(!u)break;(a=r._tiles[u.key])&&a.hasData()&&(delete n[o],n[u.key]=u)}}}return i},t.prototype.findLoadedParent=function(e,t,n){for(var r=this,i=e.overscaledZ-1;i>=t;i--){var o=e.scaledTo(i);if(!o)return;var a=String(o.key),s=r._tiles[a];if(s&&s.hasData())return n[a]=o,s;if(r._cache.has(a))return n[a]=o,r._cache.get(a)}},t.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),n=Math.floor(5*t),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},t.prototype.update=function(e){var n=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(e),this._coveredTiles={},this.used?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new d(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(e){return n._source.hasTile(e)}))):r=[];var o,a=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),s=Math.max(a-t.maxOverzooming,this._source.minzoom),u=Math.max(a+t.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(r,a),p={};if(i(this._source.type))for(var f=Object.keys(l),g=0;g<f.length;g++){var y=f[g],v=l[y],m=n._tiles[y];if(m&&(void 0===m.fadeEndTime||m.fadeEndTime>=h.now())){n._findLoadedChildren(v,u,l)&&(l[y]=v);var _=n.findLoadedParent(v,s,p);_&&n._addTile(_.tileID)}}for(o in p)l[o]||(n._coveredTiles[o]=!0);for(o in p)l[o]=p[o];for(var A=c.keysDifference(this._tiles,l),b=0;b<A.length;b++)n._removeTile(A[b])}},t.prototype._updateRetainedTiles=function(e,n){for(var r=this,i={},o={},a=Math.max(n-t.maxOverzooming,this._source.minzoom),s=Math.max(n+t.maxUnderzooming,this._source.minzoom),u=0;u<e.length;u++){var l=e[u],c=r._addTile(l),p=!1;if(c.hasData())i[l.key]=l;else{p=c.wasRequested(),i[l.key]=l;var f=!0;if(n+1>r._source.maxzoom){var h=l.children(r._source.maxzoom)[0],d=r.getTile(h);d&&d.hasData()?i[h.key]=h:f=!1}else{r._findLoadedChildren(l,s,i);for(var g=l.children(r._source.maxzoom),y=0;y<g.length;y++)if(!i[g[y].key]){f=!1;break}}if(!f)for(var v=l.overscaledZ-1;v>=a;--v){var m=l.scaledTo(v);if(o[m.key])break;if(o[m.key]=!0,!(c=r.getTile(m))&&p&&(c=r._addTile(m)),c&&(i[m.key]=m,p=c.wasRequested(),c.hasData()))break}}}return i},t.prototype._addTile=function(e){var t=this._tiles[e.key];if(t)return t;(t=this._cache.getAndRemove(e.key))&&this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t));var n=Boolean(t);return n||(t=new a(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))),t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire("dataloading",{tile:t,coord:t.tileID,dataType:"source"}),t):null},t.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(function(){n._reloadTile(e,"expired"),delete n._timers[e]},r))},t.prototype._setCacheInvalidationTimer=function(e,t){var n=this;e in this._cacheTimers&&(clearTimeout(this._cacheTimers[e]),delete this._cacheTimers[e]);var r=t.getExpiryTimeout();r&&(this._cacheTimers[e]=setTimeout(function(){n._cache.remove(e),delete n._cacheTimers[e]},r))},t.prototype._removeTile=function(e){var t=this._tiles[e];if(t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),!(t.uses>0)))if(t.hasData()){t.tileID=t.tileID.wrapped();var n=t.tileID.key;this._cache.add(n,t),this._setCacheInvalidationTimer(n,t)}else t.aborted=!0,this._abortTile(t),this._unloadTile(t)},t.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._resetCache()},t.prototype._resetCache=function(){for(var e in this._cacheTimers)clearTimeout(this._cacheTimers[e]);this._cacheTimers={},this._cache.reset()},t.prototype.tilesIn=function(e){for(var t=[],n=this.getIds(),i=1/0,o=1/0,a=-1/0,s=-1/0,u=e[0].zoom,c=0;c<e.length;c++){var f=e[c];i=Math.min(i,f.column),o=Math.min(o,f.row),a=Math.max(a,f.column),s=Math.max(s,f.row)}for(var h=0;h<n.length;h++){var d=this._tiles[n[h]],g=d.tileID,y=[r(g,new l(i,o,u)),r(g,new l(a,s,u))];if(y[0].x<p&&y[0].y<p&&y[1].x>=0&&y[1].y>=0){for(var v=[],m=0;m<e.length;m++)v.push(r(g,e[m]));t.push({tile:d,tileID:g,queryGeometry:[v],scale:Math.pow(2,this.transform.zoom-d.tileID.overscaledZ)})}}return t},t.prototype.getVisibleCoordinates=function(){for(var e=this,t=this.getRenderableIds().map(function(t){return e._tiles[t].tileID}),n=0,r=t;n<r.length;n+=1){var i=r[n];i.posMatrix=e.transform.calculatePosMatrix(i.toUnwrapped())}return t},t.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(i(this._source.type))for(var e in this._tiles){var t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=h.now())return!0}return!1},t}(s);g.maxOverzooming=10,g.maxUnderzooming=3,t.exports=g},{"../data/extent":53,"../geo/coordinate":61,"../gl/context":66,"../util/browser":252,"../util/evented":260,"../util/lru_cache":266,"../util/util":275,"./source":110,"./tile":112,"./tile_id":114,"@mapbox/point-geometry":4}],112:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../data/bucket").deserialize,o=(e("../data/feature_index"),e("@mapbox/vector-tile")),a=e("pbf"),s=e("../util/vectortile_to_geojson"),u=e("../style-spec/feature_filter"),l=(e("../symbol/collision_index"),e("../data/bucket/symbol_bucket")),c=e("../data/array_types"),p=c.RasterBoundsArray,f=c.CollisionBoxArray,h=e("../data/raster_bounds_attributes"),d=e("../data/extent"),g=e("@mapbox/point-geometry"),y=e("../render/texture"),v=e("../data/segment").SegmentVector,m=e("../data/index_array_type").TriangleIndexArray,_=e("../util/browser"),A=function(e,t){this.tileID=e,this.uid=r.uniqueId(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};A.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<_.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},A.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},A.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){if(e.rawTileData&&(this.rawTileData=e.rawTileData),this.collisionBoxArray=e.collisionBoxArray,this.featureIndex=e.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=i(e.buckets,t.style),n)for(var r in this.buckets){var o=this.buckets[r];o instanceof l&&(o.justReloaded=!0)}e.iconAtlasImage&&(this.iconAtlasImage=e.iconAtlasImage),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new f},A.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},A.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},A.prototype.getBucket=function(e){return this.buckets[e.id]},A.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploaded||(n.upload(e),n.uploaded=!0)}var r=e.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new y(e,this.iconAtlasImage,r.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new y(e,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},A.prototype.queryRenderedFeatures=function(e,t,n,r,i,o,a){if(!this.featureIndex||!this.collisionBoxArray)return{};var s=0,u={};for(var c in e){var p=this.getBucket(e[c]);p&&(s=Math.max(s,e[c].queryRadius(p)),p instanceof l&&void 0!==p.bucketInstanceId&&(u[p.bucketInstanceId]=!0))}return this.featureIndex.query({queryGeometry:t,scale:n,tileSize:this.tileSize,bearing:i,params:r,additionalRadius:s,collisionBoxArray:this.collisionBoxArray,sourceID:o,collisionIndex:a,bucketInstanceIds:u},e)},A.prototype.querySourceFeatures=function(e,t){if(this.rawTileData){this.vtLayers||(this.vtLayers=new o.VectorTile(new a(this.rawTileData)).layers);var n=t?t.sourceLayer:"",r=this.vtLayers._geojsonTileLayer||this.vtLayers[n];if(r)for(var i=u(t&&t.filter),l={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},c=0;c<r.length;c++){var p=r.feature(c);if(i({zoom:this.tileID.overscaledZ},p)){var f=new s(p,l.z,l.x,l.y);f.tile=l,e.push(f)}}}},A.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},A.prototype.setMask=function(e,t){if(!r.deepEqual(this.mask,e)&&(this.mask=e,this.clearMask(),!r.deepEqual(e,{0:!0}))){var n=new p,i=new m;this.segments=new v,this.segments.prepareSegment(0,n,i);for(var o=Object.keys(e),a=0;a<o.length;a++){var s=e[o[a]],u=d>>s.z,l=new g(s.x*u,s.y*u),c=new g(l.x+u,l.y+u),f=this.segments.prepareSegment(4,n,i);n.emplaceBack(l.x,l.y,l.x,l.y),n.emplaceBack(c.x,l.y,c.x,l.y),n.emplaceBack(l.x,c.y,l.x,c.y),n.emplaceBack(c.x,c.y,c.x,c.y);var y=f.vertexLength;i.emplaceBack(y,y+1,y+2),i.emplaceBack(y+1,y+2,y+3),f.vertexLength+=4,f.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(n,h.members),this.maskedIndexBuffer=t.createIndexBuffer(i)}},A.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},A.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=r.parseCacheControl(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var i=Date.now(),o=!1;if(this.expirationTime>i)o=!1;else if(t)if(this.expirationTime<t)o=!0;else{var a=this.expirationTime-t;a?this.expirationTime=i+Math.max(a,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},A.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},t.exports=A},{"../data/array_types":39,"../data/bucket":40,"../data/bucket/symbol_bucket":51,"../data/extent":53,"../data/feature_index":54,"../data/index_array_type":55,"../data/raster_bounds_attributes":59,"../data/segment":60,"../render/texture":93,"../style-spec/feature_filter":148,"../symbol/collision_index":217,"../util/browser":252,"../util/util":275,"../util/vectortile_to_geojson":276,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,pbf:30}],113:[function(e,t,n){"use strict";var r=e("../geo/lng_lat_bounds"),i=e("../util/util").clamp,o=function(e,t,n){this.bounds=r.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=n||24};o.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},o.prototype.contains=function(e){var t=Math.floor(this.lngX(this.bounds.getWest(),e.z)),n=Math.floor(this.latY(this.bounds.getNorth(),e.z)),r=Math.ceil(this.lngX(this.bounds.getEast(),e.z)),i=Math.ceil(this.latY(this.bounds.getSouth(),e.z));return e.x>=t&&e.x<r&&e.y>=n&&e.y<i},o.prototype.lngX=function(e,t){return(e+180)*(Math.pow(2,t)/360)},o.prototype.latY=function(e,t){var n=i(Math.sin(Math.PI/180*e),-.9999,.9999),r=Math.pow(2,t)/(2*Math.PI);return Math.pow(2,t-1)+.5*Math.log((1+n)/(1-n))*-r},t.exports=o},{"../geo/lng_lat_bounds":63,"../util/util":275}],114:[function(e,t,n){"use strict";function r(e,t,n,r){(e*=2)<0&&(e=-1*e-1);var i=1<<t;return 32*(i*i*e+i*r+n)+t}var i=e("@mapbox/whoots-js"),o=e("../util/web_worker_transfer").register,a=e("../geo/coordinate"),s=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=r(0,e,t,n)};s.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},s.prototype.url=function(e,t){var n=i.getTileBBox(this.x,this.y,this.z),r=function(e,t,n){for(var r,i="",o=e;o>0;o--)i+=(t&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)};var u=function(e,t){this.wrap=e,this.canonical=t,this.key=r(e,t.z,t.x,t.y)},l=function(e,t,n,i,o){this.overscaledZ=e,this.wrap=t,this.canonical=new s(n,+i,+o),this.key=r(t,e,i,o)};l.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new l(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new l(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},l.prototype.isChildOf=function(e){var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},l.prototype.children=function(e){if(this.overscaledZ>=e)return[new l(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new l(t,this.wrap,t,n,r),new l(t,this.wrap,t,n+1,r),new l(t,this.wrap,t,n,r+1),new l(t,this.wrap,t,n+1,r+1)]},l.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},l.prototype.wrapped=function(){return new l(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},l.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},l.prototype.toUnwrapped=function(){return new u(this.wrap,this.canonical)},l.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},l.prototype.toCoordinate=function(){return new a(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},o("CanonicalTileID",s),o("OverscaledTileID",l,{omit:["posMatrix"]}),t.exports={CanonicalTileID:s,OverscaledTileID:l,UnwrappedTileID:u}},{"../geo/coordinate":61,"../util/web_worker_transfer":278,"@mapbox/whoots-js":12}],115:[function(e,t,n){"use strict";var r=e("../util/evented"),i=e("../util/util"),o=e("./load_tilejson"),a=e("../util/mapbox").normalizeTileURL,s=e("./tile_bounds"),u=e("../util/ajax").ResourceType,l=e("../util/browser"),c=function(e){function t(t,n,r,o){if(e.call(this),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,i.extend(this,i.pick(n,["url","scheme","tileSize"])),this._options=i.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),o(this._options,this.map._transformRequest,function(t,n){t?e.fire("error",t):n&&(i.extend(e,n),n.bounds&&(e.tileBounds=new s(n.bounds,e.minzoom,e.maxzoom)),e.fire("data",{dataType:"source",sourceDataType:"metadata"}),e.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},t.prototype.onAdd=function(e){this.map=e,this.load()},t.prototype.serialize=function(){return i.extend({},this._options)},t.prototype.loadTile=function(e,t){function n(n,r){return e.aborted?t(null):n?t(n):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}var r=e.tileID.overscaleFactor(),i=a(e.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(i,u.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*r,type:this.type,source:this.id,pixelRatio:l.devicePixelRatio,overscaling:r,showCollisionBoxes:this.map.showCollisionBoxes};o.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",o,n.bind(this)):"loading"===e.state?e.reloadCallback=t:this.dispatcher.send("reloadTile",o,n.bind(this),e.workerID)},t.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},t.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},t.prototype.hasTransition=function(){return!1},t}(r);t.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],116:[function(e,t,n){"use strict";function r(e,t){var n=i.getArrayBuffer(e.request,function(e,n){e?t(e):n&&t(null,{vectorTile:new o.VectorTile(new a(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.abort(),t()}}var i=e("../util/ajax"),o=e("@mapbox/vector-tile"),a=e("pbf"),s=e("./worker_tile"),u=e("../util/util"),l=e("../util/performance"),c=function(e,t,n){this.actor=e,this.layerIndex=t,this.loadVectorData=n||r,this.loading={},this.loaded={}};c.prototype.loadTile=function(e,t){var n=this,r=e.source,i=e.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(e);o.abort=this.loadVectorData(e,function(a,s){if(delete n.loading[r][i],a||!s)return t(a);var c=s.rawData,p={};s.expires&&(p.expires=s.expires),s.cacheControl&&(p.cacheControl=s.cacheControl);var f={};if(e.request&&e.request.collectResourceTiming){var h=l.getEntriesByName(e.request.url);h&&(f.resourceTiming=JSON.parse(JSON.stringify(h)))}o.vectorTile=s.vectorTile,o.parse(s.vectorTile,n.layerIndex,n.actor,function(e,n){if(e||!n)return t(e);t(null,u.extend({rawTileData:c.slice(0)},n,p,f))}),n.loaded[r]=n.loaded[r]||{},n.loaded[r][i]=o})},c.prototype.reloadTile=function(e,t){var n=this.loaded[e.source],r=e.uid,i=this;if(n&&n[r]){var o=n[r];o.showCollisionBoxes=e.showCollisionBoxes,"parsing"===o.status?o.reloadCallback=t:"done"===o.status&&o.parse(o.vectorTile,this.layerIndex,this.actor,function(e,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,i.layerIndex,i.actor,r)}t(e,n)}.bind(o))}},c.prototype.abortTile=function(e,t){var n=this.loading[e.source],r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},c.prototype.removeTile=function(e,t){var n=this.loaded[e.source],r=e.uid;n&&n[r]&&delete n[r],t()},t.exports=c},{"../util/ajax":251,"../util/performance":268,"../util/util":275,"./worker_tile":119,"@mapbox/vector-tile":8,pbf:30}],117:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("./image_source"),o=e("../data/raster_bounds_attributes"),a=e("../render/vertex_array_object"),s=e("../render/texture"),u=function(e){function t(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.load=function(){var e=this,t=this.options;this.urls=t.urls,r.getVideo(t.urls,function(t,n){t?e.fire("error",{error:t}):n&&(e.video=n,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map._rerender()}),e.map&&e.video.play(),e._finishLoading())})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){var e=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new s(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),e.tiles){var i=e.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=e.texture)}}},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t.prototype.hasTransition=function(){return this.video&&!this.video.paused},t}(i);t.exports=u},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"./image_source":102}],118:[function(e,t,n){"use strict";var r=e("../util/actor"),i=e("../style/style_layer_index"),o=e("./vector_tile_worker_source"),a=e("./raster_dem_tile_worker_source"),s=e("./geojson_worker_source"),u=e("./rtl_text_plugin"),l=function(e){var t=this;this.self=e,this.actor=new r(e,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,n){if(t.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');t.workerSourceTypes[e]=n},this.self.registerRTLTextPlugin=function(e){if(u.applyArabicShaping||u.processBidirectionalText)throw new Error("RTL text plugin already registered.");u.applyArabicShaping=e.applyArabicShaping,u.processBidirectionalText=e.processBidirectionalText}};l.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},l.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},l.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type).loadTile(t,n)},l.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e).loadTile(t,n)},l.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type).reloadTile(t,n)},l.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type).abortTile(t,n)},l.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type).removeTile(t,n)},l.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e).removeTile(t)},l.prototype.removeSource=function(e,t,n){var r=this.getWorkerSource(e,t.type);void 0!==r.removeSource?r.removeSource(t,n):n()},l.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e)}},l.prototype.loadRTLTextPlugin=function(e,t,n){try{u.applyArabicShaping||u.processBidirectionalText||(this.self.importScripts(t),u.applyArabicShaping&&u.processBidirectionalText||n(new Error("RTL Text Plugin failed to import scripts from "+t)))}catch(e){n(e)}},l.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t},l.prototype.getWorkerSource=function(e,t){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),!this.workerSources[e][t]){var r={send:function(t,r,i){n.actor.send(t,r,i,e)}};this.workerSources[e][t]=new this.workerSourceTypes[t](r,this.getLayerIndex(e))}return this.workerSources[e][t]},l.prototype.getDEMWorkerSource=function(e){return this.demWorkerSources[e]||(this.demWorkerSources[e]=new a),this.demWorkerSources[e]},t.exports=function(e){return new l(e)}},{"../style/style_layer_index":210,"../util/actor":250,"./geojson_worker_source":100,"./raster_dem_tile_worker_source":107,"./rtl_text_plugin":109,"./vector_tile_worker_source":116}],119:[function(e,t,n){"use strict";function r(e,t){for(var n=new f(t),r=0,i=e;r<i.length;r+=1)i[r].recalculate(n)}var i=e("../data/feature_index"),o=e("../symbol/symbol_layout").performSymbolLayout,a=e("../data/array_types").CollisionBoxArray,s=e("../util/dictionary_coder"),u=e("../data/bucket/symbol_bucket"),l=e("../util/util"),c=e("../render/image_atlas").makeImageAtlas,p=e("../render/glyph_atlas").makeGlyphAtlas,f=e("../style/evaluation_parameters"),h=e("./tile_id").OverscaledTileID,d=function(e){this.tileID=new h(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming};d.prototype.parse=function(e,t,n,f){function h(){if(P)return f(P);if(k&&O){var e=p(k),t=c(O);for(var n in v){var i=v[n];i instanceof u&&(r(i.layers,this.zoom),o(i,k,e.positions,O,t.positions,this.showCollisionBoxes))}this.status="done",f(null,{buckets:l.values(v).filter(function(e){return!e.isEmpty()}),featureIndex:y,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,iconAtlasImage:t.image})}}var d=this;this.status="parsing",this.data=e,this.collisionBoxArray=new a;var g=new s(Object.keys(e.layers).sort()),y=new i(this.tileID,this.overscaling);y.bucketLayerIDs=[];var v={},m={featureIndex:y,iconDependencies:{},glyphDependencies:{}},_=t.familiesBySource[this.source];for(var A in _){var b=e.layers[A];if(b){1===b.version&&l.warnOnce('Vector tile source "'+d.source+'" layer "'+A+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=g.encode(A),w=[],E=0;E<b.length;E++){var T=b.feature(E);w.push({feature:T,index:E,sourceLayerIndex:x})}for(var M=0,S=_[A];M<S.length;M+=1){var C=S[M],I=C[0];I.minzoom&&d.zoom<Math.floor(I.minzoom)||I.maxzoom&&d.zoom>=I.maxzoom||"none"===I.visibility||(r(C,d.zoom),(v[I.id]=I.createBucket({index:y.bucketLayerIDs.length,layers:C,zoom:d.zoom,pixelRatio:d.pixelRatio,overscaling:d.overscaling,collisionBoxArray:d.collisionBoxArray})).populate(w,m),y.bucketLayerIDs.push(C.map(function(e){return e.id})))}}}var P,k,O,L=l.mapObject(m.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(L).length?n.send("getGlyphs",{uid:this.uid,stacks:L},function(e,t){P||(P=e,k=t,h.call(d))}):k={};var R=Object.keys(m.iconDependencies);R.length?n.send("getImages",{icons:R},function(e,t){P||(P=e,O=t,h.call(d))}):O={},h.call(this)},t.exports=d},{"../data/array_types":39,"../data/bucket/symbol_bucket":51,"../data/feature_index":54,"../render/glyph_atlas":85,"../render/image_atlas":87,"../style/evaluation_parameters":182,"../symbol/symbol_layout":227,"../util/dictionary_coder":257,"../util/util":275,"./tile_id":114}],120:[function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)"ref"!==r&&(n[r]=e[r]);return i.forEach(function(e){e in t&&(n[e]=t[e])}),n}var i=e("./util/ref_properties");t.exports=function(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=r(e[i],t[e[i].ref]));return e}},{"./util/ref_properties":159}],121:[function(e,t,n){"use strict";function r(e,t,n){n.push({command:p.addSource,args:[e,t[e]]})}function i(e,t,n){t.push({command:p.removeSource,args:[e]}),n[e]=!0}function o(e,t,n,o){i(e,n,o),r(e,t,n)}function a(e,t,n){var r;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!c(e[n][r],t[n][r]))return!1;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!c(e[n][r],t[n][r]))return!1;return!0}function s(e,t,n,r,i,o){var a;for(a in e=e||{},t=t||{},e)e.hasOwnProperty(a)&&(c(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}));for(a in t)t.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(c(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}))}function u(e){return e.id}function l(e,t){return e[t.id]=t,e}var c=e("./util/deep_equal"),p={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};t.exports=function(e,t){if(!e)return[{command:p.setStyle,args:[t]}];var n=[];try{if(!c(e.version,t.version))return[{command:p.setStyle,args:[t]}];c(e.center,t.center)||n.push({command:p.setCenter,args:[t.center]}),c(e.zoom,t.zoom)||n.push({command:p.setZoom,args:[t.zoom]}),c(e.bearing,t.bearing)||n.push({command:p.setBearing,args:[t.bearing]}),c(e.pitch,t.pitch)||n.push({command:p.setPitch,args:[t.pitch]}),c(e.sprite,t.sprite)||n.push({command:p.setSprite,args:[t.sprite]}),c(e.glyphs,t.glyphs)||n.push({command:p.setGlyphs,args:[t.glyphs]}),c(e.transition,t.transition)||n.push({command:p.setTransition,args:[t.transition]}),c(e.light,t.light)||n.push({command:p.setLight,args:[t.light]});var f={},h=[];!function(e,t,n,s){var u;for(u in e=e||{},t=t||{},e)e.hasOwnProperty(u)&&(t.hasOwnProperty(u)||i(u,n,s));for(u in t)t.hasOwnProperty(u)&&(e.hasOwnProperty(u)?c(e[u],t[u])||("geojson"===e[u].type&&"geojson"===t[u].type&&a(e,t,u)?n.push({command:p.setGeoJSONSourceData,args:[u,t[u].data]}):o(u,t,n,s)):r(u,t,n))}(e.sources,t.sources,h,f);var d=[];e.layers&&e.layers.forEach(function(e){f[e.source]?n.push({command:p.removeLayer,args:[e.id]}):d.push(e)}),n=n.concat(h),function(e,t,n){e=e||[],t=t||[];var r,i,o,a,f,h,d,g=e.map(u),y=t.map(u),v=e.reduce(l,{}),m=t.reduce(l,{}),_=g.slice(),A=Object.create(null);for(r=0,i=0;r<g.length;r++)o=g[r],m.hasOwnProperty(o)?i++:(n.push({command:p.removeLayer,args:[o]}),_.splice(_.indexOf(o,i),1));for(r=0,i=0;r<y.length;r++)o=y[y.length-1-r],_[_.length-1-r]!==o&&(v.hasOwnProperty(o)?(n.push({command:p.removeLayer,args:[o]}),_.splice(_.lastIndexOf(o,_.length-i),1)):i++,h=_[_.length-r],n.push({command:p.addLayer,args:[m[o],h]}),_.splice(_.length-r,0,o),A[o]=!0);for(r=0;r<y.length;r++)if(a=v[o=y[r]],f=m[o],!A[o]&&!c(a,f))if(c(a.source,f.source)&&c(a["source-layer"],f["source-layer"])&&c(a.type,f.type)){for(d in s(a.layout,f.layout,n,o,null,p.setLayoutProperty),s(a.paint,f.paint,n,o,null,p.setPaintProperty),c(a.filter,f.filter)||n.push({command:p.setFilter,args:[o,f.filter]}),c(a.minzoom,f.minzoom)&&c(a.maxzoom,f.maxzoom)||n.push({command:p.setLayerZoomRange,args:[o,f.minzoom,f.maxzoom]}),a)a.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?s(a[d],f[d],n,o,d.slice(6),p.setPaintProperty):c(a[d],f[d])||n.push({command:p.setLayerProperty,args:[o,d,f[d]]}));for(d in f)f.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?s(a[d],f[d],n,o,d.slice(6),p.setPaintProperty):c(a[d],f[d])||n.push({command:p.setLayerProperty,args:[o,d,f[d]]}))}else n.push({command:p.removeLayer,args:[o]}),h=_[_.lastIndexOf(o)+1],n.push({command:p.addLayer,args:[f,h]})}(d,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:p.setStyle,args:[t]}]}return n},t.exports.operations=p},{"./util/deep_equal":155}],122:[function(e,t,n){"use strict";t.exports=function(e,t,n){this.message=(e?e+": ":"")+n,null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)}},{}],123:[function(e,t,n){"use strict";var r=e("./types").toString,i=e("./parsing_context"),o=(e("./evaluation_context"),function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r});o.prototype.evaluate=function(e){return this._evaluate(e,this.args)},o.prototype.eachChild=function(e){this.args.forEach(e)},o.prototype.possibleOutputs=function(){return[void 0]},o.parse=function(e,t){var n=e[0],a=o.definitions[n];if(!a)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var s=Array.isArray(a)?a[0]:a.type,u=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,l=u.filter(function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1}),c=[],p=1;p<e.length;p++){var f=e[p],h=void 0;if(1===l.length){var d=l[0][0];h=Array.isArray(d)?d[p-1]:d.type}var g=t.parse(f,1+c.length,h);if(!g)return null;c.push(g)}for(var y=null,v=0,m=l;v<m.length;v+=1){var _=m[v],A=_[0],b=_[1];if(y=new i(t.registry,t.path,null,t.scope),Array.isArray(A)&&A.length!==c.length)y.error("Expected "+A.length+" arguments, but found "+c.length+" instead.");else{for(var x=0;x<c.length;x++){var w=Array.isArray(A)?A[x]:A.type,E=c[x];y.concat(x+1).checkSubtype(w,E.type)}if(0===y.errors.length)return new o(n,s,b,c)}}if(1===l.length)t.errors.push.apply(t.errors,y.errors);else{var T=(l.length?l:u).map(function(e){return function(e){return Array.isArray(e)?"("+e.map(r).join(", ")+")":"("+r(e.type)+"...)"}(e[0])}).join(" | "),M=c.map(function(e){return r(e.type)}).join(", ");t.error("Expected arguments of type "+T+", but found ("+M+") instead.")}return null},o.register=function(e,t){for(var n in o.definitions=t,t)e[n]=o},t.exports={CompoundExpression:o,varargs:function(e){return{type:e}}}},{"./evaluation_context":138,"./parsing_context":141,"./types":146}],124:[function(e,t,n){"use strict";var r=e("../types"),i=r.toString,o=r.array,a=r.ValueType,s=r.StringType,u=r.NumberType,l=r.BooleanType,c=r.checkSubtype,p=e("../values").typeOf,f=e("../runtime_error"),h={string:s,number:u,boolean:l},d=function(e,t){this.type=e,this.input=t};d.parse=function(e,t){if(e.length<2||e.length>4)return t.error("Expected 1, 2, or 3 arguments, but found "+(e.length-1)+" instead.");var n,r;if(e.length>2){var i=e[1];if("string"!=typeof i||!(i in h))return t.error('The item type argument of "array" must be one of string, number, boolean',1);n=h[i]}else n=a;if(e.length>3){if("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2]))return t.error('The length argument to "array" must be a positive integer literal',2);r=e[2]}var s=o(n,r),u=t.parse(e[e.length-1],e.length-1,a);return u?new d(s,u):null},d.prototype.evaluate=function(e){var t=this.input.evaluate(e);if(c(this.type,p(t)))throw new f("Expected value to be of type "+i(this.type)+", but found "+i(p(t))+" instead.");return t},d.prototype.eachChild=function(e){e(this.input)},d.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},t.exports=d},{"../runtime_error":143,"../types":146,"../values":147}],125:[function(e,t,n){"use strict";var r=e("../types"),i=r.ObjectType,o=r.ValueType,a=r.StringType,s=r.NumberType,u=r.BooleanType,l=e("../runtime_error"),c=e("../types"),p=c.checkSubtype,f=c.toString,h=e("../values").typeOf,d={string:a,number:s,boolean:u,object:i},g=function(e,t){this.type=e,this.args=t};g.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");for(var n=e[0],r=d[n],i=[],a=1;a<e.length;a++){var s=t.parse(e[a],a,o);if(!s)return null;i.push(s)}return new g(r,i)},g.prototype.evaluate=function(e){for(var t=this,n=0;n<this.args.length;n++){var r=t.args[n].evaluate(e);if(!p(t.type,h(r)))return r;if(n===t.args.length-1)throw new l("Expected value to be of type "+f(t.type)+", but found "+f(h(r))+" instead.")}return null},g.prototype.eachChild=function(e){this.args.forEach(e)},g.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},t.exports=g},{"../runtime_error":143,"../types":146,"../values":147}],126:[function(e,t,n){"use strict";var r=e("../types"),i=r.array,o=r.ValueType,a=r.NumberType,s=e("../runtime_error"),u=function(e,t,n){this.type=e,this.index=t,this.input=n};u.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,a),r=t.parse(e[2],2,i(t.expectedType||o));if(!n||!r)return null;var s=r.type;return new u(s.itemType,n,r)},u.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0||t>=n.length)throw new s("Array index out of bounds: "+t+" > "+n.length+".");if(t!==Math.floor(t))throw new s("Array index must be an integer, but found "+t+" instead.");return n[t]},u.prototype.eachChild=function(e){e(this.index),e(this.input)},u.prototype.possibleOutputs=function(){return[void 0]},t.exports=u},{"../runtime_error":143,"../types":146}],127:[function(e,t,n){"use strict";var r=e("../types").BooleanType,i=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};i.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var o=[],a=1;a<e.length-1;a+=2){var s=t.parse(e[a],a,r);if(!s)return null;var u=t.parse(e[a+1],a+1,n);if(!u)return null;o.push([s,u]),n=n||u.type}var l=t.parse(e[e.length-1],e.length-1,n);return l?new i(n,o,l):null},i.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[0],o=r[1];if(i.evaluate(e))return o.evaluate(e)}return this.otherwise.evaluate(e)},i.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[0],o=r[1];e(i),e(o)}e(this.otherwise)},i.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.branches.map(function(e){return e[0],e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},t.exports=i},{"../types":146}],128:[function(e,t,n){"use strict";var r=e("../types"),i=r.checkSubtype,o=r.ValueType,a=function(e,t){this.type=e,this.args=t};a.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,r=t.expectedType;r&&"value"!==r.kind&&(n=r);for(var s=[],u=0,l=e.slice(1);u<l.length;u+=1){var c=l[u],p=t.parse(c,1+s.length,n,void 0,{omitTypeAnnotations:!0});if(!p)return null;n=n||p.type,s.push(p)}return r&&s.some(function(e){return i(r,e.type)})?new a(o,s):new a(n,s)},a.prototype.evaluate=function(e){for(var t=null,n=0,r=this.args;n<r.length&&null===(t=r[n].evaluate(e));n+=1);return t},a.prototype.eachChild=function(e){this.args.forEach(e)},a.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},t.exports=a},{"../types":146}],129:[function(e,t,n){"use strict";var r=e("../types"),i=r.ColorType,o=r.ValueType,a=r.NumberType,s=e("../values"),u=s.Color,l=s.validateRGBA,c=e("../runtime_error"),p={"to-number":a,"to-color":i},f=function(e,t){this.type=e,this.args=t};f.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");for(var n=e[0],r=p[n],i=[],a=1;a<e.length;a++){var s=t.parse(e[a],a,o);if(!s)return null;i.push(s)}return new f(r,i)},f.prototype.evaluate=function(e){if("color"===this.type.kind){for(var t,n,r=0,i=this.args;r<i.length;r+=1)if(n=null,"string"==typeof(t=i[r].evaluate(e))){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":l(t[0],t[1],t[2],t[3])))return new u(t[0]/255,t[1]/255,t[2]/255,t[3]);throw new c(n||"Could not parse color from value '"+("string"==typeof t?t:JSON.stringify(t))+"'")}for(var a=null,s=0,p=this.args;s<p.length;s+=1)if(null!==(a=p[s].evaluate(e))){var f=Number(a);if(!isNaN(f))return f}throw new c("Could not convert "+JSON.stringify(a)+" to number.")},f.prototype.eachChild=function(e){this.args.forEach(e)},f.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}));var e},t.exports=f},{"../runtime_error":143,"../types":146,"../values":147}],130:[function(e,t,n){"use strict";function r(e){return"string"===e.kind||"number"===e.kind||"boolean"===e.kind||"null"===e.kind}function i(e){return function(){function t(e,t){this.type=s,this.lhs=e,this.rhs=t}return t.parse=function(e,n){if(3!==e.length)return n.error("Expected two arguments.");var i=n.parse(e[1],1,a);if(!i)return null;var o=n.parse(e[2],2,a);return o?r(i.type)||r(o.type)?i.type.kind!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind?n.error("Cannot compare "+u(i.type)+" and "+u(o.type)+"."):new t(i,o):n.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+u(i.type)+", "+u(o.type)+") instead."):null},t.prototype.evaluate=function(t){return e(this.lhs.evaluate(t),this.rhs.evaluate(t))},t.prototype.eachChild=function(e){e(this.lhs),e(this.rhs)},t.prototype.possibleOutputs=function(){return[!0,!1]},t}()}var o=e("../types"),a=o.ValueType,s=o.BooleanType,u=e("../types").toString;t.exports={Equals:i(function(e,t){return e===t}),NotEquals:i(function(e,t){return e!==t})}},{"../types":146}],131:[function(e,t,n){"use strict";function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var a=o?o.evaluate(e):1,s=E(n,r,i,a);if(s)throw new C(s);return new w(n/255*a,r/255*a,i/255*a,a)}function i(e,t){return e in t}function o(e,t){var n=t[e];return void 0===n?null:n}function a(e,t){return t[0].evaluate(e).length}function s(e,t){var n=t[0],r=t[1];return n.evaluate(e)<r.evaluate(e)}function u(e,t){var n=t[0],r=t[1];return n.evaluate(e)>r.evaluate(e)}function l(e,t){var n=t[0],r=t[1];return n.evaluate(e)<=r.evaluate(e)}function c(e,t){var n=t[0],r=t[1];return n.evaluate(e)>=r.evaluate(e)}var p=e("../types"),f=p.NumberType,h=p.StringType,d=p.BooleanType,g=p.ColorType,y=p.ObjectType,v=p.ValueType,m=p.ErrorType,_=p.array,A=p.toString,b=e("../values"),x=b.typeOf,w=b.Color,E=b.validateRGBA,T=e("../compound_expression"),M=T.CompoundExpression,S=T.varargs,C=e("../runtime_error"),I=e("./let"),P=e("./var"),k=e("./literal"),O=e("./assertion"),L=e("./array"),R=e("./coercion"),j=e("./at"),N=e("./match"),B=e("./case"),D=e("./step"),F=e("./interpolate"),z=e("./coalesce"),U=e("./equals"),G={"==":U.Equals,"!=":U.NotEquals,array:L,at:j,boolean:O,case:B,coalesce:z,interpolate:F,let:I,literal:k,match:N,number:O,object:O,step:D,string:O,"to-color":R,"to-number":R,var:P};M.register(G,{error:[m,[h],function(e,t){var n=t[0];throw new C(n.evaluate(e))}],typeof:[h,[v],function(e,t){var n=t[0];return A(x(n.evaluate(e)))}],"to-string":[h,[v],function(e,t){var n=t[0],r=typeof(n=n.evaluate(e));return null===n||"string"===r||"number"===r||"boolean"===r?String(n):n instanceof w?n.toString():JSON.stringify(n)}],"to-boolean":[d,[v],function(e,t){var n=t[0];return Boolean(n.evaluate(e))}],"to-rgba":[_(f,4),[g],function(e,t){var n=t[0].evaluate(e),r=n.r,i=n.g,o=n.b,a=n.a;return[255*r/a,255*i/a,255*o/a,a]}],rgb:[g,[f,f,f],r],rgba:[g,[f,f,f,f],r],length:{type:f,overloads:[[[h],a],[[_(v)],a]]},has:{type:d,overloads:[[[h],function(e,t){return i(t[0].evaluate(e),e.properties())}],[[h,y],function(e,t){var n=t[0],r=t[1];return i(n.evaluate(e),r.evaluate(e))}]]},get:{type:v,overloads:[[[h],function(e,t){return o(t[0].evaluate(e),e.properties())}],[[h,y],function(e,t){var n=t[0],r=t[1];return o(n.evaluate(e),r.evaluate(e))}]]},properties:[y,[],function(e){return e.properties()}],"geometry-type":[h,[],function(e){return e.geometryType()}],id:[v,[],function(e){return e.id()}],zoom:[f,[],function(e){return e.globals.zoom}],"heatmap-density":[f,[],function(e){return e.globals.heatmapDensity||0}],"+":[f,S(f),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1)n+=i[r].evaluate(e);return n}],"*":[f,S(f),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1)n*=i[r].evaluate(e);return n}],"-":{type:f,overloads:[[[f,f],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)-r.evaluate(e)}],[[f],function(e,t){return-t[0].evaluate(e)}]]},"/":[f,[f,f],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)/r.evaluate(e)}],"%":[f,[f,f],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)%r.evaluate(e)}],ln2:[f,[],function(){return Math.LN2}],pi:[f,[],function(){return Math.PI}],e:[f,[],function(){return Math.E}],"^":[f,[f,f],function(e,t){var n=t[0],r=t[1];return Math.pow(n.evaluate(e),r.evaluate(e))}],sqrt:[f,[f],function(e,t){var n=t[0];return Math.sqrt(n.evaluate(e))}],log10:[f,[f],function(e,t){var n=t[0];return Math.log10(n.evaluate(e))}],ln:[f,[f],function(e,t){var n=t[0];return Math.log(n.evaluate(e))}],log2:[f,[f],function(e,t){var n=t[0];return Math.log2(n.evaluate(e))}],sin:[f,[f],function(e,t){var n=t[0];return Math.sin(n.evaluate(e))}],cos:[f,[f],function(e,t){var n=t[0];return Math.cos(n.evaluate(e))}],tan:[f,[f],function(e,t){var n=t[0];return Math.tan(n.evaluate(e))}],asin:[f,[f],function(e,t){var n=t[0];return Math.asin(n.evaluate(e))}],acos:[f,[f],function(e,t){var n=t[0];return Math.acos(n.evaluate(e))}],atan:[f,[f],function(e,t){var n=t[0];return Math.atan(n.evaluate(e))}],min:[f,S(f),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[f,S(f),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],"filter-==":[d,[h,v],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[d,[v],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[d,[h],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[d,[h,v],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[d,[v],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[d,[h,v],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[d,[v],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[d,[h,v],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[d,[v],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[d,[h,v],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[d,[v],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[d,[v],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[d,[],function(e){return null!==e.id()}],"filter-type-in":[d,[_(h)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[d,[_(v)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[d,[h,_(v)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[d,[h,_(v)],function(e,t){var n=t[0],r=t[1];return function(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[n.value],r.value,0,r.value.length-1)}],">":{type:d,overloads:[[[f,f],u],[[h,h],u]]},"<":{type:d,overloads:[[[f,f],s],[[h,h],s]]},">=":{type:d,overloads:[[[f,f],c],[[h,h],c]]},"<=":{type:d,overloads:[[[f,f],l],[[h,h],l]]},all:{type:d,overloads:[[[d,d],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)&&r.evaluate(e)}],[S(d),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:d,overloads:[[[d,d],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)||r.evaluate(e)}],[S(d),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[d,[d],function(e,t){return!t[0].evaluate(e)}],upcase:[h,[h],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[h,[h],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[h,S(h),function(e,t){return t.map(function(t){return t.evaluate(e)}).join("")}]}),t.exports=G},{"../compound_expression":123,"../runtime_error":143,"../types":146,"../values":147,"./array":124,"./assertion":125,"./at":126,"./case":127,"./coalesce":128,"./coercion":129,"./equals":130,"./interpolate":132,"./let":133,"./literal":134,"./match":135,"./step":136,"./var":137}],132:[function(e,t,n){"use strict";function r(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var i=e("@mapbox/unitbezier"),o=e("../../util/interpolate"),a=e("../types"),s=a.toString,u=a.NumberType,l=e("../stops").findStopLessThanOrEqualTo,c=function(e,t,n,r){this.type=e,this.interpolation=t,this.input=n,this.labels=[],this.outputs=[];for(var i=0,o=r;i<o.length;i+=1){var a=o[i],s=a[0],u=a[1];this.labels.push(s),this.outputs.push(u)}};c.interpolationFactor=function(e,t,n,o){var a=0;if("exponential"===e.name)a=r(t,e.base,n,o);else if("linear"===e.name)a=r(t,1,n,o);else if("cubic-bezier"===e.name){var s=e.controlPoints;a=new i(s[0],s[1],s[2],s[3]).solve(r(t,1,n,o))}return a},c.parse=function(e,t){var n=e[1],r=e[2],i=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var a=n.slice(1);if(4!==a.length||a.some(function(e){return"number"!=typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,2,u)))return null;var l=[],p=null;t.expectedType&&"value"!==t.expectedType.kind&&(p=t.expectedType);for(var f=0;f<i.length;f+=2){var h=i[f],d=i[f+1],g=f+3,y=f+4;if("number"!=typeof h)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(l.length&&l[l.length-1][0]>=h)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',g);var v=t.parse(d,y,p);if(!v)return null;p=p||v.type,l.push([h,v])}return"number"===p.kind||"color"===p.kind||"array"===p.kind&&"number"===p.itemType.kind&&"number"==typeof p.N?new c(p,n,r,l):t.error("Type "+s(p)+" is not interpolatable.")},c.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var a=l(t,r),s=t[a],u=t[a+1],p=c.interpolationFactor(this.interpolation,r,s,u),f=n[a].evaluate(e),h=n[a+1].evaluate(e);return o[this.type.kind.toLowerCase()](f,h,p)},c.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},c.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},t.exports=c},{"../../util/interpolate":158,"../stops":145,"../types":146,"@mapbox/unitbezier":7}],133:[function(e,t,n){"use strict";var r=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};r.prototype.evaluate=function(e){e.pushScope(this.bindings);var t=this.result.evaluate(e);return e.popScope(),t},r.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},r.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],i=1;i<e.length-1;i+=2){var o=e[i];if("string"!=typeof o)return t.error("Expected string, but found "+typeof o+" instead.",i);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=t.parse(e[i+1],i+1);if(!a)return null;n.push([o,a])}var s=t.parse(e[e.length-1],e.length-1,void 0,n);return s?new r(n,s):null},r.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},t.exports=r},{}],134:[function(e,t,n){"use strict";var r=e("../values"),i=r.isValue,o=r.typeOf,a=function(e,t){this.type=e,this.value=t};a.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!i(e[1]))return t.error("invalid value");var n=e[1],r=o(n),s=t.expectedType;return"array"!==r.kind||0!==r.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(r=s),new a(r,n)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},a.prototype.possibleOutputs=function(){return[this.value]},t.exports=a},{"../values":147}],135:[function(e,t,n){"use strict";var r=e("../values").typeOf,i=function(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};i.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,o;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(var a={},s=[],u=2;u<e.length-1;u+=2){var l=e[u],c=e[u+1];Array.isArray(l)||(l=[l]);var p=t.concat(u);if(0===l.length)return p.error("Expected at least one branch label.");for(var f=0,h=l;f<h.length;f+=1){var d=h[f];if("number"!=typeof d&&"string"!=typeof d)return p.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return p.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return p.error("Numeric branch labels must be integer values.");if(n){if(p.checkSubtype(n,r(d)))return null}else n=r(d);if(void 0!==a[String(d)])return p.error("Branch labels must be unique.");a[String(d)]=s.length}var g=t.parse(c,u,o);if(!g)return null;o=o||g.type,s.push(g)}var y=t.parse(e[1],1,n);if(!y)return null;var v=t.parse(e[e.length-1],e.length-1,o);return v?new i(n,o,y,a,s,v):null},i.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},i.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},i.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var e},t.exports=i},{"../values":147}],136:[function(e,t,n){"use strict";var r=e("../types").NumberType,i=e("../stops").findStopLessThanOrEqualTo,o=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};o.parse=function(e,t){var n=e[1],i=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(n=t.parse(n,1,r)))return null;var a=[],s=null;t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType),i.unshift(-1/0);for(var u=0;u<i.length;u+=2){var l=i[u],c=i[u+1],p=u+1,f=u+2;if("number"!=typeof l)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(a.length&&a[a.length-1][0]>=l)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',p);var h=t.parse(c,f,s);if(!h)return null;s=s||h.type,a.push([l,h])}return new o(s,n,a)},o.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var o=t.length;return r>=t[o-1]?n[o-1].evaluate(e):n[i(t,r)].evaluate(e)},o.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},o.prototype.possibleOutputs=function(){return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}));var e},t.exports=o},{"../stops":145,"../types":146}],137:[function(e,t,n){"use strict";var r=function(e,t){this.type=t,this.name=e};r.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new r(n,t.scope.get(n).type):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},r.prototype.evaluate=function(e){return e.scope.get(this.name).evaluate(e)},r.prototype.eachChild=function(){},r.prototype.possibleOutputs=function(){return[void 0]},t.exports=r},{}],138:[function(e,t,n){"use strict";var r=e("./scope"),i=e("./values").Color,o=["Unknown","Point","LineString","Polygon"],a=function(){this.scope=new r,this._parseColorCache={}};a.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},a.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?o[this.feature.type]:this.feature.type:null},a.prototype.properties=function(){return this.feature&&this.feature.properties||{}},a.prototype.pushScope=function(e){this.scope=this.scope.concat(e)},a.prototype.popScope=function(){this.scope=this.scope.parent},a.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=i.parse(e)),t},t.exports=a},{"./scope":144,"./values":147}],139:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in g}function i(e,t,n){void 0===n&&(n={});var r=new u(g,[],function(e){var t={color:k,string:O,number:L,enum:O,boolean:R};return"array"===e.type?N(t[e.value]||j,e.length):t[e.type]||null}(t)),i=r.parse(e);return i?_(!1===n.handleErrors?new b(i):new x(i,t)):A(r.errors)}function o(e,t,n){if(void 0===n&&(n={}),"error"===(e=i(e,t,n)).result)return e;var r=e.value.expression,o=y.isFeatureConstant(r);if(!o&&!t["property-function"])return A([new s("","property expressions not supported")]);var a=y.isGlobalPropertyConstant(r,["zoom"]);if(!a&&!1===t["zoom-function"])return A([new s("","zoom expressions not supported")]);var u=function e(t){var n=null;if(t instanceof d)n=e(t.result);else if(t instanceof h)for(var r=0,i=t.args;r<i.length;r+=1){var o=i[r];if(n=e(o))break}else(t instanceof p||t instanceof f)&&t.input instanceof c&&"zoom"===t.input.name&&(n=t);return n instanceof s?n:(t.eachChild(function(t){var r=e(t);r instanceof s?n=r:!n&&r?n=new s("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new s("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n)}(r);return u||a?u instanceof s?A([u]):u instanceof f&&"piecewise-constant"===t.function?A([new s("",'"interpolate" expressions cannot be used with this property')]):_(u?new E(o?"camera":"composite",e.value,u):new w(o?"constant":"source",e.value)):A([new s("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var a=e("../util/extend"),s=e("./parsing_error"),u=e("./parsing_context"),l=e("./evaluation_context"),c=e("./compound_expression").CompoundExpression,p=e("./definitions/step"),f=e("./definitions/interpolate"),h=e("./definitions/coalesce"),d=e("./definitions/let"),g=e("./definitions"),y=e("./is_constant"),v=e("./runtime_error"),m=e("../util/result"),_=m.success,A=m.error,b=function(e){this.expression=e};b.prototype.evaluate=function(e,t){return this._evaluator||(this._evaluator=new l),this._evaluator.globals=e,this._evaluator.feature=t,this.expression.evaluate(this._evaluator)};var x=function(e){function t(t,n){e.call(this,t),this._warningHistory={},this._defaultValue=function(e){return"color"===e.type&&M(e.default)?new C(0,0,0,0):"color"===e.type?C.parse(e.default)||null:void 0===e.default?null:e.default}(n),"enum"===n.type&&(this._enumValues=n.values)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.evaluate=function(e,t){this._evaluator||(this._evaluator=new l),this._evaluator.globals=e,this._evaluator.feature=t;try{var n=this.expression.evaluate(this._evaluator);if(null===n||void 0===n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new v("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}},t}(b),w=function(e,t){this.kind=e,this._styleExpression=t};w.prototype.evaluate=function(e,t){return this._styleExpression.evaluate(e,t)};var E=function(e,t,n){this.kind=e,this.zoomStops=n.labels,this._styleExpression=t,n instanceof f&&(this._interpolationType=n.interpolation)};E.prototype.evaluate=function(e,t){return this._styleExpression.evaluate(e,t)},E.prototype.interpolationFactor=function(e,t,n){return this._interpolationType?f.interpolationFactor(this._interpolationType,e,t,n):0};var T=e("../function"),M=T.isFunction,S=T.createFunction,C=e("./values").Color,I=function(e,t){this._parameters=e,this._specification=t,a(this,S(this._parameters,this._specification))};I.deserialize=function(e){return new I(e._parameters,e._specification)},I.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}},t.exports={StyleExpression:b,StyleExpressionWithErrorHandling:x,isExpression:r,createExpression:i,createPropertyExpression:o,normalizePropertyExpression:function(e,t){if(M(e))return new I(e,t);if(r(e)){var n=o(e,t);if("error"===n.result)throw new Error(n.value.map(function(e){return e.key+": "+e.message}).join(", "));return n.value}var i=e;return"string"==typeof e&&"color"===t.type&&(i=C.parse(e)),{kind:"constant",evaluate:function(){return i}}},ZoomConstantExpression:w,ZoomDependentExpression:E,StylePropertyFunction:I};var P=e("./types"),k=P.ColorType,O=P.StringType,L=P.NumberType,R=P.BooleanType,j=P.ValueType,N=P.array},{"../function":149,"../util/extend":156,"../util/result":160,"./compound_expression":123,"./definitions":131,"./definitions/coalesce":128,"./definitions/interpolate":132,"./definitions/let":133,"./definitions/step":136,"./evaluation_context":138,"./is_constant":140,"./parsing_context":141,"./parsing_error":142,"./runtime_error":143,"./types":146,"./values":147}],140:[function(e,t,n){"use strict";var r=e("./compound_expression").CompoundExpression;t.exports={isFeatureConstant:function e(t){if(t instanceof r){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var n=!0;return t.eachChild(function(t){n&&!e(t)&&(n=!1)}),n},isGlobalPropertyConstant:function e(t,n){if(t instanceof r&&n.indexOf(t.name)>=0)return!1;var i=!0;return t.eachChild(function(t){i&&!e(t,n)&&(i=!1)}),i}}},{"./compound_expression":123}],141:[function(e,t,n){"use strict";var r=e("./scope"),i=e("./types").checkSubtype,o=e("./parsing_error"),a=e("./definitions/literal"),s=e("./definitions/assertion"),u=e("./definitions/array"),l=e("./definitions/coercion"),c=function(e,t,n,i,o){void 0===t&&(t=[]),void 0===i&&(i=new r),void 0===o&&(o=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=i,this.errors=o,this.expectedType=n};c.prototype.parse=function(t,n,r,i,o){void 0===o&&(o={});var c=this;if(n&&(c=c.concat(n,r,i)),null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return c.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var p=t[0];if("string"!=typeof p)return c.error("Expression name must be a string, but found "+typeof p+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var f=c.registry[p];if(f){var h=f.parse(t,c);if(!h)return null;if(c.expectedType){var d=c.expectedType,g=h.type;if("string"!==d.kind&&"number"!==d.kind&&"boolean"!==d.kind||"value"!==g.kind)if("array"===d.kind&&"value"===g.kind)o.omitTypeAnnotations||(h=new u(d,h));else if("color"!==d.kind||"value"!==g.kind&&"string"!==g.kind){if(c.checkSubtype(c.expectedType,h.type))return null}else o.omitTypeAnnotations||(h=new l(d,[h]));else o.omitTypeAnnotations||(h=new s(d,[h]))}if(!(h instanceof a)&&function(t){var n=e("./compound_expression").CompoundExpression,r=e("./is_constant"),i=r.isGlobalPropertyConstant,o=r.isFeatureConstant;if(t instanceof e("./definitions/var"))return!1;if(t instanceof n&&"error"===t.name)return!1;var s=!0;return t.eachChild(function(e){e instanceof a||(s=!1)}),!!s&&o(t)&&i(t,["zoom","heatmap-density"])}(h)){var y=new(e("./evaluation_context"));try{h=new a(h.type,h.evaluate(y))}catch(t){return c.error(t.message),null}}return h}return c.error('Unknown expression "'+p+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?c.error("'undefined' value invalid. Use null instead."):"object"==typeof t?c.error('Bare objects invalid. Use ["literal", {...}] instead.'):c.error("Expected an array, but found "+typeof t+" instead.")},c.prototype.concat=function(e,t,n){var r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new c(this.registry,r,t||null,i,this.errors)},c.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new o(r,e))},c.prototype.checkSubtype=function(e,t){var n=i(e,t);return n&&this.error(n),n},t.exports=c},{"./compound_expression":123,"./definitions/array":124,"./definitions/assertion":125,"./definitions/coercion":129,"./definitions/literal":134,"./definitions/var":137,"./evaluation_context":138,"./is_constant":140,"./parsing_error":142,"./scope":144,"./types":146}],142:[function(e,t,n){"use strict";var r=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);t.exports=r},{}],143:[function(e,t,n){"use strict";var r=function(e){this.name="ExpressionEvaluationError",this.message=e};r.prototype.toJSON=function(){return this.message},t.exports=r},{}],144:[function(e,t,n){"use strict";var r=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}};r.prototype.concat=function(e){return new r(this,e)},r.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},r.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)},t.exports=r},{}],145:[function(e,t,n){"use strict";var r=e("./runtime_error");t.exports={findStopLessThanOrEqualTo:function(e,t){for(var n,i,o=0,a=e.length-1,s=0;o<=a;){if(n=e[s=Math.floor((o+a)/2)],i=e[s+1],t===n||t>n&&t<i)return s;if(n<t)o=s+1;else{if(!(n>t))throw new r("Input is not a number.");a=s-1}}return Math.max(s-1,0)}}},{"./runtime_error":143}],146:[function(e,t,n){"use strict";function r(e,t){return{kind:"array",itemType:e,N:t}}function i(e){if("array"===e.kind){var t=i(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var o={kind:"null"},a={kind:"number"},s={kind:"string"},u={kind:"boolean"},l={kind:"color"},c={kind:"object"},p={kind:"value"},f=[o,a,s,u,l,c,r(p)];t.exports={NullType:o,NumberType:a,StringType:s,BooleanType:u,ColorType:l,ObjectType:c,ValueType:p,array:r,ErrorType:{kind:"error"},toString:i,checkSubtype:function e(t,n){if("error"===n.kind)return null;if("array"===t.kind){if("array"===n.kind&&!e(t.itemType,n.itemType)&&("number"!=typeof t.N||t.N===n.N))return null}else{if(t.kind===n.kind)return null;if("value"===t.kind)for(var r=0,o=f;r<o.length;r+=1)if(!e(o[r],n))return null}return"Expected "+i(t)+" but found "+i(n)+" instead."}}},{}],147:[function(e,t,n){"use strict";var r=e("../util/color"),i=e("./types"),o=i.NullType,a=i.NumberType,s=i.StringType,u=i.BooleanType,l=i.ColorType,c=i.ObjectType,p=i.ValueType,f=i.array;t.exports={Color:r,validateRGBA:function(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[e,t,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."},isValue:function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof r)return!0;if(Array.isArray(t)){for(var n=0,i=t;n<i.length;n+=1)if(!e(i[n]))return!1;return!0}if("object"==typeof t){for(var o in t)if(!e(t[o]))return!1;return!0}return!1},typeOf:function e(t){if(null===t)return o;if("string"==typeof t)return s;if("boolean"==typeof t)return u;if("number"==typeof t)return a;if(t instanceof r)return l;if(Array.isArray(t)){for(var n,i=t.length,h=0,d=t;h<d.length;h+=1){var g=e(d[h]);if(n){if(n===g)continue;n=p;break}n=g}return f(n||p,i)}return c}}},{"../util/color":153,"./types":146}],148:[function(e,t,n){"use strict";function r(e){if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===e.length&&(Array.isArray(e[1])||Array.isArray(e[2]));case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var i=n[t];if(!r(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}function i(e,t){return e<t?-1:e>t?1:0}function o(e){if(!e)return!0;var t=e[0];return e.length<=1?"any"!==t:"=="===t?a(e[1],e[2],"=="):"!="===t?l(a(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?a(e[1],e[2],t):"any"===t?function(e){return["any"].concat(e.map(o))}(e.slice(1)):"all"===t?["all"].concat(e.slice(1).map(o)):"none"===t?["all"].concat(e.slice(1).map(o).map(l)):"in"===t?s(e[1],e.slice(2)):"!in"===t?l(s(e[1],e.slice(2))):"has"===t?u(e[1]):"!has"!==t||l(u(e[1]))}function a(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function s(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]})?["filter-in-large",e,["literal",t.sort(i)]]:["filter-in-small",e,["literal",t]]}}function u(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function l(e){return["!",e]}var c=e("../expression").createExpression;t.exports=function(e){if(!e)return function(){return!0};r(e)||(e=o(e));var t=c(e,p);if("error"===t.result)throw new Error(t.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,n){return t.value.evaluate(e,n)}},t.exports.isExpressionFilter=r;var p={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":139}],149:[function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function o(e,t,n,r,o){return i(typeof n===o?r[n]:void 0,e.default,t.default)}function a(e,t,n){if("number"!==h(n))return i(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var o=l(e.stops,n);return e.stops[o][1]}function s(e,t,n){var o=void 0!==e.base?e.base:1;if("number"!==h(n))return i(e.default,t.default);var a=e.stops.length;if(1===a)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[a-1][0])return e.stops[a-1][1];var s=l(e.stops,n),u=function(e,t,n,r){var i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,o,e.stops[s][0],e.stops[s+1][0]),p=e.stops[s][1],f=e.stops[s+1][1],g=d[t.type]||r;if(e.colorSpace&&"rgb"!==e.colorSpace){var y=c[e.colorSpace];g=function(e,t){return y.reverse(y.interpolate(y.forward(e),y.forward(t),u))}}return"function"==typeof p.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=p.evaluate.apply(void 0,e),r=f.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==r)return g(n,r,u)}}:g(p,f,u)}function u(e,t,n){return"color"===t.type?n=p.parse(n):h(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),i(n,e.default,t.default)}function l(e,t){for(var n,r,i=0,o=e.length-1,a=0;i<=o;){if(n=e[a=Math.floor((i+o)/2)][0],r=e[a+1][0],t===n||t>n&&t<r)return a;n<t?i=a+1:n>t&&(o=a-1)}return Math.max(a-1,0)}var c=e("../util/color_spaces"),p=e("../util/color"),f=e("../util/extend"),h=e("../util/get_type"),d=e("../util/interpolate"),g=e("../expression/definitions/interpolate");t.exports={createFunction:function e(t,n){var r,l,h,d="color"===n.type,y=t.stops&&"object"==typeof t.stops[0][0],v=y||void 0!==t.property,m=y||!v,_=t.type||("interpolated"===n.function?"exponential":"interval");if(d&&((t=f({},t)).stops&&(t.stops=t.stops.map(function(e){return[e[0],p.parse(e[1])]})),t.default?t.default=p.parse(t.default):t.default=p.parse(n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!c[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===_)r=s;else if("interval"===_)r=a;else if("categorical"===_){r=o,l=Object.create(null);for(var A=0,b=t.stops;A<b.length;A+=1){var x=b[A];l[x[0]]=x[1]}h=typeof t.stops[0][0]}else{if("identity"!==_)throw new Error('Unknown function type "'+_+'"');r=u}if(y){for(var w={},E=[],T=0;T<t.stops.length;T++){var M=t.stops[T],S=M[0].zoom;void 0===w[S]&&(w[S]={zoom:S,type:t.type,property:t.property,default:t.default,stops:[]},E.push(S)),w[S].stops.push([M[0].value,M[1]])}for(var C=[],I=0,P=E;I<P.length;I+=1){var k=P[I];C.push([w[k].zoom,e(w[k],n)])}return{kind:"composite",interpolationFactor:g.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:C.map(function(e){return e[0]}),evaluate:function(e,r){var i=e.zoom;return s({stops:C,base:t.base},n,i).evaluate(i,r)}}}return m?{kind:"camera",interpolationFactor:"exponential"===_?g.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(e){return e[0]}),evaluate:function(e){var i=e.zoom;return r(t,n,i,l,h)}}:{kind:"source",evaluate:function(e,o){var a=o&&o.properties?o.properties[t.property]:void 0;return void 0===a?i(t.default,n.default):r(t,n,a,l,h)}}},isFunction:function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}}},{"../expression/definitions/interpolate":132,"../util/color":153,"../util/color_spaces":154,"../util/extend":156,"../util/get_type":157,"../util/interpolate":158}],150:[function(e,t,n){"use strict";function r(e){var t=typeof e;if("number"===t||"boolean"===t||"string"===t||void 0===e||null===e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",i=0,o=e;i<o.length;i+=1)n+=r(o[i])+",";return n+"]"}for(var a=Object.keys(e).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+r(e[a[u]])+",";return s+"}"}function i(e){for(var t="",n=0,i=o;n<i.length;n+=1)t+="/"+r(e[i[n]]);return t}var o=e("./util/ref_properties");t.exports=function(e){for(var t={},n=0;n<e.length;n++){var r=i(e[n]),o=t[r];o||(o=t[r]=[]),o.push(e[n])}var a=[];for(var s in t)a.push(t[s]);return a}},{"./util/ref_properties":159}],151:[function(e,t,n){"use strict";t.exports=e("./v8.json")},{"./v8.json":152}],152:[function(e,t,n){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],153:[function(e,t,n){"use strict";var r=e("csscolorparser").parseCSSColor,i=function(e,t,n,r){void 0===r&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};i.parse=function(e){if(e){if(e instanceof i)return e;if("string"==typeof e){var t=r(e);if(t)return new i(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},i.prototype.toString=function(){var e=this;return"rgba("+[this.r,this.g,this.b].map(function(t){return Math.round(255*t/e.a)}).concat(this.a).join(",")+")"},i.black=new i(0,0,0,1),i.white=new i(1,1,1,1),i.transparent=new i(0,0,0,0),t.exports=i},{csscolorparser:13}],154:[function(e,t,n){"use strict";function r(e){return e>v?Math.pow(e,1/3):e/y+d}function i(e){return e>g?e*e*e:y*(e-d)}function o(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function a(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function s(e){var t=a(e.r),n=a(e.g),i=a(e.b),o=r((.4124564*t+.3575761*n+.1804375*i)/p),s=r((.2126729*t+.7151522*n+.072175*i)/f);return{l:116*s-16,a:500*(o-s),b:200*(s-r((.0193339*t+.119192*n+.9503041*i)/h)),alpha:e.a}}function u(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=f*i(t),n=p*i(n),r=h*i(r),new l(o(3.2404542*n-1.5371385*t-.4985314*r),o(-.969266*n+1.8760108*t+.041556*r),o(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}var l=e("./color"),c=e("./interpolate").number,p=.95047,f=1,h=1.08883,d=4/29,g=6/29,y=3*g*g,v=g*g*g,m=Math.PI/180,_=180/Math.PI;t.exports={lab:{forward:s,reverse:u,interpolate:function(e,t,n){return{l:c(e.l,t.l,n),a:c(e.a,t.a,n),b:c(e.b,t.b,n),alpha:c(e.alpha,t.alpha,n)}}},hcl:{forward:function(e){var t=s(e),n=t.l,r=t.a,i=t.b,o=Math.atan2(i,r)*_;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}},reverse:function(e){var t=e.h*m,n=e.c;return u({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:function(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}(e.h,t.h,n),c:c(e.c,t.c,n),l:c(e.l,t.l,n),alpha:c(e.alpha,t.alpha,n)}}}}},{"./color":153,"./interpolate":158}],155:[function(e,t,n){"use strict";t.exports=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n}},{}],156:[function(e,t,n){"use strict";t.exports=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e}},{}],157:[function(e,t,n){"use strict";t.exports=function(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}},{}],158:[function(e,t,n){"use strict";function r(e,t,n){return e*(1-n)+t*n}var i=e("./color");t.exports={number:r,color:function(e,t,n){return new i(r(e.r,t.r,n),r(e.g,t.g,n),r(e.b,t.b,n),r(e.a,t.a,n))},array:function(e,t,n){return e.map(function(e,i){return r(e,t[i],n)})}}},{"./color":153}],159:[function(e,t,n){"use strict";t.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],160:[function(e,t,n){"use strict";t.exports={success:function(e){return{result:"success",value:e}},error:function(e){return{result:"error",value:e}}}},{}],161:[function(e,t,n){"use strict";function r(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}t.exports=r,t.exports.deep=function e(t){return Array.isArray(t)?t.map(e):r(t)}},{}],162:[function(e,t,n){"use strict";var r=e("../util/extend"),i=e("../util/unbundle_jsonlint"),o=e("../expression").isExpression,a=e("../function").isFunction;t.exports=function(t){var n=e("./validate_function"),s=e("./validate_expression"),u=e("./validate_object"),l={"*":function(){return[]},array:e("./validate_array"),boolean:e("./validate_boolean"),number:e("./validate_number"),color:e("./validate_color"),constants:e("./validate_constants"),enum:e("./validate_enum"),filter:e("./validate_filter"),function:e("./validate_function"),layer:e("./validate_layer"),object:e("./validate_object"),source:e("./validate_source"),light:e("./validate_light"),string:e("./validate_string")},c=t.value,p=t.valueSpec,f=t.styleSpec;return p.function&&a(i(c))?n(t):p.function&&o(i.deep(c))?s(t):p.type&&l[p.type]?l[p.type](t):u(r({},t,{valueSpec:p.type?f[p.type]:p}))}},{"../expression":139,"../function":149,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate_array":163,"./validate_boolean":164,"./validate_color":165,"./validate_constants":166,"./validate_enum":167,"./validate_expression":168,"./validate_filter":169,"./validate_function":170,"./validate_layer":172,"./validate_light":174,"./validate_number":175,"./validate_object":176,"./validate_source":179,"./validate_string":180}],163:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("./validate"),o=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.valueSpec,a=e.style,s=e.styleSpec,u=e.key,l=e.arrayElementValidator||i;if("array"!==r(t))return[new o(u,t,"array expected, "+r(t)+" found")];if(n.length&&t.length!==n.length)return[new o(u,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new o(u,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var p=[],f=0;f<t.length;f++)p=p.concat(l({array:t,arrayIndex:f,value:t[f],valueSpec:c,style:a,styleSpec:s,key:u+"["+f+"]"}));return p}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],164:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,o=r(t);return"boolean"!==o?[new i(n,t,"boolean expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],165:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("csscolorparser").parseCSSColor;t.exports=function(e){var t=e.key,n=e.value,a=i(n);return"string"!==a?[new r(t,n,"color expected, "+a+" found")]:null===o(n)?[new r(t,n,'color expected, "'+n+'" found')]:[]}},{"../error/validation_error":122,"../util/get_type":157,csscolorparser:13}],166:[function(e,t,n){"use strict";var r=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.value;return n?[new r(t,n,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":122}],167:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/unbundle_jsonlint");t.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,a=[];return Array.isArray(o.values)?-1===o.values.indexOf(i(n))&&a.push(new r(t,n,"expected one of ["+o.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(o.values).indexOf(i(n))&&a.push(new r(t,n,"expected one of ["+Object.keys(o.values).join(", ")+"], "+JSON.stringify(n)+" found")),a}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161}],168:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../expression"),o=i.createExpression,a=i.createPropertyExpression,s=e("../util/unbundle_jsonlint");t.exports=function(e){var t=("property"===e.expressionContext?a:o)(s.deep(e.value),e.valueSpec);return"error"===t.result?t.value.map(function(t){return new r(""+e.key+t.key,e.value,t.message)}):"property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==t.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new r(e.key,e.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}},{"../error/validation_error":122,"../expression":139,"../util/unbundle_jsonlint":161}],169:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("./validate_expression"),o=e("./validate_enum"),a=e("../util/get_type"),s=e("../util/unbundle_jsonlint"),u=e("../util/extend"),l=e("../feature_filter").isExpressionFilter;t.exports=function(e){return l(s.deep(e.value))?i(u({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,i=t.key;if("array"!==a(n))return[new r(i,n,"array expected, "+a(n)+" found")];var u,l=t.styleSpec,c=[];if(n.length<1)return[new r(i,n,"filter array must have at least 1 element")];switch(c=c.concat(o({key:i+"[0]",value:n[0],valueSpec:l.filter_operator,style:t.style,styleSpec:t.styleSpec})),s(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===s(n[1])&&c.push(new r(i,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&c.push(new r(i,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(u=a(n[1]))&&c.push(new r(i+"[1]",n[1],"string expected, "+u+" found"));for(var p=2;p<n.length;p++)u=a(n[p]),"$type"===s(n[1])?c=c.concat(o({key:i+"["+p+"]",value:n[p],valueSpec:l.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==u&&"number"!==u&&"boolean"!==u&&c.push(new r(i+"["+p+"]",n[p],"string, number, or boolean expected, "+u+" found"));break;case"any":case"all":case"none":for(var f=1;f<n.length;f++)c=c.concat(e({key:i+"["+f+"]",value:n[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":u=a(n[1]),2!==n.length?c.push(new r(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==u&&c.push(new r(i+"[1]",n[1],"string expected, "+u+" found"))}return c}(e)}},{"../error/validation_error":122,"../feature_filter":148,"../util/extend":156,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_expression":168}],170:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("./validate"),a=e("./validate_object"),s=e("./validate_array"),u=e("./validate_number"),l=e("../util/unbundle_jsonlint");t.exports=function(e){function t(e){var t=[],s=e.value,c=e.key;if("array"!==i(s))return[new r(c,s,"array expected, "+i(s)+" found")];if(2!==s.length)return[new r(c,s,"array length 2 expected, length "+s.length+" found")];if(m){if("object"!==i(s[0]))return[new r(c,s,"object expected, "+i(s[0])+" found")];if(void 0===s[0].zoom)return[new r(c,s,"object stop key must have zoom")];if(void 0===s[0].value)return[new r(c,s,"object stop key must have value")];if(f&&f>l(s[0].zoom))return[new r(c,s[0].zoom,"stop zoom values must appear in ascending order")];l(s[0].zoom)!==f&&(f=l(s[0].zoom),p=void 0,g={}),t=t.concat(a({key:c+"[0]",value:s[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:u,value:n}}))}else t=t.concat(n({key:c+"[0]",value:s[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},s));return t.concat(o({key:c+"[1]",value:s[1],valueSpec:h,style:e.style,styleSpec:e.styleSpec}))}function n(e,t){var n=i(e.value),o=l(e.value),a=null!==e.value?e.value:t;if(c){if(n!==c)return[new r(e.key,a,n+" stop domain type must match previous stop domain type "+c)]}else c=n;if("number"!==n&&"string"!==n&&"boolean"!==n)return[new r(e.key,a,"stop domain value must be a number, string, or boolean")];if("number"!==n&&"categorical"!==d){var s="number expected, "+n+" found";return h["property-function"]&&void 0===d&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new r(e.key,a,s)]}return"categorical"!==d||"number"!==n||isFinite(o)&&Math.floor(o)===o?"categorical"!==d&&"number"===n&&void 0!==p&&o<p?[new r(e.key,a,"stop domain values must appear in ascending order")]:(p=o,"categorical"===d&&o in g?[new r(e.key,a,"stop domain values must be unique")]:(g[o]=!0,[])):[new r(e.key,a,"integer expected, found "+o)]}var c,p,f,h=e.valueSpec,d=l(e.value.type),g={},y="categorical"!==d&&void 0===e.value.property,v=!y,m="array"===i(e.value.stops)&&"array"===i(e.value.stops[0])&&"object"===i(e.value.stops[0][0]),_=a({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===d)return[new r(e.key,e.value,'identity function may not have a "stops" property')];var n=[],o=e.value;return n=n.concat(s({key:e.key,value:o,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:t})),"array"===i(o)&&0===o.length&&n.push(new r(e.key,o,"array must have at least one stop")),n},default:function(e){return o({key:e.key,value:e.value,valueSpec:h,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===d&&y&&_.push(new r(e.key,e.value,'missing required property "property"')),"identity"===d||e.value.stops||_.push(new r(e.key,e.value,'missing required property "stops"')),"exponential"===d&&"piecewise-constant"===e.valueSpec.function&&_.push(new r(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(v&&!e.valueSpec["property-function"]?_.push(new r(e.key,e.value,"property functions not supported")):y&&!e.valueSpec["zoom-function"]&&"heatmap-color"!==e.objectKey&&_.push(new r(e.key,e.value,"zoom functions not supported"))),"categorical"!==d&&!m||void 0!==e.value.property||_.push(new r(e.key,e.value,'"property" property is required')),_}},{"../error/validation_error":122,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_array":163,"./validate_number":175,"./validate_object":176}],171:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("./validate_string");t.exports=function(e){var t=e.value,n=e.key,o=i(e);return o.length?o:(-1===t.indexOf("{fontstack}")&&o.push(new r(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&o.push(new r(n,t,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":122,"./validate_string":180}],172:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/unbundle_jsonlint"),o=e("./validate_object"),a=e("./validate_filter"),s=e("./validate_paint_property"),u=e("./validate_layout_property"),l=e("./validate"),c=e("../util/extend");t.exports=function(e){var t=[],n=e.value,p=e.key,f=e.style,h=e.styleSpec;n.type||n.ref||t.push(new r(p,n,'either "type" or "ref" is required'));var d,g=i(n.type),y=i(n.ref);if(n.id)for(var v=i(n.id),m=0;m<e.arrayIndex;m++){var _=f.layers[m];i(_.id)===v&&t.push(new r(p,n.id,'duplicate layer id "'+n.id+'", previously used at line '+_.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(e){e in n&&t.push(new r(p,n[e],'"'+e+'" is prohibited for ref layers'))}),f.layers.forEach(function(e){i(e.id)===y&&(d=e)}),d?d.ref?t.push(new r(p,n.ref,"ref cannot reference another ref layer")):g=i(d.type):t.push(new r(p,n.ref,'ref layer "'+y+'" not found'));else if("background"!==g)if(n.source){var A=f.sources&&f.sources[n.source],b=A&&i(A.type);A?"vector"===b&&"raster"===g?t.push(new r(p,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===b&&"raster"!==g?t.push(new r(p,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==b||n["source-layer"]?"raster-dem"===b&&"hillshade"!==g&&t.push(new r(p,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):t.push(new r(p,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new r(p,n.source,'source "'+n.source+'" not found'))}else t.push(new r(p,n,'missing required property "source"'));return t=t.concat(o({key:p,value:n,valueSpec:h.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return l({key:p+".type",value:n.type,valueSpec:h.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:a,layout:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return u(c({layerType:g},e))}}})},paint:function(e){return o({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return s(c({layerType:g},e))}}})}}}))}},{"../error/validation_error":122,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_filter":169,"./validate_layout_property":173,"./validate_object":176,"./validate_paint_property":177}],173:[function(e,t,n){"use strict";var r=e("./validate_property");t.exports=function(e){return r(e,"layout")}},{"./validate_property":178}],174:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("./validate");t.exports=function(e){var t=e.value,n=e.styleSpec,a=n.light,s=e.style,u=[],l=i(t);if(void 0===t)return u;if("object"!==l)return u.concat([new r("light",t,"object expected, "+l+" found")]);for(var c in t){var p=c.match(/^(.*)-transition$/);u=p&&a[p[1]]&&a[p[1]].transition?u.concat(o({key:c,value:t[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?u.concat(o({key:c,value:t[c],valueSpec:a[c],style:s,styleSpec:n})):u.concat([new r(c,t[c],'unknown property "'+c+'"')])}return u}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],175:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("../error/validation_error");t.exports=function(e){var t=e.key,n=e.value,o=e.valueSpec,a=r(n);return"number"!==a?[new i(t,n,"number expected, "+a+" found")]:"minimum"in o&&n<o.minimum?[new i(t,n,n+" is less than the minimum value "+o.minimum)]:"maximum"in o&&n>o.maximum?[new i(t,n,n+" is greater than the maximum value "+o.maximum)]:[]}},{"../error/validation_error":122,"../util/get_type":157}],176:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/get_type"),o=e("./validate");t.exports=function(e){var t=e.key,n=e.value,a=e.valueSpec||{},s=e.objectElementValidators||{},u=e.style,l=e.styleSpec,c=[],p=i(n);if("object"!==p)return[new r(t,n,"object expected, "+p+" found")];for(var f in n){var h=f.split(".")[0],d=a[h]||a["*"],g=void 0;if(s[h])g=s[h];else if(a[h])g=o;else if(s["*"])g=s["*"];else{if(!a["*"]){c.push(new r(t,n[f],'unknown property "'+f+'"'));continue}g=o}c=c.concat(g({key:(t?t+".":t)+f,value:n[f],valueSpec:d,style:u,styleSpec:l,object:n,objectKey:f},n))}for(var y in a)s[y]||a[y].required&&void 0===a[y].default&&void 0===n[y]&&c.push(new r(t,n,'missing required property "'+y+'"'));return c}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],177:[function(e,t,n){"use strict";var r=e("./validate_property");t.exports=function(e){return r(e,"paint")}},{"./validate_property":178}],178:[function(e,t,n){"use strict";var r=e("./validate"),i=e("../error/validation_error"),o=e("../util/get_type"),a=e("../function").isFunction,s=e("../util/unbundle_jsonlint");t.exports=function(e,t){var n=e.key,u=e.style,l=e.styleSpec,c=e.value,p=e.objectKey,f=l[t+"_"+e.layerType];if(!f)return[];var h=p.match(/^(.*)-transition$/);if("paint"===t&&h&&f[h[1]]&&f[h[1]].transition)return r({key:n,value:c,valueSpec:l.transition,style:u,styleSpec:l});var d,g=e.valueSpec||f[p];if(!g)return[new i(n,c,'unknown property "'+p+'"')];if("string"===o(c)&&g["property-function"]&&!g.tokens&&(d=/^{([^}]+)}$/.exec(c)))return[new i(n,c,'"'+p+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(d[1])+" }`.")];var y=[];return"symbol"===e.layerType&&("text-field"===p&&u&&!u.glyphs&&y.push(new i(n,c,'use of "text-field" requires a style "glyphs" property')),"text-font"===p&&a(s.deep(c))&&"identity"===s(c.type)&&y.push(new i(n,c,'"text-font" does not support identity functions'))),y.concat(r({key:e.key,value:c,valueSpec:g,style:u,styleSpec:l,expressionContext:"property",propertyKey:p}))}},{"../error/validation_error":122,"../function":149,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162}],179:[function(e,t,n){"use strict";var r=e("../error/validation_error"),i=e("../util/unbundle_jsonlint"),o=e("./validate_object"),a=e("./validate_enum");t.exports=function(e){var t=e.value,n=e.key,s=e.styleSpec,u=e.style;if(!t.type)return[new r(n,t,'"type" is required')];var l=i(t.type),c=[];switch(l){case"vector":case"raster":case"raster-dem":if(c=c.concat(o({key:n,value:t,valueSpec:s["source_"+l.replace("-","_")],style:e.style,styleSpec:s})),"url"in t)for(var p in t)["type","url","tileSize"].indexOf(p)<0&&c.push(new r(n+"."+p,t[p],'a source with a "url" property may not include a "'+p+'" property'));return c;case"geojson":return o({key:n,value:t,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:n,value:t,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:n,value:t,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return o({key:n,value:t,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_object":176}],180:[function(e,t,n){"use strict";var r=e("../util/get_type"),i=e("../error/validation_error");t.exports=function(e){var t=e.value,n=e.key,o=r(t);return"string"!==o?[new i(n,t,"string expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],181:[function(e,t,n){"use strict";function r(e,t){t=t||u;var n=[];return n=n.concat(s({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),e.constants&&(n=n.concat(a({key:"constants",value:e.constants,style:e,styleSpec:t}))),i(n)}function i(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function o(e){return function(){return i(e.apply(this,arguments))}}var a=e("./validate/validate_constants"),s=e("./validate/validate"),u=e("./reference/latest"),l=e("./validate/validate_glyphs_url");r.source=o(e("./validate/validate_source")),r.light=o(e("./validate/validate_light")),r.layer=o(e("./validate/validate_layer")),r.filter=o(e("./validate/validate_filter")),r.paintProperty=o(e("./validate/validate_paint_property")),r.layoutProperty=o(e("./validate/validate_layout_property")),t.exports=r},{"./reference/latest":151,"./validate/validate":162,"./validate/validate_constants":166,"./validate/validate_filter":169,"./validate/validate_glyphs_url":171,"./validate/validate_layer":172,"./validate/validate_layout_property":173,"./validate/validate_light":174,"./validate/validate_paint_property":177,"./validate/validate_source":179}],182:[function(e,t,n){"use strict";var r=e("./zoom_history"),i=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new r,this.transition={})};i.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},t.exports=i},{"./zoom_history":212}],183:[function(e,t,n){"use strict";var r=e("../style-spec/reference/latest"),i=e("../util/util"),o=e("../util/evented"),a=e("./validate_style"),s=e("../util/util").sphericalToCartesian,u=(e("../style-spec/util/color"),e("../style-spec/util/interpolate")),l=e("./properties"),c=l.Properties,p=l.Transitionable,f=(l.Transitioning,l.PossiblyEvaluated,l.DataConstantProperty),h=function(){this.specification=r.light.position};h.prototype.possiblyEvaluate=function(e,t){return s(e.expression.evaluate(t))},h.prototype.interpolate=function(e,t,n){return{x:u.number(e.x,t.x,n),y:u.number(e.y,t.y,n),z:u.number(e.z,t.z,n)}};var d=new c({anchor:new f(r.light.anchor),position:new h,color:new f(r.light.color),intensity:new f(r.light.intensity)}),g=function(e){function t(t){e.call(this),this._transitionable=new p(d),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLight=function(){return this._transitionable.serialize()},t.prototype.setLight=function(e){if(!this._validate(a.light,e))for(var t in e){var n=e[t];i.endsWith(t,"-transition")?this._transitionable.setTransition(t.slice(0,-"-transition".length),n):this._transitionable.setValue(t,n)}},t.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},t.prototype.hasTransition=function(){return this._transitioning.hasTransition()},t.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},t.prototype._validate=function(e,t){return a.emitErrors(this,e.call(a,i.extend({value:t,style:{glyphs:!0,sprite:!0},styleSpec:r})))},t}(o);t.exports=g},{"../style-spec/reference/latest":151,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/evented":260,"../util/util":275,"./properties":188,"./validate_style":211}],184:[function(e,t,n){"use strict";var r=e("../util/mapbox").normalizeGlyphsURL,i=e("../util/ajax"),o=e("./parse_glyph_pbf");t.exports=function(e,t,n,a,s){var u=256*t,l=u+255,c=a(r(n).replace("{fontstack}",e).replace("{range}",u+"-"+l),i.ResourceType.Glyphs);i.getArrayBuffer(c,function(e,t){if(e)s(e);else if(t){for(var n={},r=0,i=o(t.data);r<i.length;r+=1){var a=i[r];n[a.id]=a}s(null,n)}})}},{"../util/ajax":251,"../util/mapbox":267,"./parse_glyph_pbf":186}],185:[function(e,t,n){"use strict";var r=e("../util/ajax"),i=e("../util/browser"),o=e("../util/mapbox").normalizeSpriteURL,a=e("../util/image").RGBAImage;t.exports=function(e,t,n){function s(){if(c)n(c);else if(u&&l){var e=i.getImageData(l),t={};for(var r in u){var o=u[r],s=o.width,p=o.height,f=o.x,h=o.y,d=o.sdf,g=o.pixelRatio,y=new a({width:s,height:p});a.copy(e,y,{x:f,y:h},{x:0,y:0},{width:s,height:p}),t[r]={data:y,pixelRatio:g,sdf:d}}n(null,t)}}var u,l,c,p=i.devicePixelRatio>1?"@2x":"";r.getJSON(t(o(e,p,".json"),r.ResourceType.SpriteJSON),function(e,t){c||(c=e,u=t,s())}),r.getImage(t(o(e,p,".png"),r.ResourceType.SpriteImage),function(e,t){c||(c=e,l=t,s())})}},{"../util/ajax":251,"../util/browser":252,"../util/image":263,"../util/mapbox":267}],186:[function(e,t,n){"use strict";function r(e,t,n){1===e&&n.readMessage(i,t)}function i(e,t,n){if(3===e){var r=n.readMessage(o,{}),i=r.id,s=r.bitmap,l=r.width,c=r.height,p=r.left,f=r.top,h=r.advance;t.push({id:i,bitmap:new a({width:l+2*u,height:c+2*u},s),metrics:{width:l,height:c,left:p,top:f,advance:h}})}}function o(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}var a=e("../util/image").AlphaImage,s=e("pbf"),u=3;t.exports=function(e){return new s(e).readFields(r,[])},t.exports.GLYPH_PBF_BORDER=u},{"../util/image":263,pbf:30}],187:[function(e,t,n){"use strict";var r=e("../util/browser"),i=e("../symbol/placement"),o=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};o.prototype.continuePlacement=function(e,t,n,r,i){for(var o=this;this._currentTileIndex<e.length;){var a=e[o._currentTileIndex];if(t.placeLayerTile(r,a,n,o._seenCrossTileIDs),o._currentTileIndex++,i())return!0}};var a=function(e,t,n,r,o){this.placement=new i(e,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};a.prototype.isDone=function(){return this._done},a.prototype.continuePlacement=function(e,t,n){for(var i=this,a=r.now(),s=function(){var e=r.now()-a;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var u=t[e[i._currentPlacementIndex]],l=i.placement.collisionIndex.transform.zoom;if("symbol"===u.type&&(!u.minzoom||u.minzoom<=l)&&(!u.maxzoom||u.maxzoom>l)){if(i._inProgressLayer||(i._inProgressLayer=new o),i._inProgressLayer.continuePlacement(n[u.source],i.placement,i._showCollisionBoxes,u,s))return;delete i._inProgressLayer}i._currentPlacementIndex--}this._done=!0},a.prototype.commit=function(e,t){return this.placement.commit(e,t),this.placement},t.exports=a},{"../symbol/placement":223,"../util/browser":252}],188:[function(e,t,n){"use strict";var r=e("../util/util"),i=r.clone,o=r.extend,a=r.easeCubicInOut,s=e("../style-spec/util/interpolate"),u=e("../style-spec/expression").normalizePropertyExpression,l=(e("../style-spec/util/color"),e("../util/web_worker_transfer").register),c=function(e,t){this.property=e,this.value=t,this.expression=u(void 0===t?e.specification.default:t,e.specification)};c.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},c.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var p=function(e){this.property=e,this.value=new c(e,void 0)};p.prototype.transitioned=function(e,t){return new h(this.property,this.value,t,o({},e.transition,this.transition),e.now)},p.prototype.untransitioned=function(){return new h(this.property,this.value,null,{},0)};var f=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};f.prototype.getValue=function(e){return i(this._values[e].value.value)},f.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new p(this._values[e].property)),this._values[e].value=new c(this._values[e].property,null===t?void 0:i(t))},f.prototype.getTransition=function(e){return i(this._values[e].transition)},f.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new p(this._values[e].property)),this._values[e].transition=i(t)||void 0},f.prototype.serialize=function(){for(var e=this,t={},n=0,r=Object.keys(e._values);n<r.length;n+=1){var i=r[n],o=e.getValue(i);void 0!==o&&(t[i]=o);var a=e.getTransition(i);void 0!==a&&(t[i+"-transition"]=a)}return t},f.prototype.transitioned=function(e,t){for(var n=new d(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},f.prototype.untransitioned=function(){for(var e=new d(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var h=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};h.prototype.possiblyEvaluate=function(e){var t=e.now||0,n=this.value.possiblyEvaluate(e),r=this.prior;if(r){if(t>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(t<this.begin)return r.possiblyEvaluate(e);var i=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(e),n,a(i))}return n};var d=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};d.prototype.possiblyEvaluate=function(e){for(var t=new v(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];t._values[i]=this._values[i].possiblyEvaluate(e)}return t},d.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var n=t[e];if(this._values[n].prior)return!0}return!1};var g=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};g.prototype.getValue=function(e){return i(this._values[e].value)},g.prototype.setValue=function(e,t){this._values[e]=new c(this._values[e].property,null===t?void 0:i(t))},g.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);void 0!==i&&(e[r]=i)}return e},g.prototype.possiblyEvaluate=function(e){for(var t=new v(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];t._values[i]=this._values[i].possiblyEvaluate(e)}return t};var y=function(e,t,n){this.property=e,this.value=t,this.globals=n};y.prototype.isConstant=function(){return"constant"===this.value.kind},y.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},y.prototype.evaluate=function(e){return this.property.evaluate(this.value,this.globals,e)};var v=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};v.prototype.get=function(e){return this._values[e]};var m=function(e){this.specification=e};m.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},m.prototype.interpolate=function(e,t,n){var r=s[this.specification.type];return r?r(e,t,n):e};var _=function(e){this.specification=e};_.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new y(this,{kind:"constant",value:e.expression.evaluate(t)},t):new y(this,e.expression,t)},_.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0!==e.value.value&&void 0!==t.value.value){var r=s[this.specification.type];return r?new y(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.globals):e}},_.prototype.evaluate=function(e,t,n){return"constant"===e.kind?e.value:e.evaluate(t,n)};var A=function(e){this.specification=e};A.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var n=e.expression.evaluate(t);return this._calculate(n,n,n,t)}return this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t)}},A.prototype._calculate=function(e,t,n,r){var i=r.zoom,o=i-Math.floor(i),a=r.crossFadingFactor();return i>r.zoomHistory.lastIntegerZoom?{from:e,to:t,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:n,to:t,fromScale:.5,toScale:1,t:1-(1-a)*o}},A.prototype.interpolate=function(e){return e};var b=function(e){this.specification=e};b.prototype.possiblyEvaluate=function(){},b.prototype.interpolate=function(){};l("DataDrivenProperty",_),l("DataConstantProperty",m),l("CrossFadedProperty",A),l("HeatmapColorProperty",b),t.exports={PropertyValue:c,Transitionable:f,Transitioning:d,Layout:g,PossiblyEvaluatedPropertyValue:y,PossiblyEvaluated:v,DataConstantProperty:m,DataDrivenProperty:_,CrossFadedProperty:A,HeatmapColorProperty:b,Properties:function(e){var t=this;for(var n in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var r=e[n],i=t.defaultPropertyValues[n]=new c(r,void 0),o=t.defaultTransitionablePropertyValues[n]=new p(r);t.defaultTransitioningPropertyValues[n]=o.untransitioned(),t.defaultPossiblyEvaluatedValues[n]=i.possiblyEvaluate({})}}}},{"../style-spec/expression":139,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/util":275,"../util/web_worker_transfer":278}],189:[function(e,t,n){"use strict";var r=e("@mapbox/point-geometry");t.exports={getMaximumPaintValue:function(e,t,n){var r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).binders[e].statistics.max},translateDistance:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},translate:function(e,t,n,i,o){if(!t[0]&&!t[1])return e;var a=r.convert(t);"viewport"===n&&a._rotate(-i);for(var s=[],u=0;u<e.length;u++){for(var l=e[u],c=[],p=0;p<l.length;p++)c.push(l[p].sub(a._mult(o)));s.push(c)}return s}}},{"@mapbox/point-geometry":4}],190:[function(e,t,n){"use strict";var r=e("../util/evented"),i=e("./style_layer"),o=e("./load_sprite"),a=e("../render/image_manager"),s=e("../render/glyph_manager"),u=e("./light"),l=e("../render/line_atlas"),c=e("../util/util"),p=e("../util/ajax"),f=e("../util/mapbox"),h=e("../util/browser"),d=e("../util/dispatcher"),g=e("./validate_style"),y=e("../source/source").getType,v=e("../source/source").setType,m=e("../source/query_features"),_=e("../source/source_cache"),A=(e("../source/geojson_source"),e("../style-spec/reference/latest")),b=e("../util/global_worker_pool"),x=e("../style-spec/deref"),w=e("../style-spec/diff"),E=e("../source/rtl_text_plugin"),T=e("./pauseable_placement"),M=e("./zoom_history"),S=e("../symbol/cross_tile_symbol_index"),C=c.pick(w.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),I=c.pick(w.operations,["setCenter","setZoom","setBearing","setPitch"]),P=function(e){function t(t,n){var r=this;void 0===n&&(n={}),e.call(this),this.map=t,this.dispatcher=new d(b(),this),this.imageManager=new a,this.glyphManager=new s(t._transformRequest,n.localIdeographFontFamily),this.lineAtlas=new l(256,512),this.crossTileSymbolIndex=new S,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new M,this._loaded=!1,this._resetUpdates();var i=this;this._rtlTextPluginCallback=E.registerForPluginAvailability(function(e){for(var t in i.dispatcher.broadcast("loadRTLTextPlugin",e.pluginBlobURL,e.errorCallback),i.sourceCaches)i.sourceCaches[t].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=r.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var i in r._layers){var o=r._layers[i];o.source===n.id&&r._validateLayer(o)}}}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.loadURL=function(e,t){var n=this;void 0===t&&(t={}),this.fire("dataloading",{dataType:"style"});var r="boolean"==typeof t.validate?t.validate:!f.isMapboxURL(e);e=f.normalizeStyleURL(e,t.accessToken);var i=this.map._transformRequest(e,p.ResourceType.Style);p.getJSON(i,function(e,t){e?n.fire("error",{error:e}):t&&n._load(t,r)})},t.prototype.loadJSON=function(e,t){var n=this;void 0===t&&(t={}),this.fire("dataloading",{dataType:"style"}),h.frame(function(){n._load(e,!1!==t.validate)})},t.prototype._load=function(e,t){var n=this;if(!t||!g.emitErrors(this,g(e))){for(var r in this._loaded=!0,this.stylesheet=e,e.sources)n.addSource(r,e.sources[r],{validate:!1});e.sprite?o(e.sprite,this.map._transformRequest,function(e,t){if(e)n.fire("error",e);else if(t)for(var r in t)n.imageManager.addImage(r,t[r]);n.imageManager.setLoaded(!0),n.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var a=x(this.stylesheet.layers);this._order=a.map(function(e){return e.id}),this._layers={};for(var s=0,l=a;s<l.length;s+=1){var c=l[s];(c=i.create(c)).setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new u(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},t.prototype._validateLayer=function(e){var t=this.sourceCaches[e.source];if(t){var n=e.sourceLayer;if(n){var r=t.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire("error",{error:new Error('Source layer "'+n+'" does not exist on source "'+r.id+'" as specified by style layer "'+e.id+'"')})}}},t.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},t.prototype._serializeLayers=function(e){var t=this;return e.map(function(e){return t._layers[e].serialize()})},t.prototype.hasTransitions=function(){var e=this;if(this.light&&this.light.hasTransition())return!0;for(var t in e.sourceCaches)if(e.sourceCaches[t].hasTransition())return!0;for(var n in e._layers)if(e._layers[n].hasTransition())return!0;return!1},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},t.prototype.update=function(e){var t=this;if(this._loaded){if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var i in(n.length||r.length)&&this._updateWorkerLayers(n,r),t._updatedSources){var o=t._updatedSources[i];"reload"===o?t._reloadSource(i):"clear"===o&&t._clearSource(i)}for(var a in t._updatedPaintProps)t._layers[a].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates(),this.fire("data",{dataType:"style"})}for(var s in t.sourceCaches)t.sourceCaches[s].used=!1;for(var u=0,l=t._order;u<l.length;u+=1){var c=l[u],p=t._layers[c];p.recalculate(e),!p.isHidden(e.zoom)&&p.source&&(t.sourceCaches[p.source].used=!0)}this.light.recalculate(e),this.z=e.zoom}},t.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},t.prototype.setState=function(e){var t=this;if(this._checkLoaded(),g.emitErrors(this,g(e)))return!1;(e=c.clone(e)).layers=x(e.layers);var n=w(this.serialize(),e).filter(function(e){return!(e.command in I)});if(0===n.length)return!1;var r=n.filter(function(e){return!(e.command in C)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(e){return e.command}).join(", ")+".");return n.forEach(function(e){"setTransition"!==e.command&&t[e.command].apply(t,e.args)}),this.stylesheet=e,!0},t.prototype.addImage=function(e,t){if(this.getImage(e))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(e,t),this.fire("data",{dataType:"style"})},t.prototype.getImage=function(e){return this.imageManager.getImage(e)},t.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(e),this.fire("data",{dataType:"style"})},t.prototype.addSource=function(e,t,n){var r=this;if(this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!t.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(t).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(t.type)>=0&&this._validate(g.source,"sources."+e,t,null,n))){this.map&&this.map._collectResourceTiming&&(t.collectResourceTiming=!0);var i=this.sourceCaches[e]=new _(e,t,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:i.serialize(),sourceId:e}}),i.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(e){var t=this;if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in t._layers)if(t._layers[n].source===e)return t.fire("error",{error:new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')});var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:e}),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},t.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},t.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},t.prototype.addLayer=function(e,t,n){this._checkLoaded();var r=e.id;if("object"==typeof e.source&&(this.addSource(r,e.source),e=c.clone(e),e=c.extend(e,{source:r})),!this._validate(g.layer,"layers."+r,e,{arrayIndex:-1},n)){var o=i.create(e);this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}});var a=t?this._order.indexOf(t):this._order.length;if(t&&-1===a)return void this.fire("error",{error:new Error('Layer with id "'+t+'" does not exist on this map.')});if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o,this._removedLayers[r]&&o.source){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o)}},t.prototype.moveLayer=function(e,t){if(this._checkLoaded(),this._changed=!0,this._layers[e]){var n=this._order.indexOf(e);this._order.splice(n,1);var r=t?this._order.indexOf(t):this._order.length;t&&-1===r?this.fire("error",{error:new Error('Layer with id "'+t+'" does not exist on this map.')}):(this._order.splice(r,0,e),this._layerOrderChanged=!0)}else this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")})},t.prototype.removeLayer=function(e){this._checkLoaded();var t=this._layers[e];if(t){t.setEventedParent(null);var n=this._order.indexOf(e);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=t,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e]}else this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")})},t.prototype.getLayer=function(e){return this._layers[e]},t.prototype.setLayerZoomRange=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);r?r.minzoom===t&&r.maxzoom===n||(null!=t&&(r.minzoom=t),null!=n&&(r.maxzoom=n),this._updateLayer(r)):this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")})},t.prototype.setFilter=function(e,t){this._checkLoaded();var n=this.getLayer(e);if(n)return c.deepEqual(n.filter,t)?void 0:null===t||void 0===t?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(g.filter,"layers."+n.id+".filter",t)||(n.filter=c.clone(t),this._updateLayer(n)));this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")})},t.prototype.getFilter=function(e){return c.clone(this.getLayer(e).filter)},t.prototype.setLayoutProperty=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);r?c.deepEqual(r.getLayoutProperty(t),n)||(r.setLayoutProperty(t,n),this._updateLayer(r)):this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")})},t.prototype.getLayoutProperty=function(e,t){return this.getLayer(e).getLayoutProperty(t)},t.prototype.setPaintProperty=function(e,t,n){this._checkLoaded();var r=this.getLayer(e);if(r){if(!c.deepEqual(r.getPaintProperty(t),n)){var i=r._transitionablePaint._values[t].value.isDataDriven();r.setPaintProperty(t,n),(r._transitionablePaint._values[t].value.isDataDriven()||i)&&this._updateLayer(r),this._changed=!0,this._updatedPaintProps[e]=!0}}else this.fire("error",{error:new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")})},t.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},t.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.serialize=function(){var e=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(e){return void 0!==e})},t.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},t.prototype._flattenRenderedFeatures=function(e){for(var t=[],n=this._order.length-1;n>=0;n--)for(var r=this._order[n],i=0,o=e;i<o.length;i+=1){var a=o[i][r];if(a)for(var s=0,u=a;s<u.length;s+=1){var l=u[s];t.push(l)}}return t},t.prototype.queryRenderedFeatures=function(e,t,n,r){var i=this;t&&t.filter&&this._validate(g.filter,"queryRenderedFeatures.filter",t.filter);var o={};if(t&&t.layers){if(!Array.isArray(t.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=t.layers;a<s.length;a+=1){var u=s[a],l=i._layers[u];if(!l)return i.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."}),[];o[l.source]=!0}}var c=[];for(var p in i.sourceCaches)if(!t.layers||o[p]){var f=m.rendered(i.sourceCaches[p],i._layers,e,t,n,r,i.placement?i.placement.collisionIndex:null);c.push(f)}return this._flattenRenderedFeatures(c)},t.prototype.querySourceFeatures=function(e,t){t&&t.filter&&this._validate(g.filter,"querySourceFeatures.filter",t.filter);var n=this.sourceCaches[e];return n?m.source(n,t):[]},t.prototype.addSourceType=function(e,t,n){return y(e)?n(new Error('A source type called "'+e+'" already exists.')):(v(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(e){this._checkLoaded();var t=this.light.getLight(),n=!1;for(var r in e)if(!c.deepEqual(e[r],t[r])){n=!0;break}if(n){var i={now:h.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e),this.light.updateTransitions(i)}},t.prototype._validate=function(e,t,n,r,i){return(!i||!1!==i.validate)&&g.emitErrors(this,e.call(g,c.extend({key:t,style:this.serialize(),value:n,styleSpec:A},r)))},t.prototype._remove=function(){for(var e in E.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},t.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},t.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},t.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},t.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},t.prototype._updatePlacement=function(e,t,n){for(var r=this,i=!1,o=!1,a={},s=0,u=r._order;s<u.length;s+=1){var l=u[s],c=r._layers[l];if("symbol"===c.type){if(!a[c.source]){var p=r.sourceCaches[c.source];a[c.source]=p.getRenderableIds().map(function(e){return p.getTileByID(e)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}var f=r.crossTileSymbolIndex.addLayer(c,a[c.source]);i=i||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(h.now()))&&(this.pauseablePlacement=new T(e,this._order,d,t,n),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,h.now()),o=!0),i&&this.pauseablePlacement.placement.setStale()),o||i)for(var g=0,y=r._order;g<y.length;g+=1){var v=y[g],m=r._layers[v];"symbol"===m.type&&r.placement.updateLayerOpacities(m,a[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(h.now())},t.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n)},t.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},t}(r);t.exports=P},{"../render/glyph_manager":86,"../render/image_manager":88,"../render/line_atlas":89,"../source/geojson_source":99,"../source/query_features":105,"../source/rtl_text_plugin":109,"../source/source":110,"../source/source_cache":111,"../style-spec/deref":120,"../style-spec/diff":121,"../style-spec/reference/latest":151,"../symbol/cross_tile_symbol_index":218,"../util/ajax":251,"../util/browser":252,"../util/dispatcher":258,"../util/evented":260,"../util/global_worker_pool":262,"../util/mapbox":267,"../util/util":275,"./light":183,"./load_sprite":185,"./pauseable_placement":187,"./style_layer":191,"./validate_style":211,"./zoom_history":212}],191:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../style-spec/reference/latest"),o=e("./validate_style"),a=e("../util/evented"),s=e("./properties"),u=s.Layout,l=s.Transitionable,c=(s.Transitioning,s.Properties,function(e){function t(t,n){for(var r in e.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.visibility="visible","background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),this._featureFilter=function(){return!0},n.layout&&(this._unevaluatedLayout=new u(n.layout)),this._transitionablePaint=new l(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){if(null!==t&&void 0!==t){var r="layers."+this.id+".layout."+e;if(this._validate(o.layoutProperty,r,e,t,n))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility="none"===t?t:"visible"},t.prototype.getPaintProperty=function(e){return r.endsWith(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(null!==t&&void 0!==t){var i="layers."+this.id+".paint."+e;if(this._validate(o.paintProperty,i,e,t,n))return}r.endsWith(e,"-transition")?this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0):this._transitionablePaint.setValue(e,t)},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(e.layout=e.layout||{},e.layout.visibility="none"),r.filterObject(e,function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,n,r,a){return(!a||!1!==a.validate)&&o.emitErrors(this,e.call(o,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:i,style:{glyphs:!0,sprite:!0}}))},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t}(a));t.exports=c;var p={circle:e("./style_layer/circle_style_layer"),heatmap:e("./style_layer/heatmap_style_layer"),hillshade:e("./style_layer/hillshade_style_layer"),fill:e("./style_layer/fill_style_layer"),"fill-extrusion":e("./style_layer/fill_extrusion_style_layer"),line:e("./style_layer/line_style_layer"),symbol:e("./style_layer/symbol_style_layer"),background:e("./style_layer/background_style_layer"),raster:e("./style_layer/raster_style_layer")};c.create=function(e){return new p[e.type](e)}},{"../style-spec/reference/latest":151,"../util/evented":260,"../util/util":275,"./properties":188,"./style_layer/background_style_layer":192,"./style_layer/circle_style_layer":194,"./style_layer/fill_extrusion_style_layer":196,"./style_layer/fill_style_layer":198,"./style_layer/heatmap_style_layer":200,"./style_layer/hillshade_style_layer":202,"./style_layer/line_style_layer":204,"./style_layer/raster_style_layer":206,"./style_layer/symbol_style_layer":208,"./validate_style":211}],192:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("./background_style_layer_properties"),o=e("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(e){function t(t){e.call(this,t,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(r));t.exports=a},{"../properties":188,"../style_layer":191,"./background_style_layer_properties":193}],193:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty),u=(i.HeatmapColorProperty,new o({"background-color":new a(r.paint_background["background-color"]),"background-pattern":new s(r.paint_background["background-pattern"]),"background-opacity":new a(r.paint_background["background-opacity"])}));t.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],194:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/circle_bucket"),o=e("../../util/intersection_tests").multiPolygonIntersectsBufferedMultiPoint,a=e("../query_utils"),s=a.getMaximumPaintValue,u=a.translateDistance,l=a.translate,c=e("./circle_style_layer_properties"),p=e("../properties"),f=(p.Transitionable,p.Transitioning,p.PossiblyEvaluated,function(e){function t(t){e.call(this,t,c)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new i(e)},t.prototype.queryRadius=function(e){var t=e;return s("circle-radius",this,t)+s("circle-stroke-width",this,t)+u(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a){var s=l(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i,a),u=this.paint.get("circle-radius").evaluate(t)*a,c=this.paint.get("circle-stroke-width").evaluate(t)*a;return o(s,n,u+c)},t}(r));t.exports=f},{"../../data/bucket/circle_bucket":42,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./circle_style_layer_properties":195}],195:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=(i.CrossFadedProperty,i.HeatmapColorProperty,new o({"circle-radius":new s(r.paint_circle["circle-radius"]),"circle-color":new s(r.paint_circle["circle-color"]),"circle-blur":new s(r.paint_circle["circle-blur"]),"circle-opacity":new s(r.paint_circle["circle-opacity"]),"circle-translate":new a(r.paint_circle["circle-translate"]),"circle-translate-anchor":new a(r.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(r.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(r.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(r.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(r.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(r.paint_circle["circle-stroke-opacity"])}));t.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],196:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/fill_extrusion_bucket"),o=e("../../util/intersection_tests").multiPolygonIntersectsMultiPolygon,a=e("../query_utils"),s=a.translateDistance,u=a.translate,l=e("./fill_extrusion_style_layer_properties"),c=e("../properties"),p=(c.Transitionable,c.Transitioning,c.PossiblyEvaluated,function(e){function t(t){e.call(this,t,l)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new i(e)},t.prototype.queryRadius=function(){return s(this.paint.get("fill-extrusion-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a){var s=u(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i,a);return o(s,n)},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},t.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},t}(r));t.exports=p},{"../../data/bucket/fill_extrusion_bucket":46,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_extrusion_style_layer_properties":197}],197:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=(i.HeatmapColorProperty,new o({"fill-extrusion-opacity":new a(r["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(r["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(r["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(r["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new u(r["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(r["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(r["paint_fill-extrusion"]["fill-extrusion-base"])}));t.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],198:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/fill_bucket"),o=e("../../util/intersection_tests").multiPolygonIntersectsMultiPolygon,a=e("../query_utils"),s=a.translateDistance,u=a.translate,l=e("./fill_style_layer_properties"),c=e("../properties"),p=(c.Transitionable,c.Transitioning,c.PossiblyEvaluated,function(e){function t(t){e.call(this,t,l)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(e){this.paint=this._transitioningPaint.possiblyEvaluate(e),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new i(e)},t.prototype.queryRadius=function(){return s(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a){var s=u(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i,a);return o(s,n)},t}(r));t.exports=p},{"../../data/bucket/fill_bucket":44,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_style_layer_properties":199}],199:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=(i.HeatmapColorProperty,new o({"fill-antialias":new a(r.paint_fill["fill-antialias"]),"fill-opacity":new s(r.paint_fill["fill-opacity"]),"fill-color":new s(r.paint_fill["fill-color"]),"fill-outline-color":new s(r.paint_fill["fill-outline-color"]),"fill-translate":new a(r.paint_fill["fill-translate"]),"fill-translate-anchor":new a(r.paint_fill["fill-translate-anchor"]),"fill-pattern":new u(r.paint_fill["fill-pattern"])}));t.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],200:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/heatmap_bucket"),o=e("../../util/image").RGBAImage,a=e("./heatmap_style_layer_properties"),s=e("../properties"),u=(s.Transitionable,s.Transitioning,s.PossiblyEvaluated,function(e){function t(t){e.call(this,t,a),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new i(e)},t.prototype.setPaintProperty=function(t,n,r){e.prototype.setPaintProperty.call(this,t,n,r),"heatmap-color"===t&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){for(var e=this._transitionablePaint._values["heatmap-color"].value.expression,t=new Uint8Array(1024),n=t.length,r=4;r<n;r+=4){var i=e.evaluate({heatmapDensity:r/n});t[r+0]=Math.floor(255*i.r/i.a),t[r+1]=Math.floor(255*i.g/i.a),t[r+2]=Math.floor(255*i.b/i.a),t[r+3]=Math.floor(255*i.a)}this.colorRamp=new o({width:256,height:1},t),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(r));t.exports=u},{"../../data/bucket/heatmap_bucket":47,"../../util/image":263,"../properties":188,"../style_layer":191,"./heatmap_style_layer_properties":201}],201:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=(i.CrossFadedProperty,i.HeatmapColorProperty),l=new o({"heatmap-radius":new s(r.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(r.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(r.paint_heatmap["heatmap-intensity"]),"heatmap-color":new u(r.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(r.paint_heatmap["heatmap-opacity"])});t.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],202:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("./hillshade_style_layer_properties"),o=e("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(e){function t(t){e.call(this,t,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(r));t.exports=a},{"../properties":188,"../style_layer":191,"./hillshade_style_layer_properties":203}],203:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty,i.HeatmapColorProperty,new o({"hillshade-illumination-direction":new a(r.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new a(r.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new a(r.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new a(r.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new a(r.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new a(r.paint_hillshade["hillshade-accent-color"])}));t.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],204:[function(e,t,n){"use strict";function r(e,t){return t>0?t+2*e:e}var i=e("@mapbox/point-geometry"),o=e("../style_layer"),a=e("../../data/bucket/line_bucket"),s=e("../../util/intersection_tests").multiPolygonIntersectsBufferedMultiLine,u=e("../query_utils"),l=u.getMaximumPaintValue,c=u.translateDistance,p=u.translate,f=e("./line_style_layer_properties"),h=e("../../util/util").extend,d=e("../evaluation_parameters"),g=e("../properties"),y=(g.Transitionable,g.Transitioning,g.Layout,g.PossiblyEvaluated,new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new d(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r){return n=h({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r)},t}(g.DataDrivenProperty))(f.paint.properties["line-width"].specification));y.useIntegerZoom=!0;var v=function(e){function t(t){e.call(this,t,f)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=y.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new a(e)},t.prototype.queryRadius=function(e){var t=e,n=r(l("line-width",this,t),l("line-gap-width",this,t)),i=l("line-offset",this,t);return n/2+Math.abs(i)+c(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,o,a,u){var l=p(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a,u),c=u/2*r(this.paint.get("line-width").evaluate(t),this.paint.get("line-gap-width").evaluate(t)),f=this.paint.get("line-offset").evaluate(t);return f&&(n=function(e,t){for(var n=[],r=new i(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],u=0;u<a.length;u++){var l=a[u-1],c=a[u],p=a[u+1],f=0===u?r:c.sub(l)._unit()._perp(),h=u===a.length-1?r:p.sub(c)._unit()._perp(),d=f._add(h)._unit(),g=d.x*h.x+d.y*h.y;d._mult(1/g),s.push(d._mult(t)._add(c))}n.push(s)}return n}(n,f*u)),s(l,n,c)},t}(o);t.exports=v},{"../../data/bucket/line_bucket":49,"../../util/intersection_tests":264,"../../util/util":275,"../evaluation_parameters":182,"../properties":188,"../query_utils":189,"../style_layer":191,"./line_style_layer_properties":205,"@mapbox/point-geometry":4}],205:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=(i.HeatmapColorProperty,new o({"line-cap":new a(r.layout_line["line-cap"]),"line-join":new s(r.layout_line["line-join"]),"line-miter-limit":new a(r.layout_line["line-miter-limit"]),"line-round-limit":new a(r.layout_line["line-round-limit"])})),c=new o({"line-opacity":new s(r.paint_line["line-opacity"]),"line-color":new s(r.paint_line["line-color"]),"line-translate":new a(r.paint_line["line-translate"]),"line-translate-anchor":new a(r.paint_line["line-translate-anchor"]),"line-width":new s(r.paint_line["line-width"]),"line-gap-width":new s(r.paint_line["line-gap-width"]),"line-offset":new s(r.paint_line["line-offset"]),"line-blur":new s(r.paint_line["line-blur"]),"line-dasharray":new u(r.paint_line["line-dasharray"]),"line-pattern":new u(r.paint_line["line-pattern"])});t.exports={paint:c,layout:l}},{"../../style-spec/reference/latest":151,"../properties":188}],206:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("./raster_style_layer_properties"),o=e("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(e){function t(t){e.call(this,t,i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(r));t.exports=a},{"../properties":188,"../style_layer":191,"./raster_style_layer_properties":207}],207:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty,i.HeatmapColorProperty,new o({"raster-opacity":new a(r.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(r.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(r.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(r.paint_raster["raster-brightness-max"]),"raster-saturation":new a(r.paint_raster["raster-saturation"]),"raster-contrast":new a(r.paint_raster["raster-contrast"]),"raster-fade-duration":new a(r.paint_raster["raster-fade-duration"])}));t.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],208:[function(e,t,n){"use strict";var r=e("../style_layer"),i=e("../../data/bucket/symbol_bucket"),o=e("../../util/token"),a=e("../../style-spec/expression").isExpression,s=e("./symbol_style_layer_properties"),u=e("../properties"),l=(u.Transitionable,u.Transitioning,u.Layout,u.PossiblyEvaluated,function(e){function t(t){e.call(this,t,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var n=this.layout.get(e).evaluate(t),r=this._unevaluatedLayout._values[e];return r.isDataDriven()||a(r.value)?n:o(t.properties,n)},t.prototype.createBucket=function(e){return new i(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(r));t.exports=l},{"../../data/bucket/symbol_bucket":51,"../../style-spec/expression":139,"../../util/token":274,"../properties":188,"../style_layer":191,"./symbol_style_layer_properties":209}],209:[function(e,t,n){"use strict";var r=e("../../style-spec/reference/latest"),i=e("../properties"),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=(i.CrossFadedProperty,i.HeatmapColorProperty,new o({"symbol-placement":new a(r.layout_symbol["symbol-placement"]),"symbol-spacing":new a(r.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(r.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(r.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(r.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(r.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(r.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(r.layout_symbol["icon-size"]),"icon-text-fit":new a(r.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(r.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(r.layout_symbol["icon-image"]),"icon-rotate":new s(r.layout_symbol["icon-rotate"]),"icon-padding":new a(r.layout_symbol["icon-padding"]),"icon-keep-upright":new a(r.layout_symbol["icon-keep-upright"]),"icon-offset":new s(r.layout_symbol["icon-offset"]),"icon-anchor":new s(r.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(r.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(r.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(r.layout_symbol["text-rotation-alignment"]),"text-field":new s(r.layout_symbol["text-field"]),"text-font":new s(r.layout_symbol["text-font"]),"text-size":new s(r.layout_symbol["text-size"]),"text-max-width":new s(r.layout_symbol["text-max-width"]),"text-line-height":new a(r.layout_symbol["text-line-height"]),"text-letter-spacing":new s(r.layout_symbol["text-letter-spacing"]),"text-justify":new s(r.layout_symbol["text-justify"]),"text-anchor":new s(r.layout_symbol["text-anchor"]),"text-max-angle":new a(r.layout_symbol["text-max-angle"]),"text-rotate":new s(r.layout_symbol["text-rotate"]),"text-padding":new a(r.layout_symbol["text-padding"]),"text-keep-upright":new a(r.layout_symbol["text-keep-upright"]),"text-transform":new s(r.layout_symbol["text-transform"]),"text-offset":new s(r.layout_symbol["text-offset"]),"text-allow-overlap":new a(r.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(r.layout_symbol["text-ignore-placement"]),"text-optional":new a(r.layout_symbol["text-optional"])})),l=new o({"icon-opacity":new s(r.paint_symbol["icon-opacity"]),"icon-color":new s(r.paint_symbol["icon-color"]),"icon-halo-color":new s(r.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(r.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(r.paint_symbol["icon-halo-blur"]),"icon-translate":new a(r.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(r.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(r.paint_symbol["text-opacity"]),"text-color":new s(r.paint_symbol["text-color"]),"text-halo-color":new s(r.paint_symbol["text-halo-color"]),"text-halo-width":new s(r.paint_symbol["text-halo-width"]),"text-halo-blur":new s(r.paint_symbol["text-halo-blur"]),"text-translate":new a(r.paint_symbol["text-translate"]),"text-translate-anchor":new a(r.paint_symbol["text-translate-anchor"])});t.exports={paint:l,layout:u}},{"../../style-spec/reference/latest":151,"../properties":188}],210:[function(e,t,n){"use strict";var r=e("./style_layer"),i=e("../util/util"),o=e("../style-spec/feature_filter"),a=e("../style-spec/group_by_layout"),s=function(e){e&&this.replace(e)};s.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},s.prototype.update=function(e,t){for(var n=this,s=0,u=e;s<u.length;s+=1){var l=u[s];n._layerConfigs[l.id]=l;var c=n._layers[l.id]=r.create(l);c._featureFilter=o(c.filter)}for(var p=0,f=t;p<f.length;p+=1){var h=f[p];delete n._layerConfigs[h],delete n._layers[h]}this.familiesBySource={};for(var d=0,g=a(i.values(this._layerConfigs));d<g.length;d+=1){var y=g[d].map(function(e){return n._layers[e.id]}),v=y[0];if("none"!==v.visibility){var m=v.source||"",_=n.familiesBySource[m];_||(_=n.familiesBySource[m]={});var A=v.sourceLayer||"_geojsonTileLayer",b=_[A];b||(b=_[A]=[]),b.push(y)}}},t.exports=s},{"../style-spec/feature_filter":148,"../style-spec/group_by_layout":150,"../util/util":275,"./style_layer":191}],211:[function(e,t,n){"use strict";t.exports=e("../style-spec/validate_style.min"),t.exports.emitErrors=function(e,t){if(t&&t.length){for(var n=0,r=t;n<r.length;n+=1){var i=r[n].message;e.fire("error",{error:new Error(i)})}return!0}return!1}},{"../style-spec/validate_style.min":181}],212:[function(e,t,n){"use strict";var r=function(){this.first=!0};r.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))},t.exports=r},{}],213:[function(e,t,n){"use strict";var r=e("@mapbox/point-geometry"),i=e("../util/web_worker_transfer").register,o=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,void 0!==i&&(this.segment=i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(r);i("Anchor",o),t.exports=o},{"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],214:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=e[a-1],p=e[a],f=e[a+1];if(!f)return!1;var h=c.angleTo(p)-p.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:h}),l+=h;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=p.dist(f)}return!0}},{}],215:[function(e,t,n){"use strict";var r=e("@mapbox/point-geometry");t.exports=function(e,t,n,i,o){for(var a=[],s=0;s<e.length;s++)for(var u=e[s],l=void 0,c=0;c<u.length-1;c++){var p=u[c],f=u[c+1];p.x<t&&f.x<t||(p.x<t?p=new r(t,p.y+(f.y-p.y)*((t-p.x)/(f.x-p.x)))._round():f.x<t&&(f=new r(t,p.y+(f.y-p.y)*((t-p.x)/(f.x-p.x)))._round()),p.y<n&&f.y<n||(p.y<n?p=new r(p.x+(f.x-p.x)*((n-p.y)/(f.y-p.y)),n)._round():f.y<n&&(f=new r(p.x+(f.x-p.x)*((n-p.y)/(f.y-p.y)),n)._round()),p.x>=i&&f.x>=i||(p.x>=i?p=new r(i,p.y+(f.y-p.y)*((i-p.x)/(f.x-p.x)))._round():f.x>=i&&(f=new r(i,p.y+(f.y-p.y)*((i-p.x)/(f.x-p.x)))._round()),p.y>=o&&f.y>=o||(p.y>=o?p=new r(p.x+(f.x-p.x)*((o-p.y)/(f.y-p.y)),o)._round():f.y>=o&&(f=new r(p.x+(f.x-p.x)*((o-p.y)/(f.y-p.y)),o)._round()),l&&p.equals(l[l.length-1])||(l=[p],a.push(l)),l.push(f)))))}return a}},{"@mapbox/point-geometry":4}],216:[function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s,u,l,c){var p=a.top*s-u,f=a.bottom*s+u,h=a.left*s-u,d=a.right*s+u;if(this.boxStartIndex=e.length,l){var g=f-p,y=d-h;g>0&&(g=Math.max(10*s,g),this._addLineCollisionCircles(e,t,n,n.segment,y,g,r,i,o,c))}else e.emplaceBack(n.x,n.y,h,p,d,f,r,i,o,0,0);this.boxEndIndex=e.length};r.prototype._addLineCollisionCircles=function(e,t,n,r,i,o,a,s,u,l){var c=o/2,p=Math.floor(i/c),f=1+.4*Math.log(l)/Math.LN2,h=Math.floor(p*f/2),d=-o/2,g=n,y=r+1,v=d,m=-i/2,_=m-i/4;do{if(--y<0){if(v>m)return;y=0;break}v-=t[y].dist(g),g=t[y]}while(v>_);for(var A=t[y].dist(t[y+1]),b=-h;b<p+h;b++){var x=b*c,w=m+x;if(x<0&&(w+=x),x>i&&(w+=x-i),!(w<v)){for(;v+A<w;){if(v+=A,++y+1>=t.length)return;A=t[y].dist(t[y+1])}var E=w-v,T=t[y],M=t[y+1].sub(T)._unit()._mult(E)._add(T)._round(),S=Math.abs(w-d)<c?0:.8*(w-d);e.emplaceBack(M.x,M.y,-o/2,-o/2,o/2,o/2,a,s,u,o/2,S)}}},t.exports=r},{}],217:[function(e,t,n){"use strict";function r(e,t,n){e[t+4]=n?1:0}var i=e("@mapbox/point-geometry"),o=e("../util/intersection_tests"),a=e("./grid_index"),s=(e("@mapbox/gl-matrix").mat4,e("../symbol/projection")),u=function(e,t,n){void 0===t&&(t=new a(e.width+200,e.height+200,25)),void 0===n&&(n=new a(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100};u.prototype.placeCollisionBox=function(e,t,n,r){var i=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),o=n*i.perspectiveRatio,a=e.x1*o+i.point.x,s=e.y1*o+i.point.y,u=e.x2*o+i.point.x,l=e.y2*o+i.point.y;return!t&&this.grid.hitTest(a,s,u,l)?{box:[],offscreen:!1}:{box:[a,s,u,l],offscreen:this.isOffscreen(a,s,u,l)}},u.prototype.approximateTileDistance=function(e,t,n,r,i){var o=i?1:r/this.pitchfactor,a=e.lastSegmentViewportDistance*n;return e.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(t))},u.prototype.placeCollisionCircles=function(e,t,n,o,a,u,l,c,p,f,h,d,g){var y=this,v=[],m=this.projectAnchor(f,u.anchorX,u.anchorY),_=p/24,A=u.lineOffsetX*p,b=u.lineOffsetY*p,x=new i(u.anchorX,u.anchorY),w=s.project(x,h).point,E=s.placeFirstAndLastGlyph(_,c,A,b,!1,w,x,u,l,h,{},!0),T=!1,M=!0,S=m.perspectiveRatio*o,C=1/(o*n),I=0,P=0;E&&(I=this.approximateTileDistance(E.first.tileDistance,E.first.angle,C,m.cameraDistance,g),P=this.approximateTileDistance(E.last.tileDistance,E.last.angle,C,m.cameraDistance,g));for(var k=0;k<e.length;k+=5){var O=e[k],L=e[k+1],R=e[k+2],j=e[k+3];if(!E||j<-I||j>P)r(e,k,!1);else{var N=y.projectPoint(f,O,L),B=R*S;if(v.length>0){var D=N.x-v[v.length-4],F=N.y-v[v.length-3];if(B*B*2>D*D+F*F&&k+8<e.length){var z=e[k+8];if(z>-I&&z<P){r(e,k,!1);continue}}}var U=k/5;if(v.push(N.x,N.y,B,U),r(e,k,!0),M=M&&y.isOffscreen(N.x-B,N.y-B,N.x+B,N.y+B),!t&&y.grid.hitTestCircle(N.x,N.y,B)){if(!d)return{circles:[],offscreen:!1};T=!0}}}return{circles:T?[]:v,offscreen:M}},u.prototype.queryRenderedSymbols=function(e,t,n,r,a,s){var u={},l=[];if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return l;for(var c=this.transform.calculatePosMatrix(t.toUnwrapped()),p=[],f=1/0,h=1/0,d=-1/0,g=-1/0,y=0;y<e.length;y++)for(var v=e[y],m=0;m<v.length;m++){var _=this.projectPoint(c,v[m].x,v[m].y);f=Math.min(f,_.x),h=Math.min(h,_.y),d=Math.max(d,_.x),g=Math.max(g,_.y),p.push(_)}for(var A=t.key,b=[],x=this.grid.query(f,h,d,g),w=0;w<x.length;w++)x[w].sourceID===a&&x[w].tileID===A&&s[x[w].bucketInstanceId]&&b.push(x[w].boxIndex);for(var E=this.ignoredGrid.query(f,h,d,g),T=0;T<E.length;T++)E[T].sourceID===a&&E[T].tileID===A&&s[E[T].bucketInstanceId]&&b.push(E[T].boxIndex);for(var M=0;M<b.length;M++){var S=r.get(b[M]),C=S.sourceLayerIndex,I=S.featureIndex,P=S.bucketIndex;if(void 0===u[C]&&(u[C]={}),void 0===u[C][I]&&(u[C][I]={}),!u[C][I][P]){var k=this.projectAndGetPerspectiveRatio(c,S.anchorPointX,S.anchorPointY),O=n*k.perspectiveRatio,L=S.x1*O+k.point.x,R=S.y1*O+k.point.y,j=S.x2*O+k.point.x,N=S.y2*O+k.point.y,B=[new i(L,R),new i(j,R),new i(j,N),new i(L,N)];o.polygonIntersectsPolygon(p,B)&&(u[C][I][P]=!0,l.push(b[M]))}}return l},u.prototype.insertCollisionBox=function(e,t,n,r,i,o){var a={tileID:n,sourceID:r,bucketInstanceId:i,boxIndex:o};(t?this.ignoredGrid:this.grid).insert(a,e[0],e[1],e[2],e[3])},u.prototype.insertCollisionCircles=function(e,t,n,r,i,o){for(var a=t?this.ignoredGrid:this.grid,s=0;s<e.length;s+=4){var u={tileID:n,sourceID:r,bucketInstanceId:i,boxIndex:o+e[s+3]};a.insertCircle(u,e[s],e[s+1],e[s+2])}},u.prototype.projectAnchor=function(e,t,n){var r=[t,n,0,1];return s.xyTransformMat4(r,r,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},u.prototype.projectPoint=function(e,t,n){var r=[t,n,0,1];return s.xyTransformMat4(r,r,e),new i((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100)},u.prototype.projectAndGetPerspectiveRatio=function(e,t,n){var r=[t,n,0,1];return s.xyTransformMat4(r,r,e),{point:new i((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},u.prototype.isOffscreen=function(e,t,n,r){return n<100||e>=this.screenRightBoundary||r<100||t>this.screenBottomBoundary},t.exports=u},{"../symbol/projection":224,"../util/intersection_tests":264,"./grid_index":220,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],218:[function(e,t,n){"use strict";var r=e("../data/extent"),i=512/r/2,o=function(e,t,n){var r=this;this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0,o=t;i<o.length;i+=1){var a=o[i],s=a.key;r.indexedSymbolInstances[s]||(r.indexedSymbolInstances[s]=[]),r.indexedSymbolInstances[s].push({crossTileID:a.crossTileID,coord:r.getScaledCoordinates(a,e)})}};o.prototype.getScaledCoordinates=function(e,t){var n=t.canonical.z-this.tileID.canonical.z,o=i/Math.pow(2,n),a=e.anchor;return{x:Math.floor((t.canonical.x*r+a.x)*o),y:Math.floor((t.canonical.y*r+a.y)*o)}},o.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),i=0,o=e;i<o.length;i+=1){var a=o[i];if(!a.crossTileID){var s=this.indexedSymbolInstances[a.key];if(s)for(var u=this.getScaledCoordinates(a,t),l=0,c=s;l<c.length;l+=1){var p=c[l];if(Math.abs(p.coord.x-u.x)<=r&&Math.abs(p.coord.y-u.y)<=r&&!n[p.crossTileID]){n[p.crossTileID]=!0,a.crossTileID=p.crossTileID;break}}}}};var a=function(){this.maxCrossTileID=0};a.prototype.generate=function(){return++this.maxCrossTileID};var s=function(){this.indexes={},this.usedCrossTileIDs={}};s.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0,i=t.symbolInstances;r<i.length;r+=1)i[r].crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var a=this.usedCrossTileIDs[e.overscaledZ];for(var s in this.indexes){var u=this.indexes[s];if(Number(s)>e.overscaledZ)for(var l in u){var c=u[l];c.tileID.isChildOf(e)&&c.findMatches(t.symbolInstances,e,a)}else{var p=u[e.scaledTo(Number(s)).key];p&&p.findMatches(t.symbolInstances,e,a)}}for(var f=0,h=t.symbolInstances;f<h.length;f+=1){var d=h[f];d.crossTileID||(d.crossTileID=n.generate(),a[d.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new o(e,t.symbolInstances,t.bucketInstanceId),!0},s.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1){var o=i[r];delete this.usedCrossTileIDs[e][o.crossTileID]}},s.prototype.removeStaleBuckets=function(e){var t=this,n=!1;for(var r in t.indexes){var i=t.indexes[r];for(var o in i)e[i[o].bucketInstanceId]||(t.removeBucketCrossTileIDs(r,i[o]),delete i[o],n=!0)}return n};var u=function(){this.layerIndexes={},this.crossTileIDs=new a,this.maxBucketInstanceId=0};u.prototype.addLayer=function(e,t){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new s);for(var r=!1,i={},o=0,a=t;o<a.length;o+=1){var u=a[o],l=u.getBucket(e);l&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(u.tileID,l,this.crossTileIDs)&&(r=!0),i[l.bucketInstanceId]=!0)}return n.removeStaleBuckets(i)&&(r=!0),r},u.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[n]||delete this.layerIndexes[n]},t.exports=u},{"../data/extent":53}],219:[function(e,t,n){"use strict";var r=e("../style-spec/util/interpolate").number,i=e("../symbol/anchor"),o=e("./check_max_angle");t.exports=function(e,t,n,a,s,u,l,c,p){var f=a?.6*u*l:0,h=Math.max(a?a.right-a.left:0,s?s.right-s.left:0),d=0===e[0].x||e[0].x===p||0===e[0].y||e[0].y===p;return t-h*l<t/4&&(t=h*l+t/4),function e(t,n,a,s,u,l,c,p,f){for(var h=l/2,d=0,g=0;g<t.length-1;g++)d+=t[g].dist(t[g+1]);for(var y=0,v=n-a,m=[],_=0;_<t.length-1;_++){for(var A=t[_],b=t[_+1],x=A.dist(b),w=b.angleTo(A);v+a<y+x;){var E=((v+=a)-y)/x,T=r(A.x,b.x,E),M=r(A.y,b.y,E);if(T>=0&&T<f&&M>=0&&M<f&&v-h>=0&&v+h<=d){var S=new i(T,M,w,_);S._round(),s&&!o(t,S,l,s,u)||m.push(S)}}y+=x}return p||m.length||c||(m=e(t,y/2,a,s,u,l,c,!0,f)),m}(e,d?t/2*c%t:(h/2+2*u)*l*c%t,t,f,n,h*l,d,!1,p)}},{"../style-spec/util/interpolate":158,"../symbol/anchor":213,"./check_max_angle":214}],220:[function(e,t,n){"use strict";var r=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};r.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},r.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},r.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},r.prototype._insertBoxCell=function(e,t,n,r,i,o){this.boxCells[i].push(o)},r.prototype._insertCircleCell=function(e,t,n,r,i,o){this.circleCells[i].push(o)},r.prototype._query=function(e,t,n,r,i){if(n<0||e>this.width||r<0||t>this.height)return!i&&[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r)o=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:i,seenUids:{box:{},circle:{}}};this._forEachCell(e,t,n,r,this._queryCell,o,a)}return i?o.length>0:o},r.prototype._queryCircle=function(e,t,n,r){var i=e-n,o=e+n,a=t-n,s=t+n;if(o<0||i>this.width||s<0||a>this.height)return!r&&[];var u=[],l={hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(i,a,o,s,this._queryCellCircle,u,l),r?u.length>0:u},r.prototype.query=function(e,t,n,r){return this._query(e,t,n,r,!1)},r.prototype.hitTest=function(e,t,n,r){return this._query(e,t,n,r,!0)},r.prototype.hitTestCircle=function(e,t,n){return this._queryCircle(e,t,n,!0)},r.prototype._queryCell=function(e,t,n,r,i,o,a){var s=this,u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,p=0,f=l;p<f.length;p+=1){var h=f[p];if(!u.box[h]){u.box[h]=!0;var d=4*h;if(e<=c[d+2]&&t<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]){if(a.hitTest)return o.push(!0),!0;o.push(s.boxKeys[h])}}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,v=0,m=g;v<m.length;v+=1){var _=m[v];if(!u.circle[_]){u.circle[_]=!0;var A=3*_;if(s._circleAndRectCollide(y[A],y[A+1],y[A+2],e,t,n,r)){if(a.hitTest)return o.push(!0),!0;o.push(s.circleKeys[_])}}}},r.prototype._queryCellCircle=function(e,t,n,r,i,o,a){var s=a.circle,u=a.seenUids,l=this.boxCells[i];if(null!==l)for(var c=this.bboxes,p=0,f=l;p<f.length;p+=1){var h=f[p];if(!u.box[h]){u.box[h]=!0;var d=4*h;if(this._circleAndRectCollide(s.x,s.y,s.radius,c[d+0],c[d+1],c[d+2],c[d+3]))return o.push(!0),!0}}var g=this.circleCells[i];if(null!==g)for(var y=this.circles,v=0,m=g;v<m.length;v+=1){var _=m[v];if(!u.circle[_]){u.circle[_]=!0;var A=3*_;if(this._circlesCollide(y[A],y[A+1],y[A+2],s.x,s.y,s.radius))return o.push(!0),!0}}},r.prototype._forEachCell=function(e,t,n,r,i,o,a){for(var s=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),l=this._convertToXCellCoord(n),c=this._convertToYCellCoord(r),p=s;p<=l;p++)for(var f=u;f<=c;f++){var h=this.xCellCount*f+p;if(i.call(this,e,t,n,r,h,o,a))return}},r.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},r.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},r.prototype._circlesCollide=function(e,t,n,r,i,o){var a=r-e,s=i-t,u=n+o;return u*u>a*a+s*s},r.prototype._circleAndRectCollide=function(e,t,n,r,i,o,a){var s=(o-r)/2,u=Math.abs(e-(r+s));if(u>s+n)return!1;var l=(a-i)/2,c=Math.abs(t-(i+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var p=u-s,f=c-l;return p*p+f*f<=n*n},t.exports=r},{}],221:[function(e,t,n){"use strict";t.exports=function(e){function t(t){s.push(e[t]),u++}function n(e,t,n){var r=a[e];return delete a[e],a[t]=r,s[r].geometry[0].pop(),s[r].geometry[0]=s[r].geometry[0].concat(n[0]),r}function r(e,t,n){var r=o[t];return delete o[t],o[e]=r,s[r].geometry[0].shift(),s[r].geometry[0]=n[0].concat(s[r].geometry[0]),r}function i(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+":"+r.x+":"+r.y}for(var o={},a={},s=[],u=0,l=0;l<e.length;l++){var c=e[l],p=c.geometry,f=c.text;if(f){var h=i(f,p),d=i(f,p,!0);if(h in a&&d in o&&a[h]!==o[d]){var g=r(h,d,p),y=n(h,d,s[g].geometry);delete o[h],delete a[d],a[i(f,s[y].geometry,!0)]=y,s[g].geometry=null}else h in a?n(h,d,p):d in o?r(h,d,p):(t(l),o[h]=u-1,a[d]=u-1)}else t(l)}return s.filter(function(e){return e.geometry})}},{}],222:[function(e,t,n){"use strict";var r=e("../util/web_worker_transfer").register,i=function(){this.opacity=0,this.targetOpacity=0,this.time=0};i.prototype.clone=function(){var e=new i;return e.opacity=this.opacity,e.targetOpacity=this.targetOpacity,e.time=this.time,e},r("OpacityState",i),t.exports=i},{"../util/web_worker_transfer":278}],223:[function(e,t,n){"use strict";function r(e,t,n){e.emplaceBack(t?1:0,n?1:0),e.emplaceBack(t?1:0,n?1:0),e.emplaceBack(t?1:0,n?1:0),e.emplaceBack(t?1:0,n?1:0)}function i(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*g+t*y+n*v+t*m+n*_+t*A+n*b+t}var o=e("./collision_index"),a=e("../data/extent"),s=e("./symbol_size"),u=e("./projection"),l=e("../style/style_layer/symbol_style_layer_properties").layout,c=e("../source/pixels_to_tile_units"),p=function(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n};p.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var f=function(e,t,n,r,i){this.text=new p(e?e.text:null,t,n,i),this.icon=new p(e?e.icon:null,t,r,i)};f.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var h=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},d=function(e,t){this.transform=e.clone(),this.collisionIndex=new o(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=t};d.prototype.placeLayerTile=function(e,t,n,r){var i=t.getBucket(e);if(i){var o=i.layers[0].layout,s=Math.pow(2,this.transform.zoom-t.tileID.overscaledZ),l=t.tileSize/a,p=this.transform.calculatePosMatrix(t.tileID.toUnwrapped()),f=u.getLabelPlaneMatrix(p,"map"===o.get("text-pitch-alignment"),"map"===o.get("text-rotation-alignment"),this.transform,c(t,1,this.transform.zoom)),h=u.getLabelPlaneMatrix(p,"map"===o.get("icon-pitch-alignment"),"map"===o.get("icon-rotation-alignment"),this.transform,c(t,1,this.transform.zoom));this.placeLayerBucket(i,p,f,h,s,l,n,r,t.collisionBoxArray,t.tileID.key,e.source)}},d.prototype.placeLayerBucket=function(e,t,n,r,i,o,a,u,c,p,f){for(var d=this,g=e.layers[0].layout,y=s.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,l.properties["text-size"]),v=!e.hasTextData()||g.get("text-optional"),m=!e.hasIconData()||g.get("icon-optional"),_=0,A=e.symbolInstances;_<A.length;_+=1){var b=A[_];if(!u[b.crossTileID]){var x=!1,w=!1,E=!0,T=null,M=null,S=null;b.collisionArrays||(b.collisionArrays=e.deserializeCollisionBoxes(c,b.textBoxStartIndex,b.textBoxEndIndex,b.iconBoxStartIndex,b.iconBoxEndIndex)),b.collisionArrays.textBox&&(x=(T=d.collisionIndex.placeCollisionBox(b.collisionArrays.textBox,g.get("text-allow-overlap"),o,t)).box.length>0,E=E&&T.offscreen);var C=b.collisionArrays.textCircles;if(C){var I=e.text.placedSymbolArray.get(b.placedTextSymbolIndices[0]),P=s.evaluateSizeForFeature(e.textSizeData,y,I);M=d.collisionIndex.placeCollisionCircles(C,g.get("text-allow-overlap"),i,o,b.key,I,e.lineVertexArray,e.glyphOffsetArray,P,t,n,a,"map"===g.get("text-pitch-alignment")),x=g.get("text-allow-overlap")||M.circles.length>0,E=E&&M.offscreen}b.collisionArrays.iconBox&&(w=(S=d.collisionIndex.placeCollisionBox(b.collisionArrays.iconBox,g.get("icon-allow-overlap"),o,t)).box.length>0,E=E&&S.offscreen),v||m?m?v||(w=w&&x):x=w&&x:w=x=w&&x,x&&T&&d.collisionIndex.insertCollisionBox(T.box,g.get("text-ignore-placement"),p,f,e.bucketInstanceId,b.textBoxStartIndex),w&&S&&d.collisionIndex.insertCollisionBox(S.box,g.get("icon-ignore-placement"),p,f,e.bucketInstanceId,b.iconBoxStartIndex),x&&M&&d.collisionIndex.insertCollisionCircles(M.circles,g.get("text-ignore-placement"),p,f,e.bucketInstanceId,b.textBoxStartIndex),d.placements[b.crossTileID]=new h(x,w,E||e.justReloaded),u[b.crossTileID]=!0}}e.justReloaded=!1},d.prototype.commit=function(e,t){var n=this;this.commitTime=t;var r=!1,i=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,o=e?e.opacities:{};for(var a in n.placements){var s=n.placements[a],u=o[a];u?(n.opacities[a]=new f(u,i,s.text,s.icon),r=r||s.text!==u.text.placed||s.icon!==u.icon.placed):(n.opacities[a]=new f(null,i,s.text,s.icon,s.skipFade),r=r||s.text||s.icon)}for(var l in o){var c=o[l];if(!n.opacities[l]){var p=new f(c,i,!1,!1);p.isHidden()||(n.opacities[l]=p,r=r||c.text.placed||c.icon.placed)}}r?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},d.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.getBucket(e);a&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},d.prototype.updateBucketOpacities=function(e,t,n){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexArray.clear(),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexArray.clear();for(var o=e.layers[0].layout,a=new f(null,0,o.get("text-allow-overlap"),o.get("icon-allow-overlap"),!0),s=0;s<e.symbolInstances.length;s++){var u=e.symbolInstances[s],l=t[u.crossTileID],c=this.opacities[u.crossTileID];c?l&&(c=a):(c=a,this.opacities[u.crossTileID]=c),t[u.crossTileID]=!0;var p=u.numGlyphVertices>0||u.numVerticalGlyphVertices>0,h=u.numIconVertices>0;if(p){for(var d=i(c.text),g=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,y=0;y<g;y++)e.text.opacityVertexArray.emplaceBack(d);for(var v=0,m=u.placedTextSymbolIndices;v<m.length;v+=1){var _=m[v];e.text.placedSymbolArray.get(_).hidden=c.text.isHidden()}}if(h){for(var A=i(c.icon),b=0;b<u.numIconVertices/4;b++)e.icon.opacityVertexArray.emplaceBack(A);e.icon.placedSymbolArray.get(s).hidden=c.icon.isHidden()}u.collisionArrays||(u.collisionArrays=e.deserializeCollisionBoxes(n,u.textBoxStartIndex,u.textBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex));var x=u.collisionArrays;if(x){x.textBox&&e.hasCollisionBoxData()&&r(e.collisionBox.collisionVertexArray,c.text.placed,!1),x.iconBox&&e.hasCollisionBoxData()&&r(e.collisionBox.collisionVertexArray,c.icon.placed,!1);var w=x.textCircles;if(w&&e.hasCollisionCircleData())for(var E=0;E<w.length;E+=5){var T=l||0===w[E+4];r(e.collisionCircle.collisionVertexArray,c.text.placed,T)}}}e.sortFeatures(this.transform.angle),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(e.collisionBox.collisionVertexArray),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(e.collisionCircle.collisionVertexArray)},d.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},d.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},d.prototype.stillRecent=function(e){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>e},d.prototype.setStale=function(){this.stale=!0};var g=Math.pow(2,25),y=Math.pow(2,24),v=Math.pow(2,17),m=Math.pow(2,16),_=Math.pow(2,9),A=Math.pow(2,8),b=Math.pow(2,1);t.exports=d},{"../data/extent":53,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"./collision_index":217,"./projection":224,"./symbol_size":228}],224:[function(e,t,n){"use strict";function r(e,t){var n=[e.x,e.y,0,1];p(n,n,t);var r=n[3];return{point:new f(n[0]/r,n[1]/r),signedDistanceFromCamera:r}}function i(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function o(e,t,n,r,i,o,a,s,u,c,p,f){var h=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,g=s.lineStartIndex+s.lineLength,y=t.getoffsetX(s.glyphStartIndex),v=t.getoffsetX(h-1),m=l(e*y,n,r,i,o,a,s.segment,d,g,u,c,p,f);if(!m)return null;var _=l(e*v,n,r,i,o,a,s.segment,d,g,u,c,p,f);return _?{first:m,last:_}:null}function a(e,t,n,r){return e===_.horizontal&&Math.abs(n.y-t.y)>Math.abs(n.x-t.x)*r?{useVertical:!0}:(e===_.vertical?t.y<n.y:t.x>n.x)?{needsFlipping:!0}:null}function s(e,t,n,i,s,c,p,h,d,g,y,m,_,A){var b,x=t/24,w=e.lineOffsetX*t,E=e.lineOffsetY*t;if(e.numGlyphs>1){var T=e.glyphStartIndex+e.numGlyphs,M=e.lineStartIndex,S=e.lineStartIndex+e.lineLength,C=o(x,h,w,E,n,y,m,e,d,c,_,!1);if(!C)return{notEnoughRoom:!0};var I=r(C.first.point,p).point,P=r(C.last.point,p).point;if(i&&!n){var k=a(e.writingMode,I,P,A);if(k)return k}b=[C.first];for(var O=e.glyphStartIndex+1;O<T-1;O++)b.push(l(x*h.getoffsetX(O),w,E,n,y,m,e.segment,M,S,d,c,_,!1));b.push(C.last)}else{if(i&&!n){var L=r(m,s).point,R=e.lineStartIndex+e.segment+1,j=new f(d.getx(R),d.gety(R)),N=r(j,s),B=N.signedDistanceFromCamera>0?N.point:u(m,j,L,1,s),D=a(e.writingMode,L,B,A);if(D)return D}var F=l(x*h.getoffsetX(e.glyphStartIndex),w,E,n,y,m,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,d,c,_,!1);if(!F)return{notEnoughRoom:!0};b=[F]}for(var z=0,U=b;z<U.length;z+=1){var G=U[z];v(g,G.point,G.angle)}return{}}function u(e,t,n,i,o){var a=r(e.add(e.sub(t)._unit()),o).point,s=n.sub(a);return n.add(s._mult(i/s.mag()))}function l(e,t,n,i,o,a,s,l,c,p,h,d,g){var y=i?e-t:e+t,v=y>0?1:-1,m=0;i&&(v*=-1,m=Math.PI),v<0&&(m+=Math.PI);for(var _=v>0?l+s:l+s+1,A=_,b=o,x=o,w=0,E=0,T=Math.abs(y);w+E<=T;){if((_+=v)<l||_>=c)return null;if(x=b,void 0===(b=d[_])){var M=new f(p.getx(_),p.gety(_)),S=r(M,h);if(S.signedDistanceFromCamera>0)b=d[_]=S.point;else{var C=_-v;b=u(0===w?a:new f(p.getx(C),p.gety(C)),M,x,T-w+1,h)}}w+=E,E=x.dist(b)}var I=(T-w)/E,P=b.sub(x),k=P.mult(I)._add(x);return k._add(P._unit()._perp()._mult(n*v)),{point:k,angle:m+Math.atan2(b.y-x.y,b.x-x.x),tileDistance:g?{prevTileDistance:_-v===A?0:p.gettileUnitDistanceFromAnchor(_-v),lastSegmentViewportDistance:T-w}:null}}function c(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(A,3*r)}}function p(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var f=e("@mapbox/point-geometry"),h=e("@mapbox/gl-matrix"),d=h.mat4,g=h.vec4,y=e("./symbol_size"),v=e("../data/bucket/symbol_bucket").addDynamicAttributes,m=e("../style/style_layer/symbol_style_layer_properties").layout,_=e("../symbol/shaping").WritingMode;t.exports={updateLineLabels:function(e,t,n,o,a,u,l,p){var h=o?e.textSizeData:e.iconSizeData,d=y.evaluateSizeForZoom(h,n.transform.zoom,m.properties[o?"text-size":"icon-size"]),v=[256/n.width*2+1,256/n.height*2+1],A=o?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;A.clear();for(var b=e.lineVertexArray,x=o?e.text.placedSymbolArray:e.icon.placedSymbolArray,w=n.transform.width/n.transform.height,E=!1,T=0;T<x.length;T++){var M=x.get(T);if(M.hidden||M.writingMode===_.vertical&&!E)c(M.numGlyphs,A);else{E=!1;var S=[M.anchorX,M.anchorY,0,1];if(g.transformMat4(S,S,t),i(S,v)){var C=.5+S[3]/n.transform.cameraToCenterDistance*.5,I=y.evaluateSizeForFeature(h,d,M),P=l?I*C:I/C,k=new f(M.anchorX,M.anchorY),O=r(k,a).point,L={},R=s(M,P,!1,p,t,a,u,e.glyphOffsetArray,b,A,O,k,L,w);E=R.useVertical,(R.notEnoughRoom||E||R.needsFlipping&&s(M,P,!0,p,t,a,u,e.glyphOffsetArray,b,A,O,k,L,w).notEnoughRoom)&&c(M.numGlyphs,A)}else c(M.numGlyphs,A)}}o?e.text.dynamicLayoutVertexBuffer.updateData(A):e.icon.dynamicLayoutVertexBuffer.updateData(A)},getLabelPlaneMatrix:function(e,t,n,r,i){var o=d.identity(new Float32Array(16));return t?(d.identity(o),d.scale(o,o,[1/i,1/i,1]),n||d.rotateZ(o,o,r.angle)):(d.scale(o,o,[r.width/2,-r.height/2,1]),d.translate(o,o,[1,-1,0]),d.multiply(o,o,e)),o},getGlCoordMatrix:function(e,t,n,r,i){var o=d.identity(new Float32Array(16));return t?(d.multiply(o,o,e),d.scale(o,o,[i,i,1]),n||d.rotateZ(o,o,-r.angle)):(d.scale(o,o,[1,-1,1]),d.translate(o,o,[-1,-1,0]),d.scale(o,o,[2/r.width,2/r.height,1])),o},project:r,placeFirstAndLastGlyph:o,xyTransformMat4:p};var A=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":51,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/shaping":226,"./symbol_size":228,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],225:[function(e,t,n){"use strict";var r=e("@mapbox/point-geometry"),i=e("../style/parse_glyph_pbf").GLYPH_PBF_BORDER;t.exports={getIconQuads:function(e,t,n,i,o,a,s){var u,l,c,p,f=t.image,h=n.layout,d=t.top-1/f.pixelRatio,g=t.left-1/f.pixelRatio,y=t.bottom+1/f.pixelRatio,v=t.right+1/f.pixelRatio;if("none"!==h.get("icon-text-fit")&&o){var m=v-g,_=y-d,A=h.get("text-size").evaluate(s)/24,b=o.left*A,x=o.right*A,w=o.top*A,E=x-b,T=o.bottom*A-w,M=h.get("icon-text-fit-padding")[0],S=h.get("icon-text-fit-padding")[1],C=h.get("icon-text-fit-padding")[2],I=h.get("icon-text-fit-padding")[3],P="width"===h.get("icon-text-fit")?.5*(T-_):0,k="height"===h.get("icon-text-fit")?.5*(E-m):0,O="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?E:m,L="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?T:_;u=new r(b+k-I,w+P-M),l=new r(b+k+S+O,w+P-M),c=new r(b+k+S+O,w+P+C+L),p=new r(b+k-I,w+P+C+L)}else u=new r(g,d),l=new r(v,d),c=new r(v,y),p=new r(g,y);var R=n.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(R){var j=Math.sin(R),N=Math.cos(R),B=[N,-j,j,N];u._matMult(B),l._matMult(B),p._matMult(B),c._matMult(B)}return[{tl:u,tr:l,bl:p,br:c,tex:{x:f.textureRect.x-1,y:f.textureRect.y-1,w:f.textureRect.w+2,h:f.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]},getGlyphQuads:function(e,t,n,o,a,s,u){for(var l=n.layout.get("text-rotate").evaluate(s)*Math.PI/180,c=n.layout.get("text-offset").evaluate(s).map(function(e){return 24*e}),p=t.positionedGlyphs,f=[],h=0;h<p.length;h++){var d=p[h],g=u[d.glyph];if(g){var y=g.rect;if(y){var v=i+1,m=g.metrics.advance/2,_=o?[d.x+m,d.y]:[0,0],A=o?[0,0]:[d.x+m+c[0],d.y+c[1]],b=g.metrics.left-v-m+A[0],x=-g.metrics.top-v+A[1],w=b+y.w,E=x+y.h,T=new r(b,x),M=new r(w,x),S=new r(b,E),C=new r(w,E);if(o&&d.vertical){var I=new r(-m,m),P=-Math.PI/2,k=new r(5,0);T._rotateAround(P,I)._add(k),M._rotateAround(P,I)._add(k),S._rotateAround(P,I)._add(k),C._rotateAround(P,I)._add(k)}if(l){var O=Math.sin(l),L=Math.cos(l),R=[L,-O,O,L];T._matMult(R),M._matMult(R),S._matMult(R),C._matMult(R)}f.push({tl:T,tr:M,bl:S,br:C,tex:y,writingMode:t.writingMode,glyphOffset:_})}}}return f}}},{"../style/parse_glyph_pbf":186,"@mapbox/point-geometry":4}],226:[function(e,t,n){"use strict";function r(e,t,n,r){var i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function i(e,t){var n=0;return 10===e&&(n-=1e4),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function o(e,t,n,i,o,a){for(var s=null,u=r(t,n,o,a),l=0,c=i;l<c.length;l+=1){var p=c[l],f=r(t-p.x,n,o,a)+p.badness;f<=u&&(s=p,u=f)}return{index:e,x:t,priorBreak:s,badness:u}}function a(e,t,n,r){if(!n)return[];if(!e)return[];for(var a=[],s=function(e,t,n,r){for(var i=0,o=0;o<e.length;o++){var a=r[e.charCodeAt(o)];a&&(i+=a.metrics.advance+t)}return i/Math.max(1,Math.ceil(i/n))}(e,t,n,r),u=0,c=0;c<e.length;c++){var p=e.charCodeAt(c),f=r[p];f&&!h[p]&&(u+=f.metrics.advance+t),c<e.length-1&&(d[p]||l.charAllowsIdeographicBreaking(p))&&a.push(o(c+1,u,s,a,i(p,e.charCodeAt(c+1)),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(o(e.length,u,s,a,0,!0))}function s(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function u(e,t,n,r,i){if(i){var o=t[e[r].glyph];if(o)for(var a=o.metrics.advance,s=(e[r].x+a)*i,u=n;u<=r;u++)e[u].x-=s}}var l=e("../util/script_detection"),c=e("../util/verticalize_punctuation"),p=e("../source/rtl_text_plugin"),f={horizontal:1,vertical:2,horizontalOnly:3};t.exports={shapeText:function(e,t,n,r,i,o,h,d,g,y){var v=e.trim();y===f.vertical&&(v=c(v));var m=[],_={positionedGlyphs:m,text:v,top:d[1],bottom:d[1],left:d[0],right:d[0],writingMode:y},A=p.processBidirectionalText;return function(e,t,n,r,i,o,a,c,p){for(var h=0,d=-17,g=0,y=e.positionedGlyphs,v="right"===o?1:"left"===o?0:.5,m=0,_=n;m<_.length;m+=1){var A=_[m];if((A=A.trim()).length){for(var b=y.length,x=0;x<A.length;x++){var w=A.charCodeAt(x),E=t[w];E&&(l.charHasUprightVerticalOrientation(w)&&a!==f.horizontal?(y.push({glyph:w,x:h,y:0,vertical:!0}),h+=p+c):(y.push({glyph:w,x:h,y:d,vertical:!1}),h+=E.metrics.advance+c))}if(y.length!==b){var T=h-c;g=Math.max(T,g),u(y,t,b,y.length-1,v)}h=0,d+=r}else d+=r}var M=s(i),S=M.horizontalAlign,C=M.verticalAlign;!function(e,t,n,r,i,o,a){for(var s=(t-n)*i,u=(-r*a+.5)*o,l=0;l<e.length;l++)e[l].x+=s,e[l].y+=u}(y,v,S,C,g,r,n.length);var I=n.length*r;e.top+=-C*I,e.bottom=e.top+I,e.left+=-S*g,e.right=e.left+g}(_,t,A?A(v,a(v,h,n,t)):function(e,t){for(var n=[],r=0,i=0,o=t;i<o.length;i+=1){var a=o[i];n.push(e.substring(r,a)),r=a}return r<e.length&&n.push(e.substring(r,e.length)),n}(v,a(v,h,n,t)),r,i,o,y,h,g),!!m.length&&_},shapeIcon:function(e,t,n){var r=s(n),i=r.horizontalAlign,o=r.verticalAlign,a=t[0],u=t[1],l=a-e.displaySize[0]*i,c=l+e.displaySize[0],p=u-e.displaySize[1]*o;return{image:e,top:p,bottom:p+e.displaySize[1],left:l,right:c}},WritingMode:f};var h={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},d={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":109,"../util/script_detection":269,"../util/verticalize_punctuation":277}],227:[function(e,t,n){"use strict";function r(e,t,n,r,c,p){var f=p.layoutTextSize.evaluate(t),d=p.layoutIconSize.evaluate(t),g=p.textMaxSize.evaluate(t);void 0===g&&(g=f);var _=e.layers[0].layout,E=_.get("text-offset").evaluate(t),T=_.get("icon-offset").evaluate(t),M=f/24,S=e.tilePixelRatio*M,C=e.tilePixelRatio*g/24,I=e.tilePixelRatio*d,P=e.tilePixelRatio*_.get("symbol-spacing"),k=_.get("text-padding")*e.tilePixelRatio,O=_.get("icon-padding")*e.tilePixelRatio,L=_.get("text-max-angle")/180*Math.PI,R="map"===_.get("text-rotation-alignment")&&"line"===_.get("symbol-placement"),j="map"===_.get("icon-rotation-alignment")&&"line"===_.get("symbol-placement"),N=P/2,B=function(o,a){a.x<0||a.x>=x||a.y<0||a.y>=x||e.symbolInstances.push(function(e,t,n,r,o,a,s,u,c,p,f,d,g,_,A,b,x,E,T,M,S,C){var I,P,k=e.addToLineVertexArray(t,n),O=0,L=0,R=0,j=r.horizontal?r.horizontal.text:"",N=[];r.horizontal&&(I=new v(s,n,t,u,c,p,r.horizontal,f,d,g,e.overscaling),L+=i(e,t,r.horizontal,a,g,T,M,_,k,r.vertical?h.horizontal:h.horizontalOnly,N,S,C),r.vertical&&(R+=i(e,t,r.vertical,a,g,T,M,_,k,h.vertical,N,S,C)));var B=I?I.boxStartIndex:e.collisionBoxArray.length,D=I?I.boxEndIndex:e.collisionBoxArray.length;if(o){var F=y(t,o,a,x,r.horizontal,T,M);P=new v(s,n,t,u,c,p,o,A,b,!1,e.overscaling),O=4*F.length;var z=e.iconSizeData,U=null;"source"===z.functionType?U=[10*a.layout.get("icon-size").evaluate(M)]:"composite"===z.functionType&&(U=[10*C.compositeIconSizes[0].evaluate(M),10*C.compositeIconSizes[1].evaluate(M)]),e.addSymbols(e.icon,F,U,E,x,M,!1,t,k.lineStartIndex,k.lineLength)}var G=P?P.boxStartIndex:e.collisionBoxArray.length,V=P?P.boxEndIndex:e.collisionBoxArray.length;return e.glyphOffsetArray.length>=w.MAX_GLYPHS&&m.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:j,textBoxStartIndex:B,textBoxEndIndex:D,iconBoxStartIndex:G,iconBoxEndIndex:V,textOffset:_,iconOffset:E,anchor:t,line:n,featureIndex:u,feature:M,numGlyphVertices:L,numVerticalGlyphVertices:R,numIconVertices:O,textOpacityState:new l,iconOpacityState:new l,isDuplicate:!1,placedTextSymbolIndices:N,crossTileID:0}}(e,a,o,n,r,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,S,k,R,E,I,O,j,T,{zoom:e.zoom},t,c,p))};if("line"===_.get("symbol-placement"))for(var D=0,F=u(t.geometry,0,0,x,x);D<F.length;D+=1)for(var z=F[D],U=0,G=s(z,P,L,n.vertical||n.horizontal,r,24,C,e.overscaling,x);U<G.length;U+=1){var V=G[U],Y=n.horizontal;Y&&o(e,Y.text,N,V)||B(z,V)}else if("Polygon"===t.type)for(var H=0,W=b(t.geometry,0);H<W.length;H+=1){var Q=W[H],X=A(Q,16);B(Q[0],new a(X.x,X.y,0))}else if("LineString"===t.type)for(var Z=0,J=t.geometry;Z<J.length;Z+=1){var K=J[Z];B(K,new a(K[0].x,K[0].y,0))}else if("Point"===t.type)for(var q=0,$=t.geometry;q<$.length;q+=1)for(var ee=0,te=$[q];ee<te.length;ee+=1){var ne=te[ee];B([ne],new a(ne.x,ne.y,0))}}function i(e,t,n,r,i,o,a,s,u,l,c,p,f){var h=g(t,n,r,i,o,a,p),d=e.textSizeData,y=null;return"source"===d.functionType?y=[10*r.layout.get("text-size").evaluate(a)]:"composite"===d.functionType&&(y=[10*f.compositeTextSizes[0].evaluate(a),10*f.compositeTextSizes[1].evaluate(a)]),e.addSymbols(e.text,h,y,s,i,a,l,t,u.lineStartIndex,u.lineLength),c.push(e.text.placedSymbolArray.length-1),4*h.length}function o(e,t,n,r){var i=e.compareText;if(t in i){for(var o=i[t],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[t]=[];return i[t].push(r),!1}var a=e("./anchor"),s=e("./get_anchors"),u=e("./clip_line"),l=e("./opacity_state"),c=e("./shaping"),p=c.shapeText,f=c.shapeIcon,h=c.WritingMode,d=e("./quads"),g=d.getGlyphQuads,y=d.getIconQuads,v=e("./collision_feature"),m=e("../util/util"),_=e("../util/script_detection"),A=e("../util/find_pole_of_inaccessibility"),b=e("../util/classify_rings"),x=e("../data/extent"),w=e("../data/bucket/symbol_bucket"),E=e("../style/evaluation_parameters");e("@mapbox/point-geometry");t.exports={performSymbolLayout:function(e,t,n,i,o,a){e.createArrays(),e.symbolInstances=[];var s=512*e.overscaling;e.tilePixelRatio=x/s,e.compareText={},e.iconsNeedLinear=!1;var u=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,c={};if("composite"===e.textSizeData.functionType){var d=e.textSizeData.zoomRange,g=d.min,y=d.max;c.compositeTextSizes=[l["text-size"].possiblyEvaluate(new E(g)),l["text-size"].possiblyEvaluate(new E(y))]}if("composite"===e.iconSizeData.functionType){var v=e.iconSizeData.zoomRange,A=v.min,b=v.max;c.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new E(A)),l["icon-size"].possiblyEvaluate(new E(b))]}c.layoutTextSize=l["text-size"].possiblyEvaluate(new E(e.zoom+1)),c.layoutIconSize=l["icon-size"].possiblyEvaluate(new E(e.zoom+1)),c.textMaxSize=l["text-size"].possiblyEvaluate(new E(18));for(var w=24*u.get("text-line-height"),T="map"===u.get("text-rotation-alignment")&&"line"===u.get("symbol-placement"),M=u.get("text-keep-upright"),S=0,C=e.features;S<C.length;S+=1){var I=C[S],P=u.get("text-font").evaluate(I).join(","),k=t[P]||{},O=n[P]||{},L={},R=I.text;if(R){var j=_.allowsVerticalWritingMode(R),N=u.get("text-offset").evaluate(I).map(function(e){return 24*e}),B=24*u.get("text-letter-spacing").evaluate(I),D=_.allowsLetterSpacing(R)?B:0,F=u.get("text-anchor").evaluate(I),z=u.get("text-justify").evaluate(I),U="line"!==u.get("symbol-placement")?24*u.get("text-max-width").evaluate(I):0;L.horizontal=p(R,k,U,w,F,z,D,N,24,h.horizontal),j&&T&&M&&(L.vertical=p(R,k,U,w,F,z,D,N,24,h.vertical))}var G=void 0;if(I.icon){var V=i[I.icon];V&&(G=f(o[I.icon],u.get("icon-offset").evaluate(I),u.get("icon-anchor").evaluate(I)),void 0===e.sdfIcons?e.sdfIcons=V.sdf:e.sdfIcons!==V.sdf&&m.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),V.pixelRatio!==e.pixelRatio?e.iconsNeedLinear=!0:0!==u.get("icon-rotate").constantOr(1)&&(e.iconsNeedLinear=!0))}(L.horizontal||G)&&r(e,I,L,G,O,c)}a&&e.generateCollisionDebugBuffers()}}},{"../data/bucket/symbol_bucket":51,"../data/extent":53,"../style/evaluation_parameters":182,"../util/classify_rings":255,"../util/find_pole_of_inaccessibility":261,"../util/script_detection":269,"../util/util":275,"./anchor":213,"./clip_line":215,"./collision_feature":216,"./get_anchors":219,"./opacity_state":222,"./quads":225,"./shaping":226,"@mapbox/point-geometry":4}],228:[function(e,t,n){"use strict";var r=e("../style-spec/expression").normalizePropertyExpression,i=e("../style-spec/util/interpolate"),o=e("../util/util");t.exports={getSizeData:function(e,t){var n=t.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate({zoom:e+1})};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=e;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:t.value}:{functionType:"camera",layoutSize:n.evaluate({zoom:e+1}),zoomRange:a,sizeRange:{min:n.evaluate({zoom:a.min}),max:n.evaluate({zoom:a.max})},propertyValue:t.value}},evaluateSizeForFeature:function(e,t,n){var r=t;return"source"===e.functionType?n.lowerSize/10:"composite"===e.functionType?i.number(n.lowerSize/10,n.upperSize/10,r.uSizeT):r.uSize},evaluateSizeForZoom:function(e,t,n){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var i=e.propertyValue,a=e.zoomRange,s=e.sizeRange,u=r(i,n.specification),l=o.clamp(u.interpolationFactor(t,a.min,a.max),0,1);return{uSizeT:0,uSize:s.min+l*(s.max-s.min)}}var c=e.propertyValue,p=e.zoomRange,f=r(c,n.specification);return{uSizeT:o.clamp(f.interpolationFactor(t,p.min,p.max),0,1),uSize:0}}}},{"../style-spec/expression":139,"../style-spec/util/interpolate":158,"../util/util":275}],229:[function(e,t,n){"use strict";var r=e("../source/rtl_text_plugin");t.exports=function(e,t,n){var i=t.layout.get("text-transform").evaluate(n);return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),r.applyArabicShaping&&(e=r.applyArabicShaping(e)),e}},{"../source/rtl_text_plugin":109}],230:[function(e,t,n){"use strict";var r=e("../util/dom"),i=e("@mapbox/point-geometry"),o={scrollZoom:e("./handler/scroll_zoom"),boxZoom:e("./handler/box_zoom"),dragRotate:e("./handler/drag_rotate"),dragPan:e("./handler/drag_pan"),keyboard:e("./handler/keyboard"),doubleClickZoom:e("./handler/dblclick_zoom"),touchZoomRotate:e("./handler/touch_zoom_rotate")};t.exports=function(e,t){function n(){f=null}function a(t,n){var i=r.mousePos(u,n);return e.fire(t,{lngLat:e.unproject(i),point:i,originalEvent:n})}function s(t,n){var o=r.touchPos(u,n),a=o.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new i(0,0));return e.fire(t,{lngLat:e.unproject(a),point:a,lngLats:o.map(function(t){return e.unproject(t)},this),points:o,originalEvent:n})}var u=e.getCanvasContainer(),l=null,c=!1,p=null,f=null;for(var h in o)e[h]=new o[h](e,t),t.interactive&&t[h]&&e[h].enable(t[h]);u.addEventListener("mouseout",function(e){a("mouseout",e)},!1),u.addEventListener("mousedown",function(t){e.doubleClickZoom.isActive()||e.stop(),p=r.mousePos(u,t),a("mousedown",t),c=!0},!1),u.addEventListener("mouseup",function(t){var n=e.dragRotate&&e.dragRotate.isActive();l&&!n&&a("contextmenu",l),l=null,c=!1,a("mouseup",t)},!1),u.addEventListener("mousemove",function(t){if(!(e.dragPan&&e.dragPan.isActive()||e.dragRotate&&e.dragRotate.isActive())){for(var n=t.toElement||t.target;n&&n!==u;)n=n.parentNode;n===u&&a("mousemove",t)}},!1),u.addEventListener("mouseover",function(e){for(var t=e.toElement||e.target;t&&t!==u;)t=t.parentNode;t===u&&a("mouseover",e)},!1),u.addEventListener("touchstart",function(t){e.stop(),s("touchstart",t),!t.touches||t.touches.length>1||(f?(clearTimeout(f),f=null,a("dblclick",t)):f=setTimeout(n,300))},!1),u.addEventListener("touchend",function(e){s("touchend",e)},!1),u.addEventListener("touchmove",function(e){s("touchmove",e)},!1),u.addEventListener("touchcancel",function(e){s("touchcancel",e)},!1),u.addEventListener("click",function(e){r.mousePos(u,e).equals(p)&&a("click",e)},!1),u.addEventListener("dblclick",function(e){a("dblclick",e),e.preventDefault()},!1),u.addEventListener("contextmenu",function(t){var n=e.dragRotate&&e.dragRotate.isActive();c||n?c&&(l=t):a("contextmenu",t),t.preventDefault()},!1)}},{"../util/dom":259,"./handler/box_zoom":239,"./handler/dblclick_zoom":240,"./handler/drag_pan":241,"./handler/drag_rotate":242,"./handler/keyboard":243,"./handler/scroll_zoom":244,"./handler/touch_zoom_rotate":245,"@mapbox/point-geometry":4}],231:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../style-spec/util/interpolate").number,o=e("../util/browser"),a=e("../geo/lng_lat"),s=e("../geo/lng_lat_bounds"),u=e("@mapbox/point-geometry"),l=function(e){function t(t,n){e.call(this),this.moving=!1,this.transform=t,this._bearingSnap=n.bearingSnap}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},t.prototype.panBy=function(e,t,n){return e=u.convert(e).mult(-1),this.panTo(this.transform.center,r.extend({offset:e},t),n)},t.prototype.panTo=function(e,t,n){return this.easeTo(r.extend({center:e},t),n)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},t.prototype.zoomTo=function(e,t,n){return this.easeTo(r.extend({zoom:e},t),n)},t.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},t.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},t.prototype.rotateTo=function(e,t,n){return this.easeTo(r.extend({bearing:e},t),n)},t.prototype.resetNorth=function(e,t){return this.rotateTo(0,r.extend({duration:1e3},e),t),this},t.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},t.prototype.fitBounds=function(e,t,n){if("number"==typeof(t=r.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){var i=t.padding;t.padding={top:i,bottom:i,right:i,left:i}}if(!r.deepEqual(Object.keys(t.padding).sort(function(e,t){return e<t?-1:e>t?1:0}),["bottom","left","right","top"]))return r.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;e=s.convert(e);var o=[(t.padding.left-t.padding.right)/2,(t.padding.top-t.padding.bottom)/2],a=Math.min(t.padding.right,t.padding.left),l=Math.min(t.padding.top,t.padding.bottom);t.offset=[t.offset[0]+o[0],t.offset[1]+o[1]];var c=u.convert(t.offset),p=this.transform,f=p.project(e.getNorthWest()),h=p.project(e.getSouthEast()),d=h.sub(f),g=(p.width-2*a-2*Math.abs(c.x))/d.x,y=(p.height-2*l-2*Math.abs(c.y))/d.y;return y<0||g<0?(r.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(t.center=p.unproject(f.add(h).div(2)),t.zoom=Math.min(p.scaleZoom(p.scale*Math.min(g,y)),t.maxZoom),t.bearing=0,t.linear?this.easeTo(t,n):this.flyTo(t,n))},t.prototype.jumpTo=function(e,t){this.stop();var n=this.transform,r=!1,i=!1,o=!1;return"zoom"in e&&n.zoom!==+e.zoom&&(r=!0,n.zoom=+e.zoom),void 0!==e.center&&(n.center=a.convert(e.center)),"bearing"in e&&n.bearing!==+e.bearing&&(i=!0,n.bearing=+e.bearing),"pitch"in e&&n.pitch!==+e.pitch&&(o=!0,n.pitch=+e.pitch),this.fire("movestart",t).fire("move",t),r&&this.fire("zoomstart",t).fire("zoom",t).fire("zoomend",t),i&&this.fire("rotate",t),o&&this.fire("pitchstart",t).fire("pitch",t).fire("pitchend",t),this.fire("moveend",t)},t.prototype.easeTo=function(e,t){var n=this;this.stop(),!1===(e=r.extend({offset:[0,0],duration:500,easing:r.ease},e)).animate&&(e.duration=0);var o=this.transform,s=this.getZoom(),l=this.getBearing(),c=this.getPitch(),p="zoom"in e?+e.zoom:s,f="bearing"in e?this._normalizeBearing(e.bearing,l):l,h="pitch"in e?+e.pitch:c,d=o.centerPoint.add(u.convert(e.offset)),g=o.pointLocation(d),y=a.convert(e.center||g);this._normalizeCenter(y);var v,m,_=o.project(g),A=o.project(y).sub(_),b=o.zoomScale(p-s);return e.around&&(v=a.convert(e.around),m=o.locationPoint(v)),this.zooming=p!==s,this.rotating=l!==f,this.pitching=h!==c,this._prepareEase(t,e.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(e){if(n.zooming&&(o.zoom=i(s,p,e)),n.rotating&&(o.bearing=i(l,f,e)),n.pitching&&(o.pitch=i(c,h,e)),v)o.setLocationAtPoint(v,m);else{var r=o.zoomScale(o.zoom-s),a=p>s?Math.min(2,b):Math.max(.5,b),u=Math.pow(a,1-e),g=o.unproject(_.add(A.mult(e*u)).mult(r));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,d)}n._fireMoveEvents(t)},function(){e.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._afterEase(t)},e.delayEndEvents):n._afterEase(t)},e),this},t.prototype._prepareEase=function(e,t){this.moving=!0,t||this.fire("movestart",e),this.zooming&&this.fire("zoomstart",e),this.pitching&&this.fire("pitchstart",e)},t.prototype._fireMoveEvents=function(e){this.fire("move",e),this.zooming&&this.fire("zoom",e),this.rotating&&this.fire("rotate",e),this.pitching&&this.fire("pitch",e)},t.prototype._afterEase=function(e){var t=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,t&&this.fire("zoomend",e),n&&this.fire("pitchend",e),this.fire("moveend",e)},t.prototype.flyTo=function(e,t){function n(e){var t=(T*T-E*E+(e?-1:1)*I*I*M*M)/(2*(e?T:E)*I*M);return Math.log(Math.sqrt(t*t+1)-t)}function o(e){return(Math.exp(e)-Math.exp(-e))/2}function s(e){return(Math.exp(e)+Math.exp(-e))/2}var l=this;this.stop(),e=r.extend({offset:[0,0],speed:1.2,curve:1.42,easing:r.ease},e);var c=this.transform,p=this.getZoom(),f=this.getBearing(),h=this.getPitch(),d="zoom"in e?r.clamp(+e.zoom,c.minZoom,c.maxZoom):p,g="bearing"in e?this._normalizeBearing(e.bearing,f):f,y="pitch"in e?+e.pitch:h,v=c.zoomScale(d-p),m=c.centerPoint.add(u.convert(e.offset)),_=c.pointLocation(m),A=a.convert(e.center||_);this._normalizeCenter(A);var b=c.project(_),x=c.project(A).sub(b),w=e.curve,E=Math.max(c.width,c.height),T=E/v,M=x.mag();if("minZoom"in e){var S=r.clamp(Math.min(e.minZoom,p,d),c.minZoom,c.maxZoom),C=E/c.zoomScale(S-p);w=Math.sqrt(C/M*2)}var I=w*w,P=n(0),k=function(e){return s(P)/s(P+w*e)},O=function(e){return E*((s(P)*function(e){return o(e)/s(e)}(P+w*e)-o(P))/I)/M},L=(n(1)-P)/w;if(Math.abs(M)<1e-6||!isFinite(L)){if(Math.abs(E-T)<1e-6)return this.easeTo(e,t);var R=T<E?-1:1;L=Math.abs(Math.log(T/E))/w,O=function(){return 0},k=function(e){return Math.exp(R*w*e)}}if("duration"in e)e.duration=+e.duration;else{var j="screenSpeed"in e?+e.screenSpeed/w:+e.speed;e.duration=1e3*L/j}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this.zooming=!0,this.rotating=f!==g,this.pitching=y!==h,this._prepareEase(t,!1),this._ease(function(e){var n=e*L,r=1/k(n);c.zoom=p+c.scaleZoom(r),l.rotating&&(c.bearing=i(f,g,e)),l.pitching&&(c.pitch=i(h,y,e));var o=c.unproject(b.add(x.mult(O(n))).mult(r));c.setLocationAtPoint(c.renderWorldCopies?o.wrap():o,m),l._fireMoveEvents(t)},function(){return l._afterEase(t)},e),this},t.prototype.isEasing=function(){return!!this._isEasing},t.prototype.isMoving=function(){return this.moving},t.prototype.stop=function(){return this._onFrame&&this._finishAnimation(),this},t.prototype._ease=function(e,t,n){var r=this;!1===n.animate||0===n.duration?(e(1),t()):(this._easeStart=o.now(),this._isEasing=!0,this._easeOptions=n,this._startAnimation(function(t){var n=Math.min((o.now()-r._easeStart)/r._easeOptions.duration,1);e(r._easeOptions.easing(n)),1===n&&r.stop()},function(){r._isEasing=!1,t()}))},t.prototype._updateCamera=function(){this._onFrame&&this._onFrame(this.transform)},t.prototype._startAnimation=function(e,t){return void 0===t&&(t=function(){}),this.stop(),this._onFrame=e,this._finishFn=t,this._update(),this},t.prototype._finishAnimation=function(){delete this._onFrame;var e=this._finishFn;delete this._finishFn,e.call(this)},t.prototype._normalizeBearing=function(e,t){e=r.wrap(e,-180,180);var n=Math.abs(e-t);return Math.abs(e-360-t)<n&&(e-=360),Math.abs(e+360-t)<n&&(e+=360),e},t.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},t}(e("../util/evented"));t.exports=l},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":158,"../util/browser":252,"../util/evented":260,"../util/util":275,"@mapbox/point-geometry":4}],232:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/config"),a=function(e){this.options=e,i.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var t=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(e){var n=t.reduce(function(e,n,r){return n.value&&(e+=n.key+"="+n.value+(r<t.length-1?"&":"")),e},"?");e.href="https://www.mapbox.com/feedback/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(e){e&&"metadata"===e.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r].getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}e.sort(function(e,t){return e.length-t.length}),(e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0})).length?(this._container.innerHTML=e.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},t.exports=a},{"../../util/config":256,"../../util/dom":259,"../../util/util":275}],233:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),a=function(){this._fullscreen=!1,i.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(e){return this._map=e,this._mapContainer=this._map.getContainer(),this._container=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",i.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){r.remove(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(o.document.fullscreenEnabled||o.document.mozFullScreenEnabled||o.document.msFullscreenEnabled||o.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var e=this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);e.setAttribute("aria-label","Toggle fullscreen"),e.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},t.exports=a},{"../../util/dom":259,"../../util/util":275,"../../util/window":254}],234:[function(e,t,n){"use strict";var r,i=e("../../util/evented"),o=e("../../util/dom"),a=e("../../util/window"),s=e("../../util/util"),u=e("../../geo/lng_lat"),l=e("../marker"),c={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},p=function(e){function t(t){e.call(this),this.options=s.extend({},c,t),s.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onAdd=function(e){return this._map=e,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),function(e){void 0!==r?e(r):void 0!==a.navigator.permissions?a.navigator.permissions.query({name:"geolocation"}).then(function(t){r="denied"!==t.state,e(r)}):(r=!!a.navigator.geolocation,e(r))}(this._setupUI),this._container},t.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),o.remove(this._container),this._map=void 0},t.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",e),this._finish()},t.prototype._updateCamera=function(e){var t=new u(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy;this._map.fitBounds(t.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},t.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},t.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",e),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(e){var t=this;!1!==e&&(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=o.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new l(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==t._watchState||(t._watchState="BACKGROUND",t._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),t._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),t.fire("trackuserlocationend"))}))},t.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=a.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else a.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},t.prototype._clearWatch=function(){a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},t}(i);t.exports=p},{"../../geo/lng_lat":62,"../../util/dom":259,"../../util/evented":260,"../../util/util":275,"../../util/window":254,"../marker":248}],235:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=function(){i.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},o.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},t.exports=o},{"../../util/dom":259,"../../util/util":275}],236:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../handler/drag_rotate"),a={showCompass:!0,showZoom:!0},s=function(e){var t=this;this.options=i.extend({},a,e),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return t._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return t._map.zoomOut()})),this.options.showCompass&&(i.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return t._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};s.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},s.prototype.onAdd=function(e){return this._map=e,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new o(e,{button:"left",element:this._compass}),this._handler.enable()),this._container},s.prototype.onRemove=function(){r.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},s.prototype._createButton=function(e,t,n){var i=r.create("button",e,this._container);return i.type="button",i.setAttribute("aria-label",t),i.addEventListener("click",n),i},t.exports=s},{"../../util/dom":259,"../../util/util":275,"../handler/drag_rotate":242}],237:[function(e,t,n){"use strict";function r(e,t,n){var r=n&&n.maxWidth||100,o=e._container.clientHeight/2,a=function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin(r)*Math.sin(i)+Math.cos(r)*Math.cos(i)*Math.cos((t.lng-e.lng)*n);return 6371e3*Math.acos(Math.min(o,1))}(e.unproject([0,o]),e.unproject([r,o]));if(n&&"imperial"===n.unit){var s=3.2808*a;s>5280?i(t,r,s/5280,"mi"):i(t,r,s,"ft")}else if(n&&"nautical"===n.unit){i(t,r,a/1852,"nm")}else i(t,r,a,"m")}function i(e,t,n,r){var i=function(e){var t=Math.pow(10,(""+Math.floor(e)).length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}(n),o=i/n;"m"===r&&i>=1e3&&(i/=1e3,r="km"),e.style.width=t*o+"px",e.innerHTML=i+r}var o=e("../../util/dom"),a=e("../../util/util"),s=function(e){this.options=e,a.bindAll(["_onMove"],this)};s.prototype.getDefaultPosition=function(){return"bottom-left"},s.prototype._onMove=function(){r(this._map,this._container,this.options)},s.prototype.onAdd=function(e){return this._map=e,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},s.prototype.onRemove=function(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},t.exports=s},{"../../util/dom":259,"../../util/util":275}],238:[function(e,t,n){"use strict"},{}],239:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../geo/lng_lat_bounds"),o=e("../../util/util"),a=e("../../util/window"),s=function(e){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(e){e.shiftKey&&0===e.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=r.mousePos(this._el,e),this._active=!0)},s.prototype._onMouseMove=function(e){var t=this._startPos,n=r.mousePos(this._el,e);this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var i=Math.min(t.x,n.x),o=Math.max(t.x,n.x),a=Math.min(t.y,n.y),s=Math.max(t.y,n.y);r.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(e){if(0===e.button){var t=this._startPos,n=r.mousePos(this._el,e),o=(new i).extend(this._map.unproject(t)).extend(this._map.unproject(n));this._finish(),t.x===n.x&&t.y===n.y?this._fireEvent("boxzoomcancel",e):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:e,boxZoomBounds:o})}},s.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag()},s.prototype._fireEvent=function(e,t){return this._map.fire(e,{originalEvent:t})},t.exports=s},{"../../geo/lng_lat_bounds":63,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],240:[function(e,t,n){"use strict";var r=e("../../util/util"),i=function(e){this._map=e,r.bindAll(["_onDblClick","_onZoomEnd"],this)};i.prototype.isEnabled=function(){return!!this._enabled},i.prototype.isActive=function(){return!!this._active},i.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},i.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},i.prototype._onDblClick=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},i.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},t.exports=i},{"../../util/util":275}],241:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),a=e("../../util/browser"),s=i.bezier(0,0,.3,1),u=function(e){this._map=e,this._el=e.getCanvasContainer(),i.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp","_onDragFrame","_onDragFinished"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.isActive=function(){return!!this._active},u.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},u.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},u.prototype._onDown=function(e){this._ignoreEvent(e)||this.isActive()||(e.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),o.addEventListener("blur",this._onMouseUp),this._active=!1,this._previousPos=r.mousePos(this._el,e),this._inertia=[[a.now(),this._previousPos]])},u.prototype._onMove=function(e){if(!this._ignoreEvent(e)){this._lastMoveEvent=e,e.preventDefault();var t=r.mousePos(this._el,e);if(this._drainInertiaBuffer(),this._inertia.push([a.now(),t]),!this._previousPos)return void(this._previousPos=t);this._pos=t,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",e),this._fireEvent("movestart",e),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()}},u.prototype._onDragFrame=function(e){var t=this._lastMoveEvent;t&&(e.setLocationAtPoint(e.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",t),this._fireEvent("move",t),this._previousPos=this._pos,delete this._lastMoveEvent)},u.prototype._onDragFinished=function(e){var t=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,delete this._pos,this._fireEvent("dragend",e),this._drainInertiaBuffer();var n=function(){t._map.moving=!1,t._fireEvent("moveend",e)},r=this._inertia;if(r.length<2)return void n();var i=r[r.length-1],o=r[0],a=i[1].sub(o[1]),u=(i[0]-o[0])/1e3;if(0===u||i[1].equals(o[1]))return void n();var l=a.mult(.3/u),c=l.mag();c>1400&&(c=1400,l._unit()._mult(c));var p=c/750,f=l.mult(-p/2);this._map.panBy(f,{duration:1e3*p,easing:s,noMoveStart:!0},{originalEvent:e})}},u.prototype._onUp=function(e){this._onDragFinished(e)},u.prototype._onMouseUp=function(e){this._ignoreEvent(e)||(this._onUp(e),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp),o.removeEventListener("blur",this._onMouseUp))},u.prototype._onTouchEnd=function(e){this._ignoreEvent(e)||(this._onUp(e),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},u.prototype._fireEvent=function(e,t){return this._map.fire(e,t?{originalEvent:t}:{})},u.prototype._ignoreEvent=function(e){var t=this._map;return!(!t.boxZoom||!t.boxZoom.isActive())||!(!t.dragRotate||!t.dragRotate.isActive())||(e.touches?e.touches.length>1:!!e.ctrlKey||"mousemove"!==e.type&&e.button&&0!==e.button)},u.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=a.now();e.length>0&&t-e[0][0]>160;)e.shift()},t.exports=u},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],242:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),a=e("../../util/browser"),s=i.bezier(0,0,.25,1),u=function(e,t){this._map=e,this._el=t.element||e.getCanvasContainer(),this._button=t.button||"right",this._bearingSnap=t.bearingSnap||0,this._pitchWithRotate=!1!==t.pitchWithRotate,i.bindAll(["_onDown","_onMove","_onUp","_onDragFrame","_onDragFinished"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.isActive=function(){return!!this._active},u.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},u.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},u.prototype._onDown=function(e){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var t=e.ctrlKey?0:2,n=e.button;if(void 0!==o.InstallTrigger&&2===e.button&&e.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(n=0),n!==t)return}else if(e.ctrlKey||0!==e.button)return;r.disableDrag(),o.document.addEventListener("mousemove",this._onMove,{capture:!0}),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[a.now(),this._map.getBearing()]],this._previousPos=r.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},u.prototype._onMove=function(e){this._lastMoveEvent=e;var t=r.mousePos(this._el,e);this._previousPos?(this._pos=t,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()):this._previousPos=t},u.prototype._onUp=function(e){o.document.removeEventListener("mousemove",this._onMove,{capture:!0}),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),r.enableDrag(),this._onDragFinished(e)},u.prototype._onDragFrame=function(e){var t=this._lastMoveEvent;if(t){var n=this._previousPos,r=this._pos,i=.8*(n.x-r.x),o=-.5*(n.y-r.y),s=e.bearing-i,u=e.pitch-o,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([a.now(),this._map._normalizeBearing(s,c[1])]),e.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._previousPos=this._pos}},u.prototype._onDragFinished=function(e){var t=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,this._fireEvent("rotateend",e),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function(){Math.abs(r)<t._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:e}):(t._map.moving=!1,t._fireEvent("moveend",e)),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(i.length<2)return void o();var a=i[0],u=i[i.length-1],l=i[i.length-2],c=n._normalizeBearing(r,l[1]),p=u[1]-a[1],f=p<0?-1:1,h=(u[0]-a[0])/1e3;if(0===p||0===h)return void o();var d=Math.abs(p*(.25/h));d>180&&(d=180);var g=d/180;c+=f*d*(g/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*g,easing:s,noMoveStart:!0},{originalEvent:e})}},u.prototype._fireEvent=function(e,t){return this._map.fire(e,t?{originalEvent:t}:{})},u.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=a.now();e.length>0&&t-e[0][0]>160;)e.shift()},t.exports=u},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],243:[function(e,t,n){"use strict";function r(e){return e*(2-e)}var i=e("../../util/util"),o=function(e){this._map=e,this._el=e.getCanvasContainer(),i.bindAll(["_onKeyDown"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},o.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,i=0,o=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?i=-1:(a=1,e.preventDefault());break;default:return}var s=this._map,u=s.getZoom(),l={duration:300,delayEndEvents:500,easing:r,zoom:t?Math.round(u)+t*(e.shiftKey?2:1):u,bearing:s.getBearing()+15*n,pitch:s.getPitch()+10*i,offset:[100*-o,100*-a],center:s.getCenter()};s.easeTo(l,{originalEvent:e})}},t.exports=o},{"../../util/util":275}],244:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/browser"),a=e("../../util/window"),s=e("../../style-spec/util/interpolate").number,u=e("../../geo/lng_lat"),l=a.navigator.userAgent.toLowerCase(),c=-1!==l.indexOf("firefox"),p=-1!==l.indexOf("safari")&&-1===l.indexOf("chrom"),f=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,i.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};f.prototype.isEnabled=function(){return!!this._enabled},f.prototype.isActive=function(){return!!this._active},f.prototype.enable=function(e){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},f.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},f.prototype._onWheel=function(e){var t=0;"wheel"===e.type?(t=e.deltaY,c&&e.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(t/=o.devicePixelRatio),e.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(t*=40)):"mousewheel"===e.type&&(t=-e.wheelDeltaY,p&&(t/=3));var n=o.now(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==t&&t%4.000244140625==0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this.isActive()||this._start(e)),e.preventDefault()},f.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},f.prototype._start=function(e){if(this._delta){this._active=!0,this._map.moving=!0,this._map.zooming=!0,this._map.fire("movestart",{originalEvent:e}),this._map.fire("zoomstart",{originalEvent:e}),clearTimeout(this._finishTimeout);var t=r.mousePos(this._el,e);this._around=u.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(t)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._map._startAnimation(this._onScrollFrame,this._onScrollFinished)}},f.prototype._onScrollFrame=function(e){if(this.isActive()){if(0!==this._delta){var t="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,n=2/(1+Math.exp(-Math.abs(this._delta*t)));this._delta<0&&0!==n&&(n=1/n);var r="number"==typeof this._targetZoom?e.zoomScale(this._targetZoom):e.scale;this._targetZoom=Math.min(e.maxZoom,Math.max(e.minZoom,e.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}if("wheel"===this._type){var i=Math.min((o.now()-this._lastWheelEventTime)/200,1),a=this._easing(i);e.zoom=s(this._startZoom,this._targetZoom,a),1===i&&this._map.stop()}else e.zoom=this._targetZoom,this._map.stop();e.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire("move",{originalEvent:this._lastWheelEvent}),this._map.fire("zoom",{originalEvent:this._lastWheelEvent})}},f.prototype._onScrollFinished=function(){var e=this;this.isActive()&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._map.moving=!1,e._map.zooming=!1,e._map.fire("zoomend"),e._map.fire("moveend"),delete e._targetZoom},200))},f.prototype._smoothOutEasing=function(e){var t=i.ease;if(this._prevEase){var n=this._prevEase,r=(o.now()-n.start)/n.duration,a=n.easing(r+.01)-n.easing(r),s=.27/Math.sqrt(a*a+1e-4)*.01,u=Math.sqrt(.0729-s*s);t=i.bezier(s,u,.25,1)}return this._prevEase={start:o.now(),duration:e,easing:t},t},t.exports=f},{"../../geo/lng_lat":62,"../../style-spec/util/interpolate":158,"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],245:[function(e,t,n){"use strict";var r=e("../../util/dom"),i=e("../../util/util"),o=e("../../util/window"),a=e("../../util/browser"),s=i.bezier(0,0,.15,1),u=function(e){this._map=e,this._el=e.getCanvasContainer(),i.bindAll(["_onStart","_onMove","_onEnd"],this)};u.prototype.isEnabled=function(){return!!this._enabled},u.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},u.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},u.prototype.disableRotation=function(){this._rotationDisabled=!0},u.prototype.enableRotation=function(){this._rotationDisabled=!1},u.prototype._onStart=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]);this._startVec=t.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},u.prototype._onMove=function(e){if(2===e.touches.length){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),i=t.add(n).div(2),o=t.sub(n),s=o.mag()/this._startVec.mag(),u=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var c={duration:0,around:l.unproject(i)};"rotate"===this._gestureIntent&&(c.bearing=this._startBearing+u),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(c.zoom=l.transform.scaleZoom(this._startScale*s)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([a.now(),s,i]),l.easeTo(c,{originalEvent:e})}else{var p=Math.abs(1-s)>.15;Math.abs(u)>10?this._gestureIntent="rotate":p&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}e.preventDefault()}},u.prototype._onEnd=function(e){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var t=this._inertia,n=this._map;if(t.length<2)n.snapToNorth({},{originalEvent:e});else{var r=t[t.length-1],i=t[0],a=n.transform.scaleZoom(this._startScale*r[1]),u=n.transform.scaleZoom(this._startScale*i[1]),l=a-u,c=(r[0]-i[0])/1e3,p=r[2];if(0!==c&&a!==u){var f=.15*l/c;Math.abs(f)>2.5&&(f=f>0?2.5:-2.5);var h=1e3*Math.abs(f/(12*.15)),d=a+f*h/2e3;d<0&&(d=0),n.easeTo({zoom:d,duration:h,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(p)},{originalEvent:e})}else n.snapToNorth({},{originalEvent:e})}},u.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,t=a.now();e.length>2&&t-e[0][0]>160;)e.shift()},t.exports=u},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],246:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/window"),o=e("../util/throttle"),a=function(){r.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=o(this._updateHashUnthrottled.bind(this),300)};a.prototype.addTo=function(e){return this._map=e,i.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},a.prototype.remove=function(){return i.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},a.prototype.getHashString=function(e){var t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(t.lng*i)/i,a=Math.round(t.lat*i)/i,s=this._map.getBearing(),u=this._map.getPitch(),l="";return l+=e?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||u)&&(l+="/"+Math.round(10*s)/10),u&&(l+="/"+Math.round(u)),l},a.prototype._onHashChange=function(){var e=i.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},a.prototype._updateHashUnthrottled=function(){var e=this.getHashString();i.history.replaceState("","",e)},t.exports=a},{"../util/throttle":272,"../util/util":275,"../util/window":254}],247:[function(e,t,n){"use strict";function r(e){e.parentNode&&e.parentNode.removeChild(e)}var i=e("../util/util"),o=e("../util/browser"),a=e("../util/window"),s=e("../util/window"),u=s.HTMLImageElement,l=s.HTMLElement,c=e("../util/dom"),p=e("../util/ajax"),f=e("../style/style"),h=e("../style/evaluation_parameters"),d=e("../render/painter"),g=e("../geo/transform"),y=e("./hash"),v=e("./bind_handlers"),m=e("./camera"),_=e("../geo/lng_lat"),A=e("../geo/lng_lat_bounds"),b=e("@mapbox/point-geometry"),x=e("./control/attribution_control"),w=e("./control/logo_control"),E=e("@mapbox/mapbox-gl-supported"),T=e("../util/image").RGBAImage;e("./events");var M={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},S=function(e){function t(t){if(null!=(t=i.extend({},M,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new g(t.minZoom,t.maxZoom,t.renderWorldCopies);e.call(this,n,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming;var r=t.transformRequest;if(this._transformRequest=r?function(e,t){return r(e,t)||{url:e}}:function(e){return{url:e}},"string"==typeof t.container){var o=a.document.getElementById(t.container);if(!o)throw new Error("Container '"+t.container+"' not found.");this._container=o}else{if(!(t.container instanceof l))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}t.maxBounds&&this.setMaxBounds(t.maxBounds),i.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),v(this,t),this._hash=t.hash&&(new y).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.resize(),t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new x),this.addControl(new w,t.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return t.prototype.addControl=function(e,t){void 0===t&&e.getDefaultPosition&&(t=e.getDefaultPosition()),void 0===t&&(t="top-right");var n=e.onAdd(this),r=this._controlPositions[t];return-1!==t.indexOf("bottom")?r.insertBefore(n,r.firstChild):r.appendChild(n),this},t.prototype.removeControl=function(e){return e.onRemove(this),this},t.prototype.resize=function(){var e=this._containerDimensions(),t=e[0],n=e[1];return this._resizeCanvas(t,n),this.transform.resize(t,n),this.painter.resize(t,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},t.prototype.getBounds=function(){var e=new A(this.transform.pointLocation(new b(0,this.transform.height)),this.transform.pointLocation(new b(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(e.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),e.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),e},t.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new A([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},t.prototype.setMaxBounds=function(e){if(e){var t=A.convert(e);this.transform.lngRange=[t.getWest(),t.getEast()],this.transform.latRange=[t.getSouth(),t.getNorth()],this.transform._constrain(),this._update()}else null!==e&&void 0!==e||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},t.prototype.setMinZoom=function(e){if((e=null===e||void 0===e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(e){if((e=null===e||void 0===e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(e){return this.transform.locationPoint(_.convert(e))},t.prototype.unproject=function(e){return this.transform.pointLocation(b.convert(e))},t.prototype.on=function(t,n,r){var o=this;if(void 0===r)return e.prototype.on.call(this,t,n);var a=function(){if("mouseenter"===t||"mouseover"===t){var e=!1;return{layer:n,listener:r,delegates:{mousemove:function(a){var s=o.getLayer(n)?o.queryRenderedFeatures(a.point,{layers:[n]}):[];s.length?e||(e=!0,r.call(o,i.extend({features:s},a,{type:t}))):e=!1},mouseout:function(){e=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:n,listener:r,delegates:{mousemove:function(e){(o.getLayer(n)?o.queryRenderedFeatures(e.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,r.call(o,i.extend({},e,{type:t})))},mouseout:function(e){a&&(a=!1,r.call(o,i.extend({},e,{type:t})))}}}}var s;return{layer:n,listener:r,delegates:(s={},s[t]=function(e){var t=o.getLayer(n)?o.queryRenderedFeatures(e.point,{layers:[n]}):[];t.length&&r.call(o,i.extend({features:t},e))},s)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(a),a.delegates)o.on(s,a.delegates[s]);return this},t.prototype.off=function(t,n,r){if(void 0===r)return e.prototype.off.call(this,t,n);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],o=0;o<i.length;o++){var a=i[o];if(a.layer===n&&a.listener===r){for(var s in a.delegates)this.off(s,a.delegates[s]);return i.splice(o,1),this}}return this},t.prototype.queryRenderedFeatures=function(e,t){return 2===arguments.length?(e=arguments[0],t=arguments[1]):1===arguments.length&&function(e){return e instanceof b||Array.isArray(e)}(arguments[0])?(e=arguments[0],t={}):1===arguments.length?(e=void 0,t=arguments[0]):(e=void 0,t={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),t,this.transform.zoom,this.transform.angle):[]},t.prototype._makeQueryGeometry=function(e){var t,n=this;if(void 0===e&&(e=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]),e instanceof b||"number"==typeof e[0])t=[b.convert(e)];else{var r=[b.convert(e[0]),b.convert(e[1])];t=[r[0],new b(r[1].x,r[0].y),r[1],new b(r[0].x,r[1].y),r[0]]}return t.map(function(e){return n.transform.pointCoordinate(e)})},t.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},t.prototype.setStyle=function(e,t){if((!t||!1!==t.diff&&!t.localIdeographFontFamily)&&this.style&&e&&"object"==typeof e)try{return this.style.setState(e)&&this._update(!0),this}catch(e){i.warnOnce("Unable to perform style diff: "+(e.message||e.error||e)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new f(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():i.warnOnce("There is no style added to the map.")},t.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0),this},t.prototype.isSourceLoaded=function(e){var t=this.style&&this.style.sourceCaches[e];return void 0===t?void this.fire("error",{error:new Error("There is no source with ID '"+e+"'")}):t.loaded()},t.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},t.prototype.addSourceType=function(e,t,n){return this.style.addSourceType(e,t,n)},t.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0),this},t.prototype.getSource=function(e){return this.style.getSource(e)},t.prototype.addImage=function(e,t,n){void 0===n&&(n={});var r=n.pixelRatio;void 0===r&&(r=1);var i=n.sdf;if(void 0===i&&(i=!1),t instanceof u){var a=o.getImageData(t),s=a.width,l=a.height,c=a.data;this.style.addImage(e,{data:new T({width:s,height:l},c),pixelRatio:r,sdf:i})}else{if(void 0===t.width||void 0===t.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});var p=t.width,f=t.height,h=t.data;this.style.addImage(e,{data:new T({width:p,height:f},h.slice(0)),pixelRatio:r,sdf:i})}},t.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire("error",{error:new Error("Missing required image id")}),!1)},t.prototype.removeImage=function(e){this.style.removeImage(e)},t.prototype.loadImage=function(e,t){p.getImage(this._transformRequest(e,p.ResourceType.Image),t)},t.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0),this},t.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0),this},t.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0),this},t.prototype.getLayer=function(e){return this.style.getLayer(e)},t.prototype.setFilter=function(e,t){return this.style.setFilter(e,t),this._update(!0),this},t.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0),this},t.prototype.getFilter=function(e){return this.style.getFilter(e)},t.prototype.setPaintProperty=function(e,t,n){return this.style.setPaintProperty(e,t,n),this._update(!0),this},t.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},t.prototype.setLayoutProperty=function(e,t,n){return this.style.setLayoutProperty(e,t,n),this._update(!0),this},t.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},t.prototype.setLight=function(e){return this.style.setLight(e),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.offsetWidth||400,t=this._container.offsetHeight||300),[e,t]},t.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSContainer=c.create("div","mapboxgl-missing-css",e)).innerHTML="Missing Mapbox GL JS CSS";var t=this._canvasContainer=c.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var r=this._controlContainer=c.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i[e]=c.create("div","mapboxgl-ctrl-"+e,r)})},t.prototype._resizeCanvas=function(e,t){var n=a.devicePixelRatio||1;this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=e+"px",this._canvas.style.height=t+"px"},t.prototype._setupPainter=function(){var e=i.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},E.webGLContextAttributes),t=this._canvas.getContext("webgl",e)||this._canvas.getContext("experimental-webgl",e);t?this.painter=new d(t,this.transform):this.fire("error",{error:new Error("Failed to initialize WebGL")})},t.prototype._contextLost=function(e){e.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:e})},t.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:e})},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(e){this.style&&(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this._rerender())},t.prototype._render=function(){this._updateCamera();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var t=this.transform.zoom,n=o.now();this.style.zoomHistory.update(t,n);var r=new h(t,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(e=!0,this._crossFadingFactor=i),this.style.update(r)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,fadeDuration:this._fadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var e=this.painter.context.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),r(this._canvasContainer),r(this._controlContainer),r(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},t.prototype._rerender=function(){var e=this;this.style&&!this._frameId&&(this._frameId=o.frame(function(){e._frameId=null,e._render()}))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(e){this._repaint=e,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(e){this._vertices=e,this._update()},t.prototype._onData=function(e){this._update("style"===e.dataType),this.fire(e.dataType+"data",e)},t.prototype._onDataLoading=function(e){this.fire(e.dataType+"dataloading",e)},Object.defineProperties(t.prototype,n),t}(m);t.exports=S},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":90,"../style/evaluation_parameters":182,"../style/style":190,"../util/ajax":251,"../util/browser":252,"../util/dom":259,"../util/image":263,"../util/util":275,"../util/window":254,"./bind_handlers":230,"./camera":231,"./control/attribution_control":232,"./control/logo_control":235,"./events":238,"./hash":246,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],248:[function(e,t,n){"use strict";var r=e("../util/dom"),i=e("../geo/lng_lat"),o=e("@mapbox/point-geometry"),a=e("../util/smart_wrap"),s=e("../util/util").bindAll,u=function(e,t){if(s(["_update","_onMapClick"],this),!e){e=r.create("div");var n=r.createNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41");var i=r.createNS("http://www.w3.org/2000/svg","g");i.setAttributeNS(null,"stroke","none"),i.setAttributeNS(null,"stroke-width","1"),i.setAttributeNS(null,"fill","none"),i.setAttributeNS(null,"fill-rule","evenodd");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var u=r.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var p=c[l],f=r.createNS("http://www.w3.org/2000/svg","ellipse");f.setAttributeNS(null,"opacity","0.04"),f.setAttributeNS(null,"cx","10.5"),f.setAttributeNS(null,"cy","5.80029008"),f.setAttributeNS(null,"rx",p.rx),f.setAttributeNS(null,"ry",p.ry),u.appendChild(f)}var h=r.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill","#3FB1CE");var d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(d);var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var y=r.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(y);var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var m=r.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var A=r.createNS("http://www.w3.org/2000/svg","circle");A.setAttributeNS(null,"fill","#FFFFFF"),A.setAttributeNS(null,"cx","5.5"),A.setAttributeNS(null,"cy","5.5"),A.setAttributeNS(null,"r","5.4999962"),m.appendChild(_),m.appendChild(A),a.appendChild(u),a.appendChild(h),a.appendChild(g),a.appendChild(v),a.appendChild(m),n.appendChild(a),e.appendChild(n);var b=[0,-14];t&&t.offset||(t?t.offset=b:t={offset:b})}this._offset=o.convert(t&&t.offset||[0,0]),e.classList.add("mapboxgl-marker"),this._element=e,this._popup=null};u.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},u.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(e){return this._lngLat=i.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},u.prototype.getElement=function(){return this._element},u.prototype.setPopup=function(e){return this._popup&&(this._popup.remove(),this._popup=null),e&&("offset"in e.options||(e.options.offset=this._offset),this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},u.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},u.prototype.getPopup=function(){return this._popup},u.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},u.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},u.prototype.getOffset=function(){return this._offset},u.prototype.setOffset=function(e){return this._offset=o.convert(e),this._update(),this},t.exports=u},{"../geo/lng_lat":62,"../util/dom":259,"../util/smart_wrap":270,"../util/util":275,"@mapbox/point-geometry":4}],249:[function(e,t,n){"use strict";var r=e("../util/util"),i=e("../util/evented"),o=e("../util/dom"),a=e("../geo/lng_lat"),s=e("@mapbox/point-geometry"),u=e("../util/window"),l=e("../util/smart_wrap"),c={closeButton:!0,closeOnClick:!0},p=function(e){function t(t){e.call(this),this.options=r.extend(Object.create(c),t),r.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&o.remove(this._content),this._container&&(o.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(e){return this._lngLat=a.convert(e),this._pos=null,this._update(),this},t.prototype.setText=function(e){return this.setDOMContent(u.document.createTextNode(e))},t.prototype.setHTML=function(e){var t,n=u.document.createDocumentFragment(),r=u.document.createElement("body");for(r.innerHTML=e;t=r.firstChild;)n.appendChild(t);return this.setDOMContent(n)},t.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},t.prototype._createContent=function(){this._content&&o.remove(this._content),this._content=o.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=o.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=o.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=o.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=l(this._lngLat,this._pos,this._map.transform));var e=this._pos=this._map.project(this._lngLat),t=this.options.anchor,n=function e(t){if(t){if("number"==typeof t){var n=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new s(0,t),"top-left":new s(n,n),"top-right":new s(-n,n),bottom:new s(0,-t),"bottom-left":new s(n,-n),"bottom-right":new s(-n,-n),left:new s(t,0),right:new s(-t,0)}}if(t instanceof s||Array.isArray(t)){var r=s.convert(t);return{top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{top:s.convert(t.top||[0,0]),"top-left":s.convert(t["top-left"]||[0,0]),"top-right":s.convert(t["top-right"]||[0,0]),bottom:s.convert(t.bottom||[0,0]),"bottom-left":s.convert(t["bottom-left"]||[0,0]),"bottom-right":s.convert(t["bottom-right"]||[0,0]),left:s.convert(t.left||[0,0]),right:s.convert(t.right||[0,0])}}return e(new s(0,0))}(this.options.offset);if(!t){var r=this._container.offsetWidth,i=this._container.offsetHeight;t=e.y+n.bottom.y<i?["top"]:e.y>this._map.transform.height-i?["bottom"]:[],e.x<r/2?t.push("left"):e.x>this._map.transform.width-r/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var a=e.add(n[t]).round(),u={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},c=this._container.classList;for(var p in u)c.remove("mapboxgl-popup-anchor-"+p);c.add("mapboxgl-popup-anchor-"+t),o.setTransform(this._container,u[t]+" translate("+a.x+"px,"+a.y+"px)")}},t.prototype._onClickClose=function(){this.remove()},t}(i);t.exports=p},{"../geo/lng_lat":62,"../util/dom":259,"../util/evented":260,"../util/smart_wrap":270,"../util/util":275,"../util/window":254,"@mapbox/point-geometry":4}],250:[function(e,t,n){"use strict";var r=e("./util"),i=e("./web_worker_transfer"),o=i.serialize,a=i.deserialize,s=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.callbackID=0,r.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};s.prototype.send=function(e,t,n,r){var i=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[i]=n);var a=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:e,id:String(i),data:o(t,a)},a)},s.prototype.receive=function(e){var t,n=this,r=e.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var s=function(e,t){var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:e?String(e):null,data:o(t,r)},r)};if("<response>"===r.type)t=this.callbacks[r.id],delete this.callbacks[r.id],t&&r.error?t(new Error(r.error)):t&&t(null,a(r.data));else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,a(r.data),s);else if(void 0!==r.id&&this.parent.getWorkerSource){var u=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,u[0])[u[1]](a(r.data),s)}else this.parent[r.type](a(r.data))}},s.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},t.exports=s},{"./util":275,"./web_worker_transfer":278}],251:[function(e,t,n){"use strict";function r(e){var t=new o.XMLHttpRequest;for(var n in t.open("GET",e.url,!0),e.headers)t.setRequestHeader(n,e.headers[n]);return t.withCredentials="include"===e.credentials,t}function i(e){var t=o.document.createElement("a");return t.href=e,t.protocol===o.document.location.protocol&&t.host===o.document.location.host}var o=e("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};n.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(e){function t(t,n){e.call(this,t),this.status=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);n.getJSON=function(e,t){var n=r(e);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var e;try{e=JSON.parse(n.response)}catch(e){return t(e)}t(null,e)}else t(new s(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(e,t){var n=r(e);return n.responseType="arraybuffer",n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){var e=n.response;if(0===e.byteLength&&200===n.status)return t(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?t(null,{data:e,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new s(n.statusText,n.status))},n.send(),n};n.getImage=function(e,t){return n.getArrayBuffer(e,function(e,n){if(e)t(e);else if(n){var r=new o.Image,i=o.URL||o.webkitURL;r.onload=function(){t(null,r),i.revokeObjectURL(r.src)};var a=new o.Blob([new Uint8Array(n.data)],{type:"image/png"});r.cacheControl=n.cacheControl,r.expires=n.expires,r.src=n.data.byteLength?i.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},n.getVideo=function(e,t){var n=o.document.createElement("video");n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var a=o.document.createElement("source");i(e[r])||(n.crossOrigin="Anonymous"),a.src=e[r],n.appendChild(a)}return n}},{"./window":254}],252:[function(e,t,n){"use strict";var r=e("./window"),i=r.performance&&r.performance.now?r.performance.now.bind(r.performance):Date.now.bind(Date),o=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||r.msRequestAnimationFrame,a=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.msCancelAnimationFrame;t.exports={now:i,frame:function(e){return o(e)},cancelFrame:function(e){return a(e)},getImageData:function(e){var t=r.document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},hardwareConcurrency:r.navigator.hardwareConcurrency||4,get devicePixelRatio(){return r.devicePixelRatio},supportsWebp:!1};var s=r.document.createElement("img");s.onload=function(){t.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":254}],253:[function(e,t,n){"use strict";var r=e("webworkify"),i=e("../window"),o=i.URL.createObjectURL(new r(e("../../source/worker"),{bare:!0}));t.exports=function(){return new i.Worker(o)}},{"../../source/worker":118,"../window":254,webworkify:36}],254:[function(e,t,n){"use strict";t.exports=self},{}],255:[function(e,t,n){"use strict";function r(e,t){return t.area-e.area}var i=e("quickselect"),o=e("./util").calculateSignedArea;t.exports=function(e,t){var n=e.length;if(n<=1)return[e];for(var a,s,u=[],l=0;l<n;l++){var c=o(e[l]);0!==c&&(e[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&u.push(a),a=[e[l]]):a.push(e[l]))}if(a&&u.push(a),t>1)for(var p=0;p<u.length;p++)u[p].length<=t||(i(u[p],t,1,u[p].length-1,r),u[p]=u[p].slice(0,t));return u}},{"./util":275,quickselect:31}],256:[function(e,t,n){"use strict";t.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null}},{}],257:[function(e,t,n){"use strict";var r=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};r.prototype.encode=function(e){return this._stringToNumber[e]},r.prototype.decode=function(e){return this._numberToString[e]},t.exports=r},{}],258:[function(e,t,n){"use strict";var r=e("./util"),i=e("./actor"),o=function(e,t){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=r.uniqueId();for(var n=this.workerPool.acquire(this.id),o=0;o<n.length;o++){var a=n[o],s=new i(a,t,this.id);s.name="Worker "+o,this.actors.push(s)}};o.prototype.broadcast=function(e,t,n){n=n||function(){},r.asyncAll(this.actors,function(n,r){n.send(e,t,r)},n)},o.prototype.send=function(e,t,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(e,t,n),r},o.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},t.exports=o},{"./actor":250,"./util":275}],259:[function(e,t,n){"use strict";function r(e){for(var t=0;t<e.length;t++)if(e[t]in s)return e[t];return e[0]}var i=e("@mapbox/point-geometry"),o=e("./window");n.create=function(e,t,n){var r=o.document.createElement(e);return t&&(r.className=t),n&&n.appendChild(r),r},n.createNS=function(e,t){return o.document.createElementNS(e,t)};var a,s=o.document.documentElement.style,u=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){u&&(a=s[u],s[u]="none")},n.enableDrag=function(){u&&(s[u]=a)};var l=r(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[l]=t};var c=function(e){e.preventDefault(),e.stopPropagation(),o.removeEventListener("click",c,!0)};n.suppressClick=function(){o.addEventListener("click",c,!0),o.setTimeout(function(){o.removeEventListener("click",c,!0)},0)},n.mousePos=function(e,t){var n=e.getBoundingClientRect();return t=t.touches?t.touches[0]:t,new i(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},n.touchPos=function(e,t){for(var n=e.getBoundingClientRect(),r=[],o="touchend"===t.type?t.changedTouches:t.touches,a=0;a<o.length;a++)r.push(new i(o[a].clientX-n.left-e.clientLeft,o[a].clientY-n.top-e.clientTop));return r},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)}},{"./window":254,"@mapbox/point-geometry":4}],260:[function(e,t,n){"use strict";function r(e,t,n){n[e]=n[e]||[],n[e].push(t)}function i(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}var o=e("./util"),a=function(){};a.prototype.on=function(e,t){return this._listeners=this._listeners||{},r(e,t,this._listeners),this},a.prototype.off=function(e,t){return i(e,t,this._listeners),i(e,t,this._oneTimeListeners),this},a.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},r(e,t,this._oneTimeListeners),this},a.prototype.fire=function(e,t){var n=this;if(this.listens(e)){t=o.extend({},t,{type:e,target:this});for(var r=0,a=this._listeners&&this._listeners[e]?this._listeners[e].slice():[];r<a.length;r+=1)a[r].call(n,t);for(var s=0,u=this._oneTimeListeners&&this._oneTimeListeners[e]?this._oneTimeListeners[e].slice():[];s<u.length;s+=1){var l=u[s];i(e,l,n._oneTimeListeners),l.call(n,t)}this._eventedParent&&this._eventedParent.fire(e,o.extend({},t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(e,"error")&&console.error(t&&t.error||t||"Empty error event");return this},a.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},a.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this},t.exports=a},{"./util":275}],261:[function(e,t,n){"use strict";function r(e,t){return t.max-e.max}function i(e,t,n,r){this.p=new a(e,t),this.h=n,this.d=function(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var o=t[i],a=0,u=o.length,l=u-1;a<u;l=a++){var c=o[a],p=o[l];c.y>e.y!=p.y>e.y&&e.x<(p.x-c.x)*(e.y-c.y)/(p.y-c.y)+c.x&&(n=!n),r=Math.min(r,s(e,c,p))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}var o=e("tinyqueue"),a=e("@mapbox/point-geometry"),s=e("./intersection_tests").distToSegmentSquared;t.exports=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var s=1/0,u=1/0,l=-1/0,c=-1/0,p=e[0],f=0;f<p.length;f++){var h=p[f];(!f||h.x<s)&&(s=h.x),(!f||h.y<u)&&(u=h.y),(!f||h.x>l)&&(l=h.x),(!f||h.y>c)&&(c=h.y)}var d=l-s,g=c-u,y=Math.min(d,g),v=y/2,m=new o(null,r);if(0===y)return new a(s,u);for(var _=s;_<l;_+=y)for(var A=u;A<c;A+=y)m.push(new i(_+v,A+v,v,e));for(var b=function(e){for(var t=0,n=0,r=0,o=e[0],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u],p=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*p,r+=(l.y+c.y)*p,t+=3*p}return new i(n/t,r/t,0,e)}(e),x=m.length;m.length;){var w=m.pop();(w.d>b.d||!b.d)&&(b=w,n&&console.log("found best %d after %d probes",Math.round(1e4*w.d)/1e4,x)),w.max-b.d<=t||(v=w.h/2,m.push(new i(w.p.x-v,w.p.y-v,v,e)),m.push(new i(w.p.x+v,w.p.y-v,v,e)),m.push(new i(w.p.x-v,w.p.y+v,v,e)),m.push(new i(w.p.x+v,w.p.y+v,v,e)),x+=4)}return n&&(console.log("num probes: "+x),console.log("best distance: "+b.d)),b.p}},{"./intersection_tests":264,"@mapbox/point-geometry":4,tinyqueue:33}],262:[function(e,t,n){"use strict";var r,i=e("./worker_pool");t.exports=function(){return r||(r=new i),r}},{"./worker_pool":279}],263:[function(e,t,n){"use strict";function r(e,t,n,r){var i=t.width,o=t.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return e.width=i,e.height=o,e.data=r,e}function i(e,t,n){var i=t.width,a=t.height;if(i!==e.width||a!==e.height){var s=r({},{width:i,height:a},n);o(e,s,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,a)},n),e.width=i,e.height=a,e.data=s.data}}function o(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,u=0;u<i.height;u++)for(var l=((n.y+u)*e.width+n.x)*o,c=((r.y+u)*t.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[l+p];return t}var a=e("./web_worker_transfer").register,s=function(e,t){r(this,e,1,t)};s.prototype.resize=function(e){i(this,e,1)},s.prototype.clone=function(){return new s({width:this.width,height:this.height},new Uint8Array(this.data))},s.copy=function(e,t,n,r,i){o(e,t,n,r,i,1)};var u=function(e,t){r(this,e,4,t)};u.prototype.resize=function(e){i(this,e,4)},u.prototype.clone=function(){return new u({width:this.width,height:this.height},new Uint8Array(this.data))},u.copy=function(e,t,n,r,i){o(e,t,n,r,i,4)},a("AlphaImage",s),a("RGBAImage",u),t.exports={AlphaImage:s,RGBAImage:u}},{"./web_worker_transfer":278}],264:[function(e,t,n){"use strict";function r(e,t,n){if(e.length>1){if(i(e,t))return!0;for(var r=0;r<t.length;r++)if(a(t[r],e,n))return!0}for(var o=0;o<e.length;o++)if(a(e[o],t,n))return!0;return!1}function i(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++){if(o(r,i,t[a],t[a+1]))return!0}return!1}function o(e,t,n,r){return c(e,n,r)!==c(t,n,r)&&c(e,t,n)!==c(e,t,r)}function a(e,t,n){var r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++)if(s(e,t[i-1],t[i])<r)return!0;return!1}function s(e,t,n){var r=t.distSqr(n);if(0===r)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i<0?e.distSqr(t):i>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(i)._add(t))}function u(e,t){for(var n,r,i,o=!1,a=0;a<e.length;a++)for(var s=0,u=(n=e[a]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function l(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}var c=e("./util").isCounterClockwise;t.exports={multiPolygonIntersectsBufferedMultiPoint:function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r],o=0;o<t.length;o++)for(var s=t[o],u=0;u<s.length;u++){var c=s[u];if(l(i,c))return!0;if(a(c,i,n))return!0}return!1},multiPolygonIntersectsMultiPolygon:function(e,t){if(1===e.length&&1===e[0].length)return u(t,e[0][0]);for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.length;o++)if(u(e,r[o]))return!0;for(var a=0;a<e.length;a++){for(var s=e[a],l=0;l<s.length;l++)if(u(t,s[l]))return!0;for(var c=0;c<t.length;c++)if(i(s,t[c]))return!0}return!1},multiPolygonIntersectsBufferedMultiLine:function(e,t,n){for(var i=0;i<t.length;i++)for(var o=t[i],a=0;a<e.length;a++){var s=e[a];if(s.length>=3)for(var u=0;u<o.length;u++)if(l(s,o[u]))return!0;if(r(s,o,n))return!0}return!1},polygonIntersectsPolygon:function(e,t){for(var n=0;n<e.length;n++)if(l(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(l(e,t[r]))return!0;return!!i(e,t)},distToSegmentSquared:s}},{"./util":275}],265:[function(e,t,n){"use strict";t.exports={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}}},{}],266:[function(e,t,n){"use strict";var r=function(e,t){this.max=e,this.onRemove=t,this.reset()};r.prototype.reset=function(){var e=this;for(var t in e.data)e.onRemove(e.data[t]);return this.data={},this.order=[],this},r.prototype.add=function(e,t){if(this.has(e))this.order.splice(this.order.indexOf(e),1),this.data[e]=t,this.order.push(e);else if(this.data[e]=t,this.order.push(e),this.order.length>this.max){var n=this.getAndRemove(this.order[0]);n&&this.onRemove(n)}return this},r.prototype.has=function(e){return e in this.data},r.prototype.keys=function(){return this.order},r.prototype.getAndRemove=function(e){if(!this.has(e))return null;var t=this.data[e];return delete this.data[e],this.order.splice(this.order.indexOf(e),1),t},r.prototype.get=function(e){return this.has(e)?this.data[e]:null},r.prototype.remove=function(e){if(!this.has(e))return this;var t=this.data[e];return delete this.data[e],this.onRemove(t),this.order.splice(this.order.indexOf(e),1),this},r.prototype.setMaxSize=function(e){var t=this;for(this.max=e;this.order.length>this.max;){var n=t.getAndRemove(t.order[0]);n&&t.onRemove(n)}return this},t.exports=r},{}],267:[function(e,t,n){"use strict";function r(e,t){var n=o(s.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"/"!==n.path&&(e.path=""+n.path+e.path),!s.REQUIRE_ACCESS_TOKEN)return a(e);if(!(t=t||s.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+l);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+l);return e.params.push("access_token="+t),a(e)}function i(e){return 0===e.indexOf("mapbox:")}function o(e){var t=e.match(p);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function a(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}var s=e("./config"),u=e("./browser"),l="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=i,n.normalizeStyleURL=function(e,t){if(!i(e))return e;var n=o(e);return n.path="/styles/v1"+n.path,r(n,t)},n.normalizeGlyphsURL=function(e,t){if(!i(e))return e;var n=o(e);return n.path="/fonts/v1"+n.path,r(n,t)},n.normalizeSourceURL=function(e,t){if(!i(e))return e;var n=o(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),r(n,t)},n.normalizeSpriteURL=function(e,t,n,s){var u=o(e);return i(e)?(u.path="/styles/v1"+u.path+"/sprite"+t+n,r(u,s)):(u.path+=""+t+n,a(u))};var c=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(e,t,n){if(!t||!i(t))return e;var r=o(e),l=u.devicePixelRatio>=2||512===n?"@2x":"",p=u.supportsWebp?".webp":"$1";return r.path=r.path.replace(c,""+l+p),function(e){for(var t=0;t<e.length;t++)0===e[t].indexOf("access_token=tk.")&&(e[t]="access_token="+(s.ACCESS_TOKEN||""))}(r.params),a(r)};var p=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":252,"./config":256}],268:[function(e,t,n){"use strict";t.exports={getEntriesByName:function(e){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(e)}}},{}],269:[function(e,t,n){"use strict";var r=e("./is_char_in_unicode_block");t.exports.allowsIdeographicBreaking=function(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(!n.charAllowsIdeographicBreaking(i.charCodeAt(0)))return!1}return!0},t.exports.allowsVerticalWritingMode=function(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(n.charHasUprightVerticalOrientation(i.charCodeAt(0)))return!0}return!1},t.exports.allowsLetterSpacing=function(e){for(var t=0,r=e;t<r.length;t+=1){var i=r[t];if(!n.charAllowsLetterSpacing(i.charCodeAt(0)))return!1}return!0},t.exports.charAllowsLetterSpacing=function(e){return!(r.Arabic(e)||r["Arabic Supplement"](e)||r["Arabic Extended-A"](e)||r["Arabic Presentation Forms-A"](e)||r["Arabic Presentation Forms-B"](e))},t.exports.charAllowsIdeographicBreaking=function(e){return!!(!(e<11904)&&(r["Bopomofo Extended"](e)||r.Bopomofo(e)||r["CJK Compatibility Forms"](e)||r["CJK Compatibility Ideographs"](e)||r["CJK Compatibility"](e)||r["CJK Radicals Supplement"](e)||r["CJK Strokes"](e)||r["CJK Symbols and Punctuation"](e)||r["CJK Unified Ideographs Extension A"](e)||r["CJK Unified Ideographs"](e)||r["Enclosed CJK Letters and Months"](e)||r["Halfwidth and Fullwidth Forms"](e)||r.Hiragana(e)||r["Ideographic Description Characters"](e)||r["Kangxi Radicals"](e)||r["Katakana Phonetic Extensions"](e)||r.Katakana(e)||r["Vertical Forms"](e)||r["Yi Radicals"](e)||r["Yi Syllables"](e)))},n.charHasUprightVerticalOrientation=function(e){return!!(746===e||747===e||!(e<4352)&&(r["Bopomofo Extended"](e)||r.Bopomofo(e)||r["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||r["CJK Compatibility Ideographs"](e)||r["CJK Compatibility"](e)||r["CJK Radicals Supplement"](e)||r["CJK Strokes"](e)||!(!r["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||r["CJK Unified Ideographs Extension A"](e)||r["CJK Unified Ideographs"](e)||r["Enclosed CJK Letters and Months"](e)||r["Hangul Compatibility Jamo"](e)||r["Hangul Jamo Extended-A"](e)||r["Hangul Jamo Extended-B"](e)||r["Hangul Jamo"](e)||r["Hangul Syllables"](e)||r.Hiragana(e)||r["Ideographic Description Characters"](e)||r.Kanbun(e)||r["Kangxi Radicals"](e)||r["Katakana Phonetic Extensions"](e)||r.Katakana(e)&&12540!==e||!(!r["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!r["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||r["Unified Canadian Aboriginal Syllabics"](e)||r["Unified Canadian Aboriginal Syllabics Extended"](e)||r["Vertical Forms"](e)||r["Yijing Hexagram Symbols"](e)||r["Yi Syllables"](e)||r["Yi Radicals"](e)))},n.charHasNeutralVerticalOrientation=function(e){return!!(r["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||r["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||r["Letterlike Symbols"](e)||r["Number Forms"](e)||r["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||r["Control Pictures"](e)&&9251!==e||r["Optical Character Recognition"](e)||r["Enclosed Alphanumerics"](e)||r["Geometric Shapes"](e)||r["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||r["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||r["CJK Symbols and Punctuation"](e)||r.Katakana(e)||r["Private Use Area"](e)||r["CJK Compatibility Forms"](e)||r["Small Form Variants"](e)||r["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)},n.charHasRotatedVerticalOrientation=function(e){return!(n.charHasUprightVerticalOrientation(e)||n.charHasNeutralVerticalOrientation(e))}},{"./is_char_in_unicode_block":265}],270:[function(e,t,n){"use strict";var r=e("../geo/lng_lat");t.exports=function(e,t,n){if(e=new r(e.lng,e.lat),t){var i=new r(e.lng-360,e.lat),o=new r(e.lng+360,e.lat),a=n.locationPoint(e).distSqr(t);n.locationPoint(i).distSqr(t)<a?e=i:n.locationPoint(o).distSqr(t)<a&&(e=o)}for(;Math.abs(e.lng-n.center.lng)>180;){var s=n.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;e.lng>n.center.lng?e.lng-=360:e.lng+=360}return e}},{"../geo/lng_lat":62}],271:[function(e,t,n){"use strict";function r(e,t){return Math.ceil(e/t)*t}var i={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},o=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};o.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},o.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},o.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},o.prototype.clear=function(){this.length=0},o.prototype.resize=function(e){this.reserve(e),this.length=e},o.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},o.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")},t.exports.StructArray=o,t.exports.Struct=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},t.exports.viewTypes=i,t.exports.createLayout=function(e,t){void 0===t&&(t=1);var n=0,o=0;return{members:e.map(function(e){var a=function(e){return i[e].BYTES_PER_ELEMENT}(e.type),s=n=r(n,Math.max(t,a)),u=e.components||1;return o=Math.max(o,a),n+=a*u,{name:e.name,type:e.type,components:u,offset:s}}),size:r(n,Math.max(o,t)),alignment:t}}},{}],272:[function(e,t,n){"use strict";t.exports=function(e,t){var n=!1,r=0,i=function(){r=0,n&&(e(),r=setTimeout(i,t),n=!1)};return function(){return n=!0,r||i(),r}}},{}],273:[function(e,t,n){"use strict";function r(e,t){if(e.row>t.row){var n=e;e=t,t=n}return{x0:e.column,y0:e.row,x1:t.column,y1:t.row,dx:t.column-e.column,dy:t.row-e.row}}function i(e,t,n,r,i){var o=Math.max(n,Math.floor(t.y0)),a=Math.min(r,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var u=e.dx/e.dy,l=t.dx/t.dy,c=e.dx>0,p=t.dx<0,f=o;f<a;f++){var h=u*Math.max(0,Math.min(e.dy,f+c-e.y0))+e.x0,d=l*Math.max(0,Math.min(t.dy,f+p-t.y0))+t.x0;i(Math.floor(d),Math.ceil(h),f)}}function o(e,t,n,o,a,s){var u,l=r(e,t),c=r(t,n),p=r(n,e);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>p.dy&&(u=l,l=p,p=u),c.dy>p.dy&&(u=c,c=p,p=u),l.dy&&i(p,l,o,a,s),c.dy&&i(p,c,o,a,s)}e("../geo/coordinate");var a=e("../source/tile_id").OverscaledTileID;t.exports=function(e,t,n,r){function i(t,i,o){var l,c,p;if(o>=0&&o<=s)for(l=t;l<i;l++)0!==(c=Math.floor(l/s))&&!0!==r||(p=new a(n,c,e,(l%s+s)%s,o),u[p.key]=p)}void 0===r&&(r=!0);var s=1<<e,u={};return o(t[0],t[1],t[2],0,s,i),o(t[2],t[3],t[0],0,s,i),Object.keys(u).map(function(e){return u[e]})}},{"../geo/coordinate":61,"../source/tile_id":114}],274:[function(e,t,n){"use strict";t.exports=function(e,t){return t.replace(/{([^{}]+)}/g,function(t,n){return n in e?String(e[n]):""})}},{}],275:[function(e,t,n){"use strict";var r=e("@mapbox/unitbezier"),i=e("../geo/coordinate");e("@mapbox/point-geometry");n.easeCubicInOut=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},n.bezier=function(e,t,n,i){var o=new r(e,t,n,i);return function(e){return o.solve(e)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(e,t,n){return Math.min(n,Math.max(t,e))},n.wrap=function(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i},n.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=new Array(e.length),o=null;e.forEach(function(e,a){t(e,function(e,t){e&&(o=e),i[a]=t,0==--r&&n(o,i)})})},n.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},n.keysDifference=function(e,t){var n=[];for(var r in e)r in t||n.push(r);return n},n.extend=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var o=i[r];for(var a in o)e[a]=o[a]}return e},n.pick=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n};var o=1;n.uniqueId=function(){return o++},n.bindAll=function(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})},n.getCoordinatesCenter=function(e){for(var t=1/0,n=1/0,r=-1/0,o=-1/0,a=0;a<e.length;a++)t=Math.min(t,e[a].column),n=Math.min(n,e[a].row),r=Math.max(r,e[a].column),o=Math.max(o,e[a].row);var s=r-t,u=o-n,l=Math.max(s,u),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new i((t+r)/2,(n+o)/2,0).zoomTo(c)},n.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},n.mapObject=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r},n.filterObject=function(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r},n.deepEqual=e("../style-spec/util/deep_equal"),n.clone=function(e){return Array.isArray(e)?e.map(n.clone):"object"==typeof e&&e?n.mapObject(e,n.clone):e},n.arraysIntersect=function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1};var a={};n.warnOnce=function(e){a[e]||("undefined"!=typeof console&&console.warn(e),a[e]=!0)},n.isCounterClockwise=function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)},n.calculateSignedArea=function(e){for(var t=0,n=0,r=e.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=e[n],t+=((a=e[i]).x-o.x)*(o.y+a.y);return t},n.isClosedPolygon=function(e){if(e.length<4)return!1;var t=e[0],r=e[e.length-1];return!(Math.abs(t.x-r.x)>0||Math.abs(t.y-r.y)>0)&&Math.abs(n.calculateSignedArea(e))>.01},n.sphericalToCartesian=function(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}},n.parseCacheControl=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(e,n,r,i){var o=r||i;return t[n]=!o||o.toLowerCase(),""}),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}},{"../geo/coordinate":61,"../style-spec/util/deep_equal":155,"@mapbox/point-geometry":4,"@mapbox/unitbezier":7}],276:[function(e,t,n){"use strict";var r=function(e,t,n,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,null!=e.id&&(this.id=e.id)},i={geometry:{}};i.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},i.geometry.set=function(e){this._geometry=e},r.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(r.prototype,i),t.exports=r},{}],277:[function(e,t,n){"use strict";var r=e("./script_detection");t.exports=function(e){for(var n="",i=0;i<e.length;i++){var o=e.charCodeAt(i+1)||null,a=e.charCodeAt(i-1)||null;o&&r.charHasRotatedVerticalOrientation(o)&&!t.exports.lookup[e[i+1]]||a&&r.charHasRotatedVerticalOrientation(a)&&!t.exports.lookup[e[i-1]]||!t.exports.lookup[e[i]]?n+=e[i]:n+=t.exports.lookup[e[i]]}return n},t.exports.lookup={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},{"./script_detection":269}],278:[function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),g[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}var i=e("grid-index"),o=e("../style-spec/util/color"),a=e("../style-spec/expression"),s=a.StylePropertyFunction,u=a.StyleExpression,l=a.StyleExpressionWithErrorHandling,c=a.ZoomDependentExpression,p=a.ZoomConstantExpression,f=e("../style-spec/expression/compound_expression").CompoundExpression,h=e("../style-spec/expression/definitions"),d=e("./window").ImageData,g={};for(var y in r("Object",Object),i.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),n},i.deserialize=function(e){return new i(e)},r("Grid",i),r("Color",o),r("StylePropertyFunction",s),r("StyleExpression",u,{omit:["_evaluator"]}),r("StyleExpressionWithErrorHandling",l,{omit:["_evaluator"]}),r("ZoomDependentExpression",c),r("ZoomConstantExpression",p),r("CompoundExpression",f,{omit:["_evaluate"]}),h)h[y]._classRegistryKey||r("Expression_"+y,h[y]);t.exports={register:r,serialize:function e(t,n){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return n&&n.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return n&&n.push(r.buffer),r}if(t instanceof d)return n&&n.push(t.data.buffer),t;if(Array.isArray(t)){for(var i=[],o=0,a=t;o<a.length;o+=1){var s=a[o];i.push(e(s,n))}return i}if("object"==typeof t){var u=t.constructor,l=u._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var c={};if(u.serialize)c._serialized=u.serialize(t,n);else for(var p in t)if(t.hasOwnProperty(p)&&!(g[l].omit.indexOf(p)>=0)){var f=t[p];c[p]=g[l].shallow.indexOf(p)>=0?f:e(f,n)}return{name:l,properties:c}}throw new Error("can't serialize object of type "+typeof t)},deserialize:function e(t){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof d)return t;if(Array.isArray(t))return t.map(function(t){return e(t)});if("object"==typeof t){var n=t,r=n.name,i=n.properties;if(!r)throw new Error("can't deserialize object of anonymous class");var o=g[r].klass;if(!o)throw new Error("can't deserialize unregistered class "+r);if(o.deserialize)return o.deserialize(i._serialized);for(var a=Object.create(o.prototype),s=0,u=Object.keys(i);s<u.length;s+=1){var l=u[s];a[l]=g[r].shallow.indexOf(l)>=0?i[l]:e(i[l])}return a}throw new Error("can't deserialize object of type "+typeof t)}}},{"../style-spec/expression":139,"../style-spec/expression/compound_expression":123,"../style-spec/expression/definitions":131,"../style-spec/util/color":153,"./window":254,"grid-index":24}],279:[function(e,t,n){"use strict";var r=e("./web_worker"),i=function(){this.active={}};i.prototype.acquire=function(t){if(!this.workers){var n=e("../").workerCount;for(this.workers=[];this.workers.length<n;)this.workers.push(new r)}return this.active[t]=!0,this.workers.slice()},i.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},t.exports=i},{"../":73,"./web_worker":253}]},{},[73])(73)})},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}},function(e,t){e.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}},function(e,t){e.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])g(u)||!A(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(n,i){if(m(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=c(e,i,r)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(w(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return p(n)}var l,A="",E=!1,T=["{","}"];(h(n)&&(E=!0,T=["[","]"]),w(n))&&(A=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(A=" "+RegExp.prototype.toString.call(n)),b(n)&&(A=" "+Date.prototype.toUTCString.call(n)),x(n)&&(A=" "+p(n)),0!==a.length||E&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=E?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)S(t,String(a))?o.push(f(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return f(e,n,r,s,t,E)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,A,T)):T[0]+A+T[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),S(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),m(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function m(e){return void 0===e}function _(e){return A(e)&&"[object RegExp]"===E(e)}function A(e){return"object"==typeof e&&null!==e}function b(e){return A(e)&&"[object Date]"===E(e)}function x(e){return A(e)&&("[object Error]"===E(e)||e instanceof Error)}function w(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(o)&&(o=Object({NODE_ENV:"production",MAPBOX_API_TOKEN:"pk.eyJ1Ijoic2t5bmV0LXJpY2UiLCJhIjoiY2phbzU2a3hkM2luZDMzcGxzejNhaWdxYiJ9.nC5BtNoLkeX4fBoF-nakxw",PIWIK_URL:"https://analytics.kevinlin.info",PIWIK_SITE_ID:"5",PIWIK_CLIENT_TRACKER_NAME:"client",PIWIK_SERVER_TRACKER_NAME:"server"}).NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=d,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=_,t.isObject=A,t.isDate=b,t.isError=x,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(358);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),M[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(357),t._extend=function(e,t){if(!t||!A(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(32),n(85))},function(e,t){e.exports=function(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(361);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=g(o),s=(g(n(16)),n(59)),u=n(275),l=n(182),c=g(n(202)),p=n(121),f=n(144),h=g(n(302)),d=g(n(295));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={annotation:null},r.locationParser=new d.default,r.handlePickHover=function(e){return r.setState({annotation:e})},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data,n=e.accuracyThreshold,r=this.props,i=r.data,o=r.accuracyThreshold;i===t&&o===n||(this.locationParser=new d.default(t,n,this.handlePickHover))}},{key:"render",value:function(){var e=this,t=this.props,n=t.locationDisplayType,i=t.viewport,o=t.handleViewportChange,s=t.width,f=t.height,d=this.state.annotation;return a.default.createElement("div",{style:{position:"absolute"}},a.default.createElement(h.default,{viewport:r({},i,{width:s,height:f,transitionInterpolator:new l.FlyToInterpolator,transitionEasing:u.easeCubic}),annotation:d,layersThunk:function(){return[(0,c.default)(n,[[p.LOCATION_DISPLAY_TYPE_DOTS,function(){return e.locationParser.getScatterplotLayer()}],[p.LOCATION_DISPLAY_TYPE_PATH,function(){return e.locationParser.getLineLayer()}],[p.LOCATION_DISPLAY_TYPE_HEATMAP,function(){return e.locationParser.getScreenGridLayer()}]])()].filter(Boolean)},onViewportChange:o}))}}]),t}();t.default=(0,s.connect)(function(e){var t=e.context,n=e.location,r=e.filters,i=e.options,o=e.map;return{width:t.width,height:t.height,data:n.data,accuracyThreshold:r.accuracyThreshold,locationDisplayType:i.locationDisplayType,viewport:o.viewport}},function(e){return{handleViewportChange:function(t){return e((0,f.setViewport)(t))}}})(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POSITION_RIGHT=t.POSITION_LEFT=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=l(o),s=l(n(16)),u=n(31);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=t.POSITION_LEFT=0,f=t.POSITION_RIGHT=100,h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={position:p},r.tick=function(){var e=r.props,t=e.duration,n=e.delay;r.setState(function(e){return{position:e.position===p?f:p}}),r.interval=setTimeout(r.tick,t+n)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.interval=setTimeout(this.tick,1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.color,n=void 0===t?u.colors.primary:t,i=e.thickness,o=e.duration,s=(e.delay,e.style),l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","thickness","duration","delay","style"]),c=this.state.position,h=c===p?-f:p,d=r({overflow:"hidden",height:i,width:"100%",position:"relative"},s),g={backgroundColor:n,height:i,transition:"all "+o/1e3+"s cubic-bezier(.75, 0, .32, .99)",width:"100px",marginLeft:"calc("+c+"% + "+h+"px)"};return a.default.createElement("div",r({style:d},l),a.default.createElement("div",{style:g}))}}]),t}();h.propTypes={color:s.default.string,thickness:s.default.number,duration:s.default.number,delay:s.default.number,style:s.default.object},h.defaultProps={color:void 0,thickness:4,duration:900,delay:125,style:{}},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=(o(n(16)),o(n(364)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.isLoading;return r.default.createElement("div",{style:{width:"100%"}},t&&r.default.createElement(i.default,{style:{position:"absolute",zIndex:3}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=(a(n(16)),n(59)),o=a(n(365));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.connect)(function(e){return{isLoading:e.progress.isLoading}})(function(e){var t=e.isLoading;return r.default.createElement(o.default,{isLoading:t})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(3)),o=s(n(16)),a=n(31);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n,o,s=e.baseStyle,u=e.isSelected,l=e.isInvert,c=e.onClick,p=e.children,f=(t={},n=l?"borderTop":"borderBottom",o="2.5px solid "+a.colors.primary,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t),h=r({},s,{borderTop:"2.5px solid rgba(0, 0, 0, 0)",borderRight:0,borderBottom:"2.5px solid rgba(0, 0, 0, 0)",borderLeft:0,transition:"border 0.1s ease"},u&&f);return i.default.createElement("button",{onClick:c,style:h},p)};u.propTypes={baseStyle:o.default.object.isRequired,isSelected:o.default.bool.isRequired,isInvert:o.default.bool.isRequired,onClick:o.default.func.isRequired,children:o.default.node.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(3)),o=u(n(16)),a=n(31),s=u(n(162));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.baseStyle,n=e.isHover,o=e.isIntermediate,s=e.isSelected,u=e.onClick,l=e.handleMouseEnter,c=e.handleMouseLeave,p=e.children,f={backgroundColor:n?"rgba(253, 253, 253)":"inherit",border:"1px solid "+a.colors.gray10,transition:"background-color 0.1s ease"},h={backgroundColor:a.colors.gray10},d=r({},t,f,s&&h,o&&{borderRight:"none"});return i.default.createElement("button",{style:d,onClick:u,onMouseEnter:l,onMouseLeave:c},p)};l.propTypes={baseStyle:o.default.object.isRequired,isIntermediate:o.default.bool.isRequired,isSelected:o.default.bool.isRequired,onClick:o.default.func.isRequired,children:o.default.node.isRequired,isHover:o.default.bool.isRequired,handleMouseEnter:o.default.func.isRequired,handleMouseLeave:o.default.func.isRequired},t.default=(0,s.default)({key:"isHover",enable:"handleMouseEnter",disable:"handleMouseLeave"})(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(3)),o=h(n(16)),a=h(n(28)),s=h(n(37)),u=h(n(368)),l=h(n(367)),c=n(161),p=h(n(160)),f=h(n(122));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.options,n=e.value,o=e.secondary,c=e.fit,p=e.invert,f=e.onChange,h=e.style,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["options","value","secondary","fit","invert","onChange","style"]),g=r({alignItems:"end",display:"flex",justifyContent:c?"inherit":"space-around"},h),y={backgroundColor:"inherit",borderRadius:0,cursor:"pointer",textAlign:"center",width:"100%"},v=o?l.default:u.default;return i.default.createElement("div",r({style:g},d),t.map(function(e,r){var o=e.value,u=e.label;return i.default.createElement("div",{key:o,style:c?{}:{flex:1}},i.default.createElement(v,{baseStyle:y,isIntermediate:r<t.length-1,isSelected:n===o,isInvert:p,onClick:function(){return f(o)}},"string"==typeof u?i.default.createElement(a.default,{size:"tiny",top:!0,bottom:!0,padding:!0},i.default.createElement(s.default,{color:"gray60"},u)):u))}))};d.propTypes={options:o.default.arrayOf(o.default.shape({value:o.default.string.isRequired,label:o.default.oneOfType([o.default.string,o.default.node]).isRequired})),value:o.default.string,secondary:o.default.bool,fit:o.default.bool,invert:o.default.bool,onChange:o.default.func,style:o.default.object},d.defaultProps={options:[],value:null,secondary:!1,fit:!1,invert:!1,onChange:p.default,style:{}},t.default=(0,f.default)({key:"button",css:c.buttonOutlinesCSS})(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=(u(n(16)),u(n(28))),o=u(n(369)),a=u(n(37)),s=n(121);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.locationDisplayType,n=e.onLocationDisplayTypeChange;return r.default.createElement("div",null,r.default.createElement(i.default,{size:"small",bottom:!0},r.default.createElement(a.default,{uppercase:!0,bold:!0},"Display options")),r.default.createElement(i.default,{size:"tiny",bottom:!0},r.default.createElement(a.default,{size:"kilo",color:"gray50",uppercase:!0,bold:!0},"Location representation"),r.default.createElement(a.default,{size:"lambda",color:"gray25"},"Choose how location data is displayed on the map")),r.default.createElement(o.default,{onChange:n,value:t,options:[{value:s.LOCATION_DISPLAY_TYPE_DOTS,label:"Dots"},{value:s.LOCATION_DISPLAY_TYPE_PATH,label:"Path"},{value:s.LOCATION_DISPLAY_TYPE_HEATMAP,label:"Heatmap"}]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),i=(s(n(16)),n(59)),o=n(201),a=(n(121),s(n(370)));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.connect)(function(e){return{locationDisplayType:e.options.locationDisplayType}},function(e){return{handleLocationDisplayTypeChange:function(t){return e((0,o.setLocationDisplayType)(t))}}})(function(e){var t=e.locationDisplayType,n=e.handleLocationDisplayTypeChange;return r.default.createElement(a.default,{locationDisplayType:t,onLocationDisplayTypeChange:n})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(3)),o=a(n(16));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){var n=e.children,o=e.color,a=e.size,s=e.style,u=e.width,l=e.height,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","color","size","style","width","height"]),p=t.reactIconBase,f=void 0===p?{}:p,h=a||f.size||"1em";return i.default.createElement("svg",r({children:n,fill:"currentColor",preserveAspectRatio:"xMidYMid meet",height:l||h,width:u||h},f,c,{style:r({verticalAlign:"middle",color:o||f.color},f.style||{},s)}))};s.propTypes={color:o.default.string,size:o.default.oneOfType([o.default.string,o.default.number]),width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),style:o.default.object},s.contextTypes={reactIconBase:o.default.shape(s.propTypes)},t.default=s,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(3)),o=a(n(372));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return i.default.createElement(o.default,r({viewBox:"0 0 40 40"},e),i.default.createElement("g",null,i.default.createElement("path",{d:"m12.3 25.7l-2.3-2.3 10-10 10 10-2.3 2.3-7.7-7.7z"})))},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=l(i),a=(l(n(16)),n(31)),s=l(n(373)),u=l(n(211));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleExpansionToggleClick=function(e){e.preventDefault(),r.props.onExpandClick()},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.isCompact;return o.default.createElement("div",{style:{alignItems:"center",display:"flex",justifyContent:"space-between"}},o.default.createElement(u.default,{style:{height:n&&!t?"20px":"40px",transition:"all 0.15s ease",width:"auto"}}),o.default.createElement("a",{href:"#",onClick:this.handleExpansionToggleClick},o.default.createElement(s.default,{style:{color:a.colors.gray50,fontSize:"24px",transform:"rotate("+(t?0:180)+"deg)",transition:"all 0.3s ease"}})))}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.unselectable={MozUserSelect:"none",MsUserSelect:"none",WebkitUserSelect:"none",userSelect:"none"};t.default=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.clip=function(e,t){return function(n){return Math.min(t,Math.max(n,e))}};t.default=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=f(s),l=(f(n(16)),f(n(159))),c=n(31),p=f(n(202));function f(e){return e&&e.__esModule?e:{default:e}}var h=(i=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isHover:!1},n.handleHoverChange=function(e){return function(){return n.setState({isHover:e})}},n.clickColor=c.colors.primary,n.idleColor=new l.default(c.colors.primary).lighten(.2).string(),n.hoverColor=new l.default(c.colors.primary).lighten(.3).string(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.isDragging,n=e.offset,r=e.size,i=e.style,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isDragging","offset","size","style"]),s=this.state.isHover,l=(0,p.default)(!0,[[t,this.clickColor],[s,this.hoverColor]],this.idleColor);return u.default.createElement("div",o({onMouseEnter:this.handleHoverChange(!0),onMouseLeave:this.handleHoverChange(!1),style:o({backgroundColor:l,borderRadius:r+"px",height:r+"px",left:n+"px",position:"relative",transition:"background-color 0.15s ease",width:r+"px"},i)},a))}}]),t}(),r.defaultProps={isDragging:!1,offset:0,size:16,style:{}},i);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=g(s),l=(g(n(16)),n(31)),c=g(n(28)),p=g(n(37)),f=g(n(377)),h=n(376),d=n(375);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=14,m=(i=r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isDragging:!1},r.setRef=function(e){r.ref=e},r.handleMouseMove=function(e){var t=r.props,n=t.width,i=t.min,o=t.max,a=t.onChange,s=r.state.isDragging;if(r.ref){var u=r.ref.getBoundingClientRect().left;if(s){var l=(e.clientX-u)/(n-v);l>=0&&l<=1&&a(i+l*(o-i))}}},r.handleClickStateChange=function(e){return function(t){t.persist(),r.setState({isDragging:e},function(){return r.handleMouseMove(t)})}},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.min,r=e.max,i=e.value,a=e.formatter,s=this.state.isDragging,g=((0,h.clip)(n,r)(i)-n)/(r-n)*(t-v);return u.default.createElement("div",{ref:this.setRef,onMouseMove:this.handleMouseMove,onMouseDown:this.handleClickStateChange(!0),onMouseUp:this.handleClickStateChange(!1),onMouseLeave:this.handleClickStateChange(!1),style:{cursor:"pointer",display:"inline-block"}},u.default.createElement("div",{style:{left:-v/2+"px",position:"relative"}},u.default.createElement(c.default,{size:"micro",bottom:!0},u.default.createElement(p.default,{size:"kilo",color:"primary",style:o({display:"inline-block",left:g+"px",opacity:s?1:0,position:"relative",transition:"opacity 0.15s ease"},d.unselectable),bold:!0},a(i))),u.default.createElement("div",{style:{width:t-v+"px"}},u.default.createElement("div",{style:{backgroundColor:l.colors.primary,height:"1px",left:v/2+"px",position:"relative",top:v/2+1+"px",width:g+"px"}}),u.default.createElement("div",{style:{backgroundColor:l.colors.gray20,height:"1px",left:v/2+g+"px",position:"relative",top:v/2+"px",width:t-v-g+"px"}})),u.default.createElement(f.default,{isDragging:s,offset:g,size:v})),u.default.createElement(c.default,{size:"tiny",top:!0,style:{display:"flex",justifyContent:"space-between"}},u.default.createElement(p.default,{size:"kilo",color:"gray60",style:o({alignSelf:"flex-start"},d.unselectable)},a(n)),u.default.createElement(p.default,{size:"kilo",color:"gray60",style:o({alignSelf:"flex-end"},d.unselectable)},a(r))))}}]),t}(),r.defaultProps={formatter:function(e){return e},onChange:function(){}},i);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),i=(s(n(16)),s(n(28))),o=s(n(37)),a=s(n(378));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return e.toFixed(1)+" m"};t.default=function(e){var t=e.threshold,n=e.minAccuracy,s=e.maxAccuracy,l=e.width,c=e.onAccuracyThresholdChange;return r.default.createElement("div",null,r.default.createElement(i.default,{size:"small",bottom:!0},r.default.createElement(o.default,{uppercase:!0,bold:!0},"Filters")),r.default.createElement(i.default,{size:"tiny",bottom:!0},r.default.createElement(o.default,{size:"kilo",color:"gray50",uppercase:!0,bold:!0},"Accuracy"),r.default.createElement(o.default,{size:"lambda",color:"gray25"},"Filter out points less than a threshold accuracy (meters)")),r.default.createElement(a.default,{min:n,max:s,value:t,formatter:u,onChange:c,width:l}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),i=(s(n(16)),n(59)),o=n(203),a=s(n(379));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.connect)(function(e){var t=e.context,n=e.filters;return{width:t.isCompact?t.width-60:510,accuracyThreshold:n.accuracyThreshold}},function(e){return{setAccuracyThreshold:function(t){return e((0,o.setAccuracyFilter)(t))}}})(function(e){var t=e.accuracyThreshold,n=e.setAccuracyThreshold,i=e.width;return r.default.createElement(a.default,{threshold:t,minAccuracy:5,maxAccuracy:1e3,width:i,onAccuracyThresholdChange:n})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unixTimestampToDate=t.dateToUnixTimestamp=void 0;var r,i=n(204),o=(r=i)&&r.__esModule?r:{default:r};t.dateToUnixTimestamp=function(e){var t=new Date(e);return(t.getTime()+60*t.getTimezoneOffset()*1e3)/1e3},t.unixTimestampToDate=function(e){return o.default.date("Y-m-d",e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=d(n(3)),o=d(n(16)),a=d(n(159)),s=d(n(28)),u=d(n(37)),l=n(31),c=n(164),p=d(n(213)),f=d(n(122)),h=d(n(162));function d(e){return e&&e.__esModule?e:{default:e}}var g=function(e){var t=e.error,n=e.secondary,o=e.style,p=e.handleMouseOver,f=e.handleMouseOut,h=e.handleFocus,d=e.handleBlur,g=e.isHover,y=e.isFocus,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["error","secondary","style","handleMouseOver","handleMouseOut","handleFocus","handleBlur","isHover","isFocus"]),m=new a.default(l.colors.red).lighten(.7).string(),_=t?l.colors.redLight:l.colors.gray10,A=t?l.colors.redLight:l.colors.primaryLight,b=t?m:l.colors.gray20,x=t?m:new a.default(l.colors.primary).lighten(.4).string(),w=t?l.colors.red:l.colors.primary,E=r({transition:"all 0.15s ease",width:"100%"},(0,c.primaryFontStyle)("kilo",l.colors.gray80,!1)),T=r({border:"1px solid "+_,borderRadius:0,boxSizing:"border-box",padding:"10px"},g&&{border:"1px solid "+b},y&&{border:"1px solid "+w}),M=r({backgroundColor:"transparent",borderLeft:"none",borderTop:"none",borderRight:"none",borderBottom:"1px solid "+A,padding:"3px 1px"},g&&{borderBottom:"1px solid "+x},y&&{borderBottom:"1px solid "+w}),S=r({},E,n?M:T,o);return i.default.createElement("div",null,i.default.createElement("input",r({onMouseOver:p,onMouseOut:f,onFocus:h,onBlur:d,style:S},v)),t&&i.default.createElement(s.default,{size:"micro",top:!0},i.default.createElement(u.default,{color:"red",size:"lambda",bold:!0},t)))};g.propTypes={error:o.default.string,secondary:o.default.bool,style:o.default.object,handleMouseOver:o.default.func.isRequired,handleMouseOut:o.default.func.isRequired,handleFocus:o.default.func.isRequired,handleBlur:o.default.func.isRequired,isHover:o.default.bool.isRequired,isFocus:o.default.bool.isRequired},g.defaultProps={error:null,secondary:!1,style:{}},t.default=(0,p.default)((0,f.default)({key:"text",css:c.fontCSS}),(0,h.default)({key:"isHover",enable:"handleMouseOver",disable:"handleMouseOut"}),(0,h.default)({key:"isFocus",enable:"handleFocus",disable:"handleBlur"}))(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(16)),o=u(n(28)),a=u(n(37)),s=n(31);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.label,n=e.color,i=e.width,s=e.arrowDirection,u=e.onClick,l=e.onHoverStateChange,c={alignItems:"center",backgroundColor:"white",border:"1px solid "+n,cursor:"pointer",display:"flex",padding:"10px",width:i,transition:"all 0.15s ease"},p={alignSelf:"center",marginLeft:"auto",transform:"up"===s?"rotate(180deg)":"rotate(0deg)",transition:"all 0.2s ease",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"};return r.default.createElement("div",{style:c,onClick:u,onMouseEnter:l(!0),onMouseLeave:l(!1)},r.default.createElement(o.default,{size:"small",padding:!0,right:!0},r.default.createElement(a.default,{size:"kilo",style:{display:"block"},inline:!0},t)),r.default.createElement(a.default,{size:"kilo",color:"gray30",style:p,inline:!0},""))};l.propTypes={label:i.default.string.isRequired,color:i.default.string,width:i.default.oneOfType([i.default.number,i.default.string]).isRequired,arrowDirection:i.default.oneOf(["up","down"]).isRequired,onClick:i.default.func.isRequired,onHoverStateChange:i.default.func.isRequired},l.defaultProps={color:s.colors.gray10},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=c(i),a=c(n(16)),s=c(n(28)),u=c(n(37)),l=n(31);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isHover:!1},r.handleHoverStateChange=function(e){return function(){return r.setState({isHover:e})}},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.width,r=e.isSelected,i=e.onClick,a={alignItems:"center",backgroundColor:this.state.isHover||r?l.colors.primaryLight:"white",border:"1px solid "+l.colors.gray10,borderTop:"none",cursor:"pointer",display:"flex",padding:"10px",transition:"all 0.15s ease",width:n};return o.default.createElement("div",{style:a,onClick:i,onMouseEnter:this.handleHoverStateChange(!0),onMouseLeave:this.handleHoverStateChange(!1)},o.default.createElement(s.default,{size:"small",padding:!0,right:!0},o.default.createElement(u.default,{size:"kilo",style:{display:"block"},inline:!0},t)))}}]),t}();f.propTypes={label:a.default.string.isRequired,width:a.default.oneOfType([a.default.number,a.default.string]).isRequired,isSelected:a.default.bool,onClick:a.default.func.isRequired},f.defaultProps={isSelected:!1},t.default=f},function(e,t,n){var r=n(206);function i(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],l=t[u];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(u))}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){for(var n=[t[e].parent,e],i=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var u=r[s];null!==t[u].parent&&(n[u]=a(u,t))}return n}},function(e,t,n){var r=n(206),i=n(385),o={};Object.keys(r).forEach(function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach(function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(void 0===t||null===t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return void 0===t||null===t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,n){"use strict";var r=n(387),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},function(e,t,n){var r=n(207),i=n(388),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=e.exports={to:{}};function u(e,t,n){return Math.min(Math.max(t,e),n)}function l(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(t.slice(a,a+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=i(arguments);return"#"+l(e[0])+l(e[1])+l(e[2])+(e[3]<1?l(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return o[e.slice(0,3)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=y(o),s=y(n(16)),u=y(n(159)),l=y(n(384)),c=y(n(383)),p=y(n(28)),f=y(n(37)),h=n(31),d=y(n(160)),g=n(212);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="select-list-placeholder-item-value",_=function(e,t){return(e%t+t)%t},A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.setDropdownRef=function(e){n.dropdown=e},n.setContainerRef=function(e){n.container=e},n.handleChange=function(e){return function(){n.props.onChange(e.value),n.setState({selectedOption:e,isExpanded:!1}),n.container.focus()}},n.handleHoverStateChange=function(e){return function(){return n.setState({isHovered:e})}},n.handleFocus=function(){return n.setState({isFocused:!0})},n.handleBlur=function(e){e&&n.dropdown.contains(e.relatedTarget)||n.setState({isExpanded:!1,isFocused:!1,highlightedIdx:null})},n.handleKeyDown=function(e){var t,r=e.keyCode,i=n.props.options,o=function(t){return function(){return e.preventDefault(),t()}},a=function(){var e=n.state,t=e.highlightedIdx,r=e.isExpanded;return null!==t&&r?n.handleChange(i[_(t,i.length)])():n.toggleExpand()};return((v(t={},g.KEY_CODE_SPACE,o(a)),v(t,g.KEY_CODE_ENTER,o(a)),v(t,g.KEY_CODE_ESC,o(function(){return n.handleBlur()})),v(t,g.KEY_CODE_UP,o(function(){return n.setState(function(e){var t=e.highlightedIdx;return{isExpanded:!0,highlightedIdx:null===t?-1:t-1}})})),v(t,g.KEY_CODE_DOWN,o(function(){return n.setState(function(e){var t=e.highlightedIdx;return{isExpanded:!0,highlightedIdx:null===t?0:t+1}})})),t)[r]||function(){var e=String.fromCharCode(r),t=r>47&&r<58||r>64&&r<91,o=i.findIndex(function(t){return t.label.toLowerCase().startsWith(e.toLowerCase())});return t?n.setState(function(e){var t=e.highlightedIdx;return{isExpanded:!0,highlightedIdx:o>=0?o:t}}):null})()},n.toggleExpand=function(){return n.setState(function(e){return{isExpanded:!e.isExpanded}})};var r=n.props.placeholder;return n.state={isExpanded:!1,isFocused:!1,isHovered:!1,selectedOption:{label:r,value:m},highlightedIdx:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.options,i=t.width,o=t.height,s=t.error,d=t.style,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["options","width","height","error","style"]),y=this.state,v=y.isExpanded,m=y.isFocused,A=y.isHovered,b=y.selectedOption,x=y.highlightedIdx,w=r({position:"absolute",zIndex:2},o&&{height:o,overflowY:"auto",overflowX:"hidden"}),E=v?s?h.colors.red:h.colors.primary:m?s?h.colors.red:h.colors.gray35:A?s?new u.default(h.colors.red).lighten(.7).string():h.colors.gray20:s?h.colors.redLight:h.colors.gray10;return a.default.createElement("div",r({ref:this.setContainerRef,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:0,style:r({display:"inline-block"},d)},g),a.default.createElement(c.default,{label:b.label,color:E,arrowDirection:v?"up":"down",width:i,error:s,onClick:this.toggleExpand,onHoverStateChange:this.handleHoverStateChange}),a.default.createElement("div",{ref:this.setDropdownRef},v&&a.default.createElement("div",{style:w,tabIndex:-1},n.map(function(t,r){return a.default.createElement(l.default,{key:t.value,label:t.label,width:i,isSelected:null!==x&&_(x,n.length)===r,onClick:e.handleChange(t)})}))),s&&a.default.createElement(p.default,{size:"micro",top:!0},a.default.createElement(f.default,{color:"red",size:"lambda",bold:!0},s)))}}]),t}();A.propTypes={placeholder:s.default.string,options:s.default.arrayOf(s.default.shape({label:s.default.string,value:s.default.string})),width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.number,error:s.default.string,style:s.default.object,onChange:s.default.func},A.defaultProps={placeholder:"Select an item...",options:[],width:"100%",height:null,error:null,style:{},onChange:d.default},t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(3)),o=u(n(16)),a=u(n(28)),s=u(n(37));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.label,n=e.sublabel,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["label","sublabel"]);return i.default.createElement(a.default,r({size:"tiny",bottom:!0},o),t&&i.default.createElement(s.default,{size:"kilo",color:"gray50",uppercase:!0,bold:!0},t),n&&i.default.createElement(s.default,{size:"lambda",color:"gray25"},n))};l.propTypes={label:o.default.string,sublabel:o.default.string},l.defaultProps={label:null,sublabel:null},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=(l(n(16)),l(n(391))),o=l(n(390)),a=l(n(28)),s=l(n(37)),u=l(n(382));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.users,n=e.devices,l=e.timestampStart,c=e.timestampEnd,p=e.fieldWidth,f=e.onUserChange,h=e.onDeviceChange,d=e.onTimestampStartChange,g=e.onTimestampEndChange;return r.default.createElement("div",null,r.default.createElement(a.default,{size:"small",bottom:!0},r.default.createElement(s.default,{uppercase:!0,bold:!0},"Data source")),r.default.createElement(a.default,{bottom:!0,style:{display:"flex",justifyContent:"space-between"}},r.default.createElement("div",null,r.default.createElement(i.default,{label:"User",sublabel:"User for queried locations"}),r.default.createElement(o.default,{options:t.map(function(e){return{value:e,label:e}}),width:p,onChange:f})),r.default.createElement("div",null,r.default.createElement(i.default,{label:"Device",sublabel:"Device owned by this user"}),r.default.createElement(o.default,{options:n.map(function(e){return{value:e,label:e}}),width:p,onChange:h}))),r.default.createElement(a.default,{bottom:!0,style:{display:"flex",justifyContent:"space-between"}},r.default.createElement("div",null,r.default.createElement(i.default,{label:"Start date",sublabel:"Start of the interval to query"}),r.default.createElement(u.default,{type:"date",value:l,onChange:d,style:{width:p+20+"px"}})),r.default.createElement("div",null,r.default.createElement(i.default,{label:"End date",sublabel:"End of the interval to query"}),r.default.createElement(u.default,{type:"date",value:c,onChange:g,style:{width:p+20+"px"}}))))}},function(e,t,n){"use strict";n.r(t);var r="function"==typeof fetch?fetch.bind():function(e,t){return t=t||{},new Promise(function(n,r){var i=new XMLHttpRequest;for(var o in i.open(t.method||"get",e),t.headers)i.setRequestHeader(o,t.headers[o]);function a(){var e,t=[],n=[],r={};return i.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(i,o,a){t.push(o=o.toLowerCase()),n.push([o,a]),e=r[o],r[o]=e?e+","+a:a}),{ok:1==(i.status/200|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:a,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}i.withCredentials="include"==t.credentials,i.onload=function(){n(a())},i.onerror=r,i.send(t.body)})};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=l(o),s=l(n(210)),u=l(n(208));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){return function(t){return function(n){function l(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,(t=l.__proto__||Object.getPrototypeOf(l)).call.apply(t,[this].concat(o))),r.state={err:null,isLoaded:!1,data:void 0},r.onComplete=function(e,t){r.setState({err:e,data:t,isLoaded:!0})},r.retry=function(){r.setState({err:null,isLoaded:!1,data:void 0}),r.invokeResource()},r.invokeResource=function(){var t=e.endpoint,n=e.data,i=void 0===n?function(){return{}}:n,o=e.method,a=void 0===o?"GET":o;(0,u.default)({endpoint:t,method:a,data:i(r.props)},r.onComplete)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o.Component),i(l,[{key:"componentDidMount",value:function(){this.invokeResource()}},{key:"componentDidUpdate",value:function(t){var n=e.data,r=void 0===n?function(){return{}}:n;(0,s.default)(r(this.props),r(t))||this.retry()}},{key:"render",value:function(){var n=this.state,i=n.err,o=n.isLoaded,s=n.data,u=e.key,l=void 0===u?"resource":u,c=r({},this.props,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},l,{err:i,isLoaded:o,data:s,retry:this.retry}));return a.default.createElement(t,c)}}]),l}()}}},function(e,t,n){var r;!function(n){var i=Object.prototype.hasOwnProperty,o=function(){var e=Array.prototype.slice.call(arguments);return 2==e.length?o.find.apply(this,e):o.transform.apply(this,e)};o.find=function(e,t){return o.get(t,e)},o.memoizePath=!0;var a={};o.get=function(e,t,n){if(void 0===e||null===e||void 0===t||null===t)return n;var r;for("string"==typeof t?o.memoizePath?a[t]?r=a[t].slice(0):(r=t.split(".").reverse(),a[t]=r.slice(0)):r=t.split(".").reverse():Array.isArray(t)&&(r=function(e){for(var t=new Array(e.length),n=e.length,r=n-1;n--;)t[r-n]=e[n];return t}(t));r.length&&void 0!==(e=e[r.pop()])&&null!==e;);return null===e&&r.length&&(e=void 0),void 0===e?n:e},o.exists=function(e,t){return void 0!==o.get(e,t)},o.set=function(e,t,n,r){var o,a=Array.isArray(t)?t:t.split("."),s=e,u=a.length;if("object"!=typeof s)throw new Error("Parent is not an object.");for(var l=0;l<u;l++)if(o=a[l],(!i.call(s,o)||void 0===s[o]||"object"!=typeof s[o]&&r&&!0===r.force)&&(s[o]={}),l==u-1)s[o]=n;else{if("object"!=typeof s[o])throw new Error('Target key "'+o+'" is not suitable for a nested value. (It is in use as non-object. Set `force` to `true` to override.)');s=s[o]}s[o]=n},o.default=function(e,t,n){void 0===o.get(e,t)&&o.set(e,t,n)},o.transform=function(e,t){if(Array.isArray(e))return e.map(function(e){return o.transform(e,t)});(t=t||{}).delimiter=t.delimiter||".";var n,r,i,a,s,u,l={},c=Object.keys(e),p=c.length;for(u=0;u<p;u++)if(-1!==(s=c[u]).indexOf(t.delimiter)){r=(n=s.split(t.delimiter)).length,a=l;for(var f=0;f<r&&(i=n[f],f==r-1||a.hasOwnProperty(i)||(a[i]={}),f==r-1&&(a[i]=e[s]),null!==(a=a[i]));f++);}else l[s]=e[s];return l},o.flatten=function(e,t){void 0===t&&(t=".");var n,r,a={};for(var s in e)if(i.call(e,s))if(n=e[s],"[object Object]"===Object.prototype.toString.call(n))for(var u in r=o.flatten(n,t))a[s+t+u]=r[u];else a[s]=n;return a},o.paths=function(e,t){var n,r,i=[];if(t=t||[],"object"!=typeof e)throw new Error("Paths was called with non-object argument.");for(r in e)"object"==typeof(n=e[r])?i=i.concat(o.paths(n,t.concat([r]))):i.push(t.concat(r).join("."));return i},void 0!==e&&e.exports?t=e.exports=o:(this.Dottie=o,this.Dot=o,void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r))}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return a.default.createElement("svg",i({viewBox:"0 0 24 24"},e),a.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(3)),o=h(n(16)),a=h(n(28)),s=h(n(37)),u=h(n(396)),l=n(31),c=n(161),p=h(n(160)),f=h(n(122));function h(e){return e&&e.__esModule?e:{default:e}}var d={info:{color:l.colors.blue,background:l.colors.blueLight},success:{color:l.colors.green,background:l.colors.greenLight},warn:{color:l.colors.yellow,background:l.colors.yellowLight},error:{color:l.colors.red,background:l.colors.redLight}},g={alpha:"iota",beta:"kilo"},y={alpha:"16px 22px",beta:"10px 15px"},v=function(e){var t=e.type,n=e.size,o=e.title,l=e.message,c=e.dismissible,p=e.style,f=e.onDismiss,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","size","title","message","dismissible","style","onDismiss"]),v=d[t],m=v.color,_=v.background,A=r({backgroundColor:_,padding:y[n]},p),b={fill:m,height:"16px"};return i.default.createElement("div",r({style:A},h),c&&i.default.createElement("button",{onClick:f,style:{background:"inherit",border:0,cursor:"pointer",float:"right"}},i.default.createElement(u.default,{style:b})),i.default.createElement(s.default,{size:g[n],color:m,bold:!0,inline:!0},o),i.default.createElement(a.default,{size:"small",left:!0,inline:!0},i.default.createElement(s.default,{size:g[n],color:m,inline:!0},l)))};v.propTypes={type:o.default.oneOf(["info","success","warn","error"]),size:o.default.oneOf(["alpha","beta"]),title:o.default.string.isRequired,message:o.default.oneOfType([o.default.string,o.default.element]).isRequired,dismissible:o.default.bool,style:o.default.object,onDismiss:o.default.func},v.defaultProps={type:"info",size:"alpha",dismissible:!1,style:{},onDismiss:p.default},t.default=(0,f.default)({key:"button",css:c.buttonOutlinesCSS})(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),i=(d(n(16)),n(86)),o=n(59),a=d(n(397)),s=d(n(28)),u=d(n(395)),l=d(n(394)),c=d(n(392)),p=n(205),f=n(158),h=n(381);function d(e){return e&&e.__esModule?e:{default:e}}var g=function(e){var t=e.userDevices,n=t.err,i=t.data,o=void 0===i?[]:i,l=e.user,p=e.timestamp,f=e.fieldWidth,d=e.handleUserChange,g=e.handleDeviceChange,y=e.handleTimestampStartChange,v=e.handleTimestampEndChange,m=o.map(function(e){return e.user}),_=u.default.get(o.find(function(e){return e.user===l}),"devices",[]);return r.default.createElement("div",null,n&&r.default.createElement(s.default,{bottom:!0},r.default.createElement(a.default,{size:"beta",type:"error",title:"There was an error fetching users and devices.",message:n.message})),r.default.createElement(s.default,{bottom:!0},r.default.createElement(a.default,{size:"beta",type:"warn",title:"Orion demo",message:"This is a demo instance of Orion, using static sample location data. For this reason, the accuracy filter and timestamp controls will not work."})),r.default.createElement(c.default,{users:m,devices:_,timestampStart:(0,h.unixTimestampToDate)(p.start),timestampEnd:(0,h.unixTimestampToDate)(p.end),fieldWidth:f,onUserChange:d,onDeviceChange:g,onTimestampStartChange:y,onTimestampEndChange:v}))};g.defaultProps={user:null};t.default=(0,i.compose)((0,o.connect)(function(e){var t=e.context,n=e.dataSource;return{fieldWidth:t.isCompact?(t.width-140)/2:200,user:n.user,timestamp:n.timestamp}},function(e){var t=function(t){return function(n){var r=t(n);return function(){return r.apply(void 0,arguments),e((0,f.fetchLocations)()),r}}},n=function(t){return function(n){"select-list-placeholder-item-value"!==n&&e(t(n))}},r=function(t){return function(n){return e(t((0,h.dateToUnixTimestamp)(n.target.value)))}};return{handleUserChange:t(n)(p.setUser),handleDeviceChange:t(n)(p.setDevice),handleTimestampStartChange:t(r)(p.setTimestampStart),handleTimestampEndChange:t(r)(p.setTimestampEnd)}}),(0,l.default)({key:"userDevices",endpoint:"api/users"}))(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=f(o),s=(f(n(16)),f(n(28))),u=f(n(398)),l=f(n(380)),c=f(n(374)),p=f(n(371));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleExpansionState=function(){return n.setState(function(e){return{isExpanded:!e.isExpanded}})},n.state={isExpanded:!e.isCompact},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this.props.isCompact,t=this.state.isExpanded;return a.default.createElement(s.default,{size:"large",style:r({},{backgroundColor:"white",maxHeight:"110px",opacity:.5,overflowX:"hidden",overflowY:"hidden",transition:"all 0.3s ease",width:"500px"},e&&{boxSizing:"border-box",maxHeight:"40px",height:"100vh",overflowX:"hidden",overflowY:"auto",width:"inherit"},t&&{maxHeight:"100vh",opacity:1}),right:!0,left:!0,padding:!0},a.default.createElement(s.default,{size:e&&!t?"tiny":"large",style:{transition:"all 0.15s ease"},top:!0,bottom:!0,padding:!0},a.default.createElement(s.default,{size:"large",bottom:!0},a.default.createElement(c.default,{isExpanded:t,isCompact:e,onExpandClick:this.toggleExpansionState})),a.default.createElement(s.default,{size:"large",bottom:!0},a.default.createElement(u.default,null)),a.default.createElement(s.default,{size:"large",bottom:!0},a.default.createElement(l.default,null)),a.default.createElement(p.default,null)))}}]),t}();t.default=h},function(e,t,n){(function(e){t.__esModule=!0,t.warn=t.requestAnimationFrame=t.reducePropsToState=t.mapStateOnServer=t.handleClientStateChange=t.convertReactPropstoHtmlAttributes=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(3)),a=u(n(167)),s=n(209);function u(e){return e&&e.__esModule?e:{default:e}}var l,c=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},p=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return i({},e,t)},{})},f=function(e,t,n){var i={};return n.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&m("Helmet: "+e+' should be of type "Array". Instead found type "'+r(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var r={};n.filter(function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var u=o[a],l=u.toLowerCase();-1===t.indexOf(l)||n===s.TAG_PROPERTIES.REL&&"canonical"===e[n].toLowerCase()||l===s.TAG_PROPERTIES.REL&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(u)||u!==s.TAG_PROPERTIES.INNER_HTML&&u!==s.TAG_PROPERTIES.CSS_TEXT&&u!==s.TAG_PROPERTIES.ITEM_PROP||(n=u)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return i[n]||(i[n]={}),r[n]||(r[n]={}),!i[n][c]&&(r[n][c]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var o=Object.keys(r),u=0;u<o.length;u++){var l=o[u],c=(0,a.default)({},i[l],r[l]);i[l]=c}return e},[]).reverse()},h=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},d=(l=Date.now(),function(e){var t=Date.now();t-l>16?(l=t,e(t)):setTimeout(function(){d(e)},0)}),g=function(e){return clearTimeout(e)},y="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||d:e.requestAnimationFrame||d,v="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||g:e.cancelAnimationFrame||g,m=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},_=null,A=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,p=e.styleTags,f=e.title,h=e.titleAttributes;w(s.TAG_NAMES.BODY,r),w(s.TAG_NAMES.HTML,i),x(f,h);var d={baseTag:E(s.TAG_NAMES.BASE,n),linkTags:E(s.TAG_NAMES.LINK,o),metaTags:E(s.TAG_NAMES.META,a),noscriptTags:E(s.TAG_NAMES.NOSCRIPT,u),scriptTags:E(s.TAG_NAMES.SCRIPT,c),styleTags:E(s.TAG_NAMES.STYLE,p)},g={},y={};Object.keys(d).forEach(function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(g[e]=n),r.length&&(y[e]=d[e].oldTags)}),t&&t(),l(e,g,y)},b=function(e){return Array.isArray(e)?e.join(""):e},x=function(e,t){void 0!==e&&document.title!==e&&(document.title=b(e)),w(s.TAG_NAMES.TITLE,t)},w=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(s.HELMET_ATTRIBUTE),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),u=0;u<a.length;u++){var l=a[u],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var p=o.indexOf(l);-1!==p&&o.splice(p,1)}for(var f=o.length-1;f>=0;f--)n.removeAttribute(o[f]);i.length===o.length?n.removeAttribute(s.HELMET_ATTRIBUTE):n.getAttribute(s.HELMET_ATTRIBUTE)!==a.join(",")&&n.setAttribute(s.HELMET_ATTRIBUTE,a.join(","))}},E=function(e,t){var n=document.head||document.querySelector(s.TAG_NAMES.HEAD),r=n.querySelectorAll(e+"["+s.HELMET_ATTRIBUTE+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===s.TAG_PROPERTIES.INNER_HTML)n.innerHTML=t.innerHTML;else if(r===s.TAG_PROPERTIES.CSS_TEXT)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var u=void 0===t[r]?"":t[r];n.setAttribute(r,u)}n.setAttribute(s.HELMET_ATTRIBUTE,"true"),i.some(function(e,t){return a=t,n.isEqualNode(e)})?i.splice(a,1):o.push(n)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),o.forEach(function(e){return n.appendChild(e)}),{oldTags:i,newTags:o}},T=function(e){return Object.keys(e).reduce(function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[s.REACT_TAG_MAP[n]||n]=e[n],t},t)},S=function(e,t,n){switch(e){case s.TAG_NAMES.TITLE:return{toComponent:function(){return e=t.title,n=t.titleAttributes,(r={key:e})[s.HELMET_ATTRIBUTE]=!0,i=M(n,r),[o.default.createElement(s.TAG_NAMES.TITLE,i,e)];var e,n,r,i},toString:function(){return function(e,t,n,r){var i=T(n),o=b(t);return i?"<"+e+" "+s.HELMET_ATTRIBUTE+'="true" '+i+">"+c(o,r)+"</"+e+">":"<"+e+" "+s.HELMET_ATTRIBUTE+'="true">'+c(o,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case s.ATTRIBUTE_NAMES.BODY:case s.ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return M(t)},toString:function(){return T(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,i=((r={key:n})[s.HELMET_ATTRIBUTE]=!0,r);return Object.keys(t).forEach(function(e){var n=s.REACT_TAG_MAP[e]||e;if(n===s.TAG_PROPERTIES.INNER_HTML||n===s.TAG_PROPERTIES.CSS_TEXT){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]}),o.default.createElement(e,i)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var i=Object.keys(r).filter(function(e){return!(e===s.TAG_PROPERTIES.INNER_HTML||e===s.TAG_PROPERTIES.CSS_TEXT)}).reduce(function(e,t){var i=void 0===r[t]?t:t+'="'+c(r[t],n)+'"';return e?e+" "+i:i},""),o=r.innerHTML||r.cssText||"",a=-1===s.SELF_CLOSING_TAGS.indexOf(e);return t+"<"+e+" "+s.HELMET_ATTRIBUTE+'="true" '+i+(a?"/>":">"+o+"</"+e+">")},"")}(e,t,n)}}}};t.convertReactPropstoHtmlAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[s.HTML_TAG_MAP[n]||n]=e[n],t},t)},t.handleClientStateChange=function(e){_&&v(_),e.defer?_=y(function(){A(e,function(){_=null})}):(A(e),_=null)},t.mapStateOnServer=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,u=e.noscriptTags,l=e.scriptTags,c=e.styleTags,p=e.title,f=void 0===p?"":p,h=e.titleAttributes;return{base:S(s.TAG_NAMES.BASE,t,r),bodyAttributes:S(s.ATTRIBUTE_NAMES.BODY,n,r),htmlAttributes:S(s.ATTRIBUTE_NAMES.HTML,i,r),link:S(s.TAG_NAMES.LINK,o,r),meta:S(s.TAG_NAMES.META,a,r),noscript:S(s.TAG_NAMES.NOSCRIPT,u,r),script:S(s.TAG_NAMES.SCRIPT,l,r),style:S(s.TAG_NAMES.STYLE,c,r),title:S(s.TAG_NAMES.TITLE,{title:f,titleAttributes:h},r)}},t.reducePropsToState=function(e){return{baseTag:function(e,t){return t.filter(function(e){return void 0!==e[s.TAG_NAMES.BASE]}).map(function(e){return e[s.TAG_NAMES.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t},[])}([s.TAG_PROPERTIES.HREF],e),bodyAttributes:p(s.ATTRIBUTE_NAMES.BODY,e),defer:h(e,s.HELMET_PROPS.DEFER),encode:h(e,s.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:p(s.ATTRIBUTE_NAMES.HTML,e),linkTags:f(s.TAG_NAMES.LINK,[s.TAG_PROPERTIES.REL,s.TAG_PROPERTIES.HREF],e),metaTags:f(s.TAG_NAMES.META,[s.TAG_PROPERTIES.NAME,s.TAG_PROPERTIES.CHARSET,s.TAG_PROPERTIES.HTTPEQUIV,s.TAG_PROPERTIES.PROPERTY,s.TAG_PROPERTIES.ITEM_PROP],e),noscriptTags:f(s.TAG_NAMES.NOSCRIPT,[s.TAG_PROPERTIES.INNER_HTML],e),onChangeClientState:function(e){return h(e,s.HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}}(e),scriptTags:f(s.TAG_NAMES.SCRIPT,[s.TAG_PROPERTIES.SRC,s.TAG_PROPERTIES.INNER_HTML],e),styleTags:f(s.TAG_NAMES.STYLE,[s.TAG_PROPERTIES.CSS_TEXT],e),title:function(e){var t=h(e,s.TAG_NAMES.TITLE),n=h(e,s.HELMET_PROPS.TITLE_TEMPLATE);if(n&&t)return n.replace(/%s/g,function(){return t});var r=h(e,s.HELMET_PROPS.DEFAULT_TITLE);return t||r||void 0}(e),titleAttributes:p(s.ATTRIBUTE_NAMES.TITLE,e)}},t.requestAnimationFrame=y,t.warn=m}).call(this,n(32))},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],p=t[l];if(!1===(i=n?n.call(r,c,p,l):void 0)||void 0===i&&c!==p)return!1}return!0}},function(e,t,n){var r;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(3),i=s(r),o=s(n(404)),a=s(n(403));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(s){if("function"!=typeof s)throw new Error("Expected WrappedComponent to be a React component.");var u=[],l=void 0;function c(){l=e(u.map(function(e){return e.props})),p.canUseDOM?t(l):n&&(l=n(l))}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.peek=function(){return l},t.rewind=function(){if(t.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,u=[],e},t.prototype.shouldComponentUpdate=function(e){return!(0,a.default)(e,this.props)},t.prototype.componentWillMount=function(){u.push(this),c()},t.prototype.componentDidUpdate=function(){c()},t.prototype.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),c()},t.prototype.render=function(){return i.default.createElement(s,this.props)},t}(r.Component);return p.displayName="SideEffect("+function(e){return e.displayName||e.name||"Component"}(s)+")",p.canUseDOM=o.default.canUseDOM,p}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(406);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(407)()},function(e,t,n){t.__esModule=!0,t.Helmet=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(3)),a=p(n(408)),s=p(n(405)),u=p(n(210)),l=n(400),c=n(209);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var h,d,g,y=(0,s.default)(l.reducePropsToState,l.handleClientStateChange,l.mapStateOnServer)(function(){return null}),v=(h=y,g=d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!(0,u.default)(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case c.TAG_NAMES.SCRIPT:case c.TAG_NAMES.NOSCRIPT:return{innerHTML:t};case c.TAG_NAMES.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,i=e.arrayTypeChildren,o=e.newChildProps,a=e.nestedChildren;return r({},i,((t={})[n.type]=[].concat(i[n.type]||[],[r({},o,this.mapNestedChildrenToProps(n,a))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,i=e.child,o=e.newProps,a=e.newChildProps,s=e.nestedChildren;switch(i.type){case c.TAG_NAMES.TITLE:return r({},o,((t={})[i.type]=s,t.titleAttributes=r({},a),t));case c.TAG_NAMES.BODY:return r({},o,{bodyAttributes:r({},a)});case c.TAG_NAMES.HTML:return r({},o,{htmlAttributes:r({},a)})}return r({},o,((n={})[i.type]=r({},a),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=r({},t);return Object.keys(e).forEach(function(t){var i;n=r({},n,((i={})[t]=e[t],i))}),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return o.default.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,o=i.children,a=f(i,["children"]),s=(0,l.convertReactPropstoHtmlAttributes)(a);switch(n.warnOnInvalidChildren(e,o),e.type){case c.TAG_NAMES.LINK:case c.TAG_NAMES.META:case c.TAG_NAMES.NOSCRIPT:case c.TAG_NAMES.SCRIPT:case c.TAG_NAMES.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:s,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:o})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},t.prototype.render=function(){var e=this.props,t=e.children,n=f(e,["children"]),i=r({},n);return t&&(i=this.mapChildrenToProps(t,i)),o.default.createElement(h,i)},i(t,null,[{key:"canUseDOM",set:function(e){h.canUseDOM=e}}]),t}(o.default.Component),d.propTypes={base:a.default.object,bodyAttributes:a.default.object,children:a.default.oneOfType([a.default.arrayOf(a.default.node),a.default.node]),defaultTitle:a.default.string,defer:a.default.bool,encodeSpecialCharacters:a.default.bool,htmlAttributes:a.default.object,link:a.default.arrayOf(a.default.object),meta:a.default.arrayOf(a.default.object),noscript:a.default.arrayOf(a.default.object),onChangeClientState:a.default.func,script:a.default.arrayOf(a.default.object),style:a.default.arrayOf(a.default.object),title:a.default.string,titleAttributes:a.default.object,titleTemplate:a.default.string},d.defaultProps={defer:!0,encodeSpecialCharacters:!0},d.peek=h.peek,d.rewind=function(){var e=h.rewind();return e||(e=(0,l.mapStateOnServer)({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},g);v.renderStatic=v.rewind,t.Helmet=v,t.default=v},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o,a=n(3);var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={animationIndex:0,animationLoop:null,animationRunning:!1},i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentWillMount",value:function(){t.mountedInstances.push(this),t.update()}},{key:"componentWillUnmount",value:function(){var e=t.getActiveInstance();clearInterval(e.state.animationLoop)}},{key:"componentDidUpdate",value:function(e){e.url===this.props.url&&e.animated===this.props.animated&&e.alertCount===this.props.alertCount&&e.keepIconLink===this.props.keepIconLink||t.update()}},{key:"render",value:function(){return null}}],[{key:"getActiveInstance",value:function(){return t.mountedInstances[t.mountedInstances.length-1]}},{key:"draw",value:function(){if("undefined"!=typeof document){var e,n,r,i,a,s=t.getActiveInstance();if(void 0===o){var u=document.getElementsByTagName("head")[0];(o=document.createElement("link")).type="image/x-icon",o.rel="icon";for(var l=u.getElementsByTagName("link"),c=l.length;--c>=0;)/\bicon\b/i.test(l[c].getAttribute("rel"))&&!s.props.keepIconLink(l[c])&&u.removeChild(l[c]);u.appendChild(o)}e=s.props.url instanceof Array?s.props.url[s.state.animationIndex]:s.props.url,s.props.alertCount?(n=e,r=s.props.alertCount,i=function(e,t){o.href=t},(a=document.createElement("img")).onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var t=e.getContext("2d");t.clearRect(0,0,a.width,a.height),t.drawImage(a,0,0);var n=a.height-9,o=a.width-7-1;t.fillStyle="#F03D25",t.strokeStyle="#F03D25",t.lineWidth=1,t.beginPath(),t.moveTo(o+2,n),t.quadraticCurveTo(o,n,o,n+2),t.lineTo(o,14),t.quadraticCurveTo(o,16,o+2,16),t.lineTo(14,16),t.quadraticCurveTo(16,16,16,14),t.lineTo(16,n+2),t.quadraticCurveTo(16,n,14,n),t.closePath(),t.fill(),t.font="bold 10px arial",t.fillStyle="#FFF",t.textAlign="right",t.textBaseline="top",t.fillText(r,15,6),i(null,t.canvas.toDataURL())},a.src=n):o.href=e}}},{key:"update",value:function(){if("undefined"!=typeof document){var e=t.getActiveInstance(),n=e.props.url instanceof Array&&e.props.animated,r=null;if(clearInterval(e.state.animationLoop),n){var i=function(){var n=(e.state.animationIndex+1)%e.props.url.length;t.draw(),e.setState({animationIndex:n})};r=setInterval(i,e.props.animationDelay),i()}else t.draw();e.setState({animationLoop:r})}}}]),t}();s.displayName="Favicon",s.defaultProps={alertCount:null,animated:!0,animationDelay:500,keepIconLink:function(){return!1}},s.mountedInstances=[],e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=h(n(3)),o=(h(n(16)),n(59)),a=h(n(410)),s=n(409),u=h(n(28)),l=h(n(399)),c=h(n(366)),p=h(n(363)),f=h(n(294));function h(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.connect)(function(e){return{isCompact:e.context.isCompact}})(function(e){var t=e.isCompact;return i.default.createElement("div",null,i.default.createElement(s.Helmet,null,i.default.createElement("title",null,"Orion")),i.default.createElement(a.default,{url:f.default}),i.default.createElement(c.default,null),i.default.createElement("div",{style:{width:"100%",height:"100vh"}},i.default.createElement(p.default,null),i.default.createElement(u.default,{style:r({},{position:"absolute",transition:"all 0.15s ease",zIndex:2},t?{left:0,top:0,width:"100%"}:{right:0}),top:!t,right:!t},i.default.createElement(l.default,{isCompact:t}))))})},function(e,t,n){"use strict";n.r(t);var r=n(136);n.d(t,"MemoryRouter",function(){return r.a});var i=n(135);n.d(t,"Prompt",function(){return i.a});var o=n(134);n.d(t,"Redirect",function(){return o.a});var a=n(88);n.d(t,"Route",function(){return a.a});var s=n(65);n.d(t,"Router",function(){return s.a});var u=n(133);n.d(t,"StaticRouter",function(){return u.a});var l=n(132);n.d(t,"Switch",function(){return l.a});var c=n(64);n.d(t,"matchPath",function(){return c.a});var p=n(131);n.d(t,"withRouter",function(){return p.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=n(412),o=a(n(411));function a(e){return e&&e.__esModule?e:{default:e}}var s=r.default.createElement("div",null,r.default.createElement(i.Route,{path:"*",component:o.default}));t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=p(o),s=p(n(16)),u=p(n(213)),l=p(n(162)),c=n(212);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleMouseOut=function(){var e=r.props,t=e.handleMouseOut,n=e.handleMouseUp,i=e.handleBlur;t(),n(),i()},r.handleKeyDown=function(e){return e.keyCode===c.KEY_CODE_ENTER&&r.props.handleMouseDown()},r.handleKeyUp=function(e){return e.keyCode===c.KEY_CODE_ENTER&&r.props.handleMouseUp()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.activeColor,i=e.href,o=e.style,s=e.children,u=e.handleMouseOver,l=(e.handleMouseOut,e.handleMouseDown),c=e.handleMouseUp,p=e.handleFocus,f=e.handleBlur,h=e.isHover,d=e.isActive,g=e.isFocus,y=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["type","activeColor","href","style","children","handleMouseOver","handleMouseOut","handleMouseDown","handleMouseUp","handleFocus","handleBlur","isHover","isActive","isFocus"]),v="plain"===t?"0":"2px",m=r({color:"currentColor",opacity:.8,textDecoration:"none",transition:"0.1s all ease"},(h||g)&&{borderBottom:v+" solid currentColor",opacity:"1.0"},d&&{borderBottom:v+" solid currentColor",color:n},"underline"===t&&{borderBottom:"2px solid currentColor"},o);return a.default.createElement("a",r({href:i,style:m,onMouseOver:u,onMouseOut:this.handleMouseOut,onMouseDown:l,onMouseUp:c,onTouchStart:l,onTouchEnd:c,onFocus:p,onBlur:f,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp},y),s)}}]),t}();h.propTypes={type:s.default.oneOf(["regular","plain","underline"]),href:s.default.string,activeColor:s.default.string,style:s.default.object,children:s.default.node,handleMouseOver:s.default.func.isRequired,handleMouseOut:s.default.func.isRequired,handleMouseDown:s.default.func.isRequired,handleMouseUp:s.default.func.isRequired,handleFocus:s.default.func.isRequired,handleBlur:s.default.func.isRequired,isHover:s.default.bool.isRequired,isActive:s.default.bool.isRequired,isFocus:s.default.bool.isRequired},h.defaultProps={type:"regular",href:"#",activeColor:"currentColor",style:{},children:null},t.default=(0,u.default)((0,l.default)({key:"isHover",enable:"handleMouseOver",disable:"handleMouseOut"}),(0,l.default)({key:"isActive",enable:"handleMouseDown",disable:"handleMouseUp"}),(0,l.default)({key:"isFocus",enable:"handleFocus",disable:"handleBlur"}))(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(3)),i=n(31),o=l(n(414)),a=l(n(28)),s=l(n(37)),u=l(n(211));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r.default.createElement("div",{style:{alignItems:"center",backgroundColor:i.colors.gray90,display:"flex",flexDirection:"column",height:"100vh",justifyContent:"center",width:"100%"}},r.default.createElement("div",{style:{width:"500px"}},r.default.createElement(a.default,{size:"huge",bottom:!0},r.default.createElement(u.default,{color:i.colors.gray20,style:{width:"150px"}})),r.default.createElement(a.default,{bottom:!0},r.default.createElement(s.default,{color:i.colors.gray10,bold:!0},"Orion encountered a fatal client-side error.")),r.default.createElement(a.default,{size:"small",bottom:!0},r.default.createElement(s.default,{color:i.colors.gray20},"An error report has already been automatically generated and sent.")),r.default.createElement(s.default,{color:i.colors.gray20},"However, please also",r.default.createElement(s.default,{color:i.colors.primary,inline:!0},r.default.createElement(o.default,{href:"https://github.com/LINKIWI/orion-web/issues",activeColor:i.colors.gray60},"file an issue on Github")),"with more details about the problem, so that its easier for me to fix.")))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=h(i),a=(h(n(16)),n(86)),s=n(59),u=h(n(123)),l=h(n(415)),c=h(n(413)),p=h(n(293)),f=n(185);function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={error:null},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillMount",value:function(){this.props.handleWindowDimensionsChange()}},{key:"componentDidUpdate",value:function(){this.props.handleWindowDimensionsChange()}},{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),u.default.captureException(e,{extra:t})}},{key:"render",value:function(){return this.state.error?o.default.createElement(l.default,null):o.default.createElement("div",null,o.default.createElement("div",{style:{backgroundColor:"hsl(203, 14%, 4%)",height:"100%",left:0,position:"fixed",top:0,width:"100%",zIndex:-1}}),c.default)}}]),t}();t.default=(0,a.compose)(p.default,(0,s.connect)(null,function(e){return{setWindowDimensions:function(t,n){return e((0,f.setWindowDimensions)(t,n))}}},function(e,t,n){return{handleWindowDimensionsChange:function(){return t.setWindowDimensions(n.width,n.height)}}}))(g)},function(e,t,n){var r,i,o;o=function(){return function(){var e=arguments;"object"==typeof arguments[0]&&(e=arguments[0],arguments[1]);var t=[].slice.call(e,0).join("/");return t.replace(/:\//g,"://").replace(/([^:\s])\/+/g,"$1/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/(\?.+)\?/g,"$1&")}},void 0!==e&&e.exports?e.exports=o():void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){"use strict";(function(t){var r=n(13),i=n(417),o={_isShim:!0,track:function(){},push:function(e){},setUserId:function(e){},trackError:function(e){},connectToHistory:function(e,t){return e},disconnectFromHistory:function(){}},a=null,s=null;"undefined"==typeof window?e.exports=function(){return o}:e.exports=function(e){var n=function(){return t&&Object({NODE_ENV:"production",MAPBOX_API_TOKEN:"pk.eyJ1Ijoic2t5bmV0LXJpY2UiLCJhIjoiY2phbzU2a3hkM2luZDMzcGxzejNhaWdxYiJ9.nC5BtNoLkeX4fBoF-nakxw",PIWIK_URL:"https://analytics.kevinlin.info",PIWIK_SITE_ID:"5",PIWIK_CLIENT_TRACKER_NAME:"client",PIWIK_SERVER_TRACKER_NAME:"server"})?"production".toLowerCase():"development"},u=function(){if(void 0===window._paq||"function"!=typeof window._paq.push)return!1;var e=!1,t=!1;if(void 0===window._paq.length)return!0;for(var n=0,r=window._paq.length;n<r;n++)if(~window._paq[n].indexOf("setSiteId")&&(e=!0),~window._paq[n].indexOf("setTrackerUrl")&&(t=!0),t&&e)return!0;return!1};(e=e||{}).trackErrors=void 0!==e.trackErrors&&e.trackErrors,e.trackErrorHandler=void 0!==e.trackErrorHandler?e.trackErrorHandler:function(e,t){h(["trackEvent",t=t||"JavaScript Error",e.message,e.filename+": "+e.lineno])},e.enableLinkTracking=void 0===e.enableLinkTracking||e.enableLinkTracking,e.updateDocumentTitle=void 0===e.updateDocumentTitle||e.updateDocumentTitle,e.ignoreInitialVisit=void 0!==e.ignoreInitialVisit&&e.ignoreInitialVisit,e.injectScript=void 0===e.injectScript||e.injectScript,e.clientTrackerName=void 0!==e.clientTrackerName?e.clientTrackerName:"piwik.js",e.serverTrackerName=void 0!==e.serverTrackerName?e.serverTrackerName:"piwik.php";var l=u();window._paq=window._paq||[];var c=!(e.url&&e.siteId||l),p=!e.injectScript&&!l;if(c||p)return"test"!==n()&&r(null,"PiwikTracker cannot be initialized! You haven't passed a url and siteId to it."),o;var f=function(t){var n;n=t.path?t.path:t.basename?i(t.basename,t.pathname,t.search):i(t.pathname,t.search),a!==n&&(e.updateDocumentTitle&&h(["setDocumentTitle",document.title]),h(["setCustomUrl",n]),h(["trackPageView"]),a=n)},h=function(e){window._paq.push(e)},d=function(e){window._paq.push(["setUserId",e])};return e.trackErrors&&(window.addEventListener?window.addEventListener("error",e.trackErrorHandler,!1):window.attachEvent?window.attachEvent("onerror",e.trackErrorHandler):window.onerror=e.trackErrorHandler),function(){var t,n=u();if(!n){var r=-1!==(t=e.url).indexOf("http://")||-1!==t.indexOf("https://")?t+"/":"https:"==document.location.protocol?"https://"+t+"/":"http://"+t+"/";h(["setSiteId",e.siteId]),h(["setTrackerUrl",r+e.serverTrackerName])}if(e.userId&&d(e.userId),e.enableLinkTracking&&h(["enableLinkTracking"]),e.injectScript&&!n){var i=document,o=i.createElement("script"),a=i.getElementsByTagName("script")[0];o.type="text/javascript",o.defer=!0,o.async=!0,o.src=r+e.clientTrackerName,a.parentNode.insertBefore(o,a)}}(),{_isShim:!1,track:f,push:h,setUserId:d,trackError:e.trackErrorHandler,connectToHistory:function(t,i){i="function"==typeof i?i:function(e){return e};var o=function(e,t){var i=e(t);void 0!==i?f(i):"development"===n()&&r(null,"The modifier given to .connectToHistory did not return any object. Please make sure to return the modified location object in your modifier.")};return s=t.listen(function(e){o(i,e)}),!e.ignoreInitialVisit&&t.location&&o(i,t.location),t},disconnectFromHistory:function(){return!!s&&(s(),!0)}}}}).call(this,n(85))},function(e,t,n){var r=n(163);e.exports={wrapMethod:function(e,t,n){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),u={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),u.extra.arguments=e.slice(1),n&&n(s,u)):n&&n(s,u),i&&Function.prototype.apply.call(i,o,e)}}}}},function(e,t){function n(e){this.name="RavenConfigError",this.message=e}n.prototype=new Error,n.prototype.constructor=n,e.exports=n},function(e,t){function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,r,i,o,a){return n((s=n(n(t,e),n(i,a)))<<(u=o)|s>>>32-u,r);var s,u}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function u(e,t){var r,u,l,c,p;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,h=-271733879,d=-1732584194,g=271733878;for(r=0;r<e.length;r+=16)u=f,l=h,c=d,p=g,h=s(h=s(h=s(h=s(h=a(h=a(h=a(h=a(h=o(h=o(h=o(h=o(h=i(h=i(h=i(h=i(h,d=i(d,g=i(g,f=i(f,h,d,g,e[r],7,-680876936),h,d,e[r+1],12,-389564586),f,h,e[r+2],17,606105819),g,f,e[r+3],22,-1044525330),d=i(d,g=i(g,f=i(f,h,d,g,e[r+4],7,-176418897),h,d,e[r+5],12,1200080426),f,h,e[r+6],17,-1473231341),g,f,e[r+7],22,-45705983),d=i(d,g=i(g,f=i(f,h,d,g,e[r+8],7,1770035416),h,d,e[r+9],12,-1958414417),f,h,e[r+10],17,-42063),g,f,e[r+11],22,-1990404162),d=i(d,g=i(g,f=i(f,h,d,g,e[r+12],7,1804603682),h,d,e[r+13],12,-40341101),f,h,e[r+14],17,-1502002290),g,f,e[r+15],22,1236535329),d=o(d,g=o(g,f=o(f,h,d,g,e[r+1],5,-165796510),h,d,e[r+6],9,-1069501632),f,h,e[r+11],14,643717713),g,f,e[r],20,-373897302),d=o(d,g=o(g,f=o(f,h,d,g,e[r+5],5,-701558691),h,d,e[r+10],9,38016083),f,h,e[r+15],14,-660478335),g,f,e[r+4],20,-405537848),d=o(d,g=o(g,f=o(f,h,d,g,e[r+9],5,568446438),h,d,e[r+14],9,-1019803690),f,h,e[r+3],14,-187363961),g,f,e[r+8],20,1163531501),d=o(d,g=o(g,f=o(f,h,d,g,e[r+13],5,-1444681467),h,d,e[r+2],9,-51403784),f,h,e[r+7],14,1735328473),g,f,e[r+12],20,-1926607734),d=a(d,g=a(g,f=a(f,h,d,g,e[r+5],4,-378558),h,d,e[r+8],11,-2022574463),f,h,e[r+11],16,1839030562),g,f,e[r+14],23,-35309556),d=a(d,g=a(g,f=a(f,h,d,g,e[r+1],4,-1530992060),h,d,e[r+4],11,1272893353),f,h,e[r+7],16,-155497632),g,f,e[r+10],23,-1094730640),d=a(d,g=a(g,f=a(f,h,d,g,e[r+13],4,681279174),h,d,e[r],11,-358537222),f,h,e[r+3],16,-722521979),g,f,e[r+6],23,76029189),d=a(d,g=a(g,f=a(f,h,d,g,e[r+9],4,-640364487),h,d,e[r+12],11,-421815835),f,h,e[r+15],16,530742520),g,f,e[r+2],23,-995338651),d=s(d,g=s(g,f=s(f,h,d,g,e[r],6,-198630844),h,d,e[r+7],10,1126891415),f,h,e[r+14],15,-1416354905),g,f,e[r+5],21,-57434055),d=s(d,g=s(g,f=s(f,h,d,g,e[r+12],6,1700485571),h,d,e[r+3],10,-1894986606),f,h,e[r+10],15,-1051523),g,f,e[r+1],21,-2054922799),d=s(d,g=s(g,f=s(f,h,d,g,e[r+8],6,1873313359),h,d,e[r+15],10,-30611744),f,h,e[r+6],15,-1560198380),g,f,e[r+13],21,1309151649),d=s(d,g=s(g,f=s(f,h,d,g,e[r+4],6,-145523070),h,d,e[r+11],10,-1120210379),f,h,e[r+2],15,718787259),g,f,e[r+9],21,-343485551),f=n(f,u),h=n(h,l),d=n(d,c),g=n(g,p);return[f,h,d,g]}function l(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function f(e){return unescape(encodeURIComponent(e))}function h(e){return function(e){return l(u(c(e),8*e.length))}(f(e))}function d(e,t){return function(e,t){var n,r,i=c(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=u(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=u(o.concat(c(t)),512+8*t.length),l(u(a.concat(r),640))}(f(e),f(t))}e.exports=function(e,t,n){return t?n?d(t,e):p(d(t,e)):n?h(e):p(h(e))}},function(e,t,n){(function(t){var r=n(163),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},a=[].slice,s="?",u=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function l(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var e,t,n=[],c=null,p=null,f=null;function h(e,t){var r=null;if(!t||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function d(t,n,o,a,c){var p=r.isErrorEvent(c)?c.error:c,d=r.isErrorEvent(t)?t.message:t;if(f)i.computeStackTrace.augmentStackTraceWithInitialElement(f,n,o,d),g();else if(p&&r.isError(p))h(i.computeStackTrace(p),!0);else{var y,v={url:n,line:o,column:a},m=void 0;if("[object String]"==={}.toString.call(d))(y=d.match(u))&&(m=y[1],d=y[2]);v.func=s,h({name:m,message:d,url:l(),stack:[v]},!0)}return!!e&&e.apply(this,arguments)}function g(){var e=f,t=c;c=null,f=null,p=null,h.apply(null,[e,!1].concat(t))}function y(e,t){var n=a.call(arguments,1);if(f){if(p===e)return;g()}var r=i.computeStackTrace(e);if(f=r,p=e,c=n,setTimeout(function(){p===e&&g()},r.incomplete?2e3:0),!1!==t)throw e}return y.subscribe=function(r){t||(e=o.onerror,o.onerror=d,t=!0),n.push(r)},y.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},y.uninstall=function(){t&&(o.onerror=e,t=!1,e=void 0),n=[]},y}(),i.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,u=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=e.stack.split("\n"),f=[],h=(/^(.*) is undefined$/.exec(e.message),0),d=p.length;h<d;++h){if(n=i.exec(p[h])){var g=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=c.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:g?null:n[2],func:n[1]||s,args:g?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(p[h]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(p[h])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=u.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==h||n[5]||void 0===e.columnNumber||(f[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=s),f.push(r)}return f.length?{name:e.name,message:e.message,url:l(),stack:f}:null}}function t(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,o){for(var a,u,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,p=[],f={},h=!1,d=n.caller;d&&!h;d=d.caller)if(d!==r&&d!==i.report){if(u={url:null,func:s,line:null,column:null},d.name?u.func=d.name:(a=c.exec(d.toString()))&&(u.func=a[1]),void 0===u.func)try{u.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}f[""+d]?h=!0:f[""+d]=!0,p.push(u)}o&&p.splice(0,o);var g={name:e.name,message:e.message,url:l(),stack:p};return t(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=e(t))return o}catch(e){if(i.debug)throw e}try{if(o=n(t,r+1))return o}catch(e){if(i.debug)throw e}return{name:t.name,message:t.message,url:l()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=i}).call(this,n(32))},function(e,t,n){(function(t){var r=n(422),i=n(214),o=n(421),a=n(420),s=n(163),u=s.isError,l=s.isObject,c=s.isPlainObject,p=s.isErrorEvent,f=s.isUndefined,h=s.isFunction,d=s.isString,g=s.isArray,y=s.isEmptyObject,v=s.each,m=s.objectMerge,_=s.truncate,A=s.objectFrozen,b=s.hasKey,x=s.joinRegExp,w=s.urlencode,E=s.uuid4,T=s.htmlTreeAsString,M=s.isSameException,S=s.isSameStacktrace,C=s.parseUrl,I=s.fill,P=s.supportsFetch,k=s.supportsReferrerPolicy,O=s.serializeKeysForMessage,L=s.serializeException,R=s.sanitize,j=n(419).wrapMethod,N="source protocol user pass host port path".split(" "),B=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function D(){return+new Date}var F="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},z=F.document,U=F.navigator;function G(e,t){return h(t)?function(n){return t(n,e)}:t}function V(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!f(z),this._hasNavigator=!f(U),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:F.SENTRY_RELEASE&&F.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:k()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=F.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=D(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=F.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}V.prototype={VERSION:"3.24.0",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&v(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t}),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=x(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&x(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&x(i.whitelistUrls),i.includePaths=x(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=m(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},u=i.instrument;return"[object Object]"==={}.toString.call(u)?u=m(s,u):!1!==u&&(u=s),i.instrument=u,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),n=t.path.lastIndexOf("/"),r=t.path.substr(1,n);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(n+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+r+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return h(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(f(t)&&!h(e))return e;if(h(e)&&(t=e,e=void 0),!h(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function i(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(n&&h(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var o in t)b(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=t,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason)},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),F.addEventListener&&F.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return F.removeEventListener&&F.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=m({trimHeadFrames:0},t||{}),p(e)&&e.error)e=e.error;else if(u(e))e=e;else{if(!c(e))return this.captureMessage(e,m(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}this._lastCapturedException=e;try{var n=r.computeStackTrace(e);this._handleStackInfo(n,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=m(e,{message:"Non-Error exception captured with keys: "+O(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.__serialized__=L(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,i=m({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=r.computeStackTrace(n),a=g(o.stack)&&o.stack[1],s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t&&t.stacktrace){i.fingerprint=null==i.fingerprint?e:i.fingerprint,(t=m({trimHeadFrames:0},t)).trimHeadFrames+=1;var u=this._prepareFrames(o,t);i.stacktrace={frames:u.reverse()}}return i.fingerprint&&(i.fingerprint=g(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(e){var t=m({timestamp:D()/1e3},e);if(h(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(l(n)&&!y(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=G(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=G(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=G(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=F.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(z){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new a("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new a("Missing DSN");var r=encodeURIComponent,i="";i+="?eventId="+r(t),i+="&dsn="+r(n);var o=e.user||this._globalContext.user;o&&(o.name&&(i+="&name="+r(o.name)),o.email&&(i+="&email="+r(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),u=z.createElement("script");u.async=!0,u.src=s+"/api/embed/error-page/"+i,(z.head||z.body).appendChild(u)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),z.createEvent?(n=z.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=z.createEventObject()).eventType=e,t)b(t,r)&&(n[r]=t[r]);if(z.createEvent)z.dispatchEvent(n);else try{z.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=T(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var n=C(this._location.href),r=C(t),i=C(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return h(a)&&(i[0]=e.wrap(a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=F[n]&&F[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(I(i,"addEventListener",function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap(o.handleEvent))}catch(e){}var u,l,c;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),c=e._keypressEventHandler(),u=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?c(e):void 0}}),t.call(this,i,e.wrap(o,void 0,u),a,s)}},t),I(i,"removeEventListener",function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,i)}},t))}I(F,"setTimeout",n,t),I(F,"setInterval",n,t),F.requestAnimationFrame&&I(F,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}},t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&h(n[t])&&I(n,t,function(t){return e.wrap(t)})}if(t.xhr&&"XMLHttpRequest"in F){var i=F.XMLHttpRequest&&F.XMLHttpRequest.prototype;I(i,"open",function(t){return function(n,r){return d(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},n),I(i,"send",function(t){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&h(n.onreadystatechange)?I(n,"onreadystatechange",function(t){return e.wrap(t,void 0,i)}):n.onreadystatechange=i,t.apply(this,arguments)}},n)}t.xhr&&P()&&I(F,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in F&&o instanceof F.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then(function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})}},n),t.dom&&this._hasDocument&&(z.addEventListener?(z.addEventListener("click",e._breadcrumbEventHandler("click"),!1),z.addEventListener("keypress",e._keypressEventHandler(),!1)):(z.attachEvent("onclick",e._breadcrumbEventHandler("click")),z.attachEvent("onkeypress",e._keypressEventHandler())));var o=F.chrome,a=!(o&&o.app&&o.app.runtime)&&F.history&&history.pushState&&history.replaceState;if(t.location&&a){var s=F.onpopstate;F.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var u=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};I(history,"pushState",u,n),I(history,"replaceState",u,n)}if(t.console&&"console"in F&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};v(["debug","info","warn","error","log"],function(e,t){j(console,t,l)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;v(this._plugins,function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))})},_parseDSN:function(e){var t=B.exec(e),n={},r=7;try{for(;r--;)n[N[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(v(e.stack,function(t,i){var o=n._normalizeFrame(i,e.url);o&&r.push(o)}),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var u=m({exception:{values:[{type:e,value:t,stacktrace:a}]},culprit:n},o);this._send(u)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=_(e.message,t)),e.exception){var n=e.exception.values[0];n.value=_(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=_(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=_(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&l(n.data)&&!A(n.data)){r=m({},n.data);for(var a=0;a<i.length;++a)t=i[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=_(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&U.userAgent&&(e.headers={"User-Agent":navigator.userAgent}),F.location&&F.location.href&&(e.url=F.location.href),this._hasDocument&&z.referrer&&(e.headers||(e.headers={}),e.headers.Referer=z.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&D()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.culprit!==t.culprit)&&(e.stacktrace||t.stacktrace?S(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||M(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=P()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=D()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=m(n,e)).tags=m(m({},this._globalContext.tags),e.tags),e.extra=m(m({},this._globalContext.extra),e.extra),e.extra["session:duration"]=D()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||y(e[t]))&&delete e[t]}),h(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!y(e)&&(h(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return R(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return E()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+w(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),P()){r.body=i(e.data);var o=m({},this._fetchDefaults),a=m(o,r);return n&&(a.headers=n),F.fetch(t,a).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var s=F.XMLHttpRequest&&new F.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&v(n,function(e,t){s.setRequestHeader(e,t)}),s.send(i(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){f(t)?delete this._globalContext[e]:this._globalContext[e]=m(this._globalContext[e]||{},t)}},V.prototype.setUser=V.prototype.setUserContext,V.prototype.setReleaseContext=V.prototype.setRelease,e.exports=V}).call(this,n(32))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(215),o=(r=i)&&r.__esModule?r:{default:r};t.default=(0,o.default)("AAEAAAARAQAABAAQRFNJRwAAAAEAAEGoAAAACEZGVE1eWSfSAAA9CAAAABxHREVGACgAzAAAPSQAAAAoR1BPUwOAL3UAAD1MAAAEAEdTVULcQuo7AABBTAAAAFxPUy8yhDc68AAAAZgAAABgY21hcC3+xpkAAASUAAAB4mdhc3AAAAAQAAA9AAAAAAhnbHlmdL/GlQAAB9AAAC5QaGVhZPmTFkYAAAEcAAAANmhoZWEGwAMwAAABVAAAACRobXR4S4QinQAAAfgAAAKcbG9jYYu/l6QAAAaAAAABUG1heHAA7gBCAAABeAAAACBuYW1l7cffcQAANiAAAATRcG9zdKatTT4AADr0AAACCXByZXBoBoyFAAAGeAAAAAcAAQAAAAEAAPjD0ztfDzz1AAsD6AAAAADKvHsfAAAAAMyPV8n/qv8KA34DbwAAAAgAAgAAAAAAAAABAAADlf8EAAADrP+q/9gDfgABAAAAAAAAAAAAAAAAAAAApwABAAAApwA/AAUAAAAAAAIAAAABAAEAAABAAAAAAAAAAAMB/QGQAAUACAK8AooAAACMArwCigAAAd0AMgD6AAAAAAAAAAAAAAAAgAAAJwgAAEIUAAAAAAAAAHB5cnMAQAAgIhIDlf8EAAADlQD8AAAAAQAAAAAB3gJ1AAAAIAACAikAAAAAAAACKQAAAO4AAAEWAFIBMgAcAnMANQJ4AEUC1gA9A5QAWQCIABsBZABJAWQAHAGcADgCDwASANIAHgFdACYAswAeAbAAOQJSADMBSwAxAkQAQAJPADQCLwAaAjUAQQI9ADMB1gAYAmcANwJFAEIA5wA4AQYAOQHGACgB6ABPAcYALwHzAB4DrABDAj8AGgJuAGUCZQAzApUAZAIyAGQCDABlAoUAMwKdAGUBGABlAZQACAJhAGUB1ABlA1AAZQKtAGMChgAzAioAYwKMADMCZQBlAl0ARQH1AAYCjgBXAjMAEgN/AA4CggAvAiUACgJQAEkBPQBlAbAALQEd//IBwAAVAtYANwE7ABgCMABGAkgAZQIDADICUgA8AgMAMgFXADECNQAcAlwAZQErAF4BOv+qAjQAZQEYAGUDpwBkAlsAZAIiADICUgBlAkkAMwF9AGQCDgA8AXgAIgJeAFcB9wASAtUAEgIAABoB5AAFAdsANQFdAEsBGABlAV0ACAIDADUCNQAUAUMAGAE7ABcCPwAaAj8AGgI/ABoCPwAaAj8AGgI0AGQCNABkAjQAaQI0AGQBGAAHARgABgEY/9kBGAAEAq4AYwKGADMChgAzAoYAMwKGADMChgAzAo4AVwKOAFcCjgBXAo4AVwInADwCJwA8AicAPAInADwCJwA8AgIAMwICADMCAgA2AgIAMwErAAwBKwALASv/3gErAAkCXABlAiMAMwIjADMCIwAzAiMAMwIjADMCXgBXAl4AVwJeAFcCXgBXARgAZQC4ACQBlwAYAW4AFwHaADcC1gA3ANYAJADWAA8CRQBcAegATwITADMBSwAxAj8AQAIyABwCMAAYAjkAQQI9ADMB1gAYAmcANwJEAEIAAAADAAAAAwAAABwAAQAAAAAA3AADAAEAAAAcAAQAwAAAACwAIAAEAAwAfgCgAKMAqAC0AMQAzwDWANwA5ADvAPYA/AExArwCxgLcIBQgGSC5IhL//wAAACAAoACjAKgAtADAAMgA0QDZAOAA6ADxAPkBMQK8AsYC3CATIBgguSIS////4/9j/7//u/+w/6X/ov+h/5//nP+Z/5j/lv9i/dj9z/264ITggd/i3ooAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQBpAABrcnd7fXx+gH8AAIKBg4SGhYeIiYuKjI6NkI+RkgAAAGIAAAAAAAAAZGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANlaHYAAJeYAACZmgAAAAAAAAAAAAAAAAAAAGdsZm1qb3BxbnR1AHN5eniTlZYAAAAAAAAAAAAAuAH/hbAEjQAAAAAAAAAAAAAAABoALgBgAKgA8AFIAVYBbAGCAaABtgHOAdwB7gH8AhwCMAJeApICrgLWAwgDHANeA5gDtgPaA+4EAgQWBE4EpgS+BPAFFgU2BU4FZAWOBaYFtAXMBegF+AYUBiwGUAZwBqQGygb+BxAHLgdCB2AHegeQB6gHugfIB9gH6gf4CAYIOghiCIYIrgjYCPoJVAlyCYwJtAnMCdoKCAomCkgKbgqiCrwK7gsQCy4LQgtgC3gLmguyC94L7AwYDDgMbgyODJwMvAzcDP4NMg1iDYINoA3CDfIOBg4aDjIOWA6MDrgO5A8SD1IPjg+yD9gQABA2EHAQrBDqETwRiBG6EegSHBJeEnIShhKeEsQTABMqE1QTghPCE/4UJBRKFHIUqhS4FNAU4hUGFRQVIhU8FVgVhBWSFbAVxBXwFiYWQhZoFpoWrhbwFygAAgBS//cAyQJzAAMACwAAEzMDIxYmNDYyFhQGY1MJQAYhITMjIwJz/j25IS8hIS8hAAAAAAIAHAHNARYCqQADAAcAABMHIyczByMnbgs8C/oLPAsCqdzc3NwAAAACADUAHwJKAlEAGwAfAAAlIwcjNyM3MzcjNzM3MwczNzMHMwcjBzMHIwcjJzM3IwF8mg5KDmMFZBNlBmQPSg+aD0kPZwZmE2cGZw5KhZkTmaqLizayNYqKioo1sjaLwbIAAAAAAwBF/6UCMwLJAB8AJgAtAAABFhYUBgcVIzUmJjUzFBc1JyYmNDY3NTMVFhYXIyYnFRc0JycVNjYCBhQWFxc1AaFFTXJmPl95TYsgU1VlYz5XXgtOEWGAXCQ/Qfc6KC0eAUoXTYVlBlFSCGdXcQ3rDBpIhlkHS0wHVkRQDNe6Sh0M3AU+AbI2SSkOC8cAAAAABQA9//UCmwKAAAkAEwAXACEALQAAEhYVFAYiJjU0NhYmIgYVFBYyNjUlMwEjATIWFAYjIiY0NhciBhUUFjMyNjU0JvFMS2xJSnYkOiQkOiQBGVL+WVEBqjZLSzY2SUk2HSQkHR0kJAKATERES0xDQ01hLCwvLyoqL4X9iwEUS4lLTIdMNSwvLyoqLy8sAAAAAwBZ//UDZQJ/ACQAKwA3AAABBgcXFhYyNjczBgYjIiYnJwYjIiY0NjcnJjU0NjIWFAYHFzY3BAYUFjI3Jzc0JiIGFBYXFzY3NgLVLUYrFB8xJwNKBENAJ0InGmSAaY5fXA5Naa1nTlieRCz+WklTrFG6mzdjNxoeG2gQBgFeiVUlERAlLUhPICMWWWmUSw8NQ1A/VFR3ViaLUn1mNmBFQqPIJDA3QDIaGTA0EQAAAAABABsByQBtAqUAAwAAEwcjJ20LPAsCpdzcAAAAAQBJ/48BSALYAAkAABIQFwcmJjQ2NxebrTliZGRiOQIA/mavKFnY59daKQABABz/jwEbAtgACQAANhAnNxYWFAYHJ8mtOWJkZGI5ZgGaryla1+fYWSgAAAEAOAGEAWYCrAAOAAATJzcXJzMHNxcHFwcnByetdRhqCj4Kahh0WixQUC0CBCg2NoCANjYoWSdoaCcAAAEAEgAAAf0B6wALAAABFTMVIxUjNSM1MzUBL87OT87OAevUQ9TUQ9QAAAAAAQAe/5MAsgBhAAsAABYmNDYyFhQGByc2N1IeHzkmLC07Pg0DGiweLURHFh0eLQAAAQAmAQEBNgFFAAMAABMhFSEmARD+8AFFRAAAAAEAHv/3AJQAaAAHAAAWJjQ2MhYUBj8hITMiIgkhLyEhLyEAAAEAOf+3AYQC2wADAAABMwMjATRQ/E8C2/zcAAACADP/9QIgAoAABwAPAAAAFhAGIiYQNgQmIgYUFjI2AZyEhOSFhQEWVKFUVKFUAoCo/sWopgE/psuDg/WDgwAAAQAxAAAA5gJ3AAgAABM2NzMRIxEGBzFDMkBOMjUCRAkq/YkCGSADAAEAQAAAAgECgAAcAAA3IRUhNTQ3Njc3NjU0JiIGByM2NjIWFAYHBwYGFY8Bbf5EVBshfGBCd0sGVwV6v3hPRX8wL0lJXW80EQ0yJlcwPTIyUlhomVobMxQzKQAAAQA0//UCEQKAACEAAAEUBxYWFRQGIiY1MxYWMjY0JiMjNTMyNjQmIgYHIzY2MhYB+W48Sn7OkVICW4xNSlNIMUhURHBLDVILdLd9AdRkJxFOPVNla2FARENjPz85YD4nNVNRYQAAAAACABoAAAIZAn4ACgANAAABETMVIxUjNSE1AQMzEQGsbW1N/rsBSevpAn7+XkSYmD0Bqf5XASwAAAEAQf/1Af0CdQAYAAAlNCMjEyEVIQc2MzIWFAYiJjUzFBcWMzI2AaubqRsBXf7vETQvZ3Z8xHxPVBofQE7MdwEySLUJW7h5Y1dSGQdRAAAAAgAz//QCAwKAABUAHgAAASYiBhUUFzY2MhYUBiMiJhA2MzIWFwQGFBYyNjU0JgGpEbRhBQZlnnJ2YHCKjHlUagj+90tKcktLAdZilIA1I1xTb61rtAEls15MoUduQ0I6OkIAAAEAGAAAAcQCdQAGAAABFQEjASE1AcT+4GoBLv6wAnVJ/dQCKUwAAAADADf/9QIxAoAAFQAfACoAABMmNTQ2MhYVFAYHFxYWFRQGIiY1NDYXBgYUFjI2NCYnJxQWFxc2NjQmIgbJfXzNhEVDEUVKh+WOUYw/TGCbWzAq5iwpSTxOUoJUAT45YktcYk00UgoGGkc9TFxmTT5OEwdBYDw0Si0P2BsnEBwCO187OQACAEL/9QISAoAAHAAlAAABMhYXFhUUBwYjIiY1MxYWMjc2NTQnBgYiJjU0NhYiBhUUFjI2NAEaM1whSIgvN2d4UwJEaCBbBQphnXJ2mHJKS3FLAoAsKViN9UUXcFU5RBM5yCkhUVBvVldqSUI6OkJHbgAAAAIAOAAXAK4BugAHAA8AADYmNDYyFhQGAiY0NjIWFAZZISEzIiIzISEzIiIXIS8hIS8hATIhLyEhLyEAAAIAOf+TAM0BugALABMAABYmNDYyFhQGByc2NwImNDYyFhQGbR4fOSYsLTs+DREhITMiIgMaLB4tREcWHR4tAU4hLyEhLyEAAAEAKAAoAZgCPAAGAAABBQUHJTUlAZj+4AEgNP7EATwCAM/MPedF6AACAE8AdQGZAXkAAwAHAAAlFSE1JRUhNQGZ/rYBSv62uUREwEVFAAAAAQAvACgBngI8AAYAABMFFQUnJSViATz+xDMBHv7iAjzoRec9zM8AAAIAHv/1AcUCgAAZACMAABMiByM2NjIWFRQGBwYGBwYVFSM1ND4CNCYDMhYUBiMiJjQ2+HURVAdsw3E0OhkiChNOKm4mP1caIiIaGiAgAjhcSlpgRTRFIA4WDhkvJy0/QzwtTDP+LiIvICAvIgAAAAACAEP/SwN+AoAACgA9AAABNCMiBhUUFjI2NxcUMzI2NzY1NCYjIgYHBhAWMxUiJyYmND4CMh4CFRQGIyImJycGBiMiJjU0NjMyFhUCPzs7XjdSNBdCJxQvEy6ii1KGL2TUudWGP0RCdqO2jmQ4gVYrNAUDEjwoSl+EWzxFASFUYUo1Oi8tLTMbGj1fd5o4L2T+1rlAczaVsphvPjZdfkN6liQiECYwYktjh0hJAAAAAAIAGgAAAiUCdQAHAAoAABMzEyMnIwcjNzMD8mDTUjb6NlOe0WgCdf2LoKDeATYAAAMAZQAAAikCdQAPABgAIAAAEzMyFhUUBgcWFhUUBwYjIzcyNjU0JiMjFREzMjY0JiMjZetjazs8O0dxKj3s6kg+REKbmjpFQzyaAnVeRzZQDgpSNHQpD0U6MDA50wEXOWQ4AAABADP/9QI2AoAAFgAAATIWFwcmJiMiBhQWMzI2NTMUBiImEDYBP2V7F1UUVTlPaF1aS1dVh+uRlgKAZVERO0WE645PQWN0tAEuqQAAAgBkAAACVgJ1AAcAEAAAATIWEAYjIxETMzI2NTQmIyMBHY6rq465T2ppfH1oagJ1q/7hqwJ1/dCLa2uJAAAAAAEAZAAAAecCdQALAAATIRUhFSEVIRUhFSFkAYP+zAEi/t4BNP59AnVE00PWRQAAAAEAZQAAAeMCdQAJAAATIRUhFSEVIREjZQF+/tEBGv7mTwJ1RNFE/uQAAAAAAQAz//UCOwJ/ABkAACUGIiYQNjMyFhcHJiIGFBYzMjY1NSc1MxEjAeoq8pupfkpvKExBrnloWEhYnutAbHewASqwPEIaUY7jimBeAgY0/skAAAAAAQBlAAACOAJ1AAsAABMRIREzESMRIREjEbQBNU9P/stPAnX+6wEV/YsBHP7kAnUAAQBlAAAAtAJ1AAMAABMzESNlT08Cdf2LAAAAAAEACP/1AUQCdQALAAAkBiInNRYyNjURMxEBRF2QT0Z7LE9PWipSMDw5Ab/+QQAAAAEAZQAAAkwCdQALAAATEQEzAQEjAwcVIxG1ARlt/u0BJGbzPlACdf7dASP+5f6mASNA4wJ1AAAAAQBlAAABzAJ1AAUAADchFSERM7QBGP6ZT0VFAnUAAAABAGUAAALrAnUADAAAGwIzESMRAyMDESMR1tTSb0/YNdtPAnX+VgGq/YsCBf5KAb399AJ1AAAAAAEAYwAAAkgCdQAJAAATAREzESMBESMRwQE4T1j+w1ACdf4HAfn9iwIA/gACdQAAAAIAM//1AlQCgAAKABQAAAEyFhAGIyImNTQ2FyIGFBYzMjY0JgFDepeWe3uVlXtYZmZYWGdnAoCn/sGlp56fp0eE+ICA+IQAAAIAYwAAAgMCdQAJABEAAAAWFAYjIxUjETMRMjY0JiMjFQGWbW1ofE/LQUNDQXwCdWmyZ/MCdf7CQnNF+gAAAAACADP/WQJUAoAAFQAfAAAFBiMiJycmJhA2MzIWFRQGBxcWFzI3ASIGFBYzMjY0JgJUKCxVPS95k5V7epdqWx8dKCs2/u9YZmZYWGdnlBNZQwKmATynp5+EoRcsJwIZAneE+ICA+IQAAAIAZQAAAisCdQAMABQAAAAGBxMjAyMRIxEzMhYHMjY0JiMjFQIbU1G0ZqNuT9tqceFHSUdDjAFzYA7++wEB/v8CdWbXRXFD+QAAAAABAEX/9QIYAoAAHwAAASYjIgYUFhcXFhYUBiImJzMUFjI2NCYnJyYmNDYyFhcBtBF2P0QqL4NDT3zQhQJNV4lQMTBvTlBwymsIAdxcN00oDy0XUJFjaV8+Qj1TMBApGkiLXVlLAAAAAAEABgAAAe8CdQAHAAATIRUjESMRIwYB6c1PzQJ1RP3PAjEAAAEAV//1AjUCdQAQAAATERQWMzI2NREzERQGIiY1EaZYSEhYT4LbgQJ1/m5YTk5YAZL+bnZ4eHYBkgAAAAEAEgAAAiECdQAGAAAbAjMDIwNltLVT31LeAnX97wIR/YsCdQAAAAABAA4AAANwAnUADAAAGwIzExMzAyMDAyMDZpmbNZqwV95TiY5TxwJ1/fUByv42Agv9iwGT/m0CdQAAAAABAC8AAAJRAnUACwAAISMnByMTAzMTEzMDAlFitqlg3t9ftKZf2fv7ATgBPf7/AQH+xAAAAQAKAAACGwJ1AAgAABsCMwMRIxEDaKmtXeJQ3wJ1/t8BIf6N/v4BAgFzAAABAEkAAAIXAnUACQAANwElNSEVAQUVIUkBa/6VAc7+lQFr/jJHAeMDSEf+HQNIAAABAGX/mgErAtsABwAAEzMVIxEzFSNlxnd3xgLbRv1LRgAAAAABAC3/twF4AtsAAwAAEzMTIy1P/FAC2/zcAAAAAf/y/5oAuALbAAcAABcjNTMRIzUzuMZ3d8ZmRgK1RgABABUA9QGyAkoABgAANxMzEyMnBxWwPbBYd3X1AVX+q/b2AAABADf/hAKf/8gAAwAAFyEVITcCaP2YOEQAAAAAAQAYAqUBJANcAAMAABMXByc56xf1A1yFMnEAAAIARv/1AdsB6gAYACEAAAE0JiIGFSM0NzYzMhYVESMnBiMiJjQ2MhcVJiIGFRQzMjYBjTZnP1d2JCpZZEQILHNNXWeaRkdqQmY6UwE2QTgpLG4aCFpc/sxQW1aASBoyFCYpWlMAAAAAAgBl//UCFgKpAA0AFwAAEzYyFhQGIyImJwcjETMSBgcVFBYyNjQmtDC4enxZME0WEjdPTkwCT3BSUQGXU4nhizAvVAKp/vtJQU5CT2OkYgABADL/9QHNAeoAFQAAABYXByYmIyIGFBYyNjUzFAYjIiY0NgFZZA9QDTojQE9NczlRa1Zbf34B6ldBByovYKVkNTFNX4rlhgACADz/9QHsAqkADQAXAAABETMRIycGBiMiJjQ2MgYGFBYyNjc1NCYBnk5AChdMLVt7ebmST1BwTwJOAZcBEv1XUC0ujOGIRmKkY0s/TkNOAAIAMv/1AdcB6gAQABgAACUyNzMGBiMiJjQ2MhYHIRQWEyYjIgYHMzQBCmMOUQtpTmB4ecljD/65SHsXIT1HBv81V0hPieSInHBKXwFqDFM+ZAAAAAEAMQAAAVsCsQAUAAABJiMiBhUVMxUjESMRIzUzNTQ2MhcBTSETIyhjY05PT05mJwJmDSIrSDb+WAGoNklHQw0AAAAAAwAc/woCJQI7ACgANAA+AAA3JjU0NjcmNTQ2Mhc2NjMHIgcWFRQGIyInBgYVFDMzMhYVFAYiJjU0NhcUFjI2NTQmIyMGBgAmIgYVFBYzMjZ5PC8jNm+YNQdHOgdYBCNvUzksFCBYukNOmeqGMxtTqXEhIsEzNgEmPm0+PzY2Pg8dPB8vCDBOTmAkNUBOSis8TWMXBB0ZNTkzTHJXQis2XiY3STEXIQItAaRBQTQ0Q0QAAAAAAQBlAAACBwKpABEAABM2MzIWFREjETQmIgYVFSMRM7Qwb1VfTkF6Sk9PAYZkcGH+5wEZRUZnW+ICqQAAAgBeAAAAxgKyAAMACwAAEzMRIxImNDYyFhQGak9PDxsbMB0dAd/+IQJPGy0bGy0bAAAAAAL/qv8KANUCsgAJABcAABImNDYzMhYUBiMDMjURMxEUBwYjIic3FogbGxgYHR0Yf1hPWhwiPkgEPwJPGy0bGy0b/QBuAiP93YkgCiVFJQAAAQBlAAACFAKpAAsAADcHFSMRMxE3MwcTI/RAT0/nbtznYf00yQKp/nTBs/7VAAAAAQBlAAAAtAKpAAMAABMzESNlT08Cqf1XAAAAAAEAZAAAA1IB6gAeAAATNjMyFhc2MzIWFREjETQmIgYVFSMRNCYiBgcVIxEzsS9yPlQTLXpWXk5BekNOQXhKAk9EAYJoPTZzcGH+5wEZRUZkWOgBGUVGYlfrAd4AAQBkAAACBgHqABEAABM2MzIWFREjETQmIgYHFSMRM7EvclVfTkF4SgJPRAGCaHBh/ucBGUVGYlfrAd4AAgAy//UB8AHqAAsAEwAAATIWFRQGIyImNTQ2FiYiBhQWMjYBEWR7e2Rke3vzSItKRotMAeqCeXiCgnh5gqVhYathYQACAGX/FQIWAeoACwAVAAATNjIWFAYiJxEjETMSNjQmIgYHFRQWry+7fX64LE9BylVRdEoCTAGVVYriiUX+2wLJ/l1gp2JJPls/SAAAAgAz/woCLAHqABMAHwAAATIXNzMRFBYWFwcmJjU1BiImNDYWBhQWMzI3Njc1NCYBCGYuETYXHRUaRDkpu359JVFWOVIjDAFMAepaTv3RMSEPBz0STkqYV4niikZip2BJFyBbQkwAAAABAGQAAAFpAecADQAAASIHFSMRMxU2MzIXByYBKHEET08kWx0aBB4Bm7LpAd9cZAlNCgAAAQA8//UB0QHqAB8AABI2MhYXIyYjIgYUFhcXFhYUBiImJzMWFjI2NCYnJyY1TGWsYQJNCWUxNSgsYD1Bar5qA0wCRWhEKC1dfQGkRkg3QSwzIw0gEztnU1VDLS0sPSAMHyVdAAEAIv/mAV8CYwAVAAAlBicmJyY1ESM1MzUzFTMVIxEUMzI3AV9WRzMVC01NTpaWRCUuDigXEDMZIwEmPIWFPP7bSRIAAQBX//cB+QHfABEAACUGIyImNREzERQzMjY3NTMRIwGqMW5RY09wQVECT09faFpeATD+1nlkTvH+IQAAAQASAAAB5QHeAAYAABsCMwMjA2uQkVm+V74B3v51AYv+IgHeAAAAAAEAEgAAAsAB3gAMAAAbAjMTEzMDIwMDIwNkdHJCcXVOnE1ubEyfAd7+gwFm/pYBgf4iAU/+sQHeAAAAAAEAGgAAAeYB3wALAAAhIycHIzcnMxc3MwcB5WCJgmC1tWCJg2C3tbXv8LS08AAAAAEABf8KAcsB3gARAAAXFjMyNzY3NwMzExMzAwYGIicFMTYoHRURDsRYkXFQsxdLcz6LJigdOzEB3v6DAX39w0lOIwAAAQA1AAABpwHeAAkAADcBITUhFQEhFSE1ARn+5wFy/usBFf6OQAFeQED+okAAAAAAAQBL/3YBVQLsAB8AABMWFRUUFjMVIjU1NCYjIzUzMjY1NTQ3NjMVIgYVFRQHmjQ9StURExERExFyKDtKPTQBLxlYXVFVRepcKyRMIyxbqDESRVVSXFYbAAEAZf+GALQC7gADAAATMxEjZU9PAu78mAAAAAABAAj/dgESAuwAHwAAEyY1NTQmIzUyFRUUFjMzFSMiBhUVFAcGIzUyNjU1NDfDND1K1RETERETEXIpOko9NAEzG1ZcUlVF61ssI0wkK1yoMBJFVVFdWBkAAQA1AN8BzgFnABEAABMiByc2MzIWMzI3FwYjIiYnJp4lGCwhSiKGGigZKyNOF2AOJwEaOxdvNzkbaiQGDgAAAAEAFAAAAhECgAAlAAABJiMiBhUVMxUjFRQHMzI2NzMGBiMhNTMyNjU1IzUzNTQ2MzIWFwGQEFYqOba2JbcxLQZUBlRe/rscJiNbW11bR1oLAepOQEhtOGhEGiksTU1FLC5sOG1jbUxKAAAAAAIAGAMLASoDbwAJABEAABImNDYzMhYUBiMyJjQ2MhYUBjUdHRcXHx8Xkh4eLR8fAwsdKh0dKh0dKh0dKh0AAAABABcCpQEiA1wAAwAAAQcnNwEi9BfrAxZxMoUAAwAaAAACJQNcAAcACgAOAAATMxMjJyMHIzczAwMXByfyYNNSNvo2U57RaGPrF/UCdf2LoKDeATYBSIUycQAAAAMAGgAAAiUDXAAHAAoADgAAEzMTIycjByM3MwMTByc38mDTUjb6NlOe0WiG9BfrAnX9i6Cg3gE2AQJxMoUAAAADABoAAAIlA2gABwAKABAAABMzEyMnIwcjNzMDNwcnByc38mDTUjb6NlOe0Wi0MoGCMrQCdf2LoKDeATa4J2xsJ5wAAAMAGgAAAiUDSgAHAAoAHgAAEzMTIycjByM3MwMnIgcnNjYyFxYWMjY3FwYGIi4C8mDTUjb6NlOe0WhEIBkgDC40Ii4bGhwKIwsxKSI8FQJ1/YugoN4BNu4zEzM1ERcMGRsXMDQMHwgABAAaAAACJQNDAAcACgAUABwAABMzEyMnIwcjNzMDJiY0NjMyFhQGIzImNDYyFhQG8mDTUjb6NlOe0WhWHR0XFx8fF5IeHi0fHwJ1/YugoN4BNssdKh0dKh0dKh0dKh0AAgBkAAAB5wNcAAsADwAAEyEVIRUhFSEVIRUhExcHJ2QBg/7MASL+3gE0/n1e6xf1AnVE00PWRQNchTJxAAAAAAIAZAAAAecDXAALAA8AADMhNSE1ITUhNSE1ISUHJzdkAYP+zAEi/t4BNP59AUf0F+tF1kPTRKFxMoUAAAIAaQAAAewDaAALABEAABMhFSEVIRUhFSEVIQEHJwcnN2kBg/7MASL+3gE0/n0BdjKBgjK0AnVE00PWRQLMJ2xsJ5wAAwBkAAAB5wNDAAsAFQAdAAATIRUhFSEVIRUhFSESJjQ2MzIWFAYjMiY0NjIWFAZkAYP+zAEi/t4BNP59Vx0dFxcfHxeSHh4tHx8CdUTTQ9ZFAt8dKh0dKh0dKh0dKh0AAgAHAAABEwNcAAMABwAAEzMRIwMXBydlT0896xf1AnX9iwNchTJxAAIABgAAAREDXAADAAcAADMzESM3Byc3ZU9PrPQX6wJ1oXEyhQAAAAAC/9kAAAFAA2gAAwAJAAATMxEjEwcnByc3ZU9P2zKBgjK0AnX9iwLMJ2xsJ5wAAAADAAQAAAEWA0MAAwANABUAABMzESMCJjQ2MzIWFAYjMiY0NjIWFAZlT09EHR0XFx8fF5IeHi0fHwJ1/YsC3x0qHR0qHR0qHR0qHQAAAgBjAAACSANKAAkAHQAAExEzEQEzESMRATciByc2NjIXFhYyNjcXBgYiLgJjUAE9WE/+yFEgGSAMLjQhLxsaHAojCzEpIjwVAnX9iwIA/gACdf4HAfmNMxMzNREXDBkbFzA0DB8IAAADADP/9QJUA1wACgAUABgAAAEyFhAGIyImNTQ2FyIGFBYzMjY0JgMXBycBQ3qXlnt7lZV7WGZmWFhnZ7zrF/UCgKf+waWnnp+nR4T4gID4hAEjhTJxAAAAAwAz//UCVANcAAoAFAAYAAABIgYVFBYzMjYQJgcyFhQGIyImNDY3Byc3AUN7lZV7e5aXelhnZ1hYZmbd9BfrAoCnn56npQE/p0eE+ICA+ITdcTKFAAAAAAMAM//1AlQDaAAKABQAGgAAATIWEAYjIiY1NDYXIgYUFjMyNjQmNwcnByc3AUN6l5Z7e5WVe1hmZlhYZ2dbMoGCMrQCgKf+waWnnp+nR4T4gID4hJMnbGwnnAAAAwAz//UCVANKAAoAFAAoAAABIgYVFBYzMjYQJgcyFhQGIyImNDY3IgcnNjYyFxYWMjY3FwYGIi4CAUN7lZV7e5aXelhnZ1hYZmYTIBkgDC40IS8bGhwKIwsxKSI8FQKAp5+ep6UBP6dHhPiAgPiEyTMTMzURFwwZGxcwNAwfCAAEADP/9QJUA0MACgAUAB4AJgAAATIWEAYjIiY1NDYXIgYUFjMyNjQuAjQ2MzIWFAYjMiY0NjIWFAYBQ3qXlnt7lZV7WGZmWFhnZ8QdHRcXHx8Xkh4eLR8fAoCn/sGlp56fp0eE+ICA+ISmHSodHSodHSodHSodAAACAFf/9QI1A1wAEAAUAAATERQWMzI2NREzERQGIiY1ETcXByemWEhIWE+C24GL6xf1AnX+blhOTlgBkv5udnh4dgGS54UycQACAFf/9QI1A1wAEAAUAAATERQWMjY1ESMRFAYjIiY1ESUHJzdXgduCT1hISFgBJfQX6wJ1/m52eHh2AZL+blhOTlgBkqFxMoUAAAAAAgBX//UCNQNoABAAFgAAExEUFjMyNjURMxEUBiImNRElBycHJzemWEhIWE+C24EBojKBgjK0AnX+blhOTlgBkv5udnh4dgGSVydsbCecAAADAFf/9QI1A0MAEAAaACIAABMRFBYzMjY1ETMRFAYiJjURNiY0NjMyFhQGIzImNDYyFhQGplhISFhPgtuBgx0dFxcfHxeSHh4tHx8Cdf5uWE5OWAGS/m52eHh2AZJqHSodHSodHSodHSodAAADADz/9QHRAtsAGAAhACUAAAE0JiIGFSM0NzYzMhYVESMnBiMiJjQ2MhcVJiIGFRQzMjYDFwcnAYM2Zz9XdiQqWWRECCxzTV1nmkZHakJmOlPN6xf1ATZBOCksbhoIWlz+zFBbVoBIGjIUJilaUwJWhTJxAAMAPP/1AdEC2wAYACIAJgAAATQmIgYVIzQ3NjMyFhURIycGIyImNDYyFxUmIgYVFDMyNjcTByc3AYM2Zz9XdiQqWWRECCxzTV1nmkZHakJmOVICHPQX6wE2QTgpLG4aCFpc/sxQW1aASBoyFCYpWlA/AdRxMoUAAAMAPP/1AdEC5wAYACEAJwAAATQmIgYVIzQ3NjMyFhURIycGIyImNDYyFxUmIgYVFDMyNhMHJwcnNwGDNmc/V3YkKllkRAgsc01dZ5pGR2pCZjpTSjKBgjK0ATZBOCksbhoIWlz+zFBbVoBIGjIUJilaUwHGJ2xsJ5wAAAADADz/9QHRAskAGAAiADYAAAE0JiIGFSM0NzYzMhYVESMnBiMiJjQ2MhcVJiIGFRQzMjY3AyIHJzY2MhcWFjI2NxcGBiIuAgGDNmc/V3YkKllkRAgsc01dZ5pGR2pCZjlSAq4gGSAMLjQiLhsaHAojCzEpIjwVATZBOCksbhoIWlz+zFBbVoBIGjIUJilaUD8BwDMTMzURFwwZGxcwNAwfCAAAAAQAPP/1AdECwQAYACEAKwAzAAABNCYiBhUjNDc2MzIWFREjJwYjIiY0NjIXFSYiBhUUMzI2AiY0NjMyFhQGIzImNDYyFhQGAYM2Zz9XdiQqWWRECCxzTV1nmkZHakJmOlPVHR0XFx8fF5IeHi0fHwE2QTgpLG4aCFpc/sxQW1aASBoyFCYpWlMB2B0qHR0qHR0qHR0qHQAAAwAz//UB2ALgABAAGAAcAAAlMjczBgYjIiY0NjIWByEUFhMmIyIGBzM0AxcHJwELYw5RC2lOYHh5yWMP/rlIehYgPkcG/+PrF/U1V0hPieSInHBKXwFqDFM+ZAFihTJxAAAAAAMAM//1AdgC4AAQABYAGgAAJQYjIiY1ITYmIgYUFjMyNjcCFhUjNjY3Byc3AXwOY0FIAUcPY8l5eGBOaQuCN/8GR7j0F+uMV19KcJyI5IlPSAEfUz4+U+9xMoUAAwA2//UB2wLsABAAGAAeAAAlMjczBgYjIiY0NjIWByEUFhMmIyIGBzM0NwcnByc3AQ5jDlELaU5geHnJYw/+uUh7FyE9Rwb/NTKBgjK0NVdIT4nkiJxwSl8BagxTPmTSJ2xsJ5wAAAAEADP/9QHYAsEAEAAYACIAKgAAJTI3MwYGIyImNDYyFgchFBYTJiMiBgczNCYmNDYzMhYUBiMyJjQ2MhYUBgELYw5RC2lOYHh5yWMP/rlIehYgPkcG/+odHRcXHx8Xkh4eLR8fNVdIT4nkiJxwSl8BagxTPmTfHSodHSodHSodHSodAAACAAwAAAEYAtsAAwAHAAATMxEjAxcHJ2pPTz3rF/UB3/4hAtuFMnEAAgALAAABFgLbAAMABwAAMzMRIzcHJzdqT0+s9BfrAd+2cTKFAAAAAAL/3gAAAUUC5wADAAkAABMzESMTBycHJzdqT0/bMoGCMrQB3/4hAksnbGwnnAAAAAMACQAAARsCwQADAA0AFQAAEzMRIwImNDYzMhYUBiMyJjQ2MhYUBmpPT0QdHRcXHx8Xkh4eLR8fAd/+IQJdHSodHSodHSodHSodAAACAGUAAAIHAskAEQAlAAABIgcnIxEzNTY2MhYVETMRNCYnIgcnNjYyFxYWMjY3FwYGIi4CAVNyLwlETwJKeEFOX7sgGSAMLjQiLhsaHAojCzEpIjwVAepoXP4i61diRkX+5wEZYXCXMxMzNREXDBkbFzA0DB8IAAADADP/9QHxAtsACwATABcAAAEyFhUUBiMiJjU0NhYmIgYUFjI2AxcHJwESZHt7ZGR7e/NIi0pGi0zz6xf1AeqCeXiCgnh5gqVhYathYQJBhTJxAAADADP/9QHxAtsACwATABcAAAEiBhUUFjMyNjU0JgY2MhYUBiImAQcnNwESZHt7ZGR7e/JKi0hMi0YBE/QX6wHqgnl4goJ4eYKlYWGrYWEB+3EyhQADADP/9QHxAucACwATABkAAAEyFhUUBiMiJjU0NhYmIgYUFjI2EwcnByc3ARJke3tkZHt780iLSkaLTCQygYIytAHqgnl4goJ4eYKlYWGrYWEBsSdsbCecAAAAAAMAM//1AfECyQALABMAJwAAASIGFRQWMzI2NTQmBjYyFhQGIiYTIgcnNjYyFxYWMjY3FwYGIi4CARJke3tkZHt78kqLSEyLRkogGSAMLjQhLxsaHAojCzEpIjwVAeqCeXiCgnh5gqVhYathYQHnMxMzNREXDBkbFzA0DB8IAAAABAAz//UB8QLBAAsAEwAdACUAAAEyFhUUBiMiJjU0NhYmIgYUFjI2AiY0NjMyFhQGIzImNDYyFhQGARJke3tkZHt780iLSkaLTPodHRcXHx8Xkh4eLR8fAeqCeXiCgnh5gqVhYathYQHDHSodHSodHSodHSodAAAAAgBX//cB+QMBABEAFQAAJQYjIiY1ETMRFDMyNjc1MxEjAxcHJwGqMW5RY09wQVECT0/i6xf1X2haXgEw/tZ5ZE7x/iEDAYUycQAAAAIAV//3AfkDAQARABUAAAUyNxUzESMVFAYjIjURIxEUFhMHJzcBC24xT09SQnBPY/f0F+sJaF8B3+lTZ3kBKv7QXloCxHEyhQAAAAACAFf/9wH5Aw0AEQAXAAAlBiMiJjURMxEUMzI2NzUzESMTBycHJzcBqjFuUWNPcEFRAk9PNjKBgjK0X2haXgEw/tZ5ZE7x/iECcSdsbCecAAMAV//3AfkCwQARABsAIwAAJQYjIiY1ETMRFDMyNjc1MxEjAiY0NjMyFhQGIzImNDYyFhQGAaoxblFjT3BBUQJPT+kdHRcXHx8Xkh4eLR8fX2haXgEw/tZ5ZE7x/iECXR0qHR0qHR0qHR0qHQAAAAABAGUAAAC0Ad8AAwAAEzMRI2VPTwHf/iEAAAAAAQAkAaMAuAJxAAsAABImNDYyFhQGByc2N1geHzkmLC07Pg0CDRosHi1ERxYdHi0AAQAYAqUBfwNoAAUAAAEHJwcnNwF/MoGCMrQCzCdsbCecAAAAAQAXAs8BUwNKABMAABMiByc2NjIXFhYyNjcXBgYiLgJwIBkgDC40IS8bGhwKIwsxKSI8FQMCMxMzNREXDBkbFzA0DB8IAAAAAQA3AQEBowFFAAMAABMhFSE3AWz+lAFFRAAAAAEANwEBAp8BRQADAAATIRUhNwJo/ZgBRUQAAAABACQBogC4AnIADAAAEgYiJjQ2NxcGBxYWFaIfOCcvLTg+DRceAcEfLkVHFh0gLAIaFgAAAQAPAaIAogJyAA0AABI2MhYVFAYHJzY3JiY1JCA5JS8sOD4NFx8CVB4sIyNHFx4gLAIaFgAAAAABAFwAAAH8AnUAGwAAEyEVIxYXMxUjBgcGBwUjJTUzMjY3IzUzJiYjI1wBoLdFD2NeB3AoNwEScP7yPVdUA+vnC1NMPQJ1MSRDMHMsDwX6+DBMOTAuOQAAAQBPAQIBmQFFAAMAAAEVITUBmf62AUVDQwAAAAIAM//1AeECJwAJABEAABIyFhUUBiImNTQFNCMiFRQzMqfFdXXFdAFdhoaGhgInkoeHkpGIiIjU1NMAAAEAMQAAAOYCHQAIAAATNjczESMRBgcxRTBATjM0AekLKf3jAb4gAgABAEAAAAH1AicAGgAANyEVITU0Njc3NjY0JiIGByM2NjIWFAYHBwYVjwFl/kxKTGc1M0B0SQZXBXS9dEpMb2FJSVRQUxEZDDBONi4vTlVhhEkSGxZNAAAAAQAc/44B7QInACQAAAEiByM2MzIWFRQGBxYWFRQGIiY1MxYWMjY1NCcmIyM1MzI2NCYBBG4VUxa/XXQ5Mz1IgcyEUAJTg1hZHio9K0hTRAHjXaFdSjM+ExRfP1JqaGJFQUc2WCELPzRiOwAAAgAY/5cCGAIiAAoADQAAAREzFSMVIzUhNQEDMxEBq21tTv67AUnx7wIi/ldDn589Aa/+UQEzAAABAEH/jgH6AiEAFgAAEzYzMhYUBiImNTMUFjI2NCYjIxMhFSG7LjBpeIa+dU1GflhRT6IcAVn+8AEoCmq8fmRZOTxUf0gBMEcAAAAAAgAz//QCAwKAABUAHgAAASYiBhUUFzY2MhYUBiMiJhA2MzIWFwQGFBYyNjU0JgGpEbRhBQZlnnJ2YHCKjHlUagj+90tKcktLAdZilIA1I1xTb61rtAEls15MoUduQ0I6OkIAAAEAGP+eAcQCJwAGAAABFQEjASE1AcT+1GEBOv6nAidD/boCQ0YAAAADADf/9QIxAoAAFQAfACoAABMmNTQ2MhYVFAYHFxYWFRQGIiY1NDYXBgYUFjI2NCYnJxQWFxc2NjQmIgbJfXzNhEVDEUVKh+WOUYw/TGCbWzAq5iwpSTxOUoJUAT45YktcYk00UgoGGkc9TFxmTT5OEwdBYDw0Si0P2BsnEBwCO187OQACAEL/jgISAicAGgAjAAABMhYXFhAGIyImNTMWFjI3NjU0JwYGIiY1NDYXIgYUFjI2NCYBHjVdIEKCd112UwJBaR9dBQhenXd2XzxHSHVKSAInMyxZ/tS1b1Y5RBQ5yy0jTVVwVlduRkV1RUpwRQAAAAAWAQ4AAQAAAAAAAABtAAAAAQAAAAAAAQAFAG0AAQAAAAAAAgAHAHIAAQAAAAAAAwAqAHkAAQAAAAAABAAFAG0AAQAAAAAABQANAKMAAQAAAAAABgANALAAAQAAAAAACQAQAL0AAQAAAAAADAAOAM0AAQAAAAAADQBMANsAAQAAAAAADgAaAScAAwABBAkAAADaAUEAAwABBAkAAQAKAhsAAwABBAkAAgAOAiUAAwABBAkAAwBUAjMAAwABBAkABAAKAhsAAwABBAkABQAaAocAAwABBAkABgAaAqEAAwABBAkACQAgArsAAwABBAkADAAcAtsAAwABBAkADQCYAvcAAwABBAkADgA0A49Db3B5cmlnaHQgKGMpIDIwMTEtMjAxMiwgSm9uYXRoYW4gUGluaG9ybiAoam9ucGluaG9ybi50eXBlZGVzaWduQGdtYWlsLmNvbSksIHdpdGggUmVzZXJ2ZWQgRm9udCBOYW1lcyAnS2FybGEnS2FybGFSZWd1bGFyRm9udEZvcmdlIDIuMCA6IEthcmxhIFJlZ3VsYXIgOiAxMy0xMC0yMDExVmVyc2lvbiAxLjAwMEthcmxhLVJlZ3VsYXJKb25hdGhhbiBQaW5ob3Juam9ucGluaG9ybi5jb21UaGlzIEZvbnQgU29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIFNJTCBPcGVuIEZvbnQgTGljZW5zZSwgVmVyc2lvbiAxLjEuaHR0cDovL3NjcmlwdHMuc2lsLm9yZy9PRkwAQwBvAHAAeQByAGkAZwBoAHQAIAAoAGMAKQAgADIAMAAxADEALQAyADAAMQAyACwAIABKAG8AbgBhAHQAaABhAG4AIABQAGkAbgBoAG8AcgBuACAAKABqAG8AbgBwAGkAbgBoAG8AcgBuAC4AdAB5AHAAZQBkAGUAcwBpAGcAbgBAAGcAbQBhAGkAbAAuAGMAbwBtACkALAAgAHcAaQB0AGgAIABSAGUAcwBlAHIAdgBlAGQAIABGAG8AbgB0ACAATgBhAG0AZQBzACAAJwBLAGEAcgBsAGEAJwBLAGEAcgBsAGEAUgBlAGcAdQBsAGEAcgBGAG8AbgB0AEYAbwByAGcAZQAgADIALgAwACAAOgAgAEsAYQByAGwAYQAgAFIAZQBnAHUAbABhAHIAIAA6ACAAMQAzAC0AMQAwAC0AMgAwADEAMQBWAGUAcgBzAGkAbwBuACAAMQAuADAAMAAwAEsAYQByAGwAYQAtAFIAZQBnAHUAbABhAHIASgBvAG4AYQB0AGgAYQBuACAAUABpAG4AaABvAHIAbgBqAG8AbgBwAGkAbgBoAG8AcgBuAC4AYwBvAG0AVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgBoAHQAdABwADoALwAvAHMAYwByAGkAcAB0AHMALgBzAGkAbAAuAG8AcgBnAC8ATwBGAEwAAAAAAgAAAAAAAP+1ADIAAAAAAAAAAAAAAAAAAAAAAAAAAACnAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQCFAI4AjQCtAMkAxwCuAGIAywBlAMgAygDPAMwAzQDOAGYA0wDQANEArwBnANYA1ADVAGgAagBpAGsAbQBsAHEAcAByAHMAdQB0AHYAdwB4AHoAeQB7AH0AfAB/AH4AgACBANcBAgDYANkAsgCzALYAtwEDAO8BBAEFAQYBBwEIAQkBCgELAQwBDQphcG9zdHJvcGhlC3J1cGVlc3ltYm9sDHplcm8ucHJvcG9sZAtvbmUucHJvcG9sZAt0d28ucHJvcG9sZA10aHJlZS5wcm9wb2xkDGZvdXIucHJvcG9sZAxmaXZlLnByb3BvbGQLc2l4LnByb3BvbGQNc2V2ZW4ucHJvcG9sZA1laWdodC5wcm9wb2xkDG5pbmUucHJvcG9sZAAAAAABAAH//wAPAAAAAQAAAADJiW8xAAAAAMoVHTAAAAAAyrqbcAABAAAADAAAABYAHgACAAEAAQCmAAEABAAAAAEAAAACAAEAAAAAAAAAAQAAAAoAHgAsAAFsYXRuAAgABAAAAAD//wABAAAAAWtlcm4ACAAAAAEAAAABAAQAAgAAAAEACAABAFIABAAAACQAmAC6AMABBgEoATYBPAFCAUgBngHYAg4CFAKCApQCogKwAr4C2ALiAuwC8gMAAwoDFAMmAzADPgNMA2YDbAN2A4wDngOoA74AAgALACQAJAAAACcAJwABACkAKQACAC8ALwADADIANAAEADYANwAHADkAPAAJAEQARgANAEgASwAQAE0ATgAUAFAAXQAWAAgAN//YADn/5AA6/+QAPP/mAEn/9ABZ/+oAWv/oAFz/5AABADz/5wARACT/xwA6//gAO//wADz/+ABE/+gARv/kAEf/6ABI/+QASv/TAFL/5ABU/+QAWP/oAFn/4ABa/9wAW//kAFz/5ABd/+gACAAtABAAN//PADn/0wA6/9cAPP+7AFn/6ABa/+gAXP/sAAMAOf/4ADv/9AA8//AAAQAk/9oAAQA8//AAAQA8/+YAFQAk/9gALf+7AET/qQBG/7UAR/+rAEj/tQBJ/8sASv+pAFD/uwBR/7sAUv+xAFP/uwBU/7UAVf+3AFb/nwBY/7sAWf+3AFr/2ABb/8cAXP/OAF3/ywAOACT/3wAm//gALf+7ADL/+ABE/98ARv/fAEf/3wBI/98ASf/YAEr/zwBS/98AVP/jAFX/7wBW/98ADQAk/98ALf+7AET/3wBG/98AR//fAEj/3wBJ/9gASv/PAFL/3wBU/98AVf/fAFb/2ABY/+QAAQAy//QAGwAk/7sAJv/vACv/+AAt/64AMv/wADT/8AA2/+QARP/DAEb/vwBH/78ASP+/AEn/vwBK/7MAUP+/AFH/vwBS/78AU/+/AFT/vwBV/78AVv+/AFf/2wBY/70AWf/TAFr/0wBb/8sAXP/HAF3/vwAEADf/pwA5/9sAOv/kADz/ywADADf/7AA5/+MAPP/vAAMAN//DADn/5AA8/98AAwA3/8MAOf/oADz/1wAGACT/8AAt/8sARv/wAEr/5gBN//AAVv/oAAIATQBJAFwAEAACADf/+AA8/9MAAQBJ/+oAAwBJ//AATf/4AFz/8AACADf/3AA8/9cAAgA3/9QAPP/XAAQAN/+5ADn/3wA6/98APP+/AAIAN//LADz/3AADADf/twA8/9EATQBRAAMALf/YADf/0ABK/+wABgA3/6cAOf/kADr/3AA8/8cASf/kAFz/7AABADz/2wACADf/xwA8/88ABQAk/+gALf/LADf/xAA8/9MASv/4AAQAJP/kAC3/1wA3/+AAPP/gAAIAN//XADz/zwAFACT/9AAt/+gAN//IADz/5ABK//gAAgA3/+gAPP/XAAEAAAAKAB4ALAABbGF0bgAIAAQAAAAA//8AAQAAAAFvbnVtAAgAAAABAAAAAQAEAAEAAAABAAgAAgAaAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAEAEwAcAAAAAAABAAAAAA==")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(215),o=(r=i)&&r.__esModule?r:{default:r};t.default=(0,o.default)("AAEAAAARAQAABAAQRFNJRwAAAAEAAEXEAAAACEZGVE1eWSTzAABBTAAAABxHREVGACgAzAAAQWgAAAAoR1BPUwBCLTkAAEGQAAAD7EdTVULcweonAABFfAAAAEhPUy8yhW86+AAAAZgAAABgY21hcC3txpkAAASUAAAB4mdhc3AAAAAQAABBRAAAAAhnbHlms35jtwAAB9AAADKUaGVhZPoEFmMAAAEcAAAANmhoZWEHHAN2AAABVAAAACRobXR4YIQf7QAAAfgAAAKcbG9jYdd15HAAAAaAAAABUG1heHAA7gBIAAABeAAAACBuYW1l+3uXDgAAOmQAAATUcG9zdKatTT4AAD84AAACCXByZXBoBoyFAAAGeAAAAAcAAQAAAAEAAKAIeP5fDzz1AB8D6AAAAADKvHskAAAAAMyPV8T/tP8FA9ADkQABAAgAAgAAAAAAAAABAAADlf8EAAAEA/+0/8cD0AABAAAAAAAAAAAAAAAAAAAApwABAAAApwBFAAUAAAAAAAIAAAABAAEAAABAAAAAAAAAAAMCHQK8AAUAAAK8AooAAACMArwCigAAAd0AMgD6AAAAAAAAAAAAAAAAgAAAJwgAAEIUAAAAAAAAAHB5cnMAIAAgIhIDlf8EAAADlQD8AAAAAQAAAAAB5gKJAAAAIAACAk0AAAAAAAACTQAAAP0AAAElAEQBfwAgAqYAOQKxAEEC/QA9A8UAXAC0AB8BkABJAZAAIAGZADICIAASAP0AGAF1AC4A1wAYAdgANQJ5AC8BZQAqAl0APAJuACwCUwAWAkYAOQJfAC8B8gAYAocAMQJiADUBDgAzATQANgH2AC0B+gBPAfYALQIFABgEAwBDAnIAFgKIAF0CegAvAq4AXAJKAFwCIwBdAqUALwLCAF0BMABdAbwAEAKOAF0B7gBdA2oAXQLNAFsCqwAvAkUAWgKuAC8ChABdAn4AQQIUAAYCsgBTAl8AFAPGABQCrAAhAlwAEAJ1AEkBYABdAdgAKQFQ//wCDwAUAwAANwFkABgCSAA3AmYAXQISAC8CZgAzAhIALwFuACgCRgAPAm8AXQFIAFkBT/+0Aj8AXQEwAF0DtQBdAm8AXQI2AC8CYgBdAmIALwGgAF0CDwAxAYsAIAJzAFMCBwAMAvYADAIqABAB+AAAAe8AOQGHAEcBMABdAYcABAI6ADkCWgAWAX4AGAFkABcCcgAWAnIAFgJyABYCcgAWAnIAFgJMAFwCTABcAkwAZgJMAFwBMP//ATD//gEw/8gBMP/yAtAAWwKrAC8CqwAvAqsALwKrAC8CqwAvArIAUwKyAFMCsgBTArIAUwJJADcCSQA3AkkANwJJADcCSQA3AhIALwISAC8CEgA2AhIALwFIAAgBSAAHAUj/0QFI//sCbwBdAjYALwI2AC8CNgAvAjYALwI2AC8CcwBTAnMAUwJzAFMCcwBTATAAXQDtACQB0QAYAYoAFwINADcDAAA3AQ8AJAEPAB0CXABTAfoATwI6AC8BZQAqAlMAPAJMABQCVAASAk0AOQJfAC8B8gAYAocAMQJhADUAAAADAAAAAwAAABwAAQAAAAAA3AADAAEAAAAcAAQAwAAAACwAIAAEAAwAfgCgAKMAqAC0AMQAzwDWANwA5ADvAPYA/AExArwCxgLcIBQgGSCoIhL//wAAACAAoACjAKgAtADAAMgA0QDZAOAA6ADxAPkBMQK8AsYC3CATIBggqCIS////4/9j/7//u/+w/6X/ov+h/5//nP+Z/5j/lv9i/dj9z/264ITggd/z3ooAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABBgAAAQAAAAAAAAABAgAAAAIAAAAAAAAAAAAAAAAAAAABAAADBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYQBpAABrcnd7fXx+gH8AAIKBg4SGhYeIiYuKjI6NkI+RkgAAAGIAAAAAAAAAZGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANlaHYAAJeYAACZmgAAAAAAAAAAAAAAAAAAAGdsZm1qb3BxbnR1AHN5eniTlZYAAAAAAAAAAAAAuAH/hbAEjQAAAAAAAAAAAAAAABwAMABiALABAAFYAWYBfgGWAbQBygHmAfQCCAIWAkICVgKKAsYC4gMMA1ADZAO0A/QEFgRABFQEaAR8BLQFFgUuBWQFkgW4BdAF5gYaBjIGQAZaBnYGhgaiBroG5AcEBzoHYAeaB6wHygfeB/wIFggsCEQIVghkCHQIhgiUCKQI2gkGCTYJZAmYCboKGgo4ClYKfAqUCqIK1AryCx4LTguKC6QL2Av6DB4MMgxQDGgMigygDNIM4A0SDTQNaA2KDZoNvA3eDgIOOA5sDowOrA7ODwIPGA8sD0QPbA+gD9QQCBA+EIYQzBDyERoRRBF+EbwR/BI+EpIS5BMiE14TnhPuFAQUGBQwFFgUlBTIFPwVMhV6FcAV7BYWFkQWghaQFqwWvhbiFvAW/hcYFzIXXBdqF5AXpBfYGBQYMBhgGKQYuBkIGUoAAgBE//cA6gKYAAMADQAAEzMDIxYmNDYzMhYUBiNWgA5lDy4uJCQwMCQCmP5D5CxELi5ELAAAAAACACABwAFfAq4AAwAHAAATByMnIQcjJ5YQVw8BPxBXDwKu7u7u7gAAAgA5ACECegJeABsAHwAAJSMHIzcjNzM3IzczNzMHMzczBzMHIwczByMHIyczNyMBjIgObw5cB10RXQhdDm8OiA5vDl4JXRFeCF4Ob3KIEYikg4NNnk6BgYGBTp5Ng9CeAAAAAAMAQf+bAnAC4QAkACsAMgAAARYWFRQHBgcVIzUmJyY1MxQWFzUnJiY0Njc1MxUWFhcjJiYnFRI2NTQnJxUCBhQWFxc1AdtLSjpAc1RoQUV1PjsyVFxzb1RhZg51BTEqNjJIIIQxICMeAVcaT0FHNDcIWFoKNDhgMDIHwhEcT45fCExNCmRQHi8Jtv7vLB45GwyvAckqOCEMDKEAAAUAPf/yAsYClgAQABgAHAAsADQAABMyFhcWFRQHBiMiJyY1NDc2FzQjIhUUMzIlMwEjATIXFhUUBwYjIicmNTQ3NhciFDMyNjQmxhsyEykpJjs5JikpJ2kxMDAxASx3/kl4AdM5JykpJjo6JikpJzkwMBUcHAKWExMnSkkpJiYpSUonJpdMTE3X/XcBIiYnSkopJiYpSkonJkuZI1MjAAADAFz/8gOPApQAJwAvADkAAAEGBxcWFjI2NzMGBiMiJicGIyInJjU0NycmNTQ3NjMyFxYUBgcXNjcFBhUUFjMyNwI2NCYiBhUUFxcC/CxCERIgLyICawJNTDBRLWR6cE5OtxBIOT1lYT04U1V/PSz+qnhJQkxDPzEuUi0vFwFYfVIPEBAjJ1JgJilPOTpUgh0PQU5FKy4uK4JZIHNJbmgRSyo5LAEJNEEnKx4sKRUAAAEAHwG3AJUCpQADAAATByMnlRBXDwKl7u4AAAABAEn/igFvAvIACwAABSY1NDcXBgYVFBYXARrR0VVWVlZWdrr6/Lg+WrVnZ7NaAAABACD/igFHAvIACwAAExYVFAcnNjY1NCYndtHRVldWV1YC8rr6+LxAWrNnZ7VaAAABADIBjAFsAsAADgAAEyc3FyczBzcXBxcHJwcnoW8eYwxQDGMebVY7Skw5AhAlRjJ3dzRHJVIzZWUzAAABABIAAAIOAesACwAAARUzFSMVIzUjNTM1AUvDw3bDwwHrwmfCwmfCAAAAAAEAGP94AOEAiAAOAAAyJjQ2MhYVFAcGByc2NjdYJy5QMkIVGlghMwgjOyo+LUk8Ew0sESocAAAAAQAuAPoBRwFhAAMAABMhFSEuARn+5wFhZwAAAAEAGP/3AL4AlQAJAAAWJjQ2MzIWFAYjRi4uJCQwMCQJLEQuLkQsAAABADX/rwGvAukAAwAAATMBIwE2ef7+eALp/MYAAgAv//ICSgKWABAAGgAAATIWFxYVFAcGIyInJjU0NzYEJiIGFRQWMjY1ATw8YyNMTEZ7fEdLS0cBD02NTU2NTQKWKSpZpqZZU1NXqKhXU+J3d3BwdXVwAAEAKgAAAQcCjQAIAAATNjczESMRBiMqSzlZdjM0AlgLKv1zAgAZAAABADwAAAIpApYAIAAANyEVITU0NzY3NzY2NTQmIgYHIzY3NjMyFxYUBgcHBgYVsgFz/hdTHCWFLCk2ZEEFgwJHQW5lQkNRVYcnI2xsb3U1Eg4zETMmJjMwL182MTY4omEhNA8lHQAAAAEALP/yAjsClgAoAAABIgcjNjc2MzIXFhUUBgcWFhQGBwYjIicmNTMWFjI2NCYjIzUzMjY0JgE1bRJ8CkRAaGtDRjY1O0clIkhzbktUfgNNfEU/RFZKOUA3AitTYDEtMjNQMkkSFE9mSBo3OD1lMzo3VTBdMVAyAAIAFgAAAkUCkAAKAA0AAAERMxUjFSM1ITUBAzM1AdRxcXX+twFMwMMCkP5lZZCQWQGn/ln4AAAAAQA5//ICHwKJABoAABM2MzIWFRQHBiMiJyYnMxQWMjY1NCMjEyEVIds2MWV4Q0dsa0BDAnlEakWGxh4Bhf7tAYsJYVtjQEM2OGIzMEU0YwFObAAAAgAv//ICLgKWACEALAAAASYmIgYHBhUUFzY3NjMyFxYVFAcGIyInJjU0NzYzMhcWFwQGFRQWMjY1NCcmAakFLlE9FiwDCzYvRlo7OkFBaXpNTU1LgWI8PQT+7EFBX0IiHwHXJy0jIUR0KxZWKCI6OFxcOTlcXI+mXVo0NVaqOS8vNzcvLx4bAAEAGAAAAeACiQAGAAABFQEjASE1AeD+658BKf7DAolx/egCF3IAAAADADH/8gJWApYAGgAnADMAAAAWFRQGBxYXFhUUBwYjIicmNTQ2NyYnJjU0NhMGBwYUFhcWMjY0JicnFzI3NjQmIyIHBhQBrZJDP1MgJkhLgHtMS1VCVx8Lg2VbIAkYFSiRSyUglEswJCNIOjglJQKWaVExTQshIig8UzM0NjRTPUsIKkMZIFJf/oAGNA8oIgwYJzkjDawdGBhOLxUVSwAAAgA1//ICNAKWAB4AKgAAJTI1NCcGBwYjIiY1NDc2MzIXFhUUBwYiJicmNTMWFgIGFBYzMjc2NTQnJgElmAQNNC5HW3NBQWh2T1CWMnVXIER7Aj0GQUEwLyEhISBf+hsgTigjc1pcOTlaXJH7ShgeGzlcLTQByzdhNhweLS4dHAACADMACADZAc8ACQATAAA2JjQ2MzIWFAYjAiY0NjMyFhQGI2EuLiQkMDAkJC4uJCQwMCQILEQuLkQsASksRC4uRCwAAAIANv94AP8BzwAOABgAADImNDYyFhUUBwYHJzY2NwImNDYzMhYUBiN2Jy5QMkIVGlghMwgPLi4kJDAwJCM7Kj4tSTwTDSwRKhwBNixELi5ELAAAAAEALQAcAckCaQAGAAABBQUHJTUlAcn+3QEjTv6yAU4CD83MWvFr8QACAE8AXwGrAZgAAwAHAAAlFSE1JRUhNQGr/qQBXP6kxmdn0mZmAAAAAQAtABwByQJpAAYAABMFFQUnJSV7AU7+sk4BIv7eAmnxa/FazM0AAAIAGP/yAeUClgAZACMAAAEUBgcOAhUVIzU0Nz4CNCYiBgcjNjYyFgA2MhYVFAYiJjUB5TQ4Lx0IdjYTSiEyYjgEewV21X3+ti1JMDBJLQHhNUccGCIdEx0oWiYOJic9KS8mV2lo/jUsLCIiLS0iAAACAEP/JgPQApYADQBEAAABNCYiBgcGFRQWMzI2NxcUMzI2NzY1NCcmIyIHBhUUFxYzFSIuAjQ+AjIeAhQOAiImJycGBiImJyY1NDc2MzIWFQJhFzQuEywvIyMvFF8jECkSK01TiaVpaGNotHK5hEdKhLXHmm08KkNXXTwJBhQ5VDsXM0hGY0JPARgfJhUUMEItLycnHjMVGDhddEdMZmSYk1VbYUNznL+nd0E5ZIeSa0kmIyAQJi0cGDdPZ0lIT1AAAAAAAgAWAAACXAKJAAcACgAAEzMTIycjByM3MwPzlNV9LfEufcm2WgKJ/XeMjOUBFwAAAwBdAAACTQKJABAAGQAhAAATITIXFhUUBgcWFhUUBwYjISUyNjU0JiMjFREzMjY0JiMjXQEGbDs4PTc3SHctRf75AQQ5MzU3jos1NjU1jAKJMy9KN04QC008eCwQZy4mJi+pARAuTy8AAAAAAQAv//ICTQKWABwAAAEyFhcWFwcmJiMiBwYUFjI2NTMUBiMiJyY1NDc2AUY8WCA/E34QQzJEKi1QikZ/i3mBTE1PTAKWHRozXBczPzk+23tDNW13WlyeoFpWAAACAFwAAAJ6AokACgAVAAABMhcWFRQHBiMjERMzMjc2NTQnJiMjAS+UW1xcW5TTd1xcOTY2OF1cAolYWJWUWFgCif3iPjxfYTw9AAAAAQBcAAAB/gKJAAsAABMhFSEVIRUhFSEVIVwBov7UARn+5wEs/l4CiWarZqtnAAAAAQBdAAAB9gKJAAkAABMhFSEVIRUhESNdAZn+3QEK/vZ2Aolmq2X+7QAAAAABAC//8gJbApYAIgAAJQYjIicmNTQ3NjMyFhcHJiMiBwYVFBcWMzI3NjU1JzUhESMB6yp3ek9SWFWGW3sjeTVRSjEzLi1LQCkqkgEDYGd1XF+UnF5bT1UcVT9Aa2U/PikqSQQDTP6yAAEAXQAAAmQCiQALAAATESERMxEjESERIxHTARt2dv7ldgKJ/vEBD/13ARP+7QKJAAEAXQAAANMCiQADAAATMxEjXXZ2Aon9dwAAAAABABD/8gFuAokADQAANzUWMzI2NREzERQHBiIQTUgrJ3c2MKgbdiwyMwG//kFwNzEAAAAAAQBdAAACiQKJAAsAABMRATMBASMDBxUjEdQBAKL+4gExmec1dwKJ/vUBC/7c/psBEzbdAokAAAABAF0AAAHeAokABQAANyEVIREz0wEL/n92Z2cCiQAAAAEAXQAAAw0CiQAMAAABExMzESMRAyMDESMRAQaysqN3uE2+dgKJ/n4Bgv13Ae3+WgG0/gUCiQAAAQBbAAACcAKJAAkAABMBETMRIwERIxHcAR52eP7ZdgKJ/jQBzP13Adz+JAKJAAAAAgAv//ICfAKWABAAGAAAATIWFxYVFAcGIyInJjU0NzYEJiIGFBYyNgFWQWwnUlJOh4ZOUlJNATRdnl5enl0ClisqWKSlWlRWWaSmWFPjeXnfd3cAAgBaAAACKAKJAAkAEQAAABYUBiMjFSMRMxEyNjQmIyMVAa17e25ud+U3ODg3bgKJa8dr7AKJ/so6WzvQAAAAAAIAL/9MAnwClgAZACEAAAUGIyInJyYnJjU0NzYzMhcWFRQGBxcWFzI3AiYiBhQWMjYCdCkwYUMrgU1PUk2Hhk9SaFgQGC8rNnJdnl5enl2iEmVBAlZboKZYU1VYpIehHBklAhcB23l533d3AAIAXQAAAlYCiQAOABYAAAEUBgcTIycjFSMRMzIXFgcyNjQmIyMVAj9OSa6aj1p28HNAP/1BQjw8egHCRWIT/vj9/QKJNzXRO2E71wABAEH/8gI9ApYAJQAAASYjIgYUFhcXFhYVFAYjIicmJzMUFxYyNjQmJycmJjU0NzYyFhcBshBoMzklJ41IToR6bENLBHVTGVJGJiuBS1A/QNt3CQHWVSk6IQ43HFVAWGc1OmpQFQcpRSUQMx1ORVEvMWVbAAEABgAAAg4CiQAHAAATIRUjESMRIwYCCMl2yQKJZv3dAiMAAAEAU//yAmECiQARAAATERQWMzI2NREzERQGIyImNRHJUUBAUXaKfX2KAon+bFBGRlABlP5sfIeHfAGUAAEAFAAAAksCiQAGAAAbAjMDIwORnqB833zcAon+CwH1/XcCiQAAAAABABQAAAOyAokADAAAGwIzExMzAyMDAyMDmI+LUJOYhd98enl81AKJ/hMBwv48Ae/9dwFu/pICiQAAAAABACEAAAKJAokACwAAISMnByMTAzMXNzMDAomUq5iQ5eaRpI6P2+bmAUMBRurq/rwAAAAAAQAQAAACTAKJAAgAABsCMwMRIxEDnI+Wi+d23wKJ/v0BA/6D/vQBDAF9AAABAEkAAAI0AokACQAANwElNSEVAQUVIUkBV/6pAev+qgFW/hVmAbYBbGX+SQFsAAABAF3/cwFUAxYABwAAEzMVIxEzFSNd94GB9wMWav0yawAAAAABACn/sAGjAuoAAwAAEzMBIyl4AQJ5Aur8xgAAAf/8/3MA8wMWAAcAABcjNTMRIzUz8/eBgfeNawLOagABABQA2gH/AlsABgAANxMzEyMnBxTGYMWCc3TaAYH+f/b2AAABADf/YgLK/8kAAwAAFyEVITcCk/1tN2cAAAAAAQAYArYBTQOEAAMAABMFByVCAQse/ukDhIRKaAAAAAACADf/8gH5AfMAGgAjAAATMhc1NCYiBhUjNDYzMhcWFREjJwYjIicmNDYXJiMiFRQWMjb9OkwpXTKBdWmWLA9nCS9hXjQwauI7M2AsYT8BHBMwMzElIlNKaSQx/stBTy4sh0leEEAbJ0EAAAACAF3/8gIzAq4ADgAZAAAAFAcGIyImJwcjETMRNjIHFRYXFjI2NCYiBgIzQT9eLUsWHU12LrflAiMhX0RDZEIBZ+RKRzAyVAKu/vtK4kAzISBTiFFCAAAAAQAv//IB4QHzAB0AAAEyFhcWFwcmJiIGBwYUFjI2NTMUBwYjIicmNTQ3NgEWLkkZMgl3CCs4KA8iQFspdzU2YWBBRUVBAfMfGTBJAyAqERIqlEsrJVA1NkZLcHZHQwAAAgAz//ICCQKuAA4AGwAAJQYjIicmNDc2MhcRMxEjAgYUFjMyNzY1NSYnJgGaLV1dP0E+PbYud2G7Q0Q0KyIjAiEeS1lHSuRHRUkBBP1SAYlRiFMiIzU/NCEeAAACAC//8gHiAfMAGAAgAAAAFhQHIRYWMzI3MwYHBiMiJyY1NDc2MzIXByIGBzM0JyYByRkE/sYCNjdJDncMNzlSYEFDQ0BhZTicMjgFzzITAYxURhw7SkBJKixGSXJ1R0RHF0EzTxsKAAEAKAAAAWkCtgAVAAATMzU0NzYzMhcHJiIGFRUzFSMRIxEjKEgsKEApPBccLSJZWXdIAeY5SygkDFsKGSI4T/5pAZcAAwAP/wUCMgJVAC0AOgBDAAA3JjU0NzYyFzY3NjMHIgcWFAYHBiMiJwYVFDMzMhUUBgcGIyInJjU0NjcmNTQ2FwYVFBYyNjc2NTQmIwImIgYUFjMyNoc7PjybNAYrKjkGVgMlIh08VjEoKEyjpiclUnx4S0Y3LTssfV5PbD0VLRkYEi1cMDAuLi3HMktPMS8dOSMjcTkuYEEWMA8MJC10J0sdQDEvRC01ByQ1Iy/IBEMiKRIPHioSFwF5MzNRNDQAAQBdAAACIAKuABAAABM2MhYVESMRNCYiBgcVIxEz0zLAW3Y0XkMCdnYBl1x2Yf7kARw2N1RU4QKuAAAAAgBZAAAA6wLIAAMADwAAEzMRIwM0NjMyFhUUBiMiJmd2dg4mIyInJyIjJgHn/hkCgyAlJSAgJSUAAAAAAv+0/wUA8QLIAAkAFQAAEzQ2MhYVFAYiJgMWMjY1ETMRFAYiJ18nRSYmRSepPFYmdleLTgKDICUlICAlJf0nHikzAiD93mhZHwAAAAEAXQAAAj8CrgALAAAlBxUjETMRNzMHEyMBCTZ2dsCg1+OQ7S3AAq7+jau0/s4AAAEAXQAAANMCrgADAAATMxEjXXZ2Aq79UgAAAAABAF0AAANnAfMAHwAAATYzMhcWFREjETQmIgYHFSMRNCYiBgcVIxEzFzYzMhYCDS92VzAudzRePAJ2NF5DAnZnDTBqPVEBimk7OGT+5AEcNjdSU+QBHDY3VFThAeZUYTgAAAAAAQBdAAACIAHzABEAABM2MzIWFREjETQmIgYHFSMRM9EwalpbdjReQwJ2ZwGSYXZh/uQBHDY3VFThAeYAAgAv//ICBwHzABAAGQAAATIWFxYVFAcGIyInJjU0NzYWJiIGFBYzMjYBHDFWH0VFPmhoQEVFP948a0Q9NTVEAfMfIEZ8ekZAQEV7fUU/s01Nmk1NAAAAAAIAXf8TAjMB8wAPAB0AABM2MzIXFhUUBwYiJxEjETMTMjY3NjQmIgYHFRQXFskuXlpAREVAsil2YYIVLRIoRWM/AiEfAaRPREh0dUhENf7sAtP+dxITKo1QOTVXLx0bAAIAL/8FAkcB8wAYACYAACUGIyInJjU0NzYzMhYXNzMRFBYWFwcmJjUQJiIGFRQXFjMyNzY3NQGOJFheQEVDP1stTRgaTRUaEyJSRUBjRSgjMikfIQI/TURIdXNJRCstS/3PKxwNBlYUWE0BjzxQRkcqJRkcLVcAAAEAXQAAAYIB7wANAAATNjMyFwcmIyIVFSMRM9MsWBEaAhwbdnZ2AYZpB3YGo9UB5wAAAAABADH/8gHeAfMAIQAANxYzMjY0JicnJjU0NjIWFyMmJiIGFRQXFxYWFRQHBiImJ58CYyYxHiBqdm+7ZQJvAipOKztzOT05O8J2AZRFISwYCiYpXT5LUj4YHB8UIxErEzsvPCwuVU0AAAEAIP/yAW8CZgAVAAAlBiImJyY1ESM1MzUzFTMVIxEUMzI3AW9CTDkWLkREdoSEOR0uDBoSEilIARBPgIBP/vQ8EAAAAQBT//cCFgHnABQAACUGIyInJjURMxEUFjI2NzY3NTMRIwGgLmaBKQ92LkMuESUCdnZYYWUjMgE2/tYwLxMTK0jw/hkAAAAAAQAMAAAB+wHmAAYAABsCMwMjA5RvcIi1hbUB5v6PAXH+GgHmAAAAAAEADAAAAugB5gAMAAAbAjMTEzMDIwMDIwOIYl1rXWN2oHRaWHWhAeb+pQFA/r8BXP4aASP+3QHmAAAAAAEAEAAAAhkB5wALAAAhIycHIzcnMxc3MwcCGZB4cJG9vZF3cZC8nJzy9Zyc9QAAAAEAAP8FAewB5gARAAAbAjMDBgYjIic1FjMyNjc3A5l1Zni6HVNAQUE0NSMtDg/DAeb+ogFe/cJXTCBoITgtLwHmAAAAAQA5AAABtwHmAAkAADcTIzUhFQMzFSE5/PwBfvT0/oJgASZgYP7aYAAAAAABAEf/ZAGDAxsAIwAABSInJjU1NCYjIzUzMjY1NTQ3NjMVIgYVFRQGBxUWFhUVFBYzAYODQj0NFBkZFA2NMURKQyUdHSVDSpxGQXVbKh93HypcszUTa0dLYDA+DgUOPjBgS0cAAQBd/4YA0wMDAAMAABMzESNddnYDA/yDAAAAAAEABP9kAUADGwAjAAAXMjY1NTQ2NzUmJjU1NCYjNTIXFhUVFBYzMxUjIgYVFRQHBiMESkMlHR0lQ0qDQzwNFBkZFA2NMUQxR0tgMD4OBQ4+MGBLR2tHQHRcKh93HypbtDYSAAABADkAzAIBAXwAEwAAEyIHJzY2MzIXFjMyNxcGIyInJia4Jho/ET0yIjdWGCkYQChiIUUlJQEJPSJBSxUhOCl/HA0MAAEAFgAAAjYClgAlAAA3MzI2NTUjNTM1NDYzMhcjJiYiBhUVMxUjFRQHMzI2NzMGBwYjIRYgJR5TU3BcqBh0BShFMKurJIgyKwWBBDI4dP7CayotV09UbG6vISM2OVRPT0EeJShcLDAAAgAYAwIBZgOHAAkAEwAAEiY0NjMyFhQGIzc0NjIWFRQGIiY/JycfHygoH3soPSgoPSgDAiU5JiY5JUIdJiYdHSQkAAABABcCtgFMA4QAAwAAAQUnJQFM/ukeAQsDHmhKhAAAAAMAFgAAAlwDhAAHAAsADgAAEzMTIycjByMTBQclEzMD85TVfS3xLn23AQse/uk8tloCif13jIwDhIRKaP3HARcAAAAAAwAWAAACXAOEAAcACwAOAAATMxMjJyMHIwEFJyUDMwPzlNV9LfEufQHB/ukeAQvOtloCif13jIwDHmhKhP1hARcAAAADABYAAAJcA5EABwANABAAABMzEyMnIwcjAQcnByc3AzMD85TVfS3xLn0B9kuFhkvRXbZaAon9d4yMAvA7ZWU7of1UARcAAAADABYAAAJcA3cABwAcAB8AABMzEyMnIwcjATI3FwYGIyImJyYjIgcnNjYzMhYWAzMD85TVfS3xLn0BbCAVMgs5IBIjGi0QIxgvDDkmG0gZl7ZaAon9d4yMA0YxITZFDg0XMhw9QyUM/Z8BFwAEABYAAAJcA3IABwAKABQAHgAAEzMTIycjByM3MwMmJjQ2MzIWFAYjNzQ2MhYVFAYiJvOU1X0t8S59ybZafycnHx8oKB97KD0oKD0oAon9d4yM5QEX8SU5JiY5JUIdJiYdHSQkAAAAAAIAXAAAAf4DhAALAA8AABMhFSEVIRUhFSEVIRMFByVcAaL+1AEZ/ucBLP5eYgELHv7pAolmq2arZwOEhEpoAAACAFwAAAH+A4QACwAPAAAzITUhNSE1ITUhNSElBSclXAGi/tQBGf7nASz+XgFs/ukeAQtnq2arZpVoSoQAAAAAAgBmAAACCAORAAsAEQAAEyEVIRUhFSEVIRUhAQcnByc3ZgGi/tQBGf7nASz+XgGiS4WGS9ECiWarZqtnAvA7ZWU7oQADAFwAAAH+A3IACwAVAB8AABMhFSEVIRUhFSEVIRImNDYzMhYUBiM3NDYyFhUUBiImXAGi/tQBGf7nASz+XlInJx8fKCgfeyg9KCg9KAKJZqtmq2cC7SU5JiY5JUIdJiYdHSQkAAAAAAL//wAAATQDhAADAAcAABMzESMDBQclXXZ2NAELHv7pAon9dwOEhEpoAAAAAv/+AAABMwOEAAMABwAAMzMRIzcFJyVddnbW/ukeAQsCiZVoSoQAAAL/yAAAAWkDkQADAAkAABMzESMBBycHJzdddnYBDEuFhkvRAon9dwLwO2VlO6EAAAP/8gAAAUADcgADAA0AFwAAEzMRIwImNDYzMhYUBiM3NDYyFhUUBiImXXZ2RCcnHx8oKB97KD0oKD0oAon9dwLtJTkmJjklQh0mJh0dJCQAAgBbAAACcAN3AAkAHgAAExEzEQEzESMRATcyNxcGBiMiJicmIyIHJzY2MzIWFlt2ASd4dv7i0SAVMgs5IBIjGywQIxgvDDkmG0gZAon9dwHc/iQCif40Acy9MSE2RQ4NFzIcPUMlDAADAC//8gJ8A4QAEAAYABwAAAEyFhcWFRQHBiMiJyY1NDc2BCYiBhQWMjYBBQclAVZBbCdSUk6Hhk5SUk0BNF2eXl6eXf7iAQse/ukClisqWKSlWlRWWaSmWFPjeXnfd3cCsIRKaAAAAAMAL//yAnwDhAAQABgAHAAAASIGBwYVFBcWMzI3NjU0JyYENjIWFAYiJgEFJyUBVkJsJ1JSToaHTlJST/7OXp5dXZ5eAUX+6R4BCwKWKSpYpqRZVlRapaRYVeN5ed93dwJKaEqEAAAAAwAv//ICfAORABAAGAAeAAABMhYXFhUUBwYjIicmNTQ3NgQmIgYUFjI2EwcnByc3AVZBbCdSUk6Hhk5SUk0BNF2eXl6eXSNLhYZL0QKWKypYpKVaVFZZpKZYU+N5ed93dwIcO2VlO6EAAAAAAwAv//ICfAN3ABAAGAAtAAABIgYHBhUUFxYzMjc2NTQnJgQ2MhYUBiImEzI3FwYGIyImJyYjIgcnNjYzMhYWAVZCbCdSUk6Gh05SUk/+zl6eXV2eXvIgFTILOSASIxssECMYLww5JhtIGQKWKSpYpqRZVlRapaRYVeN5ed93dwJyMSE2RQ4NFzIcPUMlDAAABAAv//ICfANyABAAGAAiACwAAAEyFhcWFRQHBiMiJyY1NDc2BCYiBhQWMjYAJjQ2MzIWFAYjNzQ2MhYVFAYiJgFWQWwnUlJOh4ZOUlJNATRdnl5enl3+0ycnHx8oKB97KD0oKD0oApYrKlikpVpUVlmkplhT43l533d3AhklOSYmOSVCHSYmHR0kJAACAFP/8gJhA4QAEQAVAAATERQWMzI2NREzERQGIyImNRE3BQclyVFAQFF2in19ipYBCx7+6QKJ/mxQRkZQAZT+bHyHh3wBlPuESmgAAgBT//ICYQOEABEAFQAAExEUFjMyNjURIxEUBiMiJjURJQUnJVOKfX2KdlFAQFEBKv7pHgELAon+bHyHh3wBlP5sUEZGUAGUlWhKhAAAAAACAFP/8gJhA5EAEQAXAAATERQWMzI2NREzERQGIyImNRElBycHJzfJUUBAUXaKfX2KAddLhYZL0QKJ/mxQRkZQAZT+bHyHh3wBlGc7ZWU7oQAAAAADAFP/8gJhA3IAEQAbACUAABMRFBYzMjY1ETMRFAYjIiY1ETYmNDYzMhYUBiM3NDYyFhUUBiImyVFAQFF2in19iognJx8fKCgfeyg9KCg9KAKJ/mxQRkZQAZT+bHyHh3wBlGQlOSYmOSVCHSYmHR0kJAAAAAMAN//yAfkC/AAaAB4AJwAAEzIXNTQmIgYVIzQ2MzIXFhURIycGIyInJjQ2EwUHJRMmIyIVFBYyNv06TCldMoF1aZYsD2cJL2FeNDBqGAELHv7p9DszYCxhPwEcEzAzMSUiU0ppJDH+y0FPLiyHSQHghEpo/igQQBsnQQADADf/8gH5AvwAGgAeACcAABMyFzU0JiIGFSM0NjMyFxYVESMnBiMiJyY0NgEFJyUDJiMiFRQWMjb9OkwpXTKBdWmWLA9nCS9hXjQwagEi/ukeAQsWOzNgLGE/ARwTMDMxJSJTSmkkMf7LQU8uLIdJAXpoSoT9whBAGydBAAAAAAMAN//yAfoDCQAaACAAKQAAEzIXNTQmIgYVIzQ2MzIXFhURIycGIyInJjQ2AQcnByc3EyYjIhUUFjI2/TpMKV0ygXVpliwPZwkvYV40MGoBWUuFhkvRWTszYCxhPwEcEzAzMSUiU0ppJDH+y0FPLiyHSQFMO2VlO6H9tRBAGydBAAAAAAMAN//yAfkC7wAaAC8AOAAAEzIXNTQmIgYVIzQ2MzIXFhURIycGIyInJjQ2EzI3FwYGIyImJyYjIgcnNjYzMhYWEyYjIhUUFjI2/TpMKV0ygXVpliwPZwkvYV40MGrPIBUyCzkgEiMaLRAjGC8MOSYbSBkfOzNgLGE/ARwTMDMxJSJTSmkkMf7LQU8uLIdJAaIxITZFDg0XMhw9QyUM/gAQQBsnQQAAAAQAN//yAfkC6gAaACMALQA3AAATMhc1NCYiBhUjNDYzMhcWFREjJwYjIicmNDYXJiMiFRQWMjYCJjQ2MzIWFAYjNzQ2MhYVFAYiJv06TCldMoF1aZYsD2cJL2FeNDBq4jszYCxhP9cnJx8fKCgfeyg9KCg9KAEcEzAzMSUiU0ppJDH+y0FPLiyHSV4QQBsnQQHYJTkmJjklQh0mJh0dJCQAAAAAAwAv//IB4gMGABgAHAAkAAAAFhQHIRYWMzI3MwYHBiMiJyY1NDc2MzIXAQUHJRMiBgczNCcmAckZBP7GAjY3SQ53DDc5UmBBQ0NAYWU4/uoBCx7+6aQyOAXPMhMBjFRGHDtKQEkqLEZJcnVHREcBWoRKaP71QTNPGwoAAAMAL//yAeIDBgAYABwAIgAAJQYjIiYnITY0JicmIyIHBhUUFxYzMjc2NwMFJyUDIzY2MhYBag5JNzYCAToEGRk4ZWFAQ0NBYFI5Nww9/ukeAQsGzwU4ZC6RQEo7HEZUIEdER3VySUYsKkkCD2hKhP4bM0FBAAAAAAMANv/yAekDEwAYAB4AJgAAABYUByEWFjMyNzMGBwYjIicmNTQ3NjMyFzcHJwcnNxMiBgczNCcmAdAZBP7GAjY3SQ53DDc5UmBBQ0NAYWU3KkuFhkvRCzI4Bc8zEgGMVEYcO0pASSosRklydUdER8Y7ZWU7of6CQTNPGwoAAAAABAAv//IB4gLqABgAIAAqADQAAAAWFAchFhYzMjczBgcGIyInJjU0NzYzMhcHIgYHMzQnLgI0NjMyFhQGIzc0NjIWFRQGIiYByRkE/sYCNjdJDncMNzlSYEFDQ0BhZTicMjgFzzITpScnHx8oKB97KD0oKD0oAYxURhw7SkBJKixGSXJ1R0RHF0EzTxsK0CU5JiY5JUIdJiYdHSQkAAAAAAIACAAAAT0C/AADAAcAABMzESMDBQclZ3Z2NQELHv7pAef+GQL8hEpoAAAAAgAHAAABPAL8AAMABwAAMzMRIzcFJyVndnbV/ukeAQsB569oSoQAAAL/0QAAAXIDCQADAAkAABMzESMBBycHJzdndnYBC0uFhkvRAef+GQJoO2VlO6EAAAP/+wAAAUkC6gADAA0AFwAAEzMRIwImNDYzMhYUBiM3NDYyFhUUBiImZ3Z2RScnHx8oKB97KD0oKD0oAef+GQJlJTkmJjklQh0mJh0dJCQAAgBdAAACIALvABEAJgAAASIHJyMRMzU2NjIWFREzETQmJzI3FwYGIyImJyYjIgcnNjYzMhYWAWtqMA1ndgJDXjR2W0UgFTILOSASIxotECMYLww5JhtIGQHzYVT+GuFUVDc2/uQBHGF2yzEhNkUODRcyHD1DJQwAAwAv//ICBwL8ABAAGQAdAAABMhYXFhUUBwYjIicmNTQ3NhYmIgYUFjMyNgMFByUBHDFWH0VFPmhoQEVFP948a0Q9NTVE5QELHv7pAfMfIEZ8ekZAQEV7fUU/s01Nmk1NAlaESmgAAAADAC//8gIHAvwAEAAZAB0AAAEiBgcGFRQXFjMyNzY1NCcmBjYyFhQGIyImAQUnJQEcMlYgRUVAaGg+RUU+3kRrPEQ1NT0BEP7pHgELAfMfIEV9e0VAQEZ6fEY/s01Nmk1NAfBoSoQAAAMAL//yAgcDCQAQABkAHwAAATIWFxYVFAcGIyInJjU0NzYWJiIGFBYzMjYTBycHJzcBHDFWH0VFPmhoQEVFP948a0Q9NTVEW0uFhkvRAfMfIEZ8ekZAQEV7fUU/s01Nmk1NAcI7ZWU7oQAAAAMAL//yAgcC7wAQABkALgAAASIGBwYVFBcWMzI3NjU0JyYGNjIWFAYjIiYTMjcXBgYjIiYnJiMiByc2NjMyFhYBHDJWIEVFQGhoPkVFPt5EazxENTU9uyAVMgs5IBIjGywQIxgvDDkmG0gZAfMfIEV9e0VAQEZ6fEY/s01Nmk1NAhgxITZFDg0XMhw9QyUMAAQAL//yAgcC6gAQABkAIwAtAAABMhYXFhUUBwYjIicmNTQ3NhYmIgYUFjMyNgImNDYzMhYUBiM3NDYyFhUUBiImARwxVh9FRT5oaEBFRT/ePGtEPTU1RPUnJx8fKCgfeyg9KCg9KAHzHyBGfHpGQEBFe31FP7NNTZpNTQG/JTkmJjklQh0mJh0dJCQAAgBT//cCFgMQABQAGAAAJQYjIicmNREzERQWMjY3Njc1MxEjAwUHJQGgLmaBKQ92LkMuESUCdnbXAQse/ulYYWUjMgE2/tYwLxMTK0jw/hkDEIRKaAAAAAIAU//3AhYDEAATABcAAAUyNxUzESMVFAcGIiY1ESMRFBcWAQUnJQEMZi52diYiYS52NS8BHP7pHgELCWFYAefoTSwoLzABKv7KXjErArNoSoQAAAIAU//3AhYDHQAUABoAACUGIyInJjURMxEUFjI2NzY3NTMRIxMHJwcnNwGgLmaBKQ92LkMuESUCdnZpS4WGS9FYYWUjMgE2/tYwLxMTK0jw/hkCfDtlZTuhAAAAAwBT//cCFgLqABQAHgAoAAAlBiMiJyY1ETMRFBYyNjc2NzUzESMCJjQ2MzIWFAYjNzQ2MhYVFAYiJgGgLmaBKQ92LkMuESUCdnbnJycfHygoH3soPSgoPShYYWUjMgE2/tYwLxMTK0jw/hkCZSU5JiY5JUIdJiYdHSQkAAEAXQAAANMB5wADAAATMxEjXXZ2Aef+GQAAAAABACQBgADtApAADgAAEiY0NjIWFRQHBgcnNjY3ZCcuUDJCFRpYITMIAggjOyo+LUk8Ew0sESocAAEAGAK1AbkDkQAFAAABBycHJzcBuUuFhkvRAvA7ZWU7oQAAAAEAFwLbAXEDdwAUAAABMjcXBgYjIiYnJiMiByc2NjMyFhYBCiAVMgs5IBIjGi0QIxgvDDkmG0gZA0YxITZFDg0XMhw9QyUMAAEANwD6AdYBYQADAAATIRUhNwGf/mEBYWcAAAABADcA+gLKAWEAAwAAEyEVITcCk/1tAWFnAAAAAQAkAXsA7gKMAAsAABIGIiY0NjcXBgcWFtQtUDNBNlNNEBwnAaUqP11aGy4kMwUiAAAAAAEAHQF7AOYCjAALAAASNjIWFAYHJzY3JiY2Lk8zQTZSTRAdJwJjKT9dWhstJzEFIgAAAAABAFMAAAIjAokAGgAAEyEVIxYXMxUjBgYHBSMnNTM2NjcjNTMmJiMjUwHQtjwPa2gHXmMBBab/TUlLCOnlC05HRQKJQiQ6Q0BbD/z2QwI8L0MqNAABAE8A+gGrAWEAAwAAARUhNQGr/qQBYWdnAAAAAgAv//ICCgJHAA8AFAAAATIXFhUUBwYjIicmNTQ3NhIQIyIQAR1qQUJCQGtrQENDQeJ4dwJHTU+OjlBNTVGNjVBN/hYBgP6AAAAAAAEAKgAAAQcCOwAIAAATNjczESMRBgcqSjpZdjA3AgYJLP3FAa4YAgABADwAAAIVAkcAHwAAASIHIzY3NjMyFxYUBgcHBgYVFSEVITU0NzY3NzY2NCYBOWUKgwJCP2liPz1PWGkqJQFj/icmJVFfNy00AeBQWjAtNDKUURYaCyMaGGxiUy0qFBcOLUIsAAAAAAEAFP+JAgsCRwAnAAABFAcWFhQGBwYjIicmNTMWFjI2NCYjIzUzMjY0JiIGByM2NzYyFhcWAfVpPUIkIUduakZNeARKcUlIQkM9OUI6YT8GfhGCKmdVHj0Bl2QpF2BrShs6NDlpPDZAYUFdMVQzLSmQHwobGDAAAAIAEv+UAkICPgAKAA0AAAERMxUjFSM1ITUBAzMRAdJwcHf+twFMys0CPv5ZZp2dWQG0/kwBBwAAAQA5/4kCGQJFAB0AAAEVIQc2MhYXFhUUBwYjIicmNTMUFjMyNzY0JiMjEwH3/u8PLWVUHj5JR21gPkV1PjM4JiZHSbgfAkVsnAwfHDphZUNCNjtiMzQjInE+AVwAAAAAAgAv//ICLgKWACEALAAAASYmIgYHBhUUFzY3NjMyFxYVFAcGIyInJjU0NzYzMhcWFwQGFRQWMjY1NCcmAakFLlE9FiwDCzYvRlo7OkFBaXpNTU1LgWI8PQT+7EFBX0IiHwHXJy0jIUR0KxZWKCI6OFxcOTlcXI+mXVo0NVaqOS8vNzcvLx4bAAEAGP+YAeACRwAGAAABFQEjASE1AeD+1JABQ/6xAkdm/bcCSGcAAAADADH/8gJWApYAGgAnADMAAAAWFRQGBxYXFhUUBwYjIicmNTQ2NyYnJjU0NhMGBwYUFhcWMjY0JicnFzI3NjQmIyIHBhQBrZJDP1MgJkhLgHtMS1VCVx8Lg2VbIAkYFSiRSyUglEswJCNIOjglJQKWaVExTQshIig8UzM0NjRTPUsIKkMZIFJf/oAGNA8oIgwYJzkjDawdGBhOLxUVSwAAAgA1/4kCMwJHACAAKwAAATIWFxYVFAcGIyInJjUzFhYzMjY1NCcGBiMiJyY1NDc2FyIGFBYzMjY1NCYBKDxnI0VLSHxjQUJ8AzUyT0oECl9CXD4/QUJnNTs8NTU8PQJHOzBijaVhXjk5Wy4zi3YlIktPOztaXTs8Zz5gPkAvLz4AAAAAAAAWAQ4AAQAAAAAAAABtAAAAAQAAAAAAAQAFAG0AAQAAAAAAAgAEAHIAAQAAAAAAAwAnAHYAAQAAAAAABAAKAJ0AAQAAAAAABQANAKcAAQAAAAAABgAKALQAAQAAAAAACQAQAL4AAQAAAAAADAAOAM4AAQAAAAAADQBMANwAAQAAAAAADgAaASgAAwABBAkAAADaAUIAAwABBAkAAQAKAhwAAwABBAkAAgAIAiYAAwABBAkAAwBOAi4AAwABBAkABAAUAnwAAwABBAkABQAaApAAAwABBAkABgAUAqoAAwABBAkACQAgAr4AAwABBAkADAAcAt4AAwABBAkADQCYAvoAAwABBAkADgA0A5JDb3B5cmlnaHQgKGMpIDIwMTEtMjAxMiwgSm9uYXRoYW4gUGluaG9ybiAoam9ucGluaG9ybi50eXBlZGVzaWduQGdtYWlsLmNvbSksIHdpdGggUmVzZXJ2ZWQgRm9udCBOYW1lcyAnS2FybGEnS2FybGFCb2xkRm9udEZvcmdlIDIuMCA6IEthcmxhIEJvbGQgOiAxMy0xMC0yMDExS2FybGEgQm9sZFZlcnNpb24gMS4wMDBLYXJsYS1Cb2xkSm9uYXRoYW4gUGluaG9ybmpvbnBpbmhvcm4uY29tVGhpcyBGb250IFNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBTSUwgT3BlbiBGb250IExpY2Vuc2UsIFZlcnNpb24gMS4xLmh0dHA6Ly9zY3JpcHRzLnNpbC5vcmcvT0ZMAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMQAxAC0AMgAwADEAMgAsACAASgBvAG4AYQB0AGgAYQBuACAAUABpAG4AaABvAHIAbgAgACgAagBvAG4AcABpAG4AaABvAHIAbgAuAHQAeQBwAGUAZABlAHMAaQBnAG4AQABnAG0AYQBpAGwALgBjAG8AbQApACwAIAB3AGkAdABoACAAUgBlAHMAZQByAHYAZQBkACAARgBvAG4AdAAgAE4AYQBtAGUAcwAgACcASwBhAHIAbABhACcASwBhAHIAbABhAEIAbwBsAGQARgBvAG4AdABGAG8AcgBnAGUAIAAyAC4AMAAgADoAIABLAGEAcgBsAGEAIABCAG8AbABkACAAOgAgADEAMwAtADEAMAAtADIAMAAxADEASwBhAHIAbABhACAAQgBvAGwAZABWAGUAcgBzAGkAbwBuACAAMQAuADAAMAAwAEsAYQByAGwAYQAtAEIAbwBsAGQASgBvAG4AYQB0AGgAYQBuACAAUABpAG4AaABvAHIAbgBqAG8AbgBwAGkAbgBoAG8AcgBuAC4AYwBvAG0AVABoAGkAcwAgAEYAbwBuAHQAIABTAG8AZgB0AHcAYQByAGUAIABpAHMAIABsAGkAYwBlAG4AcwBlAGQAIAB1AG4AZABlAHIAIAB0AGgAZQAgAFMASQBMACAATwBwAGUAbgAgAEYAbwBuAHQAIABMAGkAYwBlAG4AcwBlACwAIABWAGUAcgBzAGkAbwBuACAAMQAuADEALgBoAHQAdABwADoALwAvAHMAYwByAGkAcAB0AHMALgBzAGkAbAAuAG8AcgBnAC8ATwBGAEwAAgAAAAAAAP+1ADIAAAAAAAAAAAAAAAAAAAAAAAAAAACnAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgACEAIgAjACQAJQAmACcAKAApACoAKwAsAC0ALgAvADAAMQAyADMANAA1ADYANwA4ADkAOgA7ADwAPQA+AD8AQABBAEIAQwBEAEUARgBHAEgASQBKAEsATABNAE4ATwBQAFEAUgBTAFQAVQBWAFcAWABZAFoAWwBcAF0AXgBfAGAAYQCFAI4AjQCtAMkAxwCuAGIAywBlAMgAygDPAMwAzQDOAGYA0wDQANEArwBnANYA1ADVAGgAagBpAGsAbQBsAHEAcAByAHMAdQB0AHYAdwB4AHoAeQB7AH0AfAB/AH4AgACBANcBAgDYANkAsgCzALYAtwEDAO8BBAEFAQYBBwEIAQkBCgELAQwBDQphcG9zdHJvcGhlC3J1cGVlc3ltYm9sDHplcm8ucHJvcG9sZAtvbmUucHJvcG9sZAt0d28ucHJvcG9sZA10aHJlZS5wcm9wb2xkDGZvdXIucHJvcG9sZAxmaXZlLnByb3BvbGQLc2l4LnByb3BvbGQNc2V2ZW4ucHJvcG9sZA1laWdodC5wcm9wb2xkDG5pbmUucHJvcG9sZAAAAAABAAH//wAPAAAAAQAAAADJiW8xAAAAAMoVHTAAAAAAyrqYkQABAAAADAAAABYAHgACAAEAAQCmAAEABAAAAAEAAAACAAEAAAAAAAAAAQAAAAoAHgAsAAFsYXRuAAgABAAAAAD//wABAAAAAWtlcm4ACAAAAAEAAAABAAQAAgAAAAEACAABAFIABAAAACQAmAC6AMABBgEoAS4BNAE6AUABkgHIAf4CBAJuAoACjgKcAqoCxALOAtgC3gLsAvYDAAMSAxwDKgM4A1IDWANiA3gDigOUA6oAAgALACQAJAAAACcAJwABACkAKQACAC8ALwADADIANAAEADYANwAHADkAPAAJAEQARgANAEgASwAQAE0ATgAUAFAAXQAWAAgAN//TADn/4AA6/+AAPP/kAEn/9ABZ/+wAWv/oAFz/8QABADz/3AARACT/vwA6//wAO//4ADz//ABE/+gARv/gAEf/6ABI/+AASv/YAFL/4ABU/+AAWP/oAFn/5ABa/9wAW//gAFz/7ABd/+gACAAtAAgAN//EADn/ywA6/84APP+zAFn/6ABa/+gAXP/xAAEAO//oAAEAJP/XAAEAPP/sAAEAPP/kABQAJP/TAC3/swBE/6EARv+tAEf/pQBI/60ASf/HAEr/rQBQ/60AUf+tAFL/pQBT/60AVP+tAFX/qwBW/58AWP+tAFn/twBb/78AXP+6AF3/vAANACT/1wAm//AALf+zAET/1wBG/9cAR//XAEj/1wBJ/9MASv/PAFL/1wBU/9oAVf/gAFb/1wANACT/1wAt/7MARP/XAEb/1wBH/9cASP/XAEn/0wBK/88AUv/XAFT/1wBV/9cAVv/TAFj/4AABADL/6AAaACT/swAm/+AAK//wAC3/mwA0/+wANv/gAET/twBG/68AR/+vAEj/rwBJ/7sASv+vAFD/rwBR/68AUv+vAFP/rwBU/68AVf+vAFb/rwBX/9AAWP+rAFn/ywBa/8sAW//HAFz/vwBd/68ABAA3/68AOf/QADr/4AA8/8cAAwA3/+QAOf/aADz/4AADADf/yQA5/+AAPP/XAAMAN//JADn/6AA8/9oABgAk/+wALf/TAEb/+ABK//AATf/4AFb/9AACAE0ASQBcAA8AAgA3//AAPP/YAAEASf/sAAMASf/4AE3//ABc//sAAgA3/+0APP/fAAIAN//dADz/3wAEADf/tQA5/9cAOv/XADz/rwACADf/wQA8/9wAAwA3/70APP/TAE0ATQADAC3/0wA3/+cASv/4AAYAN/+vADn/4AA6/9wAPP+/AEn/7ABc//EAAQA8/9AAAgA3/8sAPP/PAAUAJP/oAC3/0wA3/88APP/LAEr//AAEACT/4AAt/98AN//kADz/5AACADf/3wA8/88ABQAk//QALf/oADf/1wA8/+AASv/8AAIAN//0ADz/3wABAAAACgAeACwAAWxhdG4ACAAEAAAAAP//AAEAAAABb251bQAIAAAAAQAAAAEABAABAAAAAQAIAAEABgCKAAIAAQATABwAAAAAAAEAAAAA")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(31),a=n(164),s=n(216),u=(r=s)&&r.__esModule?r:{default:r};var l={primary:o.colors.blue,primaryLight:o.colors.blueLight,primaryDark:o.colors.blueDark};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.primary,r=void 0===n?{}:n,s=e.secondary,c=void 0===s?{}:s,p=i({},l,t);a.fonts.primary.regular=r.regular||"",a.fonts.primary.bold=r.bold||"",a.fonts.secondary.regular=c.regular||"",a.fonts.secondary.bold=c.bold||"",o.colors.primary=p.primary,o.colors.primaryLight=p.primaryLight,o.colors.primaryDark=p.primaryDark,(0,u.default)("\n  * {\n    margin: 0;\n    outline: none;\n    padding: 0;\n  }\n")}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(427);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=s(n(16)),a=s(n(426));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.fontOpts,n=e.colorOpts;window.__REACT_ELEMENTAL_BOOTSTRAPPED__||((0,a.default)(t,n),window.__REACT_ELEMENTAL_BOOTSTRAPPED__=!0)}},{key:"render",value:function(){return this.props.children}}]),t}();u.propTypes={fontOpts:o.default.shape({primary:o.default.shape({regular:o.default.string,bold:o.default.string}),secondary:o.default.shape({regular:o.default.string,bold:o.default.string})}),colorOpts:o.default.shape({primary:o.default.string,primaryLight:o.default.string,primaryDark:o.default.string}),children:o.default.node.isRequired},u.defaultProps={fontOpts:{},colorOpts:{}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o,a=n(430),s=(i=a)&&i.__esModule?i:{default:i};o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,s.default)(o);t.default=u}).call(this,n(32),n(431)(e))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(433);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(436);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(56),i=n(76),o=n(438);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,l=0,c=[],p=n(440);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(m(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function d(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function y(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),d(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function m(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=u||(u=y(t)),r=b.bind(null,n,a,!1),i=b.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=p(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&f(h(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete o[s.id]}}}};var _,A=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function b(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=A(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){(e.exports=n(442)(!1)).push([e.i,".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-missing-css{display:none}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-nav-compass{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-nav-compass:active{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan{-ms-touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;-moz-box-shadow:0 0 2px rgba(0,0,0,.1);-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1);overflow:hidden;background:#fff}.mapboxgl-ctrl-group>button{width:30px;height:30px;display:block;padding:0;outline:none;border:none;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group>button+button{border-top:1px solid #ddd}.mapboxgl-ctrl>button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl>button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-icon,.mapboxgl-ctrl-icon>.mapboxgl-ctrl-compass-arrow{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.mapboxgl-ctrl-icon{padding:5px}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27m%207%2C9%20c%20-0.554%2C0%20-1%2C0.446%20-1%2C1%200%2C0.554%200.446%2C1%201%2C1%20l%206%2C0%20c%200.554%2C0%201%2C-0.446%201%2C-1%200%2C-0.554%20-0.446%2C-1%20-1%2C-1%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27M%2010%206%20C%209.446%206%209%206.4459904%209%207%20L%209%209%20L%207%209%20C%206.446%209%206%209.446%206%2010%20C%206%2010.554%206.446%2011%207%2011%20L%209%2011%20L%209%2013%20C%209%2013.55401%209.446%2014%2010%2014%20C%2010.554%2014%2011%2013.55401%2011%2013%20L%2011%2011%20L%2013%2011%20C%2013.554%2011%2014%2010.554%2014%2010%20C%2014%209.446%2013.554%209%2013%209%20L%2011%209%20L%2011%207%20C%2011%206.4459904%2010.554%206%2010%206%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zm0 1.8A1.8 1.8 0 0 0 8.3 10a1.8 1.8 0 0 0 1.7 1.8 1.8 1.8 0 0 0 1.8-1.8A1.8 1.8 0 0 0 10 8.3z' fill='%23333'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zm0 1.8A1.8 1.8 0 0 0 8.3 10a1.8 1.8 0 0 0 1.7 1.8 1.8 1.8 0 0 0 1.8-1.8A1.8 1.8 0 0 0 10 8.3z' fill='%23aaa'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zm0 1.8A1.8 1.8 0 0 0 8.3 10a1.8 1.8 0 0 0 1.7 1.8 1.8 1.8 0 0 0 1.8-1.8A1.8 1.8 0 0 0 10 8.3z' fill='%2333b5e5'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zm0 1.8A1.8 1.8 0 0 0 8.3 10a1.8 1.8 0 0 0 1.7 1.8 1.8 1.8 0 0 0 1.8-1.8A1.8 1.8 0 0 0 10 8.3z' fill='%23e58978'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7z' fill='%2333b5e5'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7z' fill='%23e54e33'/%3E%3C/svg%3E\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting{-webkit-animation:mapboxgl-spin 2s infinite linear;-moz-animation:mapboxgl-spin 2s infinite linear;-o-animation:mapboxgl-spin 2s infinite linear;-ms-animation:mapboxgl-spin 2s infinite linear;animation:mapboxgl-spin 2s infinite linear}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@-moz-keyframes mapboxgl-spin{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(1turn)}}@-o-keyframes mapboxgl-spin{0%{-o-transform:rotate(0deg)}to{-o-transform:rotate(1turn)}}@-ms-keyframes mapboxgl-spin{0%{-ms-transform:rotate(0deg)}to{-ms-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen{background-image:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZnVsbHNjcmVlbi5zdmciPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQxODUiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM0MTgzIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTQ3MSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI2OTUiCiAgICAgaWQ9Im5hbWVkdmlldzQxODEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjExLjMxMzcwOCIKICAgICBpbmtzY2FwZTpjeD0iMTQuNjk4MjgiCiAgICAgaW5rc2NhcGU6Y3k9IjEwLjUyNjY4OSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNjk3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyOTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNjA3NiIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIGQ9Ik0gNSA0IEMgNC41IDQgNCA0LjUgNCA1IEwgNCA2IEwgNCA5IEwgNC41IDkgTCA1Ljc3NzM0MzggNy4yOTY4NzUgQyA2Ljc3NzEzMTkgOC4wNjAyMTMxIDcuODM1NzY1IDguOTU2NTcyOCA4Ljg5MDYyNSAxMCBDIDcuODI1NzEyMSAxMS4wNjMzIDYuNzc2MTc5MSAxMS45NTE2NzUgNS43ODEyNSAxMi43MDcwMzEgTCA0LjUgMTEgTCA0IDExIEwgNCAxNSBDIDQgMTUuNSA0LjUgMTYgNSAxNiBMIDkgMTYgTCA5IDE1LjUgTCA3LjI3MzQzNzUgMTQuMjA1MDc4IEMgOC4wNDI4OTMxIDEzLjE4Nzg4NiA4LjkzOTU0NDEgMTIuMTMzNDgxIDkuOTYwOTM3NSAxMS4wNjgzNTkgQyAxMS4wNDIzNzEgMTIuMTQ2OTkgMTEuOTQyMDkzIDEzLjIxMTIgMTIuNzA3MDMxIDE0LjIxODc1IEwgMTEgMTUuNSBMIDExIDE2IEwgMTQgMTYgTCAxNSAxNiBDIDE1LjUgMTYgMTYgMTUuNSAxNiAxNSBMIDE2IDE0IEwgMTYgMTEgTCAxNS41IDExIEwgMTQuMjA1MDc4IDEyLjcyNjU2MiBDIDEzLjE3Nzk4NSAxMS45NDk2MTcgMTIuMTEyNzE4IDExLjA0MzU3NyAxMS4wMzcxMDkgMTAuMDA5NzY2IEMgMTIuMTUxODU2IDguOTgxMDYxIDEzLjIyNDM0NSA4LjA3OTg2MjQgMTQuMjI4NTE2IDcuMzA0Njg3NSBMIDE1LjUgOSBMIDE2IDkgTCAxNiA1IEMgMTYgNC41IDE1LjUgNCAxNSA0IEwgMTEgNCBMIDExIDQuNSBMIDEyLjcwMzEyNSA1Ljc3NzM0MzggQyAxMS45MzI2NDcgNi43ODY0ODM0IDExLjAyNjY5MyA3Ljg1NTQ3MTIgOS45NzA3MDMxIDguOTE5OTIxOSBDIDguOTU4NDczOSA3LjgyMDQ5NDMgOC4wNjk4NzY3IDYuNzYyNzE4OCA3LjMwNDY4NzUgNS43NzE0ODQ0IEwgOSA0LjUgTCA5IDQgTCA2IDQgTCA1IDQgeiAiCiAgICAgaWQ9InBhdGg0MTY5IiAvPjwvc3ZnPg==\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink{background-image:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ic2hyaW5rLnN2ZyI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTkiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnMxNyIgLz48c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjIwMjEiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTA4IgogICAgIGlkPSJuYW1lZHZpZXcxNSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMSIKICAgICBpbmtzY2FwZTpjeD0iNC45NTAxMDgyIgogICAgIGlua3NjYXBlOmN5PSIxMC44NTQ3NDciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1lZGdlLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNDE0NyIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIHN0eWxlPSJmaWxsOiMwMDAwMDAiCiAgICAgZD0iTSA0LjI0MjE4NzUgMy40OTIxODc1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMy43MTg3NSA0Ljc4MTI1IEwgNS45NjQ4NDM4IDcuMDI3MzQzOCBMIDQgOC41IEwgNCA5IEwgOCA5IEMgOC41MDAwMDEgOC45OTk5OTg4IDkgOC40OTk5OTkyIDkgOCBMIDkgNCBMIDguNSA0IEwgNy4wMTc1NzgxIDUuOTU1MDc4MSBMIDQuNzgxMjUgMy43MTg3NSBBIDAuNzUwMDc1IDAuNzUwMDc1IDAgMCAwIDQuMjQyMTg3NSAzLjQ5MjE4NzUgeiBNIDE1LjczNDM3NSAzLjQ5MjE4NzUgQSAwLjc1MDA3NSAwLjc1MDA3NSAwIDAgMCAxNS4yMTg3NSAzLjcxODc1IEwgMTIuOTg0Mzc1IDUuOTUzMTI1IEwgMTEuNSA0IEwgMTEgNCBMIDExIDggQyAxMSA4LjQ5OTk5OTIgMTEuNDk5OTk5IDguOTk5OTk4OCAxMiA5IEwgMTYgOSBMIDE2IDguNSBMIDE0LjAzNTE1NiA3LjAyNzM0MzggTCAxNi4yODEyNSA0Ljc4MTI1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMTUuNzM0Mzc1IDMuNDkyMTg3NSB6IE0gNCAxMSBMIDQgMTEuNSBMIDUuOTY0ODQzOCAxMi45NzI2NTYgTCAzLjcxODc1IDE1LjIxODc1IEEgMC43NTEzMDA5NiAwLjc1MTMwMDk2IDAgMSAwIDQuNzgxMjUgMTYuMjgxMjUgTCA3LjAyNzM0MzggMTQuMDM1MTU2IEwgOC41IDE2IEwgOSAxNiBMIDkgMTIgQyA5IDExLjUwMDAwMSA4LjUwMDAwMSAxMS4wMDAwMDEgOCAxMSBMIDQgMTEgeiBNIDEyIDExIEMgMTEuNDk5OTk5IDExLjAwMDAwMSAxMSAxMS41MDAwMDEgMTEgMTIgTCAxMSAxNiBMIDExLjUgMTYgTCAxMi45NzI2NTYgMTQuMDM1MTU2IEwgMTUuMjE4NzUgMTYuMjgxMjUgQSAwLjc1MTMwMDk2IDAuNzUxMzAwOTYgMCAxIDAgMTYuMjgxMjUgMTUuMjE4NzUgTCAxNC4wMzUxNTYgMTIuOTcyNjU2IEwgMTYgMTEuNSBMIDE2IDExIEwgMTIgMTEgeiAiCiAgICAgaWQ9InBhdGg3IiAvPjwvc3ZnPg==\")}.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass>.mapboxgl-ctrl-compass-arrow{width:20px;height:20px;margin:5px;background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2020%2020%27%3E%0A%09%3Cpolygon%20fill%3D%27%23333333%27%20points%3D%276%2C9%2010%2C1%2014%2C9%27%2F%3E%0A%09%3Cpolygon%20fill%3D%27%23CCCCCC%27%20points%3D%276%2C11%2010%2C19%2014%2C11%20%27%2F%3E%0A%3C%2Fsvg%3E\");background-repeat:no-repeat;display:inline-block}a.mapboxgl-ctrl-logo{width:85px;height:21px;margin:0 0 -3px -3px;display:block;background-repeat:no-repeat;cursor:pointer;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiAgIHZpZXdCb3g9IjAgMCA4NC40OSAyMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgODQuNDkgMjE7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48Zz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik04My4yNSwxNC4yNmMwLDAuMTItMC4wOSwwLjIxLTAuMjEsMC4yMWgtMS42MWMtMC4xMywwLTAuMjQtMC4wNi0wLjMtMC4xN2wtMS40NC0yLjM5bC0xLjQ0LDIuMzkgICAgYy0wLjA2LDAuMTEtMC4xOCwwLjE3LTAuMywwLjE3aC0xLjYxYy0wLjA0LDAtMC4wOC0wLjAxLTAuMTItMC4wM2MtMC4wOS0wLjA2LTAuMTMtMC4xOS0wLjA2LTAuMjhsMCwwbDIuNDMtMy42OEw3Ni4yLDYuODQgICAgYy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMmMwLTAuMTIsMC4wOS0wLjIxLDAuMjEtMC4yMWgxLjYxYzAuMTMsMCwwLjI0LDAuMDYsMC4zLDAuMTdsMS40MSwyLjM2bDEuNC0yLjM1ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3SDgzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMiwwLjAzYzAuMDksMC4wNiwwLjEzLDAuMTksMC4wNiwwLjI4bDAsMGwtMi4zNywzLjYzbDIuNDMsMy42NyAgICBDODMuMjQsMTQuMTgsODMuMjUsMTQuMjIsODMuMjUsMTQuMjZ6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNjYuMjQsOS41OWMtMC4zOS0xLjg4LTEuOTYtMy4yOC0zLjg0LTMuMjhjLTEuMDMsMC0yLjAzLDAuNDItMi43MywxLjE4VjMuNTFjMC0wLjEzLTAuMS0wLjIzLTAuMjMtMC4yM2gtMS40ICAgIGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MTAuNzJjMCwwLjEzLDAuMSwwLjIzLDAuMjMsMC4yM2gxLjRjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWMTMuNWMwLjcxLDAuNzUsMS43LDEuMTgsMi43MywxLjE4ICAgIGMxLjg4LDAsMy40NS0xLjQxLDMuODQtMy4yOUM2Ni4zNywxMC43OSw2Ni4zNywxMC4xOCw2Ni4yNCw5LjU5TDY2LjI0LDkuNTl6IE02Mi4wOCwxM2MtMS4zMiwwLTIuMzktMS4xMS0yLjQxLTIuNDh2LTAuMDYgICAgYzAuMDItMS4zOCwxLjA5LTIuNDgsMi40MS0yLjQ4czIuNDIsMS4xMiwyLjQyLDIuNTFTNjMuNDEsMTMsNjIuMDgsMTN6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNzEuNjcsNi4zMmMtMS45OC0wLjAxLTMuNzIsMS4zNS00LjE2LDMuMjljLTAuMTMsMC41OS0wLjEzLDEuMTksMCwxLjc3YzAuNDQsMS45NCwyLjE3LDMuMzIsNC4xNywzLjMgICAgYzIuMzUsMCw0LjI2LTEuODcsNC4yNi00LjE5Uzc0LjA0LDYuMzIsNzEuNjcsNi4zMnogTTcxLjY1LDEzLjAxYy0xLjMzLDAtMi40Mi0xLjEyLTIuNDItMi41MXMxLjA4LTIuNTIsMi40Mi0yLjUyICAgIGMxLjMzLDAsMi40MiwxLjEyLDIuNDIsMi41MVM3Mi45OSwxMyw3MS42NSwxMy4wMUw3MS42NSwxMy4wMXoiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik02Mi4wOCw3Ljk4Yy0xLjMyLDAtMi4zOSwxLjExLTIuNDEsMi40OHYwLjA2QzU5LjY4LDExLjksNjAuNzUsMTMsNjIuMDgsMTNzMi40Mi0xLjEyLDIuNDItMi41MSAgICBTNjMuNDEsNy45OCw2Mi4wOCw3Ljk4eiBNNjIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1ICAgIGMwLjYzLDAsMS4xNywwLjU3LDEuMTcsMS4yN0M2My4yNCwxMS4yLDYyLjczLDExLjc2LDYyLjA4LDExLjc2eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTcxLjY1LDcuOThjLTEuMzMsMC0yLjQyLDEuMTItMi40MiwyLjUxUzcwLjMyLDEzLDcxLjY1LDEzczIuNDItMS4xMiwyLjQyLTIuNTFTNzIuOTksNy45OCw3MS42NSw3Ljk4eiAgICAgTTcxLjY1LDExLjc2Yy0wLjY0LDAtMS4xNy0wLjU3LTEuMTctMS4yN2MwLTAuNywwLjUzLTEuMjYsMS4xNy0xLjI2czEuMTcsMC41NywxLjE3LDEuMjdDNzIuODIsMTEuMjEsNzIuMjksMTEuNzYsNzEuNjUsMTEuNzZ6IiAgICAvPiAgPHBhdGggY2xhc3M9InN0MCIgc3R5bGU9Im9wYWNpdHk6MC45OyBmaWxsOiAjRkZGRkZGOyBlbmFibGUtYmFja2dyb3VuZDogbmV3OyIgZD0iTTQ1Ljc0LDYuNTNoLTEuNGMtMC4xMywwLTAuMjMsMC4xMS0wLjIzLDAuMjN2MC43M2MtMC43MS0wLjc1LTEuNy0xLjE4LTIuNzMtMS4xOCAgICBjLTIuMTcsMC0zLjk0LDEuODctMy45NCw0LjE5czEuNzcsNC4xOSwzLjk0LDQuMTljMS4wNCwwLDIuMDMtMC40MywyLjczLTEuMTl2MC43M2MwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNCAgICBjMC4xMywwLDAuMjMtMC4xMSwwLjIzLTAuMjNWNi43NGMwLTAuMTItMC4wOS0wLjIyLTAuMjItMC4yMkM0NS43NSw2LjUzLDQ1Ljc1LDYuNTMsNDUuNzQsNi41M3ogTTQ0LjEyLDEwLjUzICAgIEM0NC4xMSwxMS45LDQzLjAzLDEzLDQxLjcxLDEzcy0yLjQyLTEuMTItMi40Mi0yLjUxczEuMDgtMi41MiwyLjQtMi41MmMxLjMzLDAsMi4zOSwxLjExLDIuNDEsMi40OEw0NC4xMiwxMC41M3oiLz4gIDxwYXRoIGNsYXNzPSJzdDEiIHN0eWxlPSJvcGFjaXR5OjAuMzU7IGVuYWJsZS1iYWNrZ3JvdW5kOm5ldzsiIGQ9Ik00MS43MSw3Ljk4Yy0xLjMzLDAtMi40MiwxLjEyLTIuNDIsMi41MVM0MC4zNywxMyw0MS43MSwxM3MyLjM5LTEuMTEsMi40MS0yLjQ4di0wLjA2ICAgIEM0NC4xLDkuMDksNDMuMDMsNy45OCw0MS43MSw3Ljk4eiBNNDAuNTUsMTAuNDljMC0wLjcsMC41Mi0xLjI3LDEuMTctMS4yN2MwLjY0LDAsMS4xNCwwLjU2LDEuMTcsMS4yNXYwLjA0ICAgIGMtMC4wMSwwLjY4LTAuNTMsMS4yNC0xLjE3LDEuMjRDNDEuMDgsMTEuNzUsNDAuNTUsMTEuMTksNDAuNTUsMTAuNDl6Ii8+ICA8cGF0aCBjbGFzcz0ic3QwIiBzdHlsZT0ib3BhY2l0eTowLjk7IGZpbGw6ICNGRkZGRkY7IGVuYWJsZS1iYWNrZ3JvdW5kOiBuZXc7IiBkPSJNNTIuNDEsNi4zMmMtMS4wMywwLTIuMDMsMC40Mi0yLjczLDEuMThWNi43NWMwLTAuMTMtMC4xLTAuMjMtMC4yMy0wLjIzaC0xLjRjLTAuMTMsMC0wLjIzLDAuMTEtMC4yMywwLjIzICAgIHYxMC43MmMwLDAuMTMsMC4xLDAuMjMsMC4yMywwLjIzaDEuNGMwLjEzLDAsMC4yMy0wLjEsMC4yMy0wLjIzVjEzLjVjMC43MSwwLjc1LDEuNywxLjE4LDIuNzQsMS4xOGMyLjE3LDAsMy45NC0xLjg3LDMuOTQtNC4xOSAgICBTNTQuNTgsNi4zMiw1Mi40MSw2LjMyeiBNNTIuMDgsMTMuMDFjLTEuMzIsMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0wLjA3YzAuMDItMS4zOCwxLjA5LTIuNDksMi40LTIuNDljMS4zMiwwLDIuNDEsMS4xMiwyLjQxLDIuNTEgICAgUzUzLjQsMTMsNTIuMDgsMTMuMDFMNTIuMDgsMTMuMDF6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNNTIuMDgsNy45OGMtMS4zMiwwLTIuMzksMS4xMS0yLjQyLDIuNDh2MC4wNmMwLjAzLDEuMzgsMS4xLDIuNDgsMi40MiwyLjQ4czIuNDEtMS4xMiwyLjQxLTIuNTEgICAgUzUzLjQsNy45OCw1Mi4wOCw3Ljk4eiBNNTIuMDgsMTEuNzZjLTAuNjMsMC0xLjE0LTAuNTYtMS4xNy0xLjI1di0wLjA0YzAuMDEtMC42OSwwLjU0LTEuMjUsMS4xNy0xLjI1YzAuNjMsMCwxLjE3LDAuNTgsMS4xNywxLjI3ICAgIFM1Mi43MiwxMS43Niw1Mi4wOCwxMS43NnoiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0zNi4wOCwxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjQxYy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1Y5LjY4YzAtMC45OC0wLjc0LTEuNzEtMS42Mi0xLjcxICAgIGMtMC44LDAtMS40NiwwLjctMS41OSwxLjYybDAuMDEsNC42NmMwLDAuMTMtMC4xMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWNi43NCAgICBjMC4wMS0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjIsMC4xMSwwLjIzLDAuMjJWNy40YzAuNS0wLjY4LDEuMy0xLjA5LDIuMTYtMS4xaDAuMDNjMS4wOSwwLDIuMDksMC42LDIuNiwxLjU1ICAgIGMwLjQ1LTAuOTUsMS40LTEuNTUsMi40NC0xLjU2YzEuNjIsMCwyLjkzLDEuMjUsMi45LDIuNzhMMzYuMDgsMTQuMjR6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNODQuMzQsMTMuNTlsLTAuMDctMC4xM2wtMS45Ni0yLjk5bDEuOTQtMi45NWMwLjQ0LTAuNjcsMC4yNi0xLjU2LTAuNDEtMi4wMmMtMC4wMiwwLTAuMDMsMC0wLjA0LTAuMDEgICAgYy0wLjIzLTAuMTUtMC41LTAuMjItMC43OC0wLjIyaC0xLjYxYy0wLjU2LDAtMS4wOCwwLjI5LTEuMzcsMC43OEw3OS43Miw2LjZsLTAuMzQtMC41NkM3OS4wOSw1LjU2LDc4LjU3LDUuMjcsNzgsNS4yN2gtMS42ICAgIGMtMC42LDAtMS4xMywwLjM3LTEuMzUsMC45MmMtMi4xOS0xLjY2LTUuMjgtMS40Ny03LjI2LDAuNDVjLTAuMzUsMC4zNC0wLjY1LDAuNzItMC44OSwxLjE0Yy0wLjktMS42Mi0yLjU4LTIuNzItNC41LTIuNzIgICAgYy0wLjUsMC0xLjAxLDAuMDctMS40OCwwLjIzVjMuNTFjMC0wLjgyLTAuNjYtMS40OC0xLjQ3LTEuNDhoLTEuNGMtMC44MSwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2My43NSAgICBjLTAuOTUtMS4zNi0yLjUtMi4xOC00LjE3LTIuMTljLTAuNzQsMC0xLjQ2LDAuMTYtMi4xMiwwLjQ3Yy0wLjI0LTAuMTctMC41NC0wLjI2LTAuODQtMC4yNmgtMS40Yy0wLjQ1LDAtMC44NywwLjIxLTEuMTUsMC41NiAgICBjLTAuMDItMC4wMy0wLjA0LTAuMDUtMC4wNy0wLjA4Yy0wLjI4LTAuMy0wLjY4LTAuNDctMS4wOS0wLjQ3aC0xLjM5Yy0wLjMsMC0wLjYsMC4wOS0wLjg0LDAuMjZjLTAuNjctMC4zLTEuMzktMC40Ni0yLjEyLTAuNDYgICAgYy0xLjgzLDAtMy40MywxLTQuMzcsMi41Yy0wLjItMC40Ni0wLjQ4LTAuODktMC44My0xLjI1Yy0wLjgtMC44MS0xLjg5LTEuMjUtMy4wMi0xLjI1aC0wLjAxYy0wLjg5LDAuMDEtMS43NSwwLjMzLTIuNDYsMC44OCAgICBjLTAuNzQtMC41Ny0xLjY0LTAuODgtMi41Ny0wLjg4SDI4LjFjLTAuMjksMC0wLjU4LDAuMDMtMC44NiwwLjExYy0wLjI4LDAuMDYtMC41NiwwLjE2LTAuODIsMC4yOGMtMC4yMS0wLjEyLTAuNDUtMC4xOC0wLjctMC4xOCAgICBoLTEuNGMtMC44MiwwLTEuNDcsMC42Ni0xLjQ3LDEuNDd2Ny41YzAsMC44MiwwLjY2LDEuNDcsMS40NywxLjQ3aDEuNGMwLjgyLDAsMS40OC0wLjY2LDEuNDgtMS40OGwwLDBWOS43OSAgICBjMC4wMy0wLjM2LDAuMjMtMC41OSwwLjM2LTAuNTljMC4xOCwwLDAuMzgsMC4xOCwwLjM4LDAuNDd2NC41N2MwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjQxYzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3ICAgIGwtMC4wMS00LjU3YzAuMDYtMC4zMiwwLjI1LTAuNDcsMC4zNS0wLjQ3YzAuMTgsMCwwLjM4LDAuMTgsMC4zOCwwLjQ3djQuNTdjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40MSAgICBjMC44MiwwLDEuNDctMC42NiwxLjQ3LTEuNDd2LTAuMzhjMC45NiwxLjI5LDIuNDYsMi4wNiw0LjA2LDIuMDZjMC43NCwwLDEuNDYtMC4xNiwyLjEyLTAuNDdjMC4yNCwwLjE3LDAuNTQsMC4yNiwwLjg0LDAuMjZoMS4zOSAgICBjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2djIuMDFjMCwwLjgyLDAuNjYsMS40NywxLjQ3LDEuNDdoMS40YzAuODIsMCwxLjQ3LTAuNjYsMS40Ny0xLjQ3di0xLjc3YzAuNDgsMC4xNSwwLjk5LDAuMjMsMS40OSwwLjIyICAgIGMxLjcsMCwzLjIyLTAuODcsNC4xNy0yLjJ2MC41MmMwLDAuODIsMC42NiwxLjQ3LDEuNDcsMS40N2gxLjRjMC4zLDAsMC42LTAuMDksMC44NC0wLjI2YzAuNjYsMC4zMSwxLjM5LDAuNDcsMi4xMiwwLjQ3ICAgIGMxLjkyLDAsMy42LTEuMSw0LjQ5LTIuNzNjMS41NCwyLjY1LDQuOTUsMy41Myw3LjU4LDEuOThjMC4xOC0wLjExLDAuMzYtMC4yMiwwLjUzLTAuMzZjMC4yMiwwLjU1LDAuNzYsMC45MSwxLjM1LDAuOUg3OCAgICBjMC41NiwwLDEuMDgtMC4yOSwxLjM3LTAuNzhsMC4zNy0wLjYxbDAuMzcsMC42MWMwLjI5LDAuNDgsMC44MSwwLjc4LDEuMzgsMC43OGgxLjZjMC44MSwwLDEuNDYtMC42NiwxLjQ1LTEuNDYgICAgQzg0LjQ5LDE0LjAyLDg0LjQ0LDEzLjgsODQuMzQsMTMuNTlMODQuMzQsMTMuNTl6IE0zNS44NiwxNC40N2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjNWOS42OCAgICBjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuOCwwLTEuNDYsMC43LTEuNTksMS42MmwwLjAxLDQuNjZjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40MWMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjkuNjhjMC0wLjk4LTAuNzQtMS43MS0xLjYyLTEuNzFjLTAuODUsMC0xLjU0LDAuNzktMS42LDEuOHY0LjQ4YzAsMC4xMy0wLjEsMC4yMy0wLjIzLDAuMjNoLTEuNGMtMC4xMywwLTAuMjMtMC4xMS0wLjIzLTAuMjMgICAgVjYuNzRjMC4wMS0wLjEzLDAuMTEtMC4yMiwwLjIzLTAuMjJoMS40YzAuMTMsMCwwLjIyLDAuMTEsMC4yMywwLjIyVjcuNGMwLjUtMC42OCwxLjMtMS4wOSwyLjE2LTEuMWgwLjAzICAgIGMxLjA5LDAsMi4wOSwwLjYsMi42LDEuNTVjMC40NS0wLjk1LDEuNC0xLjU1LDIuNDQtMS41NmMxLjYyLDAsMi45MywxLjI1LDIuOSwyLjc4bDAuMDEsNS4xNkMzNi4wOSwxNC4zNiwzNS45OCwxNC40NiwzNS44NiwxNC40NyAgICBMMzUuODYsMTQuNDd6IE00NS45NywxNC4yNGMwLDAuMTMtMC4xLDAuMjMtMC4yMywwLjIzaC0xLjRjLTAuMTMsMC0wLjIzLTAuMTEtMC4yMy0wLjIzVjEzLjVjLTAuNywwLjc2LTEuNjksMS4xOC0yLjcyLDEuMTggICAgYy0yLjE3LDAtMy45NC0xLjg3LTMuOTQtNC4xOXMxLjc3LTQuMTksMy45NC00LjE5YzEuMDMsMCwyLjAyLDAuNDMsMi43MywxLjE4VjYuNzRjMC0wLjEzLDAuMS0wLjIzLDAuMjMtMC4yM2gxLjQgICAgYzAuMTItMC4wMSwwLjIyLDAuMDgsMC4yMywwLjIxYzAsMC4wMSwwLDAuMDEsMCwwLjAydjcuNTFoLTAuMDFWMTQuMjR6IE01Mi40MSwxNC42N2MtMS4wMywwLTIuMDItMC40My0yLjczLTEuMTh2My45NyAgICBjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjEtMC4yMy0wLjIzVjYuNzVjMC0wLjEzLDAuMS0wLjIyLDAuMjMtMC4yMmgxLjRjMC4xMywwLDAuMjMsMC4xMSwwLjIzLDAuMjN2MC43MyAgICBjMC43MS0wLjc2LDEuNy0xLjE4LDIuNzMtMS4xOGMyLjE3LDAsMy45NCwxLjg2LDMuOTQsNC4xOFM1NC41OCwxNC42Nyw1Mi40MSwxNC42N3ogTTY2LjI0LDExLjM5Yy0wLjM5LDEuODctMS45NiwzLjI5LTMuODQsMy4yOSAgICBjLTEuMDMsMC0yLjAyLTAuNDMtMi43My0xLjE4djAuNzNjMCwwLjEzLTAuMSwwLjIzLTAuMjMsMC4yM2gtMS40Yy0wLjEzLDAtMC4yMy0wLjExLTAuMjMtMC4yM1YzLjUxYzAtMC4xMywwLjEtMC4yMywwLjIzLTAuMjMgICAgaDEuNGMwLjEzLDAsMC4yMywwLjExLDAuMjMsMC4yM3YzLjk3YzAuNzEtMC43NSwxLjctMS4xOCwyLjczLTEuMTdjMS44OCwwLDMuNDUsMS40LDMuODQsMy4yOEM2Ni4zNywxMC4xOSw2Ni4zNywxMC44LDY2LjI0LDExLjM5ICAgIEw2Ni4yNCwxMS4zOUw2Ni4yNCwxMS4zOXogTTcxLjY3LDE0LjY4Yy0yLDAuMDEtMy43My0xLjM1LTQuMTctMy4zYy0wLjEzLTAuNTktMC4xMy0xLjE5LDAtMS43N2MwLjQ0LTEuOTQsMi4xNy0zLjMxLDQuMTctMy4zICAgIGMyLjM2LDAsNC4yNiwxLjg3LDQuMjYsNC4xOVM3NC4wMywxNC42OCw3MS42NywxNC42OEw3MS42NywxNC42OHogTTgzLjA0LDE0LjQ3aC0xLjYxYy0wLjEzLDAtMC4yNC0wLjA2LTAuMy0wLjE3bC0xLjQ0LTIuMzkgICAgbC0xLjQ0LDIuMzljLTAuMDYsMC4xMS0wLjE4LDAuMTctMC4zLDAuMTdoLTEuNjFjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMi0wLjAzYy0wLjA5LTAuMDYtMC4xMy0wLjE5LTAuMDYtMC4yOGwwLDBsMi40My0zLjY4ICAgIEw3Ni4yLDYuODRjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjEyYzAtMC4xMiwwLjA5LTAuMjEsMC4yMS0wLjIxaDEuNjFjMC4xMywwLDAuMjQsMC4wNiwwLjMsMC4xN2wxLjQxLDIuMzZsMS40MS0yLjM2ICAgIGMwLjA2LTAuMTEsMC4xOC0wLjE3LDAuMy0wLjE3aDEuNjFjMC4wNCwwLDAuMDgsMC4wMSwwLjEyLDAuMDNjMC4wOSwwLjA2LDAuMTMsMC4xOSwwLjA2LDAuMjhsMCwwbC0yLjM4LDMuNjRsMi40MywzLjY3ICAgIGMwLjAyLDAuMDMsMC4wMywwLjA3LDAuMDMsMC4xMkM4My4yNSwxNC4zOCw4My4xNiwxNC40Nyw4My4wNCwxNC40N0w4My4wNCwxNC40N0w4My4wNCwxNC40N3oiLz4gIDxwYXRoIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIGQ9Ik0xMC41LDEuMjRjLTUuMTEsMC05LjI1LDQuMTUtOS4yNSw5LjI1czQuMTUsOS4yNSw5LjI1LDkuMjVzOS4yNS00LjE1LDkuMjUtOS4yNSAgICBDMTkuNzUsNS4zOCwxNS42MSwxLjI0LDEwLjUsMS4yNHogTTE0Ljg5LDEyLjc3Yy0xLjkzLDEuOTMtNC43OCwyLjMxLTYuNywyLjMxYy0wLjcsMC0xLjQxLTAuMDUtMi4xLTAuMTZjMCwwLTEuMDItNS42NCwyLjE0LTguODEgICAgYzAuODMtMC44MywxLjk1LTEuMjgsMy4xMy0xLjI4YzEuMjcsMCwyLjQ5LDAuNTEsMy4zOSwxLjQyQzE2LjU5LDguMDksMTYuNjQsMTEsMTQuODksMTIuNzd6Ii8+ICA8cGF0aCBjbGFzcz0ic3QxIiBzdHlsZT0ib3BhY2l0eTowLjM1OyBlbmFibGUtYmFja2dyb3VuZDpuZXc7IiBkPSJNMTAuNS0wLjAxQzQuNy0wLjAxLDAsNC43LDAsMTAuNDlzNC43LDEwLjUsMTAuNSwxMC41UzIxLDE2LjI5LDIxLDEwLjQ5QzIwLjk5LDQuNywxNi4zLTAuMDEsMTAuNS0wLjAxeiAgICAgTTEwLjUsMTkuNzRjLTUuMTEsMC05LjI1LTQuMTUtOS4yNS05LjI1czQuMTQtOS4yNiw5LjI1LTkuMjZzOS4yNSw0LjE1LDkuMjUsOS4yNUMxOS43NSwxNS42MSwxNS42MSwxOS43NCwxMC41LDE5Ljc0eiIvPiAgPHBhdGggY2xhc3M9InN0MSIgc3R5bGU9Im9wYWNpdHk6MC4zNTsgZW5hYmxlLWJhY2tncm91bmQ6bmV3OyIgZD0iTTE0Ljc0LDYuMjVDMTIuOSw0LjQxLDkuOTgsNC4zNSw4LjIzLDYuMWMtMy4xNiwzLjE3LTIuMTQsOC44MS0yLjE0LDguODFzNS42NCwxLjAyLDguODEtMi4xNCAgICBDMTYuNjQsMTEsMTYuNTksOC4wOSwxNC43NCw2LjI1eiBNMTIuNDcsMTAuMzRsLTAuOTEsMS44N2wtMC45LTEuODdMOC44LDkuNDNsMS44Ni0wLjlsMC45LTEuODdsMC45MSwxLjg3bDEuODYsMC45TDEyLjQ3LDEwLjM0eiIgICAgLz4gIDxwb2x5Z29uIGNsYXNzPSJzdDAiIHN0eWxlPSJvcGFjaXR5OjAuOTsgZmlsbDogI0ZGRkZGRjsgZW5hYmxlLWJhY2tncm91bmQ6IG5ldzsiIHBvaW50cz0iMTQuMzMsOS40MyAxMi40NywxMC4zNCAxMS41NiwxMi4yMSAxMC42NiwxMC4zNCA4LjgsOS40MyAxMC42Niw4LjUzIDExLjU2LDYuNjYgMTIuNDcsOC41MyAgICIvPjwvZz48L3N2Zz4=)}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}.mapboxgl-ctrl-attrib.mapboxgl-compact{padding-top:2px;padding-bottom:2px;margin:0 10px 10px;position:relative;padding-right:24px;background-color:#fff;border-radius:3px 12px 12px 3px;visibility:hidden}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{visibility:visible}.mapboxgl-ctrl-attrib.mapboxgl-compact:after{content:\"\";cursor:pointer;position:absolute;bottom:0;right:0;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23333' fill-rule='evenodd' d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;visibility:visible;border-radius:12px}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border-width:medium 2px 2px;border-style:none solid solid;border-color:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:none;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot{background-color:#1da1f2;width:15px;height:15px;border-radius:50%;box-shadow:0 0 2px rgba(0,0,0,.25)}.mapboxgl-user-location-dot:before{background-color:#1da1f2;content:\"\";width:15px;height:15px;border-radius:50%;position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;-moz-animation:mapboxgl-user-location-dot-pulse 2s infinite;-ms-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:15px;left:-2px;position:absolute;top:-2px;width:15px}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@-ms-keyframes mapboxgl-user-location-dot-pulse{0%{-ms-transform:scale(1);opacity:1}70%{-ms-transform:scale(3);opacity:0}to{-ms-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}",""])},function(e,t,n){var r=n(443);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(441)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(444);var i=n(3),o=v(i),a=n(276),s=n(59),u=v(n(429)),l=v(n(425)),c=v(n(424)),p=v(n(123)),f=v(n(418)),h=n(99),d=v(n(416)),g=v(n(292)),y=v(n(277));function v(e){return e&&e.__esModule?e:{default:e}}var m=Object({NODE_ENV:"production",MAPBOX_API_TOKEN:"pk.eyJ1Ijoic2t5bmV0LXJpY2UiLCJhIjoiY2phbzU2a3hkM2luZDMzcGxzejNhaWdxYiJ9.nC5BtNoLkeX4fBoF-nakxw",PIWIK_URL:"https://analytics.kevinlin.info",PIWIK_SITE_ID:"5",PIWIK_CLIENT_TRACKER_NAME:"client",PIWIK_SERVER_TRACKER_NAME:"server"}),_=m.NODE_ENV,A=m.PIWIK_URL,b=m.PIWIK_SITE_ID,x=m.PIWIK_CLIENT_TRACKER_NAME,w=void 0===x?"piwik.js":x,E=m.PIWIK_SERVER_TRACKER_NAME,T=void 0===E?"piwik.php":E,M="production"===_,S=function(t){function n(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));M&&(e.luma.log.priority=0,e.deck.log.priority=0),M&&p.default.config(y.default.dsn).install();var i=A&&M&&(0,f.default)({url:A,siteId:b,clientTrackerName:w,serverTrackerName:T}),o=(0,h.createBrowserHistory)();return r.history=i?i.connectToHistory(o):o,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.Component),r(n,[{key:"render",value:function(){return o.default.createElement(s.Provider,{store:g.default},o.default.createElement(u.default,{fontOpts:{primary:{regular:c.default,bold:l.default}}},o.default.createElement(a.BrowserRouter,null,o.default.createElement(d.default,null))))}}]),n}();t.default=S}).call(this,n(32))},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(446);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(447);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!i(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";var r=n(3),i=n(451),o=n(167),a=n(56),s=n(450),u=n(449),l=n(448),c=n(218);function p(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}r||p("227");var f={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,i,o,a,s,u){(function(e,t,n,r,i,o,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(f,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,u){if(f.invokeGuardedCallback.apply(this,arguments),f.hasCaughtError()){var l=f.clearCaughtError();f._hasRethrowError||(f._hasRethrowError=!0,f._rethrowError=l)}},rethrowCaughtError:function(){return function(){if(f._hasRethrowError){var e=f._rethrowError;throw f._rethrowError=null,f._hasRethrowError=!1,e}}.apply(f,arguments)},hasCaughtError:function(){return f._hasCaughtError},clearCaughtError:function(){if(f._hasCaughtError){var e=f._caughtError;return f._caughtError=null,f._hasCaughtError=!1,e}p("198")}};var h=null,d={};function g(){if(h)for(var e in d){var t=d[e],n=h.indexOf(e);if(-1<n||p("96",e),!v[n])for(var r in t.extractEvents||p("97",e),v[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,s=r;m.hasOwnProperty(s)&&p("99",s),m[s]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&y(u[i],a,s);i=!0}else o.registrationName?(y(o.registrationName,a,s),i=!0):i=!1;i||p("98",r,e)}}}function y(e,t,n){_[e]&&p("100",e),_[e]=t,A[e]=t.eventTypes[n].dependencies}var v=[],m={},_={},A={};function b(e){h&&p("101"),h=Array.prototype.slice.call(e),g()}function x(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];d.hasOwnProperty(t)&&d[t]===r||(d[t]&&p("102",t),d[t]=r,n=!0)}n&&g()}var w=Object.freeze({plugins:v,eventNameDispatchConfigs:m,registrationNameModules:_,registrationNameDependencies:A,possibleRegistrationNames:null,injectEventPluginOrder:b,injectEventPluginsByName:x}),E=null,T=null,M=null;function S(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=M(r),f.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&p("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function I(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var P=null;function k(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)S(e,t,n[i],r[i]);else n&&S(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){return k(e,!0)}function L(e){return k(e,!1)}var R={injectEventPluginOrder:b,injectEventPluginsByName:x};function j(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&p("231",t,typeof n),n)}function N(e,t){null!==e&&(P=C(P,e)),e=P,P=null,e&&(I(e,t?O:L),P&&p("95"),f.rethrowCaughtError())}function B(e,t,n,r){for(var i=null,o=0;o<v.length;o++){var a=v[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=C(i,a))}N(i,!1)}var D=Object.freeze({injection:R,getListener:j,runEventsInBatch:N,runExtractedEventsInBatch:B}),F=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+F,U="__reactEventHandlers$"+F;function G(e){if(e[z])return e[z];for(;!e[z];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[z]).tag||6===e.tag?e:null}function V(e){if(5===e.tag||6===e.tag)return e.stateNode;p("33")}function Y(e){return e[U]||null}var H=Object.freeze({precacheFiberNode:function(e,t){t[z]=e},getClosestInstanceFromNode:G,getInstanceFromNode:function(e){return!(e=e[z])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:V,getFiberCurrentPropsFromNode:Y,updateFiberProps:function(e,t){e[U]=t}});function W(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Q(e,t,n){for(var r=[];e;)r.push(e),e=W(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function X(e,t,n){(t=j(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function Z(e){e&&e.dispatchConfig.phasedRegistrationNames&&Q(e._targetInst,X,e)}function J(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;Q(t=t?W(t):null,X,e)}}function K(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=j(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.registrationName&&K(e._targetInst,null,e)}function $(e){I(e,Z)}function ee(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=W(s))a++;s=0;for(var u=o;u;u=W(u))s++;for(;0<a-s;)i=W(i),a--;for(;0<s-a;)o=W(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=W(i),o=W(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=W(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=W(r);for(r=0;r<i.length;r++)K(i[r],"bubbled",e);for(e=n.length;0<e--;)K(n[e],"captured",t)}var te=Object.freeze({accumulateTwoPhaseDispatches:$,accumulateTwoPhaseDispatchesSkipTarget:function(e){I(e,J)},accumulateEnterLeaveDispatches:ee,accumulateDirectDispatches:function(e){I(e,q)}}),ne=null;function re(){return!ne&&i.canUseDOM&&(ne="textContent"in document.documentElement?"textContent":"innerText"),ne}var ie={_root:null,_startText:null,_fallbackText:null};function oe(){if(ie._fallbackText)return ie._fallbackText;var e,t,n=ie._startText,r=n.length,i=ae(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie._fallbackText=i.slice(e,1<t?1-t:void 0),ie._fallbackText}function ae(){return"value"in ie._root?ie._root.value:ie._root[re()]}var se="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ue={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}function ce(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function pe(e){e instanceof this||p("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function fe(e){e.eventPool=[],e.getPooled=ce,e.release=pe}o(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<se.length;t++)this[se[t]]=null}}),le.Interface=ue,le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,fe(n),n},fe(le);var he=le.extend({data:null}),de=le.extend({data:null}),ge=[9,13,27,32],ye=i.canUseDOM&&"CompositionEvent"in window,ve=null;i.canUseDOM&&"documentMode"in document&&(ve=document.documentMode);var me=i.canUseDOM&&"TextEvent"in window&&!ve,_e=i.canUseDOM&&(!ye||ve&&8<ve&&11>=ve),Ae=String.fromCharCode(32),be={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},xe=!1;function we(e,t){switch(e){case"topKeyUp":return-1!==ge.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function Ee(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Te=!1;var Me={eventTypes:be,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ye)e:{switch(e){case"topCompositionStart":i=be.compositionStart;break e;case"topCompositionEnd":i=be.compositionEnd;break e;case"topCompositionUpdate":i=be.compositionUpdate;break e}i=void 0}else Te?we(e,n)&&(i=be.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(i=be.compositionStart);return i?(_e&&(Te||i!==be.compositionStart?i===be.compositionEnd&&Te&&(o=oe()):(ie._root=r,ie._startText=ae(),Te=!0)),i=he.getPooled(i,t,n,r),o?i.data=o:null!==(o=Ee(n))&&(i.data=o),$(i),o=i):o=null,(e=me?function(e,t){switch(e){case"topCompositionEnd":return Ee(t);case"topKeyPress":return 32!==t.which?null:(xe=!0,Ae);case"topTextInput":return(e=t.data)===Ae&&xe?null:e;default:return null}}(e,n):function(e,t){if(Te)return"topCompositionEnd"===e||!ye&&we(e,t)?(e=oe(),ie._root=null,ie._startText=null,ie._fallbackText=null,Te=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _e?null:t.data;default:return null}}(e,n))?((t=de.getPooled(be.beforeInput,t,n,r)).data=e,$(t)):t=null,null===o?t:null===t?o:[o,t]}},Se=null,Ce=null,Ie=null;function Pe(e){if(e=T(e)){Se&&"function"==typeof Se.restoreControlledState||p("194");var t=E(e.stateNode);Se.restoreControlledState(e.stateNode,e.type,t)}}var ke={injectFiberControlledHostComponent:function(e){Se=e}};function Oe(e){Ce?Ie?Ie.push(e):Ie=[e]:Ce=e}function Le(){return null!==Ce||null!==Ie}function Re(){if(Ce){var e=Ce,t=Ie;if(Ie=Ce=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}var je=Object.freeze({injection:ke,enqueueStateRestore:Oe,needsStateRestore:Le,restoreStateIfNeeded:Re});function Ne(e,t){return e(t)}function Be(e,t,n){return e(t,n)}function De(){}var Fe=!1;function ze(e,t){if(Fe)return e(t);Fe=!0;try{return Ne(e,t)}finally{Fe=!1,Le()&&(De(),Re())}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ge(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ue[e.type]:"textarea"===t}function Ve(e){return(e=e.target||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ye(e,t){return!(!i.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function He(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=He(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}(e))}function Qe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=He(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Xe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ze="function"==typeof Symbol&&Symbol.for,Je=Ze?Symbol.for("react.element"):60103,Ke=Ze?Symbol.for("react.call"):60104,qe=Ze?Symbol.for("react.return"):60105,$e=Ze?Symbol.for("react.portal"):60106,et=Ze?Symbol.for("react.fragment"):60107,tt=Ze?Symbol.for("react.strict_mode"):60108,nt=Ze?Symbol.for("react.provider"):60109,rt=Ze?Symbol.for("react.context"):60110,it=Ze?Symbol.for("react.async_mode"):60111,ot=Ze?Symbol.for("react.forward_ref"):60112,at="function"==typeof Symbol&&Symbol.iterator;function st(e){return null===e||void 0===e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function ut(e){if("function"==typeof(e=e.type))return e.displayName||e.name;if("string"==typeof e)return e;switch(e){case et:return"ReactFragment";case $e:return"ReactPortal";case Ke:return"ReactCall";case qe:return"ReactReturn"}return null}function lt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=ut(e),o=null;n&&(o=ut(n)),n=r,i="\n    in "+(i||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pt={},ft={};function ht(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){dt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new ht(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){dt[e]=new ht(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){dt[e]=new ht(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){dt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var gt=/[\-\:]([a-z])/g;function yt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i=dt.hasOwnProperty(t)?dt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ft.hasOwnProperty(e)||!pt.hasOwnProperty(e)&&(ct.test(e)?ft[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function mt(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Et(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function At(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function bt(e,t){At(e,t);var n=Et(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?wt(e,t.type,n):t.hasOwnProperty("defaultValue")&&wt(e,t.type,Et(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function xt(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function wt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Et(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,yt);dt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,yt);dt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,yt);dt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),dt.tabIndex=new ht("tabIndex",1,!1,"tabindex",null);var Tt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Mt(e,t,n){return(e=le.getPooled(Tt.change,e,t,n)).type="change",Oe(n),$(e),e}var St=null,Ct=null;function It(e){N(e,!1)}function Pt(e){if(Qe(V(e)))return e}function kt(e,t){if("topChange"===e)return t}var Ot=!1;function Lt(){St&&(St.detachEvent("onpropertychange",Rt),Ct=St=null)}function Rt(e){"value"===e.propertyName&&Pt(Ct)&&ze(It,e=Mt(Ct,e,Ve(e)))}function jt(e,t,n){"topFocus"===e?(Lt(),Ct=n,(St=t).attachEvent("onpropertychange",Rt)):"topBlur"===e&&Lt()}function Nt(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return Pt(Ct)}function Bt(e,t){if("topClick"===e)return Pt(t)}function Dt(e,t){if("topInput"===e||"topChange"===e)return Pt(t)}i.canUseDOM&&(Ot=Ye("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:Tt,_isInputEventSupported:Ot,extractEvents:function(e,t,n,r){var i=t?V(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=kt:Ge(i)?Ot?o=Dt:(o=Nt,a=jt):!(s=i.nodeName)||"input"!==s.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=Bt),o&&(o=o(e,t)))return Mt(o,n,r);a&&a(e,i,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&wt(i,"number",i.value)}},zt=le.extend({view:null,detail:null}),Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ut[e])&&!!t[e]}function Vt(){return Gt}var Yt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),Ht={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Wt={eventTypes:Ht,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?G(t):null):e=null,e===t)return null;var o=null==e?i:V(e);i=null==t?i:V(t);var a=Yt.getPooled(Ht.mouseLeave,e,n,r);return a.type="mouseleave",a.target=o,a.relatedTarget=i,(n=Yt.getPooled(Ht.mouseEnter,t,n,r)).type="mouseenter",n.target=i,n.relatedTarget=o,ee(a,n,e,t),[a,n]}};function Qt(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function Xt(e){return!!(e=e._reactInternalFiber)&&2===Qt(e)}function Zt(e){2!==Qt(e)&&p("188")}function Jt(e){var t=e.alternate;if(!t)return 3===(t=Qt(e))&&p("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return Zt(i),e;if(a===r)return Zt(i),t;a=a.sibling}p("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||p("189")}}n.alternate!==r&&p("190")}return 3!==n.tag&&p("188"),n.stateNode.current===n?e:t}var Kt=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),qt=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$t=zt.extend({relatedTarget:null});function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rn=zt.extend({key:function(e){if(e.key){var t=tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),on=Yt.extend({dataTransfer:null}),an=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),sn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),un=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ln={},cn={};function pn(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n;t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n="top"+n],isInteractive:t},ln[e]=t,cn[n]=t}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(e){pn(e,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(e){pn(e,!1)});var fn={eventTypes:ln,isInteractiveTopLevelEventType:function(e){return void 0!==(e=cn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=cn[e];if(!i)return null;switch(e){case"topKeyPress":if(0===en(n))return null;case"topKeyDown":case"topKeyUp":e=rn;break;case"topBlur":case"topFocus":e=$t;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=Yt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=on;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=an;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Kt;break;case"topTransitionEnd":e=sn;break;case"topScroll":e=zt;break;case"topWheel":e=un;break;case"topCopy":case"topCut":case"topPaste":e=qt;break;default:e=le}return $(t=e.getPooled(i,t,n,r)),t}},hn=fn.isInteractiveTopLevelEventType,dn=[];function gn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=G(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],B(e.topLevelType,t,e.nativeEvent,Ve(e.nativeEvent))}var yn=!0;function vn(e){yn=!!e}function mn(e,t,n){if(!n)return null;e=(hn(e)?An:bn).bind(null,e),n.addEventListener(t,e,!1)}function _n(e,t,n){if(!n)return null;e=(hn(e)?An:bn).bind(null,e),n.addEventListener(t,e,!0)}function An(e,t){Be(bn,e,t)}function bn(e,t){if(yn){var n=Ve(t);if(null!==(n=G(n))&&"number"==typeof n.tag&&2!==Qt(n)&&(n=null),dn.length){var r=dn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{ze(gn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dn.length&&dn.push(e)}}}var xn=Object.freeze({get _enabled(){return yn},setEnabled:vn,isEnabled:function(){return yn},trapBubbledEvent:mn,trapCapturedEvent:_n,dispatchEvent:bn});function wn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var En={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Tn={},Mn={};function Sn(e){if(Tn[e])return Tn[e];if(!En[e])return e;var t,n=En[e];for(t in n)if(n.hasOwnProperty(t)&&t in Mn)return Tn[e]=n[t];return e}i.canUseDOM&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var Cn={topAnimationEnd:Sn("animationend"),topAnimationIteration:Sn("animationiteration"),topAnimationStart:Sn("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Sn("transitionend"),topWheel:"wheel"},In={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Pn={},kn=0,On="_reactListenersID"+(""+Math.random()).slice(2);function Ln(e){return Object.prototype.hasOwnProperty.call(e,On)||(e[On]=kn++,Pn[e[On]]={}),Pn[e[On]]}function Rn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jn(e,t){var n,r=Rn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rn(r)}}function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var Bn=i.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Dn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},Fn=null,zn=null,Un=null,Gn=!1;function Vn(e,t){if(Gn||null==Fn||Fn!==s())return null;var n=Fn;return"selectionStart"in n&&Nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Un&&u(Un,n)?null:(Un=n,(e=le.getPooled(Dn.select,zn,e,t)).type="select",e.target=Fn,$(e),e)}var Yn={eventTypes:Dn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Ln(o),i=A.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?V(t):window,e){case"topFocus":(Ge(o)||"true"===o.contentEditable)&&(Fn=o,zn=t,Un=null);break;case"topBlur":Un=zn=Fn=null;break;case"topMouseDown":Gn=!0;break;case"topContextMenu":case"topMouseUp":return Gn=!1,Vn(n,r);case"topSelectionChange":if(Bn)break;case"topKeyDown":case"topKeyUp":return Vn(n,r)}return null}};function Hn(e,t,n,r){this.tag=e,this.key=n,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Wn(e,t,n){var r=e.alternate;return null===r?((r=new Hn(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qn(e,t,n){var r=e.type,i=e.key;e=e.props;var o=void 0;if("function"==typeof r)o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)o=5;else switch(r){case et:return Xn(e.children,t,n,i);case it:o=11,t|=3;break;case tt:o=11,t|=2;break;case Ke:o=7;break;case qe:o=9;break;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case nt:o=13;break;case rt:o=12;break;case ot:o=14;break;default:if("number"==typeof r.tag)return(t=r).pendingProps=e,t.expirationTime=n,t;p("130",null==r?r:typeof r,"")}else p("130",null==r?r:typeof r,"")}return(t=new Hn(o,e,i,t)).type=r,t.expirationTime=n,t}function Xn(e,t,n,r){return(e=new Hn(10,e,r,t)).expirationTime=n,e}function Zn(e,t,n){return(e=new Hn(6,e,null,t)).expirationTime=n,e}function Jn(e,t,n){return(t=new Hn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}R.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=H.getFiberCurrentPropsFromNode,T=H.getInstanceFromNode,M=H.getNodeFromInstance,R.injectEventPluginsByName({SimpleEventPlugin:fn,EnterLeaveEventPlugin:Wt,ChangeEventPlugin:Ft,SelectEventPlugin:Yn,BeforeInputEventPlugin:Me});var Kn=null,qn=null;function $n(e){return function(t){try{return e(t)}catch(e){}}}function er(e){"function"==typeof Kn&&Kn(e)}function tr(e){"function"==typeof qn&&qn(e)}function nr(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function rr(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}new Set;var ir=void 0,or=void 0;function ar(e){ir=or=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=nr(null)),null!==t?null===(e=t.updateQueue)&&(e=t.updateQueue=nr(null)):e=null,ir=n,or=e!==n?e:null}function sr(e,t){ar(e),e=ir;var n=or;null===n?rr(e,t):null===e.last||null===n.last?(rr(e,t),rr(n,t)):(rr(e,t),n.last=t)}function ur(e,t,n,r){return"function"==typeof(e=e.partialState)?e.call(t,n,r):e}function lr(e,t,n,r,i,a){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,capturedValues:n.capturedValues,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var s=!0,u=n.first,l=!1;null!==u;){var c=u.expirationTime;if(c>a){var p=n.expirationTime;(0===p||p>c)&&(n.expirationTime=c),l||(l=!0,n.baseState=e)}else l||(n.first=u.next,null===n.first&&(n.last=null)),u.isReplace?(e=ur(u,r,e,i),s=!0):(c=ur(u,r,e,i))&&(e=s?o({},e,c):o(e,c),s=!1),u.isForced&&(n.hasForceUpdate=!0),null!==u.callback&&(null===(c=n.callbackList)&&(c=n.callbackList=[]),c.push(u)),null!==u.capturedValue&&(null===(c=n.capturedValues)?n.capturedValues=[u.capturedValue]:c.push(u.capturedValue));u=u.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),l||(n.baseState=e),e}function cr(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var r=n[e],i=r.callback;r.callback=null,"function"!=typeof i&&p("191",i),i.call(t)}}var pr=Array.isArray;function fr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&p("110"),r=n.stateNode),r||p("147",e);var i=""+e;return null!==t&&null!==t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs===c?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&p("148"),n._owner||p("254",e)}return e}function hr(e,t){"textarea"!==e.type&&p("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function dr(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Wn(e,t,n)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Zn(n,e.mode,r)).return=e,t):((t=i(t,n,r)).return=e,t)}function u(e,t,n,r){return null!==t&&t.type===n.type?((r=i(t,n.props,r)).ref=fr(e,t,n),r.return=e,r):((r=Qn(n,e.mode,r)).ref=fr(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jn(n,e.mode,r)).return=e,t):((t=i(t,n.children||[],r)).return=e,t)}function c(e,t,n,r,o){return null===t||10!==t.tag?((t=Xn(n,e.mode,r,o)).return=e,t):((t=i(t,n,r)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Zn(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Je:return(n=Qn(t,e.mode,n)).ref=fr(e,null,t),n.return=e,n;case $e:return(t=Jn(t,e.mode,n)).return=e,t}if(pr(t)||st(t))return(t=Xn(t,e.mode,n,null)).return=e,t;hr(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Je:return n.key===i?n.type===et?c(e,t,n.props.children,r,i):u(e,t,n,r):null;case $e:return n.key===i?l(e,t,n,r):null}if(pr(n)||st(n))return null!==i?null:c(e,t,n,r,null);hr(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Je:return e=e.get(null===r.key?n:r.key)||null,r.type===et?c(t,e,r.props.children,i,r.key):u(t,e,r,i);case $e:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(pr(r)||st(r))return c(t,e=e.get(n)||null,r,i,null);hr(t,r)}return null}function g(i,a,s,u){for(var l=null,c=null,p=a,g=a=0,y=null;null!==p&&g<s.length;g++){p.index>g?(y=p,p=null):y=p.sibling;var v=h(i,p,s[g],u);if(null===v){null===p&&(p=y);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,g),null===c?l=v:c.sibling=v,c=v,p=y}if(g===s.length)return n(i,p),l;if(null===p){for(;g<s.length;g++)(p=f(i,s[g],u))&&(a=o(p,a,g),null===c?l=p:c.sibling=p,c=p);return l}for(p=r(i,p);g<s.length;g++)(y=d(p,i,g,s[g],u))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),a=o(y,a,g),null===c?l=y:c.sibling=y,c=y);return e&&p.forEach(function(e){return t(i,e)}),l}function y(i,a,s,u){var l=st(s);"function"!=typeof l&&p("150"),null==(s=l.call(s))&&p("151");for(var c=l=null,g=a,y=a=0,v=null,m=s.next();null!==g&&!m.done;y++,m=s.next()){g.index>y?(v=g,g=null):v=g.sibling;var _=h(i,g,m.value,u);if(null===_){g||(g=v);break}e&&g&&null===_.alternate&&t(i,g),a=o(_,a,y),null===c?l=_:c.sibling=_,c=_,g=v}if(m.done)return n(i,g),l;if(null===g){for(;!m.done;y++,m=s.next())null!==(m=f(i,m.value,u))&&(a=o(m,a,y),null===c?l=m:c.sibling=m,c=m);return l}for(g=r(i,g);!m.done;y++,m=s.next())null!==(m=d(g,i,y,m.value,u))&&(e&&null!==m.alternate&&g.delete(null===m.key?y:m.key),a=o(m,a,y),null===c?l=m:c.sibling=m,c=m);return e&&g.forEach(function(e){return t(i,e)}),l}return function(e,r,o,s){"object"==typeof o&&null!==o&&o.type===et&&null===o.key&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case Je:e:{var l=o.key;for(u=r;null!==u;){if(u.key===l){if(10===u.tag?o.type===et:u.type===o.type){n(e,u.sibling),(r=i(u,o.type===et?o.props.children:o.props,s)).ref=fr(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===et?((r=Xn(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Qn(o,e.mode,s)).ref=fr(e,r,o),s.return=e,e=s)}return a(e);case $e:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jn(o,e.mode,s)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),r=i(r,o,s)):(n(e,r),r=Zn(o,e.mode,s)),r.return=e,a(e=r);if(pr(o))return g(e,r,o,s);if(st(o))return y(e,r,o,s);if(u&&hr(e,o),void 0===o)switch(e.tag){case 2:case 1:p("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var gr=dr(!0),yr=dr(!1);function vr(e,t,n,r,i,a,s){function l(e,t,n){f(e,t,n,t.expirationTime)}function f(e,t,n,r){t.child=null===e?yr(t,null,n,r):gr(t,e.child,n,r)}function h(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function d(e,t,n,r,i,o){if(h(e,t),!n&&!i)return r&&C(t,!1),v(e,t);n=t.stateNode,Xe.current=t;var a=i?null:n.render();return t.effectTag|=1,i&&(f(e,t,null,o),t.child=null),f(e,t,a,o),t.memoizedState=n.state,t.memoizedProps=n.props,r&&C(t,!0),t.child}function g(e){var t=e.stateNode;t.pendingContext?S(e,t.pendingContext,t.pendingContext!==t.context):t.context&&S(e,t.context,!1),b(e,t.containerInfo)}function y(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!=(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){o=i;break}o=o.return}i=o}}function v(e,t){if(null!==e&&t.child!==e.child&&p("153"),null!==t.child){var n=Wn(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wn(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var m=e.shouldSetTextContent,_=e.shouldDeprioritizeSubtree,A=t.pushHostContext,b=t.pushHostContainer,x=r.pushProvider,w=n.getMaskedContext,E=n.getUnmaskedContext,T=n.hasContextChanged,M=n.pushContextProvider,S=n.pushTopLevelContextObject,C=n.invalidateContextProvider,I=i.enterHydrationState,P=i.resetHydrationState,k=i.tryToClaimNextHydratableInstance,O=(e=function(e,t,n,r,i){function a(e,t,n,r,i,o){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!(e.prototype&&e.prototype.isPureReactComponent&&u(t,n)&&u(r,i))}function s(e,t){t.updater=v,e.stateNode=t,t._reactInternalFiber=e}function l(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&v.enqueueReplaceState(t,t.state,null)}function p(e,t,n,r){if("function"==typeof(e=e.type).getDerivedStateFromProps)return e.getDerivedStateFromProps.call(null,n,r)}var f=e.cacheContext,h=e.getMaskedContext,d=e.getUnmaskedContext,g=e.isContextConsumer,y=e.hasContextChanged,v={isMounted:Xt,enqueueSetState:function(e,r,i){e=e._reactInternalFiber,i=void 0===i?null:i;var o=n(e);sr(e,{expirationTime:o,partialState:r,callback:i,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(e,o)},enqueueReplaceState:function(e,r,i){e=e._reactInternalFiber,i=void 0===i?null:i;var o=n(e);sr(e,{expirationTime:o,partialState:r,callback:i,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(e,o)},enqueueForceUpdate:function(e,r){e=e._reactInternalFiber,r=void 0===r?null:r;var i=n(e);sr(e,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(e,i)}};return{adoptClassInstance:s,callGetDerivedStateFromProps:p,constructClassInstance:function(e,t){var n=e.type,r=d(e),i=g(e),a=i?h(e,r):c,u=null!==(n=new n(t,a)).state&&void 0!==n.state?n.state:null;return s(e,n),e.memoizedState=u,null!==(t=p(e,0,t,u))&&void 0!==t&&(e.memoizedState=o({},e.memoizedState,t)),i&&f(e,r,a),n},mountClassInstance:function(e,t){var n=e.type,r=e.alternate,i=e.stateNode,o=e.pendingProps,a=d(e);i.props=o,i.state=e.memoizedState,i.refs=c,i.context=h(e,a),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(n=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&v.enqueueReplaceState(i,i.state,null),null!==(n=e.updateQueue)&&(i.state=lr(r,e,n,i,o,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=4)},resumeMountClassInstance:function(e,t){var n=e.type,s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var u=e.memoizedProps,c=e.pendingProps,f=s.context,g=d(e);g=h(e,g),(n="function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(u!==c||f!==g)&&l(e,s,c,g),f=e.memoizedState,t=null!==e.updateQueue?lr(null,e,e.updateQueue,s,c,t):f;var v=void 0;return u!==c&&(v=p(e,0,c,t)),null!==v&&void 0!==v&&(t=null===t||void 0===t?v:o({},t,v)),u!==c||f!==t||y()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((u=a(e,u,c,f,t,g))?(n||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.effectTag|=4)):("function"==typeof s.componentDidMount&&(e.effectTag|=4),r(e,c),i(e,t)),s.props=c,s.state=t,s.context=g,u):("function"==typeof s.componentDidMount&&(e.effectTag|=4),!1)},updateClassInstance:function(e,t,n){var s=t.type,u=t.stateNode;u.props=t.memoizedProps,u.state=t.memoizedState;var c=t.memoizedProps,f=t.pendingProps,g=u.context,v=d(t);v=h(t,v),(s="function"==typeof s.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate)||"function"!=typeof u.UNSAFE_componentWillReceiveProps&&"function"!=typeof u.componentWillReceiveProps||(c!==f||g!==v)&&l(t,u,f,v),g=t.memoizedState,n=null!==t.updateQueue?lr(e,t,t.updateQueue,u,f,n):g;var m=void 0;return c!==f&&(m=p(t,0,f,n)),null!==m&&void 0!==m&&(n=null===n||void 0===n?m:o({},n,m)),c!==f||g!==n||y()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((m=a(t,c,f,g,n,v))?(s||"function"!=typeof u.UNSAFE_componentWillUpdate&&"function"!=typeof u.componentWillUpdate||("function"==typeof u.componentWillUpdate&&u.componentWillUpdate(f,n,v),"function"==typeof u.UNSAFE_componentWillUpdate&&u.UNSAFE_componentWillUpdate(f,n,v)),"function"==typeof u.componentDidUpdate&&(t.effectTag|=4),"function"==typeof u.getSnapshotBeforeUpdate&&(t.effectTag|=2048)):("function"!=typeof u.componentDidUpdate||c===e.memoizedProps&&g===e.memoizedState||(t.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||c===e.memoizedProps&&g===e.memoizedState||(t.effectTag|=2048),r(t,f),i(t,n)),u.props=f,u.state=n,u.context=v,m):("function"!=typeof u.componentDidUpdate||c===e.memoizedProps&&g===e.memoizedState||(t.effectTag|=4),"function"!=typeof u.getSnapshotBeforeUpdate||c===e.memoizedProps&&g===e.memoizedState||(t.effectTag|=2048),!1)}}}(n,a,s,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t})).adoptClassInstance,L=e.callGetDerivedStateFromProps,R=e.constructClassInstance,j=e.mountClassInstance,N=e.resumeMountClassInstance,B=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:g(t);break;case 2:M(t);break;case 4:b(t,t.stateNode.containerInfo);break;case 13:x(t)}return null}switch(t.tag){case 0:null!==e&&p("155");var r=t.type,i=t.pendingProps,a=E(t);return r=r(i,a=w(t,a)),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(a=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof a.getDerivedStateFromProps&&(null!==(i=L(t,r,i,t.memoizedState))&&void 0!==i&&(t.memoizedState=o({},t.memoizedState,i))),i=M(t),O(t,r),j(t,n),e=d(e,t,!0,i,!1,n)):(t.tag=1,l(e,t,r),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,n=t.pendingProps,T()||t.memoizedProps!==n?(r=E(t),i=i(n,r=w(t,r)),t.effectTag|=1,l(e,t,i),t.memoizedProps=n,e=t.child):e=v(e,t),e;case 2:i=M(t),null===e?null===t.stateNode?(R(t,t.pendingProps),j(t,n),r=!0):r=N(t,n):r=B(e,t,n),a=!1;var s=t.updateQueue;return null!==s&&null!==s.capturedValues&&(a=r=!0),d(e,t,r,i,a,n);case 3:e:if(g(t),r=t.updateQueue,null!==r){if(a=t.memoizedState,i=lr(e,t,r,null,null,n),t.memoizedState=i,null!==(r=t.updateQueue)&&null!==r.capturedValues)r=null;else{if(a===i){P(),e=v(e,t);break e}r=i.element}a=t.stateNode,(null===e||null===e.child)&&a.hydrate&&I(t)?(t.effectTag|=2,t.child=yr(t,null,r,n)):(P(),l(e,t,r)),t.memoizedState=i,e=t.child}else P(),e=v(e,t);return e;case 5:return A(t),null===e&&k(t),i=t.type,s=t.memoizedProps,r=t.pendingProps,a=null!==e?e.memoizedProps:null,T()||s!==r||((s=1&t.mode&&_(i,r))&&(t.expirationTime=1073741823),s&&1073741823===n)?(s=r.children,m(i,r)?s=null:a&&m(i,a)&&(t.effectTag|=16),h(e,t),1073741823!==n&&1&t.mode&&_(i,r)?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(l(e,t,s),t.memoizedProps=r,e=t.child)):e=v(e,t),e;case 6:return null===e&&k(t),t.memoizedProps=t.pendingProps,null;case 8:t.tag=7;case 7:return i=t.pendingProps,T()||t.memoizedProps!==i||(i=t.memoizedProps),r=i.children,t.stateNode=null===e?yr(t,t.stateNode,r,n):gr(t,e.stateNode,r,n),t.memoizedProps=i,t.stateNode;case 9:return null;case 4:return b(t,t.stateNode.containerInfo),i=t.pendingProps,T()||t.memoizedProps!==i?(null===e?t.child=gr(t,null,i,n):l(e,t,i),t.memoizedProps=i,e=t.child):e=v(e,t),e;case 14:return l(e,t,n=(n=t.type.render)(t.pendingProps,t.ref)),t.memoizedProps=n,t.child;case 10:return n=t.pendingProps,T()||t.memoizedProps!==n?(l(e,t,n),t.memoizedProps=n,e=t.child):e=v(e,t),e;case 11:return n=t.pendingProps.children,T()||null!==n&&t.memoizedProps!==n?(l(e,t,n),t.memoizedProps=n,e=t.child):e=v(e,t),e;case 13:return function(e,t,n){var r=t.type.context,i=t.pendingProps,o=t.memoizedProps;if(!T()&&o===i)return t.stateNode=0,x(t),v(e,t);var a=i.value;if(t.memoizedProps=i,null===o)a=1073741823;else if(o.value===i.value){if(o.children===i.children)return t.stateNode=0,x(t),v(e,t);a=0}else{var s=o.value;if(s===a&&(0!==s||1/s==1/a)||s!=s&&a!=a){if(o.children===i.children)return t.stateNode=0,x(t),v(e,t);a=0}else if(a="function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823,0==(a|=0)){if(o.children===i.children)return t.stateNode=0,x(t),v(e,t)}else y(t,r,a,n)}return t.stateNode=a,x(t),l(e,t,i.children),t.child}(e,t,n);case 12:r=t.type,a=t.pendingProps;var u=t.memoizedProps;return i=r._currentValue,s=r._changedBits,T()||0!==s||u!==a?(t.memoizedProps=a,void 0!==(u=a.unstable_observedBits)&&null!==u||(u=1073741823),t.stateNode=u,0!=(s&u)&&y(t,r,s,n),l(e,t,n=(n=a.children)(i)),e=t.child):e=v(e,t),e;default:p("156")}}}}function mr(e,t){var n=t.source;null===t.stack&&lt(n),null!==n&&ut(n),t=t.value,null!==e&&2===e.tag&&ut(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}var _r={};function Ar(e){function t(){if(null!==ee)for(var e=ee.return;null!==e;)R(e),e=e.return;te=null,ne=0,ee=null,oe=!1}function n(e){return null!==ae&&ae.has(e)}function r(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=k(t,e,ne);var i=e;if(1073741823===ne||1073741823!==i.expirationTime){e:switch(i.tag){case 3:case 2:var o=i.updateQueue;o=null===o?0:o.expirationTime;break e;default:o=0}for(var a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){oe=!0;break}e=n}else{if(null!==(e=L(e)))return e.effectTag&=2559,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function i(e){var t=P(e.alternate,e,ne);return null===t&&(t=r(e)),Xe.current=null,t}function a(e,n,o){$&&p("243"),$=!0,n===ne&&e===te&&null!==ee||(t(),ne=n,ee=Wn((te=e).current,null,ne),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(o)for(;null!==ee&&!E();)ee=i(ee);else for(;null!==ee;)ee=i(ee)}catch(e){if(null===ee){a=!0,T(e);break}var s=(o=ee).return;if(null===s){a=!0,T(e);break}O(s,o,e),ee=r(o)}break}return $=!1,a||null!==ee?null:oe?(e.pendingCommitExpirationTime=n,e.current.alternate):void p("262")}function s(e,t,n,r){sr(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:e={value:n,source:e,stack:lt(e)},next:null}),f(t,r)}function u(e,t){e:{$&&!ie&&p("263");for(var r=e.return;null!==r;){switch(r.tag){case 2:var i=r.stateNode;if("function"==typeof r.type.getDerivedStateFromCatch||"function"==typeof i.componentDidCatch&&!n(i)){s(e,r,t,1),e=void 0;break e}break;case 3:s(e,r,t,1),e=void 0;break e}r=r.return}3===e.tag&&s(e,e,t,1),e=void 0}return e}function l(e){return e=0!==q?q:$?ie?1:ne:1&e.mode?be?10*(1+((h()+50)/10|0)):25*(1+((h()+500)/25|0)):1,be&&(0===de||e>de)&&(de=e),e}function f(e,n){e:{for(;null!==e;){if((0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>n)&&(e.alternate.expirationTime=n),null===e.return){if(3!==e.tag){n=void 0;break e}var r=e.stateNode;!$&&0!==ne&&n<ne&&t(),$&&!ie&&te===r||y(r,n),Ee>we&&p("185")}e=e.return}n=void 0}return n}function h(){return J=Y()-Z,2+(J/10|0)}function d(e,t,n,r,i){var o=q;q=1;try{return e(t,n,r,i)}finally{q=o}}function g(e){if(0!==le){if(e>le)return;W(ce)}var t=Y()-Z;le=e,ce=H(m,{timeout:10*(e-2)-t})}function y(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ue?(se=ue=e,e.nextScheduledRoot=e):(ue=ue.nextScheduledRoot=e).nextScheduledRoot=se;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}pe||(_e?Ae&&(fe=e,he=1,x(e,1,!1)):1===t?_():g(t))}function v(){var e=0,t=null;if(null!==ue)for(var n=ue,r=se;null!==r;){var i=r.remainingExpirationTime;if(0===i){if((null===n||null===ue)&&p("244"),r===r.nextScheduledRoot){se=ue=r.nextScheduledRoot=null;break}if(r===se)se=i=r.nextScheduledRoot,ue.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ue){(ue=n).nextScheduledRoot=se,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===ue)break;n=r,r=r.nextScheduledRoot}}null!==(n=fe)&&n===t&&1===e?Ee++:Ee=0,fe=t,he=e}function m(e){A(0,!0,e)}function _(){A(1,!1,null)}function A(e,t,n){if(me=n,v(),t)for(;null!==fe&&0!==he&&(0===e||e>=he)&&(!ge||h()>=he);)x(fe,he,!ge),v();else for(;null!==fe&&0!==he&&(0===e||e>=he);)x(fe,he,!1),v();null!==me&&(le=0,ce=-1),0!==he&&g(he),me=null,ge=!1,b()}function b(){if(Ee=0,null!==xe){var e=xe;xe=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ye||(ye=!0,ve=e)}}}if(ye)throw e=ve,ve=null,ye=!1,e}function x(e,t,n){pe&&p("245"),pe=!0,n?null!==(n=e.finishedWork)?w(e,n,t):(e.finishedWork=null,null!==(n=a(e,t,!0))&&(E()?e.finishedWork=n:w(e,n,t))):null!==(n=e.finishedWork)?w(e,n,t):(e.finishedWork=null,null!==(n=a(e,t,!1))&&w(e,n,t)),pe=!1}function w(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===xe?xe=[r]:xe.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);e.finishedWork=null,ie=$=!0,(n=t.stateNode).current===t&&p("177"),0===(r=n.pendingCommitExpirationTime)&&p("261"),n.pendingCommitExpirationTime=0;var i=h();if(Xe.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var o=t.firstEffect}else o=t;else o=t.firstEffect;for(Q(n.containerInfo),re=o;null!==re;){var a=!1,s=void 0;try{for(;null!==re;)2048&re.effectTag&&j(re.alternate,re),re=re.nextEffect}catch(e){a=!0,s=e}a&&(null===re&&p("178"),u(re,s),null!==re&&(re=re.nextEffect))}for(re=o;null!==re;){a=!1,s=void 0;try{for(;null!==re;){var l=re.effectTag;if(16&l&&N(re),128&l){var c=re.alternate;null!==c&&V(c)}switch(14&l){case 2:B(re),re.effectTag&=-3;break;case 6:B(re),re.effectTag&=-3,F(re.alternate,re);break;case 4:F(re.alternate,re);break;case 8:D(re)}re=re.nextEffect}}catch(e){a=!0,s=e}a&&(null===re&&p("178"),u(re,s),null!==re&&(re=re.nextEffect))}for(X(n.containerInfo),n.current=t,re=o;null!==re;){l=!1,c=void 0;try{for(o=n,a=i,s=r;null!==re;){var f=re.effectTag;36&f&&z(o,re.alternate,re,a,s),256&f&&U(re,T),128&f&&G(re);var d=re.nextEffect;re.nextEffect=null,re=d}}catch(e){l=!0,c=e}l&&(null===re&&p("178"),u(re,c),null!==re&&(re=re.nextEffect))}$=ie=!1,er(t.stateNode),0===(t=n.current.expirationTime)&&(ae=null),e.remainingExpirationTime=t}function E(){return!(null===me||me.timeRemaining()>Te)&&(ge=!0)}function T(e){null===fe&&p("246"),fe.remainingExpirationTime=0,ye||(ye=!0,ve=e)}var M=function(){var e=[],t=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===t},pop:function(n){0>t||(n.current=e[t],e[t]=null,t--)},push:function(n,r){e[++t]=n.current,n.current=r},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}(),S=function(e,t){function n(e){return e===_r&&p("174"),e}var r=e.getChildHostContext,i=e.getRootHostContext;e=t.createCursor;var o=t.push,a=t.pop,s=e(_r),u=e(_r),l=e(_r);return{getHostContext:function(){return n(s.current)},getRootHostContainer:function(){return n(l.current)},popHostContainer:function(e){a(s,e),a(u,e),a(l,e)},popHostContext:function(e){u.current===e&&(a(s,e),a(u,e))},pushHostContainer:function(e,t){o(l,t,e),t=i(t),o(u,e,e),o(s,t,e)},pushHostContext:function(e){var t=n(l.current),i=n(s.current);i!==(t=r(i,e.type,t))&&(o(u,e,e),o(s,t,e))}}}(e,M),C=function(e){function t(e,t,n){(e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function n(e){return 2===e.tag&&null!=e.type.childContextTypes}function r(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var i in n=n.getChildContext())i in r||p("108",ut(e)||"Unknown",i);return o({},t,n)}var i=e.createCursor,a=e.push,s=e.pop,u=i(c),l=i(!1),f=c;return{getUnmaskedContext:function(e){return n(e)?f:u.current},cacheContext:t,getMaskedContext:function(e,n){var r=e.type.contextTypes;if(!r)return c;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in r)a[o]=n[o];return i&&t(e,n,a),a},hasContextChanged:function(){return l.current},isContextConsumer:function(e){return 2===e.tag&&null!=e.type.contextTypes},isContextProvider:n,popContextProvider:function(e){n(e)&&(s(l,e),s(u,e))},popTopLevelContextObject:function(e){s(l,e),s(u,e)},pushTopLevelContextObject:function(e,t,n){null!=u.cursor&&p("168"),a(u,t,e),a(l,n,e)},processChildContext:r,pushContextProvider:function(e){if(!n(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||c,f=u.current,a(u,t,e),a(l,l.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||p("169"),t){var i=r(e,f);n.__reactInternalMemoizedMergedChildContext=i,s(l,e),s(u,e),a(u,i,e)}else s(l,e);a(l,t,e)},findCurrentUnmaskedContext:function(e){for((2!==Qt(e)||2!==e.tag)&&p("170");3!==e.tag;){if(n(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||p("171")}return e.stateNode.context}}}(M);M=function(e){var t=e.createCursor,n=e.push,r=e.pop,i=t(null),o=t(null),a=t(0);return{pushProvider:function(e){var t=e.type.context;n(a,t._changedBits,e),n(o,t._currentValue,e),n(i,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode},popProvider:function(e){var t=a.current,n=o.current;r(i,e),r(o,e),r(a,e),(e=e.type.context)._currentValue=n,e._changedBits=t}}}(M);var I=function(e){function t(e,t){var n=new Hn(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=o(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=a(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function r(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var i=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){p("175")},prepareToHydrateHostTextInstance:function(){p("176")},popHydrationState:function(){return!1}};var o=e.canHydrateInstance,a=e.canHydrateTextInstance,s=e.getNextHydratableSibling,u=e.getFirstHydratableChild,l=e.hydrateInstance,c=e.hydrateTextInstance,f=null,h=null,d=!1;return{enterHydrationState:function(e){return h=u(e.stateNode.containerInfo),f=e,d=!0},resetHydrationState:function(){h=f=null,d=!1},tryToClaimNextHydratableInstance:function(e){if(d){var r=h;if(r){if(!n(e,r)){if(!(r=s(r))||!n(e,r))return e.effectTag|=2,d=!1,void(f=e);t(f,h)}f=e,h=u(r)}else e.effectTag|=2,d=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=l(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return c(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!d)return r(e),d=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!i(n,e.memoizedProps))for(n=h;n;)t(e,n),n=s(n);return r(e),h=f?s(e.stateNode):null,!0}}}(e),P=vr(e,S,C,M,I,f,l).beginWork,k=function(e,t,n,r,i){function o(e){e.effectTag|=4}var a=e.createInstance,s=e.createTextInstance,u=e.appendInitialChild,l=e.finalizeInitialChildren,c=e.prepareUpdate,f=e.persistence,h=t.getRootHostContainer,d=t.popHostContext,g=t.getHostContext,y=t.popHostContainer,v=n.popContextProvider,m=n.popTopLevelContextObject,_=r.popProvider,A=i.prepareToHydrateHostInstance,b=i.prepareToHydrateHostTextInstance,x=i.popHydrationState,w=void 0,E=void 0,T=void 0;return e.mutation?(w=function(){},E=function(e,t,n){(t.updateQueue=n)&&o(t)},T=function(e,t,n,r){n!==r&&o(t)}):p(f?"235":"236"),{completeWork:function(e,t,n){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return v(t),e=t.stateNode,null!==(r=t.updateQueue)&&null!==r.capturedValues&&(t.effectTag&=-65,"function"==typeof e.componentDidCatch?t.effectTag|=256:r.capturedValues=null),null;case 3:return y(t),m(t),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(x(t),t.effectTag&=-3),w(t),null!==(e=t.updateQueue)&&null!==e.capturedValues&&(t.effectTag|=256),null;case 5:d(t),n=h();var i=t.type;if(null!==e&&null!=t.stateNode){var f=e.memoizedProps,M=t.stateNode,S=g();M=c(M,i,f,r,n,S),E(e,t,M,i,f,r,n,S),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&p("166"),null;if(e=g(),x(t))A(t,n,e)&&o(t);else{f=a(i,r,n,e,t);e:for(S=t.child;null!==S;){if(5===S.tag||6===S.tag)u(f,S.stateNode);else if(4!==S.tag&&null!==S.child){S.child.return=S,S=S.child;continue}if(S===t)break;for(;null===S.sibling;){if(null===S.return||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}l(f,i,r,n,e)&&o(t),t.stateNode=f}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)T(e,t,e.memoizedProps,r);else{if("string"!=typeof r)return null===t.stateNode&&p("166"),null;e=h(),n=g(),x(t)?b(t)&&o(t):t.stateNode=s(r,e,n,t)}return null;case 7:(r=t.memoizedProps)||p("165"),t.tag=8,i=[];e:for((f=t.stateNode)&&(f.return=t);null!==f;){if(5===f.tag||6===f.tag||4===f.tag)p("247");else if(9===f.tag)i.push(f.pendingProps.value);else if(null!==f.child){f.child.return=f,f=f.child;continue}for(;null===f.sibling;){if(null===f.return||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}return r=(f=r.handler)(r.props,i),t.child=gr(t,null!==e?e.child:null,r,n),t.child;case 8:return t.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return y(t),w(t),null;case 13:return _(t),null;case 12:return null;case 0:p("167");default:p("156")}}}}(e,S,C,M,I).completeWork,O=(S=function(e,t,n,r,i){var o=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,u=t.popTopLevelContextObject,l=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=512,t.firstEffect=t.lastEffect=null,t={value:n,source:t,stack:lt(t)};do{switch(e.tag){case 3:return ar(e),e.updateQueue.capturedValues=[t],void(e.effectTag|=1024);case 2:if(n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&!i(n)){ar(e);var r=(n=e.updateQueue).capturedValues;return null===r?n.capturedValues=[t]:r.push(t),void(e.effectTag|=1024)}}e=e.return}while(null!==e)},unwindWork:function(e){switch(e.tag){case 2:s(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return o(e),u(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return a(e),null;case 4:return o(e),null;case 13:return l(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case 2:s(e);break;case 3:o(e),u(e);break;case 5:a(e);break;case 4:o(e);break;case 13:l(e)}}}}(S,C,M,0,n)).throwException,L=S.unwindWork,R=S.unwindInterruptedWork,j=(S=function(e,t,n,r,i){function o(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){t(e,n)}else n.current=null}function a(e){switch(tr(e),e.tag){case 2:o(e);var n=e.stateNode;if("function"==typeof n.componentWillUnmount)try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(n){t(e,n)}break;case 5:o(e);break;case 7:s(e.stateNode);break;case 4:f&&l(e)}}function s(e){for(var t=e;;)if(a(t),null===t.child||f&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function u(e){return 5===e.tag||3===e.tag||4===e.tag}function l(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&p("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)s(t),i?x(r,t.stateNode):b(r,t.stateNode);else if(4===t.tag?r=t.stateNode.containerInfo:a(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var c=e.getPublicInstance,f=e.mutation;e=e.persistence,f||p(e?"235":"236");var h=f.commitMount,d=f.commitUpdate,g=f.resetTextContent,y=f.commitTextUpdate,v=f.appendChild,m=f.appendChildToContainer,_=f.insertBefore,A=f.insertInContainerBefore,b=f.removeChild,x=f.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(e,t){switch(t.tag){case 2:if(2048&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;(e=t.stateNode).props=t.memoizedProps,e.state=t.memoizedState,t=e.getSnapshotBeforeUpdate(n,r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:break;default:p("163")}},commitResetTextContent:function(e){g(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(u(t)){var n=t;break e}t=t.return}p("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:p("161")}16&n.effectTag&&(g(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||u(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)n?r?A(t,i.stateNode,n):_(t,i.stateNode,n):r?m(t,i.stateNode):v(t,i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},commitDeletion:function(e){l(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&d(n,o,i,e,r,t)}break;case 6:null===t.stateNode&&p("162"),n=t.memoizedProps,y(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:p("163")}},commitLifeCycles:function(e,t,n){switch(n.tag){case 2:if(e=n.stateNode,4&n.effectTag)if(null===t)e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidMount();else{var r=t.memoizedProps;t=t.memoizedState,e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}null!==(n=n.updateQueue)&&cr(n,e);break;case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=c(n.child.stateNode);break;case 2:e=n.child.stateNode}cr(t,e)}break;case 5:e=n.stateNode,null===t&&4&n.effectTag&&h(e,n.type,n.memoizedProps,n);break;case 6:case 4:break;default:p("163")}},commitErrorLogging:function(e,t){switch(e.tag){case 2:var n=e.type;t=e.stateNode;var r=e.updateQueue;(null===r||null===r.capturedValues)&&p("264");var o=r.capturedValues;for(r.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&i(t),t.props=e.memoizedProps,t.state=e.memoizedState,n=0;n<o.length;n++){var a=(r=o[n]).value,s=r.stack;mr(e,r),t.componentDidCatch(a,{componentStack:null!==s?s:""})}break;case 3:for((null===(n=e.updateQueue)||null===n.capturedValues)&&p("264"),o=n.capturedValues,n.capturedValues=null,n=0;n<o.length;n++)mr(e,r=o[n]),t(r.value);break;default:p("265")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=c(n);break;default:e=n}"function"==typeof t?t(e):t.current=e}},commitDetachRef:function(e){null!==(e=e.ref)&&("function"==typeof e?e(null):e.current=null)}}}(e,u,0,0,function(e){null===ae?ae=new Set([e]):ae.add(e)})).commitBeforeMutationLifeCycles,N=S.commitResetTextContent,B=S.commitPlacement,D=S.commitDeletion,F=S.commitWork,z=S.commitLifeCycles,U=S.commitErrorLogging,G=S.commitAttachRef,V=S.commitDetachRef,Y=e.now,H=e.scheduleDeferredCallback,W=e.cancelDeferredCallback,Q=e.prepareForCommit,X=e.resetAfterCommit,Z=Y(),J=Z,K=0,q=0,$=!1,ee=null,te=null,ne=0,re=null,ie=!1,oe=!1,ae=null,se=null,ue=null,le=0,ce=-1,pe=!1,fe=null,he=0,de=0,ge=!1,ye=!1,ve=null,me=null,_e=!1,Ae=!1,be=!1,xe=null,we=1e3,Ee=0,Te=1;return{recalculateCurrentTime:h,computeExpirationForFiber:l,scheduleWork:f,requestWork:y,flushRoot:function(e,t){pe&&p("253"),fe=e,he=t,x(e,t,!1),_(),b()},batchedUpdates:function(e,t){var n=_e;_e=!0;try{return e(t)}finally{(_e=n)||pe||_()}},unbatchedUpdates:function(e,t){if(_e&&!Ae){Ae=!0;try{return e(t)}finally{Ae=!1}}return e(t)},flushSync:function(e,t){pe&&p("187");var n=_e;_e=!0;try{return d(e,t)}finally{_e=n,_()}},flushControlled:function(e){var t=_e;_e=!0;try{d(e)}finally{(_e=t)||pe||A(1,!1,null)}},deferredUpdates:function(e){var t=q;q=25*(1+((h()+500)/25|0));try{return e()}finally{q=t}},syncUpdates:d,interactiveUpdates:function(e,t,n){if(be)return e(t,n);_e||pe||0===de||(A(de,!1,null),de=0);var r=be,i=_e;_e=be=!0;try{return e(t,n)}finally{be=r,(_e=i)||pe||_()}},flushInteractiveUpdates:function(){pe||0===de||(A(de,!1,null),de=0)},computeUniqueAsyncExpiration:function(){var e=25*(1+((h()+500)/25|0));return e<=K&&(e=K+1),K=e},legacyContext:C}}function br(e){function t(e,t,n,r,i,o){if(r=t.current,n){n=n._reactInternalFiber;var a=l(n);n=p(n)?f(n,a):a}else n=c;return null===t.context?t.context=n:t.pendingContext=n,sr(r,{expirationTime:i,partialState:{element:e},callback:void 0===(t=o)?null:t,isReplace:!1,isForced:!1,capturedValue:null,next:null}),s(r,i),i}function n(e){return null===(e=function(e){if(!(e=Jt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode}var r=e.getPublicInstance,i=(e=Ar(e)).recalculateCurrentTime,a=e.computeExpirationForFiber,s=e.scheduleWork,u=e.legacyContext,l=u.findCurrentUnmaskedContext,p=u.isContextProvider,f=u.processChildContext;return{createContainer:function(e,t,n){return e={current:t=new Hn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e},updateContainer:function(e,n,r,o){var s=n.current;return t(e,n,r,i(),s=a(s),o)},updateContainerAtExpirationTime:function(e,n,r,o,a){return t(e,n,r,i(),o,a)},flushRoot:e.flushRoot,requestWork:e.requestWork,computeUniqueAsyncExpiration:e.computeUniqueAsyncExpiration,batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,syncUpdates:e.syncUpdates,interactiveUpdates:e.interactiveUpdates,flushInteractiveUpdates:e.flushInteractiveUpdates,flushControlled:e.flushControlled,flushSync:e.flushSync,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return r(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:n,findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=Jt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Kn=$n(function(e){return t.onCommitFiberRoot(n,e)}),qn=$n(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(o({},e,{findHostInstanceByFiber:function(e){return n(e)},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}var xr=Object.freeze({default:br}),wr=xr&&br||xr,Er=wr.default?wr.default:wr;var Tr="object"==typeof performance&&"function"==typeof performance.now,Mr=void 0;Mr=Tr?function(){return performance.now()}:function(){return Date.now()};var Sr=void 0,Cr=void 0;if(i.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Ir=null,Pr=!1,kr=-1,Or=!1,Lr=0,Rr=33,jr=33,Nr=void 0;Nr=Tr?{didTimeout:!1,timeRemaining:function(){var e=Lr-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Lr-Date.now();return 0<e?e:0}};var Br="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Br){if(Pr=!1,e=Mr(),0>=Lr-e){if(!(-1!==kr&&kr<=e))return void(Or||(Or=!0,requestAnimationFrame(Dr)));Nr.didTimeout=!0}else Nr.didTimeout=!1;kr=-1,e=Ir,Ir=null,null!==e&&e(Nr)}},!1);var Dr=function(e){Or=!1;var t=e-Lr+jr;t<jr&&Rr<jr?(8>t&&(t=8),jr=t<Rr?Rr:t):Rr=t,Lr=e+jr,Pr||(Pr=!0,window.postMessage(Br,"*"))};Sr=function(e,t){return Ir=e,null!=t&&"number"==typeof t.timeout&&(kr=Mr()+t.timeout),Or||(Or=!0,requestAnimationFrame(Dr)),0},Cr=function(){Ir=null,Pr=!1,kr=-1}}else Sr=window.requestIdleCallback,Cr=window.cancelIdleCallback;else Sr=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Cr=function(e){clearTimeout(e)};function Fr(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function zr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ur(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Gr(e,t){return null!=t.dangerouslySetInnerHTML&&p("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&p("92"),Array.isArray(t)&&(1>=t.length||p("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Yr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Hr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Wr="http://www.w3.org/1999/xhtml",Qr="http://www.w3.org/2000/svg";function Xr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Xr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Jr,Kr=void 0,qr=(Jr=function(e,t){if(e.namespaceURI!==Qr||"innerHTML"in e)e.innerHTML=t;else{for((Kr=Kr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Kr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Jr(e,t)})}:Jr);function $r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ei={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];function ni(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ei.hasOwnProperty(i)&&ei[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ei).forEach(function(e){ti.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]})});var ri=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ii(e,t,n){t&&(ri[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&p("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&p("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||p("61")),null!=t.style&&"object"!=typeof t.style&&p("62",n()))}function oi(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=Wr,si=a.thatReturns("");function ui(e,t){var n=Ln(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=A[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?_n("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(_n("topFocus","focus",e),_n("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(Ye("cancel",!0)&&_n("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(Ye("close",!0)&&_n("topClose","close",e),n.topClose=!0):Cn.hasOwnProperty(i)&&mn(i,Cn[i],e),n[i]=!0)}}function li(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ai&&(r=Xr(e)),r===ai?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ci(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function pi(e,t,n,r){var i=oi(t,n);switch(t){case"iframe":case"object":mn("topLoad","load",e);var s=n;break;case"video":case"audio":for(s in In)In.hasOwnProperty(s)&&mn(s,In[s],e);s=n;break;case"source":mn("topError","error",e),s=n;break;case"img":case"image":case"link":mn("topError","error",e),mn("topLoad","load",e),s=n;break;case"form":mn("topReset","reset",e),mn("topSubmit","submit",e),s=n;break;case"details":mn("topToggle","toggle",e),s=n;break;case"input":_t(e,n),s=mt(e,n),mn("topInvalid","invalid",e),ui(r,"onChange");break;case"option":s=Fr(e,n);break;case"select":Ur(e,n),s=o({},n,{value:void 0}),mn("topInvalid","invalid",e),ui(r,"onChange");break;case"textarea":Vr(e,n),s=Gr(e,n),mn("topInvalid","invalid",e),ui(r,"onChange");break;default:s=n}ii(t,s,si);var u,l=s;for(u in l)if(l.hasOwnProperty(u)){var c=l[u];"style"===u?ni(e,c):"dangerouslySetInnerHTML"===u?null!=(c=c?c.__html:void 0)&&qr(e,c):"children"===u?"string"==typeof c?("textarea"!==t||""!==c)&&$r(e,c):"number"==typeof c&&$r(e,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(_.hasOwnProperty(u)?null!=c&&ui(r,u):null!=c&&vt(e,u,c,i))}switch(t){case"input":We(e),xt(e,n);break;case"textarea":We(e),Hr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?zr(e,!!n.multiple,t,!1):null!=n.defaultValue&&zr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=a)}}function fi(e,t,n,r,i){var s=null;switch(t){case"input":n=mt(e,n),r=mt(e,r),s=[];break;case"option":n=Fr(e,n),r=Fr(e,r),s=[];break;case"select":n=o({},n,{value:void 0}),r=o({},r,{value:void 0}),s=[];break;case"textarea":n=Gr(e,n),r=Gr(e,r),s=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=a)}ii(t,r,si),t=e=void 0;var u=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var l=n[e];for(t in l)l.hasOwnProperty(t)&&(u||(u={}),u[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(_.hasOwnProperty(e)?s||(s=[]):(s=s||[]).push(e,null));for(e in r){var c=r[e];if(l=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&c!==l&&(null!=c||null!=l))if("style"===e)if(l){for(t in l)!l.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(u||(u={}),u[t]="");for(t in c)c.hasOwnProperty(t)&&l[t]!==c[t]&&(u||(u={}),u[t]=c[t])}else u||(s||(s=[]),s.push(e,u)),u=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(e,""+c)):"children"===e?l===c||"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(_.hasOwnProperty(e)?(null!=c&&ui(i,e),s||l===c||(s=[])):(s=s||[]).push(e,c))}return u&&(s=s||[]).push("style",u),s}function hi(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&At(e,i),oi(n,r),r=oi(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ni(e,s):"dangerouslySetInnerHTML"===a?qr(e,s):"children"===a?$r(e,s):vt(e,a,s,r)}switch(n){case"input":bt(e,i);break;case"textarea":Yr(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?zr(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?zr(e,!!i.multiple,i.defaultValue,!0):zr(e,!!i.multiple,i.multiple?[]:"",!1))}}function di(e,t,n,r,i){switch(t){case"iframe":case"object":mn("topLoad","load",e);break;case"video":case"audio":for(var o in In)In.hasOwnProperty(o)&&mn(o,In[o],e);break;case"source":mn("topError","error",e);break;case"img":case"image":case"link":mn("topError","error",e),mn("topLoad","load",e);break;case"form":mn("topReset","reset",e),mn("topSubmit","submit",e);break;case"details":mn("topToggle","toggle",e);break;case"input":_t(e,n),mn("topInvalid","invalid",e),ui(i,"onChange");break;case"select":Ur(e,n),mn("topInvalid","invalid",e),ui(i,"onChange");break;case"textarea":Vr(e,n),mn("topInvalid","invalid",e),ui(i,"onChange")}for(var s in ii(t,n,si),r=null,n)n.hasOwnProperty(s)&&(o=n[s],"children"===s?"string"==typeof o?e.textContent!==o&&(r=["children",o]):"number"==typeof o&&e.textContent!==""+o&&(r=["children",""+o]):_.hasOwnProperty(s)&&null!=o&&ui(i,s));switch(t){case"input":We(e),xt(e,n);break;case"textarea":We(e),Hr(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=a)}return r}function gi(e,t){return e.nodeValue!==t}var yi=Object.freeze({createElement:li,createTextNode:ci,setInitialProperties:pi,diffProperties:fi,updateProperties:hi,diffHydratedProperties:di,diffHydratedText:gi,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(bt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Y(r);i||p("90"),Qe(r),bt(r,i)}}}break;case"textarea":Yr(e,n);break;case"select":null!=(t=n.value)&&zr(e,!!n.multiple,t,!1)}}});ke.injectFiberControlledHostComponent(yi);var vi=null,mi=null;function _i(e){this._expirationTime=Ei.computeUniqueAsyncExpiration(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ai(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function bi(e,t,n){this._internalRoot=Ei.createContainer(e,t,n)}function xi(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function wi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}_i.prototype.render=function(e){this._defer||p("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Ai;return Ei.updateContainerAtExpirationTime(e,t,null,n,r._onCommit),r},_i.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},_i.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||p("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&p("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ei.flushRoot(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},_i.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ai.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ai.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&p("191",n),n()}}},bi.prototype.render=function(e,t){var n=this._internalRoot,r=new Ai;return null!==(t=void 0===t?null:t)&&r.then(t),Ei.updateContainer(e,n,null,r._onCommit),r},bi.prototype.unmount=function(e){var t=this._internalRoot,n=new Ai;return null!==(e=void 0===e?null:e)&&n.then(e),Ei.updateContainer(null,t,null,n._onCommit),n},bi.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Ai;return null!==(n=void 0===n?null:n)&&i.then(n),Ei.updateContainer(t,r,e,i._onCommit),i},bi.prototype.createBatch=function(){var e=new _i(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e};var Ei=Er({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zr(null,"");break;default:e=Zr(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}return e},getChildHostContext:function(e,t){return Zr(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){vi=yn;var e=s();if(Nn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,u=-1,l=0,c=0,p=e,f=null;t:for(;;){for(var h;p!==t||0!==r&&3!==p.nodeType||(a=o+r),p!==i||0!==n&&3!==p.nodeType||(u=o+n),3===p.nodeType&&(o+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===t&&++l===r&&(a=o),f===i&&++c===n&&(u=o),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}t=-1===a||-1===u?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;mi={focusedElem:e,selectionRange:t},vn(!1)},resetAfterCommit:function(){var e=mi,t=s(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&l(document.documentElement,n)){if(Nn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[re()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=jn(n,e);var o=jn(n,r);if(i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)){var a=document.createRange();a.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(o.node,o.offset)):(a.setEnd(o.node,o.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}mi=null,vn(vi),vi=null},createInstance:function(e,t,n,r,i){return(e=li(e,t,n,r))[z]=i,e[U]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return pi(e,t,n,r),wi(t,n)},prepareUpdate:function(e,t,n,r,i){return fi(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return(e=ci(e,t))[z]=r,e},now:Mr,mutation:{commitMount:function(e,t,n){wi(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,i){e[U]=i,hi(e,t,n,r,i)},resetTextContent:function(e){$r(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,o){return e[z]=o,e[U]=n,di(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[z]=n,gi(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Sr,cancelDeferredCallback:Cr}),Ti=Ei;function Mi(e,t,n,r,i){xi(n)||p("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=Ei.getPublicRootInstance(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new bi(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=Ei.getPublicRootInstance(o._internalRoot);s.call(e)}}Ei.unbatchedUpdates(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return Ei.getPublicRootInstance(o._internalRoot)}function Si(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return xi(t)||p("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$e,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ne=Ti.batchedUpdates,Be=Ti.interactiveUpdates,De=Ti.flushInteractiveUpdates;var Ci={createPortal:Si,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(t)return Ei.findHostInstance(t);"function"==typeof e.render?p("188"):p("213",Object.keys(e))},hydrate:function(e,t,n){return Mi(null,e,t,!0,n)},render:function(e,t,n){return Mi(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&p("38"),Mi(e,t,n,!1,r)},unmountComponentAtNode:function(e){return xi(e)||p("40"),!!e._reactRootContainer&&(Ei.unbatchedUpdates(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Si.apply(void 0,arguments)},unstable_batchedUpdates:Ei.batchedUpdates,unstable_deferredUpdates:Ei.deferredUpdates,flushSync:Ei.flushSync,unstable_flushControlled:Ei.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:D,EventPluginRegistry:w,EventPropagators:te,ReactControlledComponent:je,ReactDOMComponentTree:H,ReactDOMEventListener:xn},unstable_createRoot:function(e,t){return new bi(e,!0,null!=t&&!0===t.hydrate)}};Ei.injectIntoDevTools({findFiberByHostInstance:G,bundleType:0,version:"16.3.0",rendererPackageName:"react-dom"});var Ii=Object.freeze({default:Ci}),Pi=Ii&&Ci||Ii;e.exports=Pi.default?Pi.default:Pi},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(452)},function(e,t,n){"use strict";var r=n(167),i=n(218),o=n(56),a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103,u=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,p=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.async_mode"):60111,d=a?Symbol.for("react.forward_ref"):60112,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function m(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||v}function _(){}function A(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=m.prototype;var b=A.prototype=new _;b.constructor=A,r(b,m.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:x.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===s}var S=/\/+/g,C=[];function I(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function k(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case u:o=!0}}if(o)return n(r,e,""===t?"."+O(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var l=t+O(i=e[a],a);o+=k(i,l,n,r)}else if(null===e||void 0===e?l=null:l="function"==typeof(l=g&&e[g]||e["@@iterator"])?l:null,"function"==typeof l)for(e=l.call(e),a=0;!(i=e.next()).done;)o+=k(i=i.value,l=t+O(i,a++),n,r);else"object"===i&&y("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,o.thatReturnsArgument):null!=e&&(M(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(S,"$&/")+"/")+n,e={$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(S,"$&/")+"/"),t=I(t,o,r,i),null==e||k(e,"",R,t),P(t)}var N={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=I(null,null,t,n),null==e||k(e,"",L,t),P(t)},count:function(e){return null==e?0:k(e,"",o.thatReturnsNull,null)},toArray:function(e){var t=[];return j(e,t,null,o.thatReturnsArgument),t},only:function(e){return M(e)||y("143"),e}},createRef:function(){return{current:null}},Component:m,PureComponent:A,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:p,context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},Fragment:l,StrictMode:c,unstable_AsyncMode:h,createElement:T,cloneElement:function(e,t,n){var i=void 0,o=r({},e.props),a=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){c=Array(i);for(var p=0;p<i;p++)c[p]=arguments[p+2];o.children=c}return{$$typeof:s,type:e.type,key:a,ref:u,props:o,_owner:l}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.3.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:x,assign:r}},B=Object.freeze({default:N}),D=B&&N||B;e.exports=D.default?D.default:D},function(e,t,n){"use strict";var r=a(n(3)),i=a(n(453)),o=a(n(445));function a(e){return e&&e.__esModule?e:{default:e}}i.default.render(r.default.createElement(o.default,null),document.querySelector("#app"))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(32))}]);</script></body> </html> 